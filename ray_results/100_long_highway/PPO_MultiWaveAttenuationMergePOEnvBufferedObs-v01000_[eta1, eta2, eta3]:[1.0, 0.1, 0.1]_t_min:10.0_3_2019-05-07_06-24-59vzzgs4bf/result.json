{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1034.1608875665518, "node_ip": "10.138.0.2", "timesteps_total": 40284, "iterations_since_restore": 1, "custom_metrics": {"cost1_max": 304.7301091635578, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 10.79209463324669, "cost1_mean": 231.908881632131, "outflow_rate_min": 322.1420478737697, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.925112582127929, "outflow_rate_max": 844.6338721101288, "cost2_mean": -128.43594108158035, "outflow_rate_mean": 617.0946929363253, "cost2_min": -177.56217685037853}, "training_iteration": 1, "episodes_total": 9, "episode_len_mean": 627.0, "episode_reward_mean": 709.596278079887, "time_total_s": 57.81367540359497, "pid": 32001, "info": {"num_steps_trained": 40284, "load_time_ms": 96.534, "num_steps_sampled": 40284, "grad_time_ms": 10354.158, "sample_time_ms": 44502.363, "update_time_ms": 2749.229, "default": {"vf_explained_var": 0.8603193759918213, "vf_loss": 4.0230488777160645, "entropy": 1.4146009683609009, "cur_kl_coeff": 0.20000003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 4.022897720336914, "kl": 0.0016524218954145908, "policy_loss": -0.00048100738786160946}}, "time_this_iter_s": 57.81367540359497, "timesteps_since_restore": 40284, "time_since_restore": 57.81367540359497, "timestamp": 1557210371, "timesteps_this_iter": 40284, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668655c0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-26-11", "hostname": "flow-main", "episodes_this_iter": 9, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1061.3348421704493, "node_ip": "10.138.0.2", "timesteps_total": 92904, "iterations_since_restore": 2, "custom_metrics": {"cost1_max": 305.24935576817563, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 10.437250984248415, "cost1_mean": 245.29846192135804, "outflow_rate_min": 322.1420478737697, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.925112582127929, "outflow_rate_max": 880.9012834796489, "cost2_mean": -131.54240669932375, "outflow_rate_mean": 667.7125436764018, "cost2_min": -184.29234221983683}, "training_iteration": 2, "episodes_total": 16, "episode_len_mean": 658.9375, "episode_reward_mean": 749.1146176216207, "time_total_s": 85.12791562080383, "pid": 32001, "info": {"num_steps_trained": 92904, "load_time_ms": 55.776, "num_steps_sampled": 92904, "grad_time_ms": 10361.13, "sample_time_ms": 30671.151, "update_time_ms": 1377.684, "default": {"vf_explained_var": 0.942912757396698, "vf_loss": 1.4833478927612305, "entropy": 1.4097349643707275, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "total_loss": 1.4831879138946533, "kl": 0.0015580528415739536, "policy_loss": -0.0003159084008075297}}, "time_this_iter_s": 27.314240217208862, "timesteps_since_restore": 92904, "time_since_restore": 85.12791562080383, "timestamp": 1557210399, "timesteps_this_iter": 52620, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d10b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1518>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66875da0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-26-39", "hostname": "flow-main", "episodes_this_iter": 7, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1061.3348421704493, "node_ip": "10.138.0.2", "timesteps_total": 137368, "iterations_since_restore": 3, "custom_metrics": {"cost1_max": 305.24935576817563, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 9.893700229489164, "cost1_mean": 244.54251021285674, "outflow_rate_min": 295.9516952761524, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.925112582127929, "outflow_rate_max": 880.9012834796489, "cost2_mean": -136.0372875461799, "outflow_rate_mean": 627.7694060269939, "cost2_min": -184.29234221983683}, "training_iteration": 3, "episodes_total": 29, "episode_len_mean": 677.3448275862069, "episode_reward_mean": 761.4687748872527, "time_total_s": 106.7881498336792, "pid": 32001, "info": {"num_steps_trained": 137368, "load_time_ms": 41.686, "num_steps_sampled": 137368, "grad_time_ms": 9691.687, "sample_time_ms": 24850.249, "update_time_ms": 920.896, "default": {"vf_explained_var": 0.9801403284072876, "vf_loss": 1.7642109394073486, "entropy": 1.4155919551849365, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 1.7635235786437988, "kl": 0.006681813392788172, "policy_loss": -0.001021569943986833}}, "time_this_iter_s": 21.660234212875366, "timesteps_since_restore": 137368, "time_since_restore": 106.7881498336792, "timestamp": 1557210420, "timesteps_this_iter": 44464, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668651d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac710>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac438>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-27-00", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1061.3348421704493, "node_ip": "10.138.0.2", "timesteps_total": 184782, "iterations_since_restore": 4, "custom_metrics": {"cost1_max": 315.52478863255067, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 9.478216646813456, "cost1_mean": 239.848441121947, "outflow_rate_min": 295.9516952761524, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.352443731393277, "outflow_rate_max": 948.5243599791072, "cost2_mean": -129.99604604647146, "outflow_rate_mean": 612.3197474951276, "cost2_min": -184.29234221983683}, "training_iteration": 4, "episodes_total": 47, "episode_len_mean": 686.0212765957447, "episode_reward_mean": 730.681221901236, "time_total_s": 130.20530533790588, "pid": 32001, "info": {"num_steps_trained": 184782, "load_time_ms": 34.347, "num_steps_sampled": 184782, "grad_time_ms": 9761.37, "sample_time_ms": 21975.289, "update_time_ms": 692.21, "default": {"vf_explained_var": 0.9731320142745972, "vf_loss": 1.8423206806182861, "entropy": 1.411690354347229, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 1.8400217294692993, "kl": 0.0056249825283885, "policy_loss": -0.0025802943855524063}}, "time_this_iter_s": 23.417155504226685, "timesteps_since_restore": 184782, "time_since_restore": 130.20530533790588, "timestamp": 1557210444, "timesteps_this_iter": 47414, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865048>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865278>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-27-24", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1061.3348421704493, "node_ip": "10.138.0.2", "timesteps_total": 230942, "iterations_since_restore": 5, "custom_metrics": {"cost1_max": 315.52478863255067, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 9.296515644771976, "cost1_mean": 236.9793878152078, "outflow_rate_min": 295.9516952761524, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.352443731393277, "outflow_rate_max": 948.5243599791072, "cost2_mean": -128.3353286093526, "outflow_rate_mean": 615.036120627538, "cost2_min": -184.29234221983683}, "training_iteration": 5, "episodes_total": 57, "episode_len_mean": 688.4736842105264, "episode_reward_mean": 732.2673733129651, "time_total_s": 152.588237285614, "pid": 32001, "info": {"num_steps_trained": 230942, "load_time_ms": 30.155, "num_steps_sampled": 230942, "grad_time_ms": 9722.544, "sample_time_ms": 20126.735, "update_time_ms": 555.034, "default": {"vf_explained_var": 0.9728530645370483, "vf_loss": 1.9677313566207886, "entropy": 1.4017306566238403, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 1.9634636640548706, "kl": 0.010081818327307701, "policy_loss": -0.004771989770233631}}, "time_this_iter_s": 22.38293194770813, "timesteps_since_restore": 230942, "time_since_restore": 152.588237285614, "timestamp": 1557210466, "timesteps_this_iter": 46160, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668aca20>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac1d0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-27-46", "hostname": "flow-main", "episodes_this_iter": 10, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1061.3348421704493, "node_ip": "10.138.0.2", "timesteps_total": 276705, "iterations_since_restore": 6, "custom_metrics": {"cost1_max": 315.52478863255067, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 9.05791488549726, "cost1_mean": 232.64578787155725, "outflow_rate_min": 295.9516952761524, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.352443731393277, "outflow_rate_max": 948.5243599791072, "cost2_mean": -125.0727398383308, "outflow_rate_mean": 623.1412778763945, "cost2_min": -184.29234221983683}, "training_iteration": 6, "episodes_total": 71, "episode_len_mean": 690.7464788732394, "episode_reward_mean": 737.633894423834, "time_total_s": 176.4608871936798, "pid": 32001, "info": {"num_steps_trained": 276705, "load_time_ms": 27.382, "num_steps_sampled": 276705, "grad_time_ms": 9813.379, "sample_time_ms": 19023.544, "update_time_ms": 463.569, "default": {"vf_explained_var": 0.9519525170326233, "vf_loss": 4.206783771514893, "entropy": 1.3957335948944092, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 4.204810619354248, "kl": 0.0064606680534780025, "policy_loss": -0.002296090591698885}}, "time_this_iter_s": 23.872649908065796, "timesteps_since_restore": 276705, "time_since_restore": 176.4608871936798, "timestamp": 1557210490, "timesteps_this_iter": 45763, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865668>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668657f0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-28-10", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1061.3348421704493, "node_ip": "10.138.0.2", "timesteps_total": 321523, "iterations_since_restore": 7, "custom_metrics": {"cost1_max": 315.52478863255067, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 8.989631019812652, "cost1_mean": 232.4183118721689, "outflow_rate_min": 295.9516952761524, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.352443731393277, "outflow_rate_max": 948.5243599791072, "cost2_mean": -129.2064615618099, "outflow_rate_mean": 648.4279675837106, "cost2_min": -184.29234221983683}, "training_iteration": 7, "episodes_total": 87, "episode_len_mean": 692.448275862069, "episode_reward_mean": 765.5626824440506, "time_total_s": 199.15106916427612, "pid": 32001, "info": {"num_steps_trained": 321523, "load_time_ms": 25.466, "num_steps_sampled": 321523, "grad_time_ms": 9770.844, "sample_time_ms": 18173.974, "update_time_ms": 398.228, "default": {"vf_explained_var": 0.9355444312095642, "vf_loss": 4.516156196594238, "entropy": 1.3858579397201538, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 4.514021396636963, "kl": 0.008155548013746738, "policy_loss": -0.002542578848078847}}, "time_this_iter_s": 22.690181970596313, "timesteps_since_restore": 321523, "time_since_restore": 199.15106916427612, "timestamp": 1557210513, "timesteps_this_iter": 44818, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668aca20>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-28-33", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1061.3348421704493, "node_ip": "10.138.0.2", "timesteps_total": 367933, "iterations_since_restore": 8, "custom_metrics": {"cost1_max": 315.52478863255067, "cost1_min": 29.392654249891283, "cost2_max": -30.66177610305368, "system_level_velocity_mean": 8.982638878087398, "cost1_mean": 233.0564837986454, "outflow_rate_min": 295.9516952761524, "system_level_velocity_max": 19.696337002482952, "system_level_velocity_min": 6.352443731393277, "outflow_rate_max": 948.5243599791072, "cost2_mean": -128.94780536683592, "outflow_rate_mean": 663.8156576627367, "cost2_min": -184.29234221983683}, "training_iteration": 8, "episodes_total": 98, "episode_len_mean": 693.295918367347, "episode_reward_mean": 776.8912083904812, "time_total_s": 221.75033116340637, "pid": 32001, "info": {"num_steps_trained": 367933, "load_time_ms": 24.04, "num_steps_sampled": 367933, "grad_time_ms": 9788.72, "sample_time_ms": 17475.486, "update_time_ms": 349.371, "default": {"vf_explained_var": 0.9548205733299255, "vf_loss": 3.829454183578491, "entropy": 1.3844784498214722, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 3.827009916305542, "kl": 0.006922104861587286, "policy_loss": -0.002790345111861825}}, "time_this_iter_s": 22.59926199913025, "timesteps_since_restore": 367933, "time_since_restore": 221.75033116340637, "timestamp": 1557210535, "timesteps_this_iter": 46410, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865a58>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865eb8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-28-55", "hostname": "flow-main", "episodes_this_iter": 11, "episode_reward_min": 51.09799460735002}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1068.8485357440788, "node_ip": "10.138.0.2", "timesteps_total": 413335, "iterations_since_restore": 9, "custom_metrics": {"cost1_max": 315.52478863255067, "cost1_min": 29.027809121296272, "cost2_max": -25.208787923260505, "system_level_velocity_mean": 8.934359121954634, "cost1_mean": 232.03494898771856, "outflow_rate_min": 295.9516952761524, "system_level_velocity_max": 19.71027614800842, "system_level_velocity_min": 6.352443731393277, "outflow_rate_max": 948.5243599791072, "cost2_mean": -131.10049819964084, "outflow_rate_mean": 681.0928439237922, "cost2_min": -184.3074685813777}, "training_iteration": 9, "episodes_total": 113, "episode_len_mean": 693.43, "episode_reward_mean": 798.9843091813383, "time_total_s": 245.39230513572693, "pid": 32001, "info": {"num_steps_trained": 413335, "load_time_ms": 22.938, "num_steps_sampled": 413335, "grad_time_ms": 9789.069, "sample_time_ms": 17062.005, "update_time_ms": 311.264, "default": {"vf_explained_var": 0.9460121393203735, "vf_loss": 5.3556036949157715, "entropy": 1.3618555068969727, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 5.35431432723999, "kl": 0.0062949806451797485, "policy_loss": -0.0016049607656896114}}, "time_this_iter_s": 23.641973972320557, "timesteps_since_restore": 413335, "time_since_restore": 245.39230513572693, "timestamp": 1557210559, "timesteps_this_iter": 45402, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865b00>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668656a0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-29-19", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 51.982655672561044}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1146.9392237587144, "node_ip": "10.138.0.2", "timesteps_total": 457596, "iterations_since_restore": 10, "custom_metrics": {"cost1_max": 315.52478863255067, "cost1_min": 29.027809121296272, "cost2_max": -25.208787923260505, "system_level_velocity_mean": 8.977511387452227, "cost1_mean": 233.86028125471802, "outflow_rate_min": 313.2504186704385, "system_level_velocity_max": 19.71027614800842, "system_level_velocity_min": 6.352443731393277, "outflow_rate_max": 998.3639519874067, "cost2_mean": -129.45535406716903, "outflow_rate_mean": 717.7002359598505, "cost2_min": -184.3074685813777}, "training_iteration": 10, "episodes_total": 128, "episode_len_mean": 693.43, "episode_reward_mean": 824.2804476125664, "time_total_s": 267.1759521961212, "pid": 32001, "info": {"num_steps_trained": 457596, "load_time_ms": 22.178, "num_steps_sampled": 457596, "grad_time_ms": 9767.707, "sample_time_ms": 16566.787, "update_time_ms": 280.792, "default": {"vf_explained_var": 0.93061763048172, "vf_loss": 6.62058687210083, "entropy": 1.3420195579528809, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 6.618419647216797, "kl": 0.009008428081870079, "policy_loss": -0.0026176655665040016}}, "time_this_iter_s": 21.783647060394287, "timesteps_since_restore": 457596, "time_since_restore": 267.1759521961212, "timestamp": 1557210581, "timesteps_this_iter": 44261, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668b4ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668b47f0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668acc18>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-29-41", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 51.982655672561044}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1230.775040184944, "node_ip": "10.138.0.2", "timesteps_total": 502535, "iterations_since_restore": 11, "custom_metrics": {"cost1_max": 328.43165953370124, "cost1_min": 29.027809121296272, "cost2_max": -25.208787923260505, "system_level_velocity_mean": 9.162639768240389, "cost1_mean": 239.03855169943571, "outflow_rate_min": 327.9458014252228, "system_level_velocity_max": 19.71027614800842, "system_level_velocity_min": 6.65498633576558, "outflow_rate_max": 1085.1282707440707, "cost2_mean": -130.0379213842493, "outflow_rate_mean": 750.8979307560064, "cost2_min": -184.3074685813777}, "training_iteration": 11, "episodes_total": 140, "episode_len_mean": 693.43, "episode_reward_mean": 860.947691750523, "time_total_s": 289.6133522987366, "pid": 32001, "info": {"num_steps_trained": 502535, "load_time_ms": 13.383, "num_steps_sampled": 502535, "grad_time_ms": 9686.838, "sample_time_ms": 13397.551, "update_time_ms": 6.538, "default": {"vf_explained_var": 0.93741774559021, "vf_loss": 6.163856506347656, "entropy": 1.3430116176605225, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 6.162033557891846, "kl": 0.00666858209297061, "policy_loss": -0.0021574734710156918}}, "time_this_iter_s": 22.437400102615356, "timesteps_since_restore": 502535, "time_since_restore": 289.6133522987366, "timestamp": 1557210603, "timesteps_this_iter": 44939, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865b00>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668656a0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-30-03", "hostname": "flow-main", "episodes_this_iter": 12, "episode_reward_min": 51.982655672561044}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1280.670481253342, "node_ip": "10.138.0.2", "timesteps_total": 546744, "iterations_since_restore": 12, "custom_metrics": {"cost1_max": 328.43165953370124, "cost1_min": 29.027809121296272, "cost2_max": -25.208787923260505, "system_level_velocity_mean": 9.821361925134147, "cost1_mean": 248.73409615758072, "outflow_rate_min": 323.2635297666357, "system_level_velocity_max": 19.71027614800842, "system_level_velocity_min": 7.3784453770040574, "outflow_rate_max": 1085.1282707440707, "cost2_mean": -133.41294900418484, "outflow_rate_mean": 809.0437143779408, "cost2_min": -184.3074685813777}, "training_iteration": 12, "episodes_total": 160, "episode_len_mean": 681.09, "episode_reward_mean": 917.49461442991, "time_total_s": 311.7797758579254, "pid": 32001, "info": {"num_steps_trained": 546744, "load_time_ms": 13.237, "num_steps_sampled": 546744, "grad_time_ms": 9576.015, "sample_time_ms": 12995.59, "update_time_ms": 6.526, "default": {"vf_explained_var": 0.8649894595146179, "vf_loss": 12.836177825927734, "entropy": 1.3264678716659546, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 12.834931373596191, "kl": 0.006562091875821352, "policy_loss": -0.0015755521599203348}}, "time_this_iter_s": 22.166423559188843, "timesteps_since_restore": 546744, "time_since_restore": 311.7797758579254, "timestamp": 1557210626, "timesteps_this_iter": 44209, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668b4198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668b4240>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668b4ef0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-30-26", "hostname": "flow-main", "episodes_this_iter": 20, "episode_reward_min": 51.982655672561044}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1280.670481253342, "node_ip": "10.138.0.2", "timesteps_total": 589025, "iterations_since_restore": 13, "custom_metrics": {"cost1_max": 338.03462492772303, "cost1_min": 29.027809121296272, "cost2_max": -25.208787923260505, "system_level_velocity_mean": 10.249014046103008, "cost1_mean": 260.5872277140963, "outflow_rate_min": 323.2635297666357, "system_level_velocity_max": 19.71027614800842, "system_level_velocity_min": 7.3784453770040574, "outflow_rate_max": 1092.046120443659, "cost2_mean": -137.22252237799296, "outflow_rate_mean": 849.7446482030778, "cost2_min": -189.4358643215266}, "training_iteration": 13, "episodes_total": 173, "episode_len_mean": 681.09, "episode_reward_mean": 964.1832604622858, "time_total_s": 332.8892948627472, "pid": 32001, "info": {"num_steps_trained": 589025, "load_time_ms": 13.182, "num_steps_sampled": 589025, "grad_time_ms": 9648.836, "sample_time_ms": 12868.793, "update_time_ms": 6.386, "default": {"vf_explained_var": 0.9074861407279968, "vf_loss": 8.403104782104492, "entropy": 1.3364450931549072, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 8.40079402923584, "kl": 0.007568501867353916, "policy_loss": -0.0026891487650573254}}, "time_this_iter_s": 21.109519004821777, "timesteps_since_restore": 589025, "time_since_restore": 332.8892948627472, "timestamp": 1557210647, "timesteps_this_iter": 42281, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668aca20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac198>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-30-47", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 51.982655672561044}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1280.670481253342, "node_ip": "10.138.0.2", "timesteps_total": 633567, "iterations_since_restore": 14, "custom_metrics": {"cost1_max": 338.03462492772303, "cost1_min": 29.027809121296272, "cost2_max": -25.208787923260505, "system_level_velocity_mean": 10.561272366882333, "cost1_mean": 269.21340579093976, "outflow_rate_min": 323.2635297666357, "system_level_velocity_max": 19.71027614800842, "system_level_velocity_min": 8.085897028419282, "outflow_rate_max": 1096.273958686212, "cost2_mean": -133.81783624155452, "outflow_rate_mean": 874.5638599437827, "cost2_min": -189.4358643215266}, "training_iteration": 14, "episodes_total": 184, "episode_len_mean": 681.09, "episode_reward_mean": 986.9014474781153, "time_total_s": 354.727153301239, "pid": 32001, "info": {"num_steps_trained": 633567, "load_time_ms": 13.372, "num_steps_sampled": 633567, "grad_time_ms": 9617.261, "sample_time_ms": 12743.74, "update_time_ms": 6.492, "default": {"vf_explained_var": 0.9130312204360962, "vf_loss": 7.963371276855469, "entropy": 1.3401108980178833, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 7.961584568023682, "kl": 0.007758995518088341, "policy_loss": -0.002175201429054141}}, "time_this_iter_s": 21.83785843849182, "timesteps_since_restore": 633567, "time_since_restore": 354.727153301239, "timestamp": 1557210669, "timesteps_this_iter": 44542, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1c18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1e10>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-31-09", "hostname": "flow-main", "episodes_this_iter": 11, "episode_reward_min": 51.982655672561044}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1280.670481253342, "node_ip": "10.138.0.2", "timesteps_total": 676924, "iterations_since_restore": 15, "custom_metrics": {"cost1_max": 338.03462492772303, "cost1_min": 35.909978125194634, "cost2_max": -26.466605404032926, "system_level_velocity_mean": 10.966295119578293, "cost1_mean": 285.7520228875759, "outflow_rate_min": 323.2635297666357, "system_level_velocity_max": 18.586164267273908, "system_level_velocity_min": 8.35942687075234, "outflow_rate_max": 1096.273958686212, "cost2_mean": -139.17197437657393, "outflow_rate_mean": 916.9005427892251, "cost2_min": -189.4358643215266}, "training_iteration": 15, "episodes_total": 203, "episode_len_mean": 687.66, "episode_reward_mean": 1043.4234382427726, "time_total_s": 376.80067110061646, "pid": 32001, "info": {"num_steps_trained": 676924, "load_time_ms": 12.718, "num_steps_sampled": 676924, "grad_time_ms": 9607.358, "sample_time_ms": 12722.407, "update_time_ms": 6.536, "default": {"vf_explained_var": 0.8925249576568604, "vf_loss": 12.343293190002441, "entropy": 1.3390527963638306, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 12.3410005569458, "kl": 0.007668627891689539, "policy_loss": -0.0026743735652416945}}, "time_this_iter_s": 22.07351779937744, "timesteps_since_restore": 676924, "time_since_restore": 376.80067110061646, "timestamp": 1557210691, "timesteps_this_iter": 43357, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b4c470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668b4198>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b17940>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-31-31", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 65.06830752198937}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1362.8377695879876, "node_ip": "10.138.0.2", "timesteps_total": 722644, "iterations_since_restore": 16, "custom_metrics": {"cost1_max": 361.2797409440732, "cost1_min": 35.909978125194634, "cost2_max": -26.466605404032926, "system_level_velocity_mean": 11.337726134752259, "cost1_mean": 295.81191535649657, "outflow_rate_min": 323.2635297666357, "system_level_velocity_max": 18.586164267273908, "system_level_velocity_min": 8.69128864461398, "outflow_rate_max": 1111.6624843346594, "cost2_mean": -143.73686041443815, "outflow_rate_mean": 942.9027242076028, "cost2_min": -197.59375410580878}, "training_iteration": 16, "episodes_total": 215, "episode_len_mean": 687.66, "episode_reward_mean": 1076.1053400044498, "time_total_s": 400.05932545661926, "pid": 32001, "info": {"num_steps_trained": 722644, "load_time_ms": 12.618, "num_steps_sampled": 722644, "grad_time_ms": 9584.476, "sample_time_ms": 12683.267, "update_time_ms": 6.552, "default": {"vf_explained_var": 0.9454152584075928, "vf_loss": 6.842477321624756, "entropy": 1.3447693586349487, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 6.841589450836182, "kl": 0.006156223360449076, "policy_loss": -0.0011954591609537601}}, "time_this_iter_s": 23.258654356002808, "timesteps_since_restore": 722644, "time_since_restore": 400.05932545661926, "timestamp": 1557210714, "timesteps_this_iter": 45720, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac9e8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac128>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-31-54", "hostname": "flow-main", "episodes_this_iter": 12, "episode_reward_min": 65.06830752198937}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1462.250610162868, "node_ip": "10.138.0.2", "timesteps_total": 766655, "iterations_since_restore": 17, "custom_metrics": {"cost1_max": 364.37947161762736, "cost1_min": 33.858130415890265, "cost2_max": -26.466605404032926, "system_level_velocity_mean": 11.797226805466769, "cost1_mean": 303.2806371738602, "outflow_rate_min": 323.2635297666357, "system_level_velocity_max": 18.844069082496517, "system_level_velocity_min": 9.543020910877562, "outflow_rate_max": 1190.9385889616017, "cost2_mean": -150.62313502949655, "outflow_rate_mean": 962.5547059635418, "cost2_min": -231.33293419114827}, "training_iteration": 17, "episodes_total": 231, "episode_len_mean": 681.16, "episode_reward_mean": 1101.1434004791402, "time_total_s": 422.8781383037567, "pid": 32001, "info": {"num_steps_trained": 766655, "load_time_ms": 12.744, "num_steps_sampled": 766655, "grad_time_ms": 9584.452, "sample_time_ms": 12696.988, "update_time_ms": 6.639, "default": {"vf_explained_var": 0.9585590958595276, "vf_loss": 7.59285306930542, "entropy": 1.3250232934951782, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 7.592048645019531, "kl": 0.005589660257101059, "policy_loss": -0.0010828853119164705}}, "time_this_iter_s": 22.81881284713745, "timesteps_since_restore": 766655, "time_since_restore": 422.8781383037567, "timestamp": 1557210737, "timesteps_this_iter": 44011, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af98d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9080>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-32-17", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 60.25790488456555}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1462.250610162868, "node_ip": "10.138.0.2", "timesteps_total": 813355, "iterations_since_restore": 18, "custom_metrics": {"cost1_max": 364.37947161762736, "cost1_min": 33.858130415890265, "cost2_max": -26.466605404032926, "system_level_velocity_mean": 12.070217148420689, "cost1_mean": 310.65855809152674, "outflow_rate_min": 323.2635297666357, "system_level_velocity_max": 18.844069082496517, "system_level_velocity_min": 9.987769304512868, "outflow_rate_max": 1190.9385889616017, "cost2_mean": -156.70881497343282, "outflow_rate_mean": 984.2453143232387, "cost2_min": -231.33293419114827}, "training_iteration": 18, "episodes_total": 247, "episode_len_mean": 681.16, "episode_reward_mean": 1124.478037933087, "time_total_s": 446.34382152557373, "pid": 32001, "info": {"num_steps_trained": 813355, "load_time_ms": 12.784, "num_steps_sampled": 813355, "grad_time_ms": 9605.104, "sample_time_ms": 12762.385, "update_time_ms": 6.501, "default": {"vf_explained_var": 0.9496344327926636, "vf_loss": 6.421375751495361, "entropy": 1.3351155519485474, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 6.419683933258057, "kl": 0.009033676236867905, "policy_loss": -0.002143941819667816}}, "time_this_iter_s": 23.465683221817017, "timesteps_since_restore": 813355, "time_since_restore": 446.34382152557373, "timestamp": 1557210760, "timesteps_this_iter": 46700, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf978>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf128>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-32-40", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 60.25790488456555}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1462.250610162868, "node_ip": "10.138.0.2", "timesteps_total": 859327, "iterations_since_restore": 19, "custom_metrics": {"cost1_max": 364.37947161762736, "cost1_min": 33.858130415890265, "cost2_max": -30.125112510381268, "system_level_velocity_mean": 12.066117474659963, "cost1_mean": 319.0966464599625, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 18.844069082496517, "system_level_velocity_min": 9.987769304512868, "outflow_rate_max": 1190.9385889616017, "cost2_mean": -161.62119602759194, "outflow_rate_mean": 1004.2842312548656, "cost2_min": -231.33293419114827}, "training_iteration": 19, "episodes_total": 256, "episode_len_mean": 693.5, "episode_reward_mean": 1149.7436025186146, "time_total_s": 467.96313428878784, "pid": 32001, "info": {"num_steps_trained": 859327, "load_time_ms": 12.718, "num_steps_sampled": 859327, "grad_time_ms": 9609.946, "sample_time_ms": 12555.295, "update_time_ms": 6.592, "default": {"vf_explained_var": 0.9675302505493164, "vf_loss": 4.859100818634033, "entropy": 1.3134583234786987, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 4.856954097747803, "kl": 0.006078679114580154, "policy_loss": -0.0024508729111403227}}, "time_this_iter_s": 21.61931276321411, "timesteps_since_restore": 859327, "time_since_restore": 467.96313428878784, "timestamp": 1557210782, "timesteps_this_iter": 45972, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad93c8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9c18>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-33-02", "hostname": "flow-main", "episodes_this_iter": 9, "episode_reward_min": 60.25790488456555}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1462.250610162868, "node_ip": "10.138.0.2", "timesteps_total": 905327, "iterations_since_restore": 20, "custom_metrics": {"cost1_max": 375.4028390973156, "cost1_min": 33.858130415890265, "cost2_max": -30.125112510381268, "system_level_velocity_mean": 12.28423385015077, "cost1_mean": 324.47325610572216, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 18.844069082496517, "system_level_velocity_min": 9.987769304512868, "outflow_rate_max": 1190.9385889616017, "cost2_mean": -166.66202538621016, "outflow_rate_mean": 1012.8782272274607, "cost2_min": -231.33293419114827}, "training_iteration": 20, "episodes_total": 272, "episode_len_mean": 693.5, "episode_reward_mean": 1160.0682548685386, "time_total_s": 492.8672342300415, "pid": 32001, "info": {"num_steps_trained": 905327, "load_time_ms": 12.14, "num_steps_sampled": 905327, "grad_time_ms": 9825.053, "sample_time_ms": 12652.634, "update_time_ms": 6.612, "default": {"vf_explained_var": 0.9476519227027893, "vf_loss": 7.693064212799072, "entropy": 1.3029555082321167, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 7.690803050994873, "kl": 0.006749716121703386, "policy_loss": -0.002598363673314452}}, "time_this_iter_s": 24.904099941253662, "timesteps_since_restore": 905327, "time_since_restore": 492.8672342300415, "timestamp": 1557210807, "timesteps_this_iter": 46000, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668656a0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-33-27", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 60.25790488456555}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1462.250610162868, "node_ip": "10.138.0.2", "timesteps_total": 947411, "iterations_since_restore": 21, "custom_metrics": {"cost1_max": 375.4028390973156, "cost1_min": 30.707504483695068, "cost2_max": -29.596261288043145, "system_level_velocity_mean": 12.50024846791954, "cost1_mean": 325.3166590854404, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.625439598107018, "system_level_velocity_min": 9.987769304512868, "outflow_rate_max": 1190.9385889616017, "cost2_mean": -173.90113091451633, "outflow_rate_mean": 1014.1654195596, "cost2_min": -231.33293419114827}, "training_iteration": 21, "episodes_total": 290, "episode_len_mean": 686.95, "episode_reward_mean": 1170.0760197310253, "time_total_s": 515.7646338939667, "pid": 32001, "info": {"num_steps_trained": 947411, "load_time_ms": 12.541, "num_steps_sampled": 947411, "grad_time_ms": 9781.04, "sample_time_ms": 12741.759, "update_time_ms": 6.655, "default": {"vf_explained_var": 0.929236888885498, "vf_loss": 11.838173866271973, "entropy": 1.2860770225524902, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 11.835606575012207, "kl": 0.010696799494326115, "policy_loss": -0.003101637354120612}}, "time_this_iter_s": 22.89739966392517, "timesteps_since_restore": 947411, "time_since_restore": 515.7646338939667, "timestamp": 1557210830, "timesteps_this_iter": 42084, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ace10>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-33-50", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 51.502774702216854}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1462.250610162868, "node_ip": "10.138.0.2", "timesteps_total": 993521, "iterations_since_restore": 22, "custom_metrics": {"cost1_max": 386.2599663417054, "cost1_min": 30.707504483695068, "cost2_max": -29.596261288043145, "system_level_velocity_mean": 12.628659587586458, "cost1_mean": 328.7948003582187, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.625439598107018, "system_level_velocity_min": 11.116955517117535, "outflow_rate_max": 1190.9385889616017, "cost2_mean": -176.44771847298588, "outflow_rate_mean": 1023.4275996445831, "cost2_min": -231.33293419114827}, "training_iteration": 22, "episodes_total": 299, "episode_len_mean": 686.95, "episode_reward_mean": 1177.7264391388533, "time_total_s": 538.4728491306305, "pid": 32001, "info": {"num_steps_trained": 993521, "load_time_ms": 12.062, "num_steps_sampled": 993521, "grad_time_ms": 9849.032, "sample_time_ms": 12727.282, "update_time_ms": 6.848, "default": {"vf_explained_var": 0.9584192633628845, "vf_loss": 5.566070079803467, "entropy": 1.3131624460220337, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 5.564377307891846, "kl": 0.006495282985270023, "policy_loss": -0.0020176146645098925}}, "time_this_iter_s": 22.70821523666382, "timesteps_since_restore": 993521, "time_since_restore": 538.4728491306305, "timestamp": 1557210852, "timesteps_this_iter": 46110, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1860>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d12b0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-34-12", "hostname": "flow-main", "episodes_this_iter": 9, "episode_reward_min": 51.502774702216854}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1462.250610162868, "node_ip": "10.138.0.2", "timesteps_total": 1039131, "iterations_since_restore": 23, "custom_metrics": {"cost1_max": 386.2599663417054, "cost1_min": 30.707504483695068, "cost2_max": -29.596261288043145, "system_level_velocity_mean": 12.6531262948086, "cost1_mean": 329.5623303926211, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.625439598107018, "system_level_velocity_min": 11.116955517117535, "outflow_rate_max": 1190.9385889616017, "cost2_mean": -180.27763509274527, "outflow_rate_mean": 1023.9435061597379, "cost2_min": -244.56931333936708}, "training_iteration": 23, "episodes_total": 317, "episode_len_mean": 686.95, "episode_reward_mean": 1176.5235981402964, "time_total_s": 561.9387021064758, "pid": 32001, "info": {"num_steps_trained": 1039131, "load_time_ms": 12.336, "num_steps_sampled": 1039131, "grad_time_ms": 9927.316, "sample_time_ms": 12883.971, "update_time_ms": 6.905, "default": {"vf_explained_var": 0.9680602550506592, "vf_loss": 6.0400776863098145, "entropy": 1.2928603887557983, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 6.038410186767578, "kl": 0.007579581346362829, "policy_loss": -0.002046438865363598}}, "time_this_iter_s": 23.465852975845337, "timesteps_since_restore": 1039131, "time_since_restore": 561.9387021064758, "timestamp": 1557210876, "timesteps_this_iter": 45610, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac2e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac668>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668acd68>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-34-36", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 51.502774702216854}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.8908032242575, "node_ip": "10.138.0.2", "timesteps_total": 1085770, "iterations_since_restore": 24, "custom_metrics": {"cost1_max": 386.2599663417054, "cost1_min": 30.707504483695068, "cost2_max": -29.596261288043145, "system_level_velocity_mean": 12.58374152379954, "cost1_mean": 332.6689320352429, "outflow_rate_min": 327.21075527570645, "system_level_velocity_max": 19.625439598107018, "system_level_velocity_min": 11.116955517117535, "outflow_rate_max": 1165.5519647569822, "cost2_mean": -183.59034056029873, "outflow_rate_mean": 1029.8161038019298, "cost2_min": -244.56931333936708}, "training_iteration": 24, "episodes_total": 331, "episode_len_mean": 693.45, "episode_reward_mean": 1199.8631572130234, "time_total_s": 585.4499294757843, "pid": 32001, "info": {"num_steps_trained": 1085770, "load_time_ms": 12.315, "num_steps_sampled": 1085770, "grad_time_ms": 9982.247, "sample_time_ms": 12994.631, "update_time_ms": 6.815, "default": {"vf_explained_var": 0.9262602925300598, "vf_loss": 9.399749755859375, "entropy": 1.306485891342163, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 9.398362159729004, "kl": 0.007102743722498417, "policy_loss": -0.0017415527254343033}}, "time_this_iter_s": 23.51122736930847, "timesteps_since_restore": 1085770, "time_since_restore": 585.4499294757843, "timestamp": 1557210900, "timesteps_this_iter": 46639, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d12b0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-35-00", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 51.502774702216854}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.8908032242575, "node_ip": "10.138.0.2", "timesteps_total": 1129783, "iterations_since_restore": 25, "custom_metrics": {"cost1_max": 395.5720358785191, "cost1_min": 28.962564667044017, "cost2_max": -27.346795648644147, "system_level_velocity_mean": 12.659319080266355, "cost1_mean": 329.7894119491549, "outflow_rate_min": 327.21075527570645, "system_level_velocity_max": 19.7881740619722, "system_level_velocity_min": 11.116955517117535, "outflow_rate_max": 1165.5519647569822, "cost2_mean": -183.26369104999918, "outflow_rate_mean": 1018.7727185350036, "cost2_min": -244.56931333936708}, "training_iteration": 25, "episodes_total": 342, "episode_len_mean": 686.88, "episode_reward_mean": 1192.5500971284907, "time_total_s": 607.1161947250366, "pid": 32001, "info": {"num_steps_trained": 1129783, "load_time_ms": 12.908, "num_steps_sampled": 1129783, "grad_time_ms": 9974.023, "sample_time_ms": 12962.183, "update_time_ms": 6.814, "default": {"vf_explained_var": 0.9429177045822144, "vf_loss": 8.155853271484375, "entropy": 1.264520525932312, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 8.154091835021973, "kl": 0.007147104479372501, "policy_loss": -0.0021190170664340258}}, "time_this_iter_s": 21.66626524925232, "timesteps_since_restore": 1129783, "time_since_restore": 607.1161947250366, "timestamp": 1557210921, "timesteps_this_iter": 44013, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668acdd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac908>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac550>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-35-21", "hostname": "flow-main", "episodes_this_iter": 11, "episode_reward_min": 51.502774702216854}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.8908032242575, "node_ip": "10.138.0.2", "timesteps_total": 1173841, "iterations_since_restore": 26, "custom_metrics": {"cost1_max": 395.5720358785191, "cost1_min": 28.962564667044017, "cost2_max": -27.346795648644147, "system_level_velocity_mean": 12.822570851175938, "cost1_mean": 329.48333336456193, "outflow_rate_min": 327.21075527570645, "system_level_velocity_max": 19.886960784337305, "system_level_velocity_min": 11.189410859092218, "outflow_rate_max": 1165.5519647569822, "cost2_mean": -182.3716440072646, "outflow_rate_mean": 1016.6569826604602, "cost2_min": -244.56931333936708}, "training_iteration": 26, "episodes_total": 361, "episode_len_mean": 680.31, "episode_reward_mean": 1189.7201028728707, "time_total_s": 629.337076663971, "pid": 32001, "info": {"num_steps_trained": 1173841, "load_time_ms": 12.937, "num_steps_sampled": 1173841, "grad_time_ms": 9919.636, "sample_time_ms": 12913.71, "update_time_ms": 6.879, "default": {"vf_explained_var": 0.9319441914558411, "vf_loss": 10.956670761108398, "entropy": 1.2860820293426514, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 10.954614639282227, "kl": 0.00939391553401947, "policy_loss": -0.0025264264550060034}}, "time_this_iter_s": 22.220881938934326, "timesteps_since_restore": 1173841, "time_since_restore": 629.337076663971, "timestamp": 1557210943, "timesteps_this_iter": 44058, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668755c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668655f8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865a20>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-35-43", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 48.238815133505284}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.8908032242575, "node_ip": "10.138.0.2", "timesteps_total": 1216941, "iterations_since_restore": 27, "custom_metrics": {"cost1_max": 395.5720358785191, "cost1_min": 28.962564667044017, "cost2_max": -27.346795648644147, "system_level_velocity_mean": 12.774565089100063, "cost1_mean": 328.2740982260139, "outflow_rate_min": 327.21075527570645, "system_level_velocity_max": 19.886960784337305, "system_level_velocity_min": 11.189410859092218, "outflow_rate_max": 1137.8752248418248, "cost2_mean": -179.2515857111531, "outflow_rate_mean": 1011.9845226925041, "cost2_min": -244.56931333936708}, "training_iteration": 27, "episodes_total": 375, "episode_len_mean": 680.31, "episode_reward_mean": 1188.2712379935956, "time_total_s": 652.6865029335022, "pid": 32001, "info": {"num_steps_trained": 1216941, "load_time_ms": 13.047, "num_steps_sampled": 1216941, "grad_time_ms": 9911.495, "sample_time_ms": 12975.44, "update_time_ms": 6.922, "default": {"vf_explained_var": 0.9193011522293091, "vf_loss": 11.165555000305176, "entropy": 1.2735259532928467, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 11.163585662841797, "kl": 0.009775247424840927, "policy_loss": -0.00245765526778996}}, "time_this_iter_s": 23.34942626953125, "timesteps_since_restore": 1216941, "time_since_restore": 652.6865029335022, "timestamp": 1557210967, "timesteps_this_iter": 43100, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9be0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9208>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-36-07", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 48.238815133505284}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.8908032242575, "node_ip": "10.138.0.2", "timesteps_total": 1260825, "iterations_since_restore": 28, "custom_metrics": {"cost1_max": 395.5720358785191, "cost1_min": 28.962564667044017, "cost2_max": -27.346795648644147, "system_level_velocity_mean": 12.740767025763587, "cost1_mean": 332.2604889444286, "outflow_rate_min": 329.6337234057179, "system_level_velocity_max": 19.886960784337305, "system_level_velocity_min": 11.283693114830326, "outflow_rate_max": 1137.8752248418248, "cost2_mean": -178.2525344530769, "outflow_rate_mean": 1022.2017896856823, "cost2_min": -244.56931333936708}, "training_iteration": 28, "episodes_total": 391, "episode_len_mean": 686.86, "episode_reward_mean": 1196.1524239667353, "time_total_s": 676.2508060932159, "pid": 32001, "info": {"num_steps_trained": 1260825, "load_time_ms": 13.193, "num_steps_sampled": 1260825, "grad_time_ms": 9873.224, "sample_time_ms": 13025.253, "update_time_ms": 6.891, "default": {"vf_explained_var": 0.9181156158447266, "vf_loss": 12.907691955566406, "entropy": 1.276200532913208, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 12.905566215515137, "kl": 0.009262273088097572, "policy_loss": -0.002589382464066148}}, "time_this_iter_s": 23.564303159713745, "timesteps_since_restore": 1260825, "time_since_restore": 676.2508060932159, "timestamp": 1557210990, "timesteps_this_iter": 43884, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfcc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf0f0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf4e0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-36-30", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 48.238815133505284}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.8908032242575, "node_ip": "10.138.0.2", "timesteps_total": 1305885, "iterations_since_restore": 29, "custom_metrics": {"cost1_max": 395.5720358785191, "cost1_min": 28.962564667044017, "cost2_max": -27.346795648644147, "system_level_velocity_mean": 12.730218509682505, "cost1_mean": 326.86365110028487, "outflow_rate_min": 329.6337234057179, "system_level_velocity_max": 19.886960784337305, "system_level_velocity_min": 11.283693114830326, "outflow_rate_max": 1137.8752248418248, "cost2_mean": -176.10644427828421, "outflow_rate_mean": 1009.6075397802982, "cost2_min": -244.56931333936708}, "training_iteration": 29, "episodes_total": 409, "episode_len_mean": 680.29, "episode_reward_mean": 1185.174090306761, "time_total_s": 700.1619477272034, "pid": 32001, "info": {"num_steps_trained": 1305885, "load_time_ms": 13.143, "num_steps_sampled": 1305885, "grad_time_ms": 9867.259, "sample_time_ms": 13259.842, "update_time_ms": 6.884, "default": {"vf_explained_var": 0.941550076007843, "vf_loss": 9.509722709655762, "entropy": 1.3042012453079224, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 9.506085395812988, "kl": 0.011776900850236416, "policy_loss": -0.004225787241011858}}, "time_this_iter_s": 23.911141633987427, "timesteps_since_restore": 1305885, "time_since_restore": 700.1619477272034, "timestamp": 1557211014, "timesteps_this_iter": 45060, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9320>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9240>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-36-54", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 48.238815133505284}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.8908032242575, "node_ip": "10.138.0.2", "timesteps_total": 1350910, "iterations_since_restore": 30, "custom_metrics": {"cost1_max": 395.5720358785191, "cost1_min": 28.962564667044017, "cost2_max": -27.346795648644147, "system_level_velocity_mean": 12.762838990116306, "cost1_mean": 323.0864392251074, "outflow_rate_min": 329.6337234057179, "system_level_velocity_max": 19.886960784337305, "system_level_velocity_min": 11.283693114830326, "outflow_rate_max": 1137.8752248418248, "cost2_mean": -172.61385296066084, "outflow_rate_mean": 1002.7317300167891, "cost2_min": -227.5435615125606}, "training_iteration": 30, "episodes_total": 419, "episode_len_mean": 672.23, "episode_reward_mean": 1170.5504066837973, "time_total_s": 723.2315156459808, "pid": 32001, "info": {"num_steps_trained": 1350910, "load_time_ms": 13.751, "num_steps_sampled": 1350910, "grad_time_ms": 9679.444, "sample_time_ms": 13263.65, "update_time_ms": 6.921, "default": {"vf_explained_var": 0.9337459206581116, "vf_loss": 8.377222061157227, "entropy": 1.2821589708328247, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 8.375509262084961, "kl": 0.0085524320602417, "policy_loss": -0.002140659373253584}}, "time_this_iter_s": 23.069567918777466, "timesteps_since_restore": 1350910, "time_since_restore": 723.2315156459808, "timestamp": 1557211037, "timesteps_this_iter": 45025, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bff28>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf4e0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-37-17", "hostname": "flow-main", "episodes_this_iter": 10, "episode_reward_min": 48.238815133505284}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1358.591779771929, "node_ip": "10.138.0.2", "timesteps_total": 1395040, "iterations_since_restore": 31, "custom_metrics": {"cost1_max": 395.5720358785191, "cost1_min": 28.962564667044017, "cost2_max": -27.346795648644147, "system_level_velocity_mean": 12.744897860888843, "cost1_mean": 322.64204609623295, "outflow_rate_min": 329.6337234057179, "system_level_velocity_max": 19.886960784337305, "system_level_velocity_min": 11.283693114830326, "outflow_rate_max": 1133.2843068865202, "cost2_mean": -171.15642487363658, "outflow_rate_mean": 1001.6368299658226, "cost2_min": -222.68642508171644}, "training_iteration": 31, "episodes_total": 434, "episode_len_mean": 672.23, "episode_reward_mean": 1167.0663053908124, "time_total_s": 746.2548017501831, "pid": 32001, "info": {"num_steps_trained": 1395040, "load_time_ms": 13.842, "num_steps_sampled": 1395040, "grad_time_ms": 9680.061, "sample_time_ms": 13276.153, "update_time_ms": 6.83, "default": {"vf_explained_var": 0.9296026825904846, "vf_loss": 10.342645645141602, "entropy": 1.259107232093811, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 10.340597152709961, "kl": 0.008512922562658787, "policy_loss": -0.00247442745603621}}, "time_this_iter_s": 23.02328610420227, "timesteps_since_restore": 1395040, "time_since_restore": 746.2548017501831, "timestamp": 1557211060, "timesteps_this_iter": 44130, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9940>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9860>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-37-40", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 48.238815133505284}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1359.105394375405, "node_ip": "10.138.0.2", "timesteps_total": 1438099, "iterations_since_restore": 32, "custom_metrics": {"cost1_max": 367.93662662772323, "cost1_min": 29.24339165236656, "cost2_max": -26.732740333849105, "system_level_velocity_mean": 12.616201608675901, "cost1_mean": 324.8199475646065, "outflow_rate_min": 328.3754157727966, "system_level_velocity_max": 19.77442156807968, "system_level_velocity_min": 11.347969747215865, "outflow_rate_max": 1133.2843068865202, "cost2_mean": -169.31110536339412, "outflow_rate_mean": 1010.6955427258328, "cost2_min": -222.68642508171644}, "training_iteration": 32, "episodes_total": 450, "episode_len_mean": 678.83, "episode_reward_mean": 1176.656425104752, "time_total_s": 768.0914628505707, "pid": 32001, "info": {"num_steps_trained": 1438099, "load_time_ms": 14.341, "num_steps_sampled": 1438099, "grad_time_ms": 9599.923, "sample_time_ms": 13269.335, "update_time_ms": 6.659, "default": {"vf_explained_var": 0.8966252207756042, "vf_loss": 14.159165382385254, "entropy": 1.2627586126327515, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 14.156697273254395, "kl": 0.011843446642160416, "policy_loss": -0.0030591737013310194}}, "time_this_iter_s": 21.836661100387573, "timesteps_since_restore": 1438099, "time_since_restore": 768.0914628505707, "timestamp": 1557211082, "timesteps_this_iter": 43059, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865668>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865b38>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-38-02", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 51.30776799267553}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1359.105394375405, "node_ip": "10.138.0.2", "timesteps_total": 1479632, "iterations_since_restore": 33, "custom_metrics": {"cost1_max": 367.93662662772323, "cost1_min": 29.24339165236656, "cost2_max": -26.732740333849105, "system_level_velocity_mean": 12.536420875789723, "cost1_mean": 320.2042072993785, "outflow_rate_min": 328.3754157727966, "system_level_velocity_max": 19.77442156807968, "system_level_velocity_min": 10.083113403586852, "outflow_rate_max": 1133.2843068865202, "cost2_mean": -164.75580840454012, "outflow_rate_mean": 1002.7534868275375, "cost2_min": -222.68642508171644}, "training_iteration": 33, "episodes_total": 467, "episode_len_mean": 674.08, "episode_reward_mean": 1164.3584806751253, "time_total_s": 789.4871644973755, "pid": 32001, "info": {"num_steps_trained": 1479632, "load_time_ms": 14.109, "num_steps_sampled": 1479632, "grad_time_ms": 9433.647, "sample_time_ms": 13229.325, "update_time_ms": 6.596, "default": {"vf_explained_var": 0.8883509635925293, "vf_loss": 14.990933418273926, "entropy": 1.2531914710998535, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 14.988879203796387, "kl": 0.010525223799049854, "policy_loss": -0.002581055974587798}}, "time_this_iter_s": 21.39570164680481, "timesteps_since_restore": 1479632, "time_since_restore": 789.4871644973755, "timestamp": 1557211104, "timesteps_this_iter": 41533, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9978>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9320>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-38-24", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 51.30776799267553}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1359.105394375405, "node_ip": "10.138.0.2", "timesteps_total": 1521392, "iterations_since_restore": 34, "custom_metrics": {"cost1_max": 367.93662662772323, "cost1_min": 29.24339165236656, "cost2_max": -26.732740333849105, "system_level_velocity_mean": 12.390860057880845, "cost1_mean": 314.5982024234422, "outflow_rate_min": 328.3754157727966, "system_level_velocity_max": 19.77442156807968, "system_level_velocity_min": 10.083113403586852, "outflow_rate_max": 1133.2843068865202, "cost2_mean": -159.10233657652662, "outflow_rate_mean": 993.057286513091, "cost2_min": -222.68642508171644}, "training_iteration": 34, "episodes_total": 486, "episode_len_mean": 670.29, "episode_reward_mean": 1155.1139177796947, "time_total_s": 814.49769282341, "pid": 32001, "info": {"num_steps_trained": 1521392, "load_time_ms": 13.905, "num_steps_sampled": 1521392, "grad_time_ms": 9479.431, "sample_time_ms": 13334.561, "update_time_ms": 6.692, "default": {"vf_explained_var": 0.852894127368927, "vf_loss": 17.36689567565918, "entropy": 1.2419836521148682, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 17.36449432373047, "kl": 0.010236043483018875, "policy_loss": -0.0029127190355211496}}, "time_this_iter_s": 25.010528326034546, "timesteps_since_restore": 1521392, "time_since_restore": 814.49769282341, "timestamp": 1557211129, "timesteps_this_iter": 41760, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad93c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad92e8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9710>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-38-49", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 51.30776799267553}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1359.105394375405, "node_ip": "10.138.0.2", "timesteps_total": 1565559, "iterations_since_restore": 35, "custom_metrics": {"cost1_max": 367.93662662772323, "cost1_min": 29.24339165236656, "cost2_max": -26.732740333849105, "system_level_velocity_mean": 12.352996787308793, "cost1_mean": 313.5082505524757, "outflow_rate_min": 328.3754157727966, "system_level_velocity_max": 19.77442156807968, "system_level_velocity_min": 10.083113403586852, "outflow_rate_max": 1133.2843068865202, "cost2_mean": -153.10266044964297, "outflow_rate_mean": 991.5311384793588, "cost2_min": -222.68642508171644}, "training_iteration": 35, "episodes_total": 495, "episode_len_mean": 670.29, "episode_reward_mean": 1152.2383938457467, "time_total_s": 837.6908524036407, "pid": 32001, "info": {"num_steps_trained": 1565559, "load_time_ms": 14.23, "num_steps_sampled": 1565559, "grad_time_ms": 9514.535, "sample_time_ms": 13450.487, "update_time_ms": 6.811, "default": {"vf_explained_var": 0.880069375038147, "vf_loss": 10.113895416259766, "entropy": 1.2397555112838745, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 10.11234188079834, "kl": 0.01025515329092741, "policy_loss": -0.0020661409944295883}}, "time_this_iter_s": 23.193159580230713, "timesteps_since_restore": 1565559, "time_since_restore": 837.6908524036407, "timestamp": 1557211152, "timesteps_this_iter": 44167, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66875240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b4c4a8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b4ccf8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-39-12", "hostname": "flow-main", "episodes_this_iter": 9, "episode_reward_min": 51.30776799267553}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1359.105394375405, "node_ip": "10.138.0.2", "timesteps_total": 1608567, "iterations_since_restore": 36, "custom_metrics": {"cost1_max": 367.93662662772323, "cost1_min": 30.707039056375827, "cost2_max": -26.732740333849105, "system_level_velocity_mean": 12.191239847062725, "cost1_mean": 314.03580889496305, "outflow_rate_min": 328.3754157727966, "system_level_velocity_max": 18.983699914166078, "system_level_velocity_min": 10.083113403586852, "outflow_rate_max": 1130.130897902098, "cost2_mean": -146.06331167845636, "outflow_rate_mean": 993.3635477065292, "cost2_min": -205.56082248405363}, "training_iteration": 36, "episodes_total": 508, "episode_len_mean": 676.86, "episode_reward_mean": 1154.400564153054, "time_total_s": 859.0722358226776, "pid": 32001, "info": {"num_steps_trained": 1608567, "load_time_ms": 14.403, "num_steps_sampled": 1608567, "grad_time_ms": 9448.961, "sample_time_ms": 13432.511, "update_time_ms": 6.802, "default": {"vf_explained_var": 0.9146860837936401, "vf_loss": 10.883380889892578, "entropy": 1.2162519693374634, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 10.88139820098877, "kl": 0.010902397334575653, "policy_loss": -0.0025269293691962957}}, "time_this_iter_s": 21.381383419036865, "timesteps_since_restore": 1608567, "time_since_restore": 859.0722358226776, "timestamp": 1557211173, "timesteps_this_iter": 43008, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b139e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13518>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13a90>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-39-33", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 60.27584244803235}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1359.105394375405, "node_ip": "10.138.0.2", "timesteps_total": 1651592, "iterations_since_restore": 37, "custom_metrics": {"cost1_max": 367.93662662772323, "cost1_min": 30.707039056375827, "cost2_max": -26.510997206197633, "system_level_velocity_mean": 12.106816079828976, "cost1_mean": 311.59467068436464, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 18.983699914166078, "system_level_velocity_min": 10.083113403586852, "outflow_rate_max": 1130.130897902098, "cost2_mean": -133.72806580530496, "outflow_rate_mean": 981.8897351773284, "cost2_min": -205.56082248405363}, "training_iteration": 37, "episodes_total": 528, "episode_len_mean": 678.42, "episode_reward_mean": 1133.6584965952482, "time_total_s": 881.7336740493774, "pid": 32001, "info": {"num_steps_trained": 1651592, "load_time_ms": 13.786, "num_steps_sampled": 1651592, "grad_time_ms": 9455.983, "sample_time_ms": 13355.299, "update_time_ms": 6.797, "default": {"vf_explained_var": 0.8849238157272339, "vf_loss": 17.388168334960938, "entropy": 1.2061364650726318, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 17.38576316833496, "kl": 0.010606695897877216, "policy_loss": -0.002936330856755376}}, "time_this_iter_s": 22.66143822669983, "timesteps_since_restore": 1651592, "time_since_restore": 881.7336740493774, "timestamp": 1557211196, "timesteps_this_iter": 43025, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668655f8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668653c8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-39-56", "hostname": "flow-main", "episodes_this_iter": 20, "episode_reward_min": 60.27584244803235}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1359.105394375405, "node_ip": "10.138.0.2", "timesteps_total": 1693638, "iterations_since_restore": 38, "custom_metrics": {"cost1_max": 354.7607545982421, "cost1_min": 33.80525356428849, "cost2_max": -26.510997206197633, "system_level_velocity_mean": 12.043328371088062, "cost1_mean": 314.2228126390601, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 18.784416769067736, "system_level_velocity_min": 10.083113403586852, "outflow_rate_max": 1130.130897902098, "cost2_mean": -129.1036972104901, "outflow_rate_mean": 984.6624627206484, "cost2_min": -190.39879833449356}, "training_iteration": 38, "episodes_total": 543, "episode_len_mean": 684.96, "episode_reward_mean": 1136.599588020467, "time_total_s": 904.9347593784332, "pid": 32001, "info": {"num_steps_trained": 1693638, "load_time_ms": 13.073, "num_steps_sampled": 1693638, "grad_time_ms": 9451.001, "sample_time_ms": 13323.811, "update_time_ms": 6.882, "default": {"vf_explained_var": 0.93582683801651, "vf_loss": 10.659525871276855, "entropy": 1.2002062797546387, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 10.657028198242188, "kl": 0.010093117132782936, "policy_loss": -0.0030034107621759176}}, "time_this_iter_s": 23.201085329055786, "timesteps_since_restore": 1693638, "time_since_restore": 904.9347593784332, "timestamp": 1557211219, "timesteps_this_iter": 42046, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce4e0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce710>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-40-19", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 60.802557452623}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1278.823689283563, "node_ip": "10.138.0.2", "timesteps_total": 1736513, "iterations_since_restore": 39, "custom_metrics": {"cost1_max": 354.7607545982421, "cost1_min": 33.80525356428849, "cost2_max": -26.510997206197633, "system_level_velocity_mean": 12.032383227874247, "cost1_mean": 313.45702816629705, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 18.784416769067736, "system_level_velocity_min": 10.440872480421318, "outflow_rate_max": 1142.2562084147899, "cost2_mean": -130.09722165004678, "outflow_rate_mean": 981.8414520039707, "cost2_min": -182.03023785872546}, "training_iteration": 39, "episodes_total": 560, "episode_len_mean": 684.88, "episode_reward_mean": 1139.970571440581, "time_total_s": 928.4551582336426, "pid": 32001, "info": {"num_steps_trained": 1736513, "load_time_ms": 13.401, "num_steps_sampled": 1736513, "grad_time_ms": 9463.414, "sample_time_ms": 13272.843, "update_time_ms": 6.836, "default": {"vf_explained_var": 0.924200177192688, "vf_loss": 12.078267097473145, "entropy": 1.2205286026000977, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 12.075080871582031, "kl": 0.013155177235603333, "policy_loss": -0.0038443882949650288}}, "time_this_iter_s": 23.52039885520935, "timesteps_since_restore": 1736513, "time_since_restore": 928.4551582336426, "timestamp": 1557211243, "timesteps_this_iter": 42875, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668658d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668655f8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-40-43", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 60.802557452623}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1278.2794792268378, "node_ip": "10.138.0.2", "timesteps_total": 1780709, "iterations_since_restore": 40, "custom_metrics": {"cost1_max": 354.7607545982421, "cost1_min": 33.80525356428849, "cost2_max": -26.510997206197633, "system_level_velocity_mean": 11.988116350231769, "cost1_mean": 312.0640670519971, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 18.784416769067736, "system_level_velocity_min": 10.440872480421318, "outflow_rate_max": 1142.2562084147899, "cost2_mean": -131.57006827462658, "outflow_rate_mean": 975.3861232580086, "cost2_min": -182.03023785872546}, "training_iteration": 40, "episodes_total": 573, "episode_len_mean": 684.88, "episode_reward_mean": 1138.397776007247, "time_total_s": 953.5330505371094, "pid": 32001, "info": {"num_steps_trained": 1780709, "load_time_ms": 13.185, "num_steps_sampled": 1780709, "grad_time_ms": 9512.506, "sample_time_ms": 13425.339, "update_time_ms": 6.744, "default": {"vf_explained_var": 0.9614327549934387, "vf_loss": 7.384487628936768, "entropy": 1.2224225997924805, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 7.381002426147461, "kl": 0.01616835594177246, "policy_loss": -0.004294200334697962}}, "time_this_iter_s": 25.077892303466797, "timesteps_since_restore": 1780709, "time_since_restore": 953.5330505371094, "timestamp": 1557211268, "timesteps_this_iter": 44196, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13dd8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13b00>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-41-08", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 60.802557452623}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1278.2794792268378, "node_ip": "10.138.0.2", "timesteps_total": 1822835, "iterations_since_restore": 41, "custom_metrics": {"cost1_max": 354.7607545982421, "cost1_min": 33.80525356428849, "cost2_max": -26.510997206197633, "system_level_velocity_mean": 11.999736253022597, "cost1_mean": 313.91391308616784, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 18.784416769067736, "system_level_velocity_min": 10.440872480421318, "outflow_rate_max": 1142.2562084147899, "cost2_mean": -131.35036256465636, "outflow_rate_mean": 975.6409198890474, "cost2_min": -182.03023785872546}, "training_iteration": 41, "episodes_total": 587, "episode_len_mean": 688.67, "episode_reward_mean": 1131.260838899011, "time_total_s": 974.9254200458527, "pid": 32001, "info": {"num_steps_trained": 1822835, "load_time_ms": 12.784, "num_steps_sampled": 1822835, "grad_time_ms": 9475.932, "sample_time_ms": 13298.939, "update_time_ms": 6.883, "default": {"vf_explained_var": 0.9124650955200195, "vf_loss": 11.221306800842285, "entropy": 1.2005075216293335, "cur_kl_coeff": 0.05000000074505806, "cur_lr": 0.0005000000237487257, "total_loss": 11.219118118286133, "kl": 0.009182964451611042, "policy_loss": -0.002649051370099187}}, "time_this_iter_s": 21.392369508743286, "timesteps_since_restore": 1822835, "time_since_restore": 974.9254200458527, "timestamp": 1557211289, "timesteps_this_iter": 42126, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668650f0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865048>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-41-29", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 60.802557452623}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1278.2794792268378, "node_ip": "10.138.0.2", "timesteps_total": 1864750, "iterations_since_restore": 42, "custom_metrics": {"cost1_max": 354.7607545982421, "cost1_min": 33.80525356428849, "cost2_max": -26.510997206197633, "system_level_velocity_mean": 12.055439416714622, "cost1_mean": 314.7603112537026, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 18.784416769067736, "system_level_velocity_min": 10.504007116779395, "outflow_rate_max": 1142.2562084147899, "cost2_mean": -129.14645069586177, "outflow_rate_mean": 975.3264140908781, "cost2_min": -182.03023785872546}, "training_iteration": 42, "episodes_total": 602, "episode_len_mean": 688.67, "episode_reward_mean": 1120.8546629778148, "time_total_s": 996.9257986545563, "pid": 32001, "info": {"num_steps_trained": 1864750, "load_time_ms": 12.151, "num_steps_sampled": 1864750, "grad_time_ms": 9539.397, "sample_time_ms": 13252.512, "update_time_ms": 6.934, "default": {"vf_explained_var": 0.8378922939300537, "vf_loss": 19.388992309570312, "entropy": 1.1753352880477905, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 19.386802673339844, "kl": 0.011294756084680557, "policy_loss": -0.0027546726632863283}}, "time_this_iter_s": 22.000378608703613, "timesteps_since_restore": 1864750, "time_since_restore": 996.9257986545563, "timestamp": 1557211311, "timesteps_this_iter": 41915, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13710>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13dd8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-41-51", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 60.802557452623}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1278.2794792268378, "node_ip": "10.138.0.2", "timesteps_total": 1905030, "iterations_since_restore": 43, "custom_metrics": {"cost1_max": 354.7607545982421, "cost1_min": 29.561350635270642, "cost2_max": -25.42605314243577, "system_level_velocity_mean": 12.13379754175038, "cost1_mean": 311.54685776178354, "outflow_rate_min": 319.54044312360406, "system_level_velocity_max": 18.784416769067736, "system_level_velocity_min": 10.504007116779395, "outflow_rate_max": 1142.2562084147899, "cost2_mean": -124.03666031706109, "outflow_rate_mean": 967.4945376148082, "cost2_min": -182.03023785872546}, "training_iteration": 43, "episodes_total": 618, "episode_len_mean": 682.11, "episode_reward_mean": 1096.471868052142, "time_total_s": 1017.6203715801239, "pid": 32001, "info": {"num_steps_trained": 1905030, "load_time_ms": 12.211, "num_steps_sampled": 1905030, "grad_time_ms": 9638.303, "sample_time_ms": 13083.33, "update_time_ms": 7.164, "default": {"vf_explained_var": 0.7829465866088867, "vf_loss": 22.701974868774414, "entropy": 1.1475387811660767, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 22.69987678527832, "kl": 0.010150603018701077, "policy_loss": -0.002603755099698901}}, "time_this_iter_s": 20.694572925567627, "timesteps_since_restore": 1905030, "time_since_restore": 1017.6203715801239, "timestamp": 1557211332, "timesteps_this_iter": 40280, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668653c8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865940>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-42-12", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 52.406848526009185}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1278.2794792268378, "node_ip": "10.138.0.2", "timesteps_total": 1945668, "iterations_since_restore": 44, "custom_metrics": {"cost1_max": 368.6219117573339, "cost1_min": 28.783254958093337, "cost2_max": -25.42605314243577, "system_level_velocity_mean": 12.215992416213078, "cost1_mean": 312.17676183514055, "outflow_rate_min": 319.54044312360406, "system_level_velocity_max": 19.519816365901082, "system_level_velocity_min": 10.504007116779395, "outflow_rate_max": 1142.2562084147899, "cost2_mean": -116.99411476152741, "outflow_rate_mean": 966.8959656962887, "cost2_min": -182.03023785872546}, "training_iteration": 44, "episodes_total": 639, "episode_len_mean": 682.04, "episode_reward_mean": 1076.551824830817, "time_total_s": 1039.2225024700165, "pid": 32001, "info": {"num_steps_trained": 1945668, "load_time_ms": 12.43, "num_steps_sampled": 1945668, "grad_time_ms": 9474.192, "sample_time_ms": 12906.456, "update_time_ms": 7.046, "default": {"vf_explained_var": 0.767863392829895, "vf_loss": 30.15347671508789, "entropy": 1.155477523803711, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 30.150575637817383, "kl": 0.01120193675160408, "policy_loss": -0.003464611480012536}}, "time_this_iter_s": 21.602130889892578, "timesteps_since_restore": 1945668, "time_since_restore": 1039.2225024700165, "timestamp": 1557211354, "timesteps_this_iter": 40638, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cecf8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce6d8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-42-34", "hostname": "flow-main", "episodes_this_iter": 21, "episode_reward_min": 52.406848526009185}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1278.2794792268378, "node_ip": "10.138.0.2", "timesteps_total": 1986487, "iterations_since_restore": 45, "custom_metrics": {"cost1_max": 368.6219117573339, "cost1_min": 28.783254958093337, "cost2_max": -25.42605314243577, "system_level_velocity_mean": 12.181402751710829, "cost1_mean": 313.263268103956, "outflow_rate_min": 319.54044312360406, "system_level_velocity_max": 19.519816365901082, "system_level_velocity_min": 10.504007116779395, "outflow_rate_max": 1089.5811711622482, "cost2_mean": -108.41229896752196, "outflow_rate_mean": 966.4197404494209, "cost2_min": -175.11163278838615}, "training_iteration": 45, "episodes_total": 655, "episode_len_mean": 686.17, "episode_reward_mean": 1064.0007873438446, "time_total_s": 1060.9219920635223, "pid": 32001, "info": {"num_steps_trained": 1986487, "load_time_ms": 12.429, "num_steps_sampled": 1986487, "grad_time_ms": 9417.646, "sample_time_ms": 12814.513, "update_time_ms": 6.902, "default": {"vf_explained_var": 0.7812161445617676, "vf_loss": 21.30722427368164, "entropy": 1.144317865371704, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 21.30355453491211, "kl": 0.013779232278466225, "policy_loss": -0.004357638768851757}}, "time_this_iter_s": 21.69948959350586, "timesteps_since_restore": 1986487, "time_since_restore": 1060.9219920635223, "timestamp": 1557211376, "timesteps_this_iter": 40819, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cef28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ceb38>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce278>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-42-56", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 52.406848526009185}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1221.5683870029518, "node_ip": "10.138.0.2", "timesteps_total": 2026988, "iterations_since_restore": 46, "custom_metrics": {"cost1_max": 368.6219117573339, "cost1_min": 28.783254958093337, "cost2_max": -25.42605314243577, "system_level_velocity_mean": 12.253502022977507, "cost1_mean": 314.19806446817455, "outflow_rate_min": 319.54044312360406, "system_level_velocity_max": 19.519816365901082, "system_level_velocity_min": 10.504007116779395, "outflow_rate_max": 1097.1223266071793, "cost2_mean": -101.3546912645383, "outflow_rate_mean": 969.273267858568, "cost2_min": -175.11163278838615}, "training_iteration": 46, "episodes_total": 669, "episode_len_mean": 686.17, "episode_reward_mean": 1042.7548172050492, "time_total_s": 1082.1961348056793, "pid": 32001, "info": {"num_steps_trained": 2026988, "load_time_ms": 11.744, "num_steps_sampled": 2026988, "grad_time_ms": 9445.874, "sample_time_ms": 12776.35, "update_time_ms": 6.812, "default": {"vf_explained_var": 0.8348042964935303, "vf_loss": 19.10699462890625, "entropy": 1.1316571235656738, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 19.103357315063477, "kl": 0.013211721554398537, "policy_loss": -0.004298617597669363}}, "time_this_iter_s": 21.274142742156982, "timesteps_since_restore": 2026988, "time_since_restore": 1082.1961348056793, "timestamp": 1557211397, "timesteps_this_iter": 40501, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13e48>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13828>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-43-17", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 52.406848526009185}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1199.8128825585563, "node_ip": "10.138.0.2", "timesteps_total": 2067808, "iterations_since_restore": 47, "custom_metrics": {"cost1_max": 368.6219117573339, "cost1_min": 28.783254958093337, "cost2_max": -25.42605314243577, "system_level_velocity_mean": 12.431679890921895, "cost1_mean": 317.3807610094261, "outflow_rate_min": 319.54044312360406, "system_level_velocity_max": 19.519816365901082, "system_level_velocity_min": 10.504007116779395, "outflow_rate_max": 1126.6399633247354, "cost2_mean": -95.43883326812472, "outflow_rate_mean": 978.8254379380951, "cost2_min": -136.61346254946125}, "training_iteration": 47, "episodes_total": 688, "episode_len_mean": 685.05, "episode_reward_mean": 1033.295190349249, "time_total_s": 1104.0666677951813, "pid": 32001, "info": {"num_steps_trained": 2067808, "load_time_ms": 11.916, "num_steps_sampled": 2067808, "grad_time_ms": 9405.008, "sample_time_ms": 12739.165, "update_time_ms": 6.803, "default": {"vf_explained_var": 0.8191283345222473, "vf_loss": 24.07858657836914, "entropy": 1.1308226585388184, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 24.074371337890625, "kl": 0.014683243818581104, "policy_loss": -0.004948081914335489}}, "time_this_iter_s": 21.870532989501953, "timesteps_since_restore": 2067808, "time_since_restore": 1104.0666677951813, "timestamp": 1557211419, "timesteps_this_iter": 40820, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad96d8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-43-39", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 52.406848526009185}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1164.6656156391957, "node_ip": "10.138.0.2", "timesteps_total": 2108216, "iterations_since_restore": 48, "custom_metrics": {"cost1_max": 371.2490399924632, "cost1_min": 28.783254958093337, "cost2_max": -25.42605314243577, "system_level_velocity_mean": 12.622198474991421, "cost1_mean": 318.86353291582566, "outflow_rate_min": 319.54044312360406, "system_level_velocity_max": 19.519816365901082, "system_level_velocity_min": 10.915189865826818, "outflow_rate_max": 1165.9948873422215, "cost2_mean": -95.06087982494606, "outflow_rate_mean": 986.0123979231922, "cost2_min": -120.08452161541348}, "training_iteration": 48, "episodes_total": 703, "episode_len_mean": 680.12, "episode_reward_mean": 1028.6963798012011, "time_total_s": 1125.9607033729553, "pid": 32001, "info": {"num_steps_trained": 2108216, "load_time_ms": 12.252, "num_steps_sampled": 2108216, "grad_time_ms": 9297.089, "sample_time_ms": 12716.403, "update_time_ms": 6.967, "default": {"vf_explained_var": 0.8656064867973328, "vf_loss": 18.057706832885742, "entropy": 1.1042393445968628, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 18.054399490356445, "kl": 0.012835759669542313, "policy_loss": -0.003950605168938637}}, "time_this_iter_s": 21.894035577774048, "timesteps_since_restore": 2108216, "time_since_restore": 1125.9607033729553, "timestamp": 1557211441, "timesteps_this_iter": 40408, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13b70>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13748>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-44-01", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 52.406848526009185}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1250.1063215344943, "node_ip": "10.138.0.2", "timesteps_total": 2149409, "iterations_since_restore": 49, "custom_metrics": {"cost1_max": 371.2490399924632, "cost1_min": 181.65516711289123, "cost2_max": -77.93980613282089, "system_level_velocity_mean": 12.704882649395199, "cost1_mean": 326.9934622073235, "outflow_rate_min": 704.0568745204511, "system_level_velocity_max": 16.90519559227333, "system_level_velocity_min": 10.915189865826818, "outflow_rate_max": 1165.9948873422215, "cost2_mean": -99.61977490845469, "outflow_rate_mean": 1004.6381500327017, "cost2_min": -135.05836755139578}, "training_iteration": 49, "episodes_total": 721, "episode_len_mean": 687.92, "episode_reward_mean": 1051.8603541128543, "time_total_s": 1147.241709470749, "pid": 32001, "info": {"num_steps_trained": 2149409, "load_time_ms": 11.903, "num_steps_sampled": 2149409, "grad_time_ms": 9199.628, "sample_time_ms": 12590.901, "update_time_ms": 7.007, "default": {"vf_explained_var": 0.8566835522651672, "vf_loss": 20.998252868652344, "entropy": 1.1054905652999878, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 20.994342803955078, "kl": 0.014795633032917976, "policy_loss": -0.0046509685926139355}}, "time_this_iter_s": 21.28100609779358, "timesteps_since_restore": 2149409, "time_since_restore": 1147.241709470749, "timestamp": 1557211462, "timesteps_this_iter": 41193, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9c50>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9780>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-44-22", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 480.7103641965679}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1250.1063215344943, "node_ip": "10.138.0.2", "timesteps_total": 2190391, "iterations_since_restore": 50, "custom_metrics": {"cost1_max": 371.2490399924632, "cost1_min": 141.51953117372017, "cost2_max": -77.93980613282089, "system_level_velocity_mean": 12.865934272022312, "cost1_mean": 328.4801822980792, "outflow_rate_min": 534.7097616487931, "system_level_velocity_max": 16.90519559227333, "system_level_velocity_min": 10.915189865826818, "outflow_rate_max": 1173.3204921288657, "cost2_mean": -104.5607668385354, "outflow_rate_mean": 1016.9896834589445, "cost2_min": -135.05836755139578}, "training_iteration": 50, "episodes_total": 740, "episode_len_mean": 684.05, "episode_reward_mean": 1065.007971250965, "time_total_s": 1167.662586927414, "pid": 32001, "info": {"num_steps_trained": 2190391, "load_time_ms": 11.951, "num_steps_sampled": 2190391, "grad_time_ms": 8962.415, "sample_time_ms": 12362.729, "update_time_ms": 7.063, "default": {"vf_explained_var": 0.820043683052063, "vf_loss": 22.254085540771484, "entropy": 1.1046710014343262, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 22.250219345092773, "kl": 0.013661894015967846, "policy_loss": -0.00454911682754755}}, "time_this_iter_s": 20.42087745666504, "timesteps_since_restore": 2190391, "time_since_restore": 1167.662586927414, "timestamp": 1557211482, "timesteps_this_iter": 40982, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13ba8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-44-42", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 397.7777452373491}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1267.7504344798094, "node_ip": "10.138.0.2", "timesteps_total": 2231389, "iterations_since_restore": 51, "custom_metrics": {"cost1_max": 371.2490399924632, "cost1_min": 95.09651011458644, "cost2_max": -56.510312794058635, "system_level_velocity_mean": 13.044330669059807, "cost1_mean": 327.980760099404, "outflow_rate_min": 464.2652635300937, "system_level_velocity_max": 18.470470748655135, "system_level_velocity_min": 10.976706011764362, "outflow_rate_max": 1173.3204921288657, "cost2_mean": -107.50287375388561, "outflow_rate_mean": 1021.6186670025326, "cost2_min": -146.309869543483}, "training_iteration": 51, "episodes_total": 753, "episode_len_mean": 676.7, "episode_reward_mean": 1064.4808652487563, "time_total_s": 1187.7522492408752, "pid": 32001, "info": {"num_steps_trained": 2231389, "load_time_ms": 11.859, "num_steps_sampled": 2231389, "grad_time_ms": 8873.33, "sample_time_ms": 12322.015, "update_time_ms": 6.978, "default": {"vf_explained_var": 0.8574270009994507, "vf_loss": 18.022762298583984, "entropy": 1.0969922542572021, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 18.01845359802246, "kl": 0.013526709750294685, "policy_loss": -0.004986756946891546}}, "time_this_iter_s": 20.089662313461304, "timesteps_since_restore": 2231389, "time_since_restore": 1187.7522492408752, "timestamp": 1557211503, "timesteps_this_iter": 40998, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cef28>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-45-03", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 221.8978941752487}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1267.7504344798094, "node_ip": "10.138.0.2", "timesteps_total": 2273776, "iterations_since_restore": 52, "custom_metrics": {"cost1_max": 381.1310532802827, "cost1_min": 95.09651011458644, "cost2_max": -56.510312794058635, "system_level_velocity_mean": 13.268249676642329, "cost1_mean": 328.61504788675006, "outflow_rate_min": 464.2652635300937, "system_level_velocity_max": 18.470470748655135, "system_level_velocity_min": 10.976706011764362, "outflow_rate_max": 1182.805318975452, "cost2_mean": -111.34265876513277, "outflow_rate_mean": 1025.048486424365, "cost2_min": -152.47827967883248}, "training_iteration": 52, "episodes_total": 771, "episode_len_mean": 668.52, "episode_reward_mean": 1072.2268498949772, "time_total_s": 1210.2642238140106, "pid": 32001, "info": {"num_steps_trained": 2273776, "load_time_ms": 12.726, "num_steps_sampled": 2273776, "grad_time_ms": 8778.491, "sample_time_ms": 12466.74, "update_time_ms": 6.966, "default": {"vf_explained_var": 0.896604061126709, "vf_loss": 19.661386489868164, "entropy": 1.0870239734649658, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 19.657514572143555, "kl": 0.015458349138498306, "policy_loss": -0.004645003937184811}}, "time_this_iter_s": 22.511974573135376, "timesteps_since_restore": 2273776, "time_since_restore": 1210.2642238140106, "timestamp": 1557211525, "timesteps_this_iter": 42387, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9c18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a90>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-45-25", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 221.8978941752487}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1364.9493482194289, "node_ip": "10.138.0.2", "timesteps_total": 2315366, "iterations_since_restore": 53, "custom_metrics": {"cost1_max": 387.56385795425825, "cost1_min": 29.221717493707985, "cost2_max": -30.27295756416926, "system_level_velocity_mean": 13.467552093805589, "cost1_mean": 331.53640279726096, "outflow_rate_min": 329.6337234057179, "system_level_velocity_max": 20.244426722878586, "system_level_velocity_min": 11.226159543308148, "outflow_rate_max": 1226.0970303085057, "cost2_mean": -119.0299821349312, "outflow_rate_mean": 1035.6204417424665, "cost2_min": -189.4697126812498}, "training_iteration": 53, "episodes_total": 789, "episode_len_mean": 667.13, "episode_reward_mean": 1089.8789114033445, "time_total_s": 1232.380084514618, "pid": 32001, "info": {"num_steps_trained": 2315366, "load_time_ms": 12.729, "num_steps_sampled": 2315366, "grad_time_ms": 8771.044, "sample_time_ms": 12616.342, "update_time_ms": 6.818, "default": {"vf_explained_var": 0.9247826337814331, "vf_loss": 16.963512420654297, "entropy": 1.0827295780181885, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 16.960397720336914, "kl": 0.012298031710088253, "policy_loss": -0.003730887547135353}}, "time_this_iter_s": 22.1158607006073, "timesteps_since_restore": 2315366, "time_since_restore": 1232.380084514618, "timestamp": 1557211547, "timesteps_this_iter": 41590, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cea20>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cef28>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-45-47", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 50.8429298125145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1364.9493482194289, "node_ip": "10.138.0.2", "timesteps_total": 2356945, "iterations_since_restore": 54, "custom_metrics": {"cost1_max": 401.38878576140877, "cost1_min": 29.221717493707985, "cost2_max": -30.27295756416926, "system_level_velocity_mean": 13.59818093647676, "cost1_mean": 330.75999212003967, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.244426722878586, "system_level_velocity_min": 11.226159543308148, "outflow_rate_max": 1226.0970303085057, "cost2_mean": -126.74090226557504, "outflow_rate_mean": 1036.2637770092138, "cost2_min": -189.4697126812498}, "training_iteration": 54, "episodes_total": 805, "episode_len_mean": 661.5, "episode_reward_mean": 1097.8810568472059, "time_total_s": 1255.0793776512146, "pid": 32001, "info": {"num_steps_trained": 2356945, "load_time_ms": 12.209, "num_steps_sampled": 2356945, "grad_time_ms": 8773.998, "sample_time_ms": 12724.028, "update_time_ms": 6.867, "default": {"vf_explained_var": 0.9431725144386292, "vf_loss": 12.970329284667969, "entropy": 1.068220853805542, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 12.966389656066895, "kl": 0.012539491057395935, "policy_loss": -0.004563482478260994}}, "time_this_iter_s": 22.69929313659668, "timesteps_since_restore": 2356945, "time_since_restore": 1255.0793776512146, "timestamp": 1557211570, "timesteps_this_iter": 41579, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9c50>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9080>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-46-10", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 50.8429298125145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1364.9493482194289, "node_ip": "10.138.0.2", "timesteps_total": 2399545, "iterations_since_restore": 55, "custom_metrics": {"cost1_max": 434.59730778226344, "cost1_min": 29.221717493707985, "cost2_max": -30.27295756416926, "system_level_velocity_mean": 13.83570784149468, "cost1_mean": 339.7422372480363, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.244426722878586, "system_level_velocity_min": 11.321652810159497, "outflow_rate_max": 1247.4469324602824, "cost2_mean": -134.46538083105384, "outflow_rate_mean": 1058.6336081410416, "cost2_min": -189.61269939836993}, "training_iteration": 55, "episodes_total": 819, "episode_len_mean": 666.83, "episode_reward_mean": 1123.8712090527542, "time_total_s": 1277.2533252239227, "pid": 32001, "info": {"num_steps_trained": 2399545, "load_time_ms": 11.496, "num_steps_sampled": 2399545, "grad_time_ms": 8748.793, "sample_time_ms": 12797.779, "update_time_ms": 6.909, "default": {"vf_explained_var": 0.9309878349304199, "vf_loss": 12.603965759277344, "entropy": 1.0366384983062744, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 12.599649429321289, "kl": 0.01566104218363762, "policy_loss": -0.005099508911371231}}, "time_this_iter_s": 22.17394757270813, "timesteps_since_restore": 2399545, "time_since_restore": 1277.2533252239227, "timestamp": 1557211592, "timesteps_this_iter": 42600, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668aad30>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac710>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-46-32", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 50.8429298125145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1364.9493482194289, "node_ip": "10.138.0.2", "timesteps_total": 2441776, "iterations_since_restore": 56, "custom_metrics": {"cost1_max": 436.75689016043293, "cost1_min": 29.221717493707985, "cost2_max": -30.27295756416926, "system_level_velocity_mean": 14.05713089771028, "cost1_mean": 343.94867662572887, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 20.244426722878586, "system_level_velocity_min": 11.321652810159497, "outflow_rate_max": 1247.4469324602824, "cost2_mean": -140.75955562236175, "outflow_rate_mean": 1064.3625310594648, "cost2_min": -189.61269939836993}, "training_iteration": 56, "episodes_total": 834, "episode_len_mean": 664.9, "episode_reward_mean": 1132.2933328177155, "time_total_s": 1298.97984790802, "pid": 32001, "info": {"num_steps_trained": 2441776, "load_time_ms": 12.315, "num_steps_sampled": 2441776, "grad_time_ms": 8710.671, "sample_time_ms": 12879.896, "update_time_ms": 6.969, "default": {"vf_explained_var": 0.9490088224411011, "vf_loss": 11.633848190307617, "entropy": 1.0639337301254272, "cur_kl_coeff": 0.05000000074505806, "cur_lr": 0.0005000000237487257, "total_loss": 11.63097095489502, "kl": 0.012287246994674206, "policy_loss": -0.003491793293505907}}, "time_this_iter_s": 21.72652268409729, "timesteps_since_restore": 2441776, "time_since_restore": 1298.97984790802, "timestamp": 1557211614, "timesteps_this_iter": 42231, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9e48>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9f98>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-46-54", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 50.8429298125145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1376.806337177456, "node_ip": "10.138.0.2", "timesteps_total": 2484354, "iterations_since_restore": 57, "custom_metrics": {"cost1_max": 436.75689016043293, "cost1_min": 29.221717493707985, "cost2_max": -30.27295756416926, "system_level_velocity_mean": 14.14575755039485, "cost1_mean": 351.47844281598196, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 20.244426722878586, "system_level_velocity_min": 11.321652810159497, "outflow_rate_max": 1247.4469324602824, "cost2_mean": -149.42691887451593, "outflow_rate_mean": 1081.247578043104, "cost2_min": -198.86619953227023}, "training_iteration": 57, "episodes_total": 852, "episode_len_mean": 672.25, "episode_reward_mean": 1161.7021563992316, "time_total_s": 1321.5579280853271, "pid": 32001, "info": {"num_steps_trained": 2484354, "load_time_ms": 12.653, "num_steps_sampled": 2484354, "grad_time_ms": 8726.807, "sample_time_ms": 12933.99, "update_time_ms": 6.87, "default": {"vf_explained_var": 0.9290922284126282, "vf_loss": 16.7041072845459, "entropy": 1.0557529926300049, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 16.700824737548828, "kl": 0.015360524877905846, "policy_loss": -0.004050026182085276}}, "time_this_iter_s": 22.57808017730713, "timesteps_since_restore": 2484354, "time_since_restore": 1321.5579280853271, "timestamp": 1557211636, "timesteps_this_iter": 42578, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668acc18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac550>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-47-16", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 50.8429298125145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1376.806337177456, "node_ip": "10.138.0.2", "timesteps_total": 2526701, "iterations_since_restore": 58, "custom_metrics": {"cost1_max": 436.75689016043293, "cost1_min": 29.221717493707985, "cost2_max": -30.27295756416926, "system_level_velocity_mean": 14.2545039670177, "cost1_mean": 355.1350548081604, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 20.244426722878586, "system_level_velocity_min": 11.225567056029897, "outflow_rate_max": 1247.5424547475645, "cost2_mean": -156.53606331186512, "outflow_rate_mean": 1088.3659009393054, "cost2_min": -203.26847856084467}, "training_iteration": 58, "episodes_total": 869, "episode_len_mean": 673.48, "episode_reward_mean": 1177.350620379174, "time_total_s": 1344.6396477222443, "pid": 32001, "info": {"num_steps_trained": 2526701, "load_time_ms": 13.027, "num_steps_sampled": 2526701, "grad_time_ms": 8794.285, "sample_time_ms": 12985.171, "update_time_ms": 6.684, "default": {"vf_explained_var": 0.9262987375259399, "vf_loss": 19.41802215576172, "entropy": 1.0744374990463257, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 19.414356231689453, "kl": 0.014080613851547241, "policy_loss": -0.004370588809251785}}, "time_this_iter_s": 23.081719636917114, "timesteps_since_restore": 2526701, "time_since_restore": 1344.6396477222443, "timestamp": 1557211660, "timesteps_this_iter": 42347, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9a58>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9cc0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-47-40", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 50.8429298125145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1376.806337177456, "node_ip": "10.138.0.2", "timesteps_total": 2568692, "iterations_since_restore": 59, "custom_metrics": {"cost1_max": 436.75689016043293, "cost1_min": 33.81980421063593, "cost2_max": -32.533650393204745, "system_level_velocity_mean": 14.233937469341635, "cost1_mean": 360.1996805028853, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 19.19305436737455, "system_level_velocity_min": 11.225567056029897, "outflow_rate_max": 1268.3663377533824, "cost2_mean": -159.96945443803318, "outflow_rate_mean": 1098.3574506932957, "cost2_min": -210.0055562367412}, "training_iteration": 59, "episodes_total": 885, "episode_len_mean": 680.05, "episode_reward_mean": 1196.8262155619877, "time_total_s": 1368.0444874763489, "pid": 32001, "info": {"num_steps_trained": 2568692, "load_time_ms": 13.114, "num_steps_sampled": 2568692, "grad_time_ms": 8818.186, "sample_time_ms": 13173.619, "update_time_ms": 6.634, "default": {"vf_explained_var": 0.9371079206466675, "vf_loss": 14.150660514831543, "entropy": 1.0358134508132935, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 14.148943901062012, "kl": 0.015623592771589756, "policy_loss": -0.002497806679457426}}, "time_this_iter_s": 23.404839754104614, "timesteps_since_restore": 2568692, "time_since_restore": 1368.0444874763489, "timestamp": 1557211683, "timesteps_this_iter": 41991, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b4ccf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9d30>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad95f8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-48-03", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 60.11783417455955}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1376.806337177456, "node_ip": "10.138.0.2", "timesteps_total": 2610341, "iterations_since_restore": 60, "custom_metrics": {"cost1_max": 436.75689016043293, "cost1_min": 33.81980421063593, "cost2_max": -32.59588076172955, "system_level_velocity_mean": 14.41797233895756, "cost1_mean": 362.79420694752275, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 19.044430513793543, "system_level_velocity_min": 11.225567056029897, "outflow_rate_max": 1268.3663377533824, "cost2_mean": -157.7749744806301, "outflow_rate_mean": 1103.9229333826775, "cost2_min": -210.0055562367412}, "training_iteration": 60, "episodes_total": 903, "episode_len_mean": 676.04, "episode_reward_mean": 1191.4198220620954, "time_total_s": 1389.608933210373, "pid": 32001, "info": {"num_steps_trained": 2610341, "load_time_ms": 13.321, "num_steps_sampled": 2610341, "grad_time_ms": 8913.676, "sample_time_ms": 13191.829, "update_time_ms": 6.626, "default": {"vf_explained_var": 0.909132182598114, "vf_loss": 17.980546951293945, "entropy": 1.0594978332519531, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 17.97675132751465, "kl": 0.013454054482281208, "policy_loss": -0.004466932732611895}}, "time_this_iter_s": 21.564445734024048, "timesteps_since_restore": 2610341, "time_since_restore": 1389.608933210373, "timestamp": 1557211705, "timesteps_this_iter": 41649, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9978>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9c18>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-48-25", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 65.47100417838348}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1376.806337177456, "node_ip": "10.138.0.2", "timesteps_total": 2650457, "iterations_since_restore": 61, "custom_metrics": {"cost1_max": 436.75689016043293, "cost1_min": 33.81980421063593, "cost2_max": -32.59588076172955, "system_level_velocity_mean": 14.262409516110683, "cost1_mean": 359.1590396479003, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 19.044430513793543, "system_level_velocity_min": 11.140520374159738, "outflow_rate_max": 1268.3663377533824, "cost2_mean": -156.9524968088298, "outflow_rate_mean": 1099.297154006065, "cost2_min": -210.0055562367412}, "training_iteration": 61, "episodes_total": 918, "episode_len_mean": 676.04, "episode_reward_mean": 1185.4244450994106, "time_total_s": 1411.3946888446808, "pid": 32001, "info": {"num_steps_trained": 2650457, "load_time_ms": 13.857, "num_steps_sampled": 2650457, "grad_time_ms": 9011.878, "sample_time_ms": 13261.574, "update_time_ms": 6.591, "default": {"vf_explained_var": 0.9236947298049927, "vf_loss": 15.501646041870117, "entropy": 1.0600591897964478, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 15.497862815856934, "kl": 0.014879126101732254, "policy_loss": -0.004525464028120041}}, "time_this_iter_s": 21.78575563430786, "timesteps_since_restore": 2650457, "time_since_restore": 1411.3946888446808, "timestamp": 1557211726, "timesteps_this_iter": 40116, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1390>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cea20>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-48-46", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 65.47100417838348}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1376.806337177456, "node_ip": "10.138.0.2", "timesteps_total": 2692296, "iterations_since_restore": 62, "custom_metrics": {"cost1_max": 426.4016535358072, "cost1_min": 33.81980421063593, "cost2_max": -32.59588076172955, "system_level_velocity_mean": 14.12946099625876, "cost1_mean": 353.23567064757844, "outflow_rate_min": 324.8763846761304, "system_level_velocity_max": 19.044430513793543, "system_level_velocity_min": 11.140520374159738, "outflow_rate_max": 1268.3663377533824, "cost2_mean": -153.65294865572704, "outflow_rate_mean": 1090.7403557223995, "cost2_min": -210.0055562367412}, "training_iteration": 62, "episodes_total": 932, "episode_len_mean": 672.11, "episode_reward_mean": 1171.4920113845637, "time_total_s": 1433.1219489574432, "pid": 32001, "info": {"num_steps_trained": 2692296, "load_time_ms": 13.711, "num_steps_sampled": 2692296, "grad_time_ms": 8964.053, "sample_time_ms": 13230.978, "update_time_ms": 6.67, "default": {"vf_explained_var": 0.9037370681762695, "vf_loss": 15.528852462768555, "entropy": 1.052078366279602, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 15.522019386291504, "kl": 0.017147278413176537, "policy_loss": -0.007690670900046825}}, "time_this_iter_s": 21.72726011276245, "timesteps_since_restore": 2692296, "time_since_restore": 1433.1219489574432, "timestamp": 1557211748, "timesteps_this_iter": 41839, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66875240>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9dd8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-49-08", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 65.47100417838348}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1358.017859701341, "node_ip": "10.138.0.2", "timesteps_total": 2733285, "iterations_since_restore": 63, "custom_metrics": {"cost1_max": 426.4016535358072, "cost1_min": 76.05343863257, "cost2_max": -47.703827184749755, "system_level_velocity_mean": 13.97157230892406, "cost1_mean": 353.28644867744106, "outflow_rate_min": 408.171827170398, "system_level_velocity_max": 18.90223718709835, "system_level_velocity_min": 11.140520374159738, "outflow_rate_max": 1268.3663377533824, "cost2_mean": -152.1347294564102, "outflow_rate_mean": 1094.9504665681293, "cost2_min": -210.0055562367412}, "training_iteration": 63, "episodes_total": 948, "episode_len_mean": 678.61, "episode_reward_mean": 1174.9128923762019, "time_total_s": 1454.8949036598206, "pid": 32001, "info": {"num_steps_trained": 2733285, "load_time_ms": 13.529, "num_steps_sampled": 2733285, "grad_time_ms": 8887.779, "sample_time_ms": 13273.307, "update_time_ms": 6.614, "default": {"vf_explained_var": 0.9442998766899109, "vf_loss": 15.539703369140625, "entropy": 1.0982589721679688, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 15.534002304077148, "kl": 0.019657617434859276, "policy_loss": -0.006683552172034979}}, "time_this_iter_s": 21.77295470237732, "timesteps_since_restore": 2733285, "time_since_restore": 1454.8949036598206, "timestamp": 1557211770, "timesteps_this_iter": 40989, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfcc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf128>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-49-30", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 168.0956917476532}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1352.5649936750517, "node_ip": "10.138.0.2", "timesteps_total": 2774323, "iterations_since_restore": 64, "custom_metrics": {"cost1_max": 426.4016535358072, "cost1_min": 29.07007257112427, "cost2_max": -28.198186548217276, "system_level_velocity_mean": 13.950097114043972, "cost1_mean": 347.6277735084408, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.927823927007577, "system_level_velocity_min": 10.932992173026513, "outflow_rate_max": 1268.3663377533824, "cost2_mean": -148.19495283187055, "outflow_rate_mean": 1083.517966219294, "cost2_min": -210.0055562367412}, "training_iteration": 64, "episodes_total": 968, "episode_len_mean": 672.49, "episode_reward_mean": 1153.8139938070444, "time_total_s": 1477.4572594165802, "pid": 32001, "info": {"num_steps_trained": 2774323, "load_time_ms": 13.428, "num_steps_sampled": 2774323, "grad_time_ms": 8866.966, "sample_time_ms": 13280.76, "update_time_ms": 6.586, "default": {"vf_explained_var": 0.9239142537117004, "vf_loss": 20.848573684692383, "entropy": 1.087895154953003, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 20.845800399780273, "kl": 0.014501121826469898, "policy_loss": -0.003496746066957712}}, "time_this_iter_s": 22.562355756759644, "timesteps_since_restore": 2774323, "time_since_restore": 1477.4572594165802, "timestamp": 1557211793, "timesteps_this_iter": 41038, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad96d8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9ba8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-49-53", "hostname": "flow-main", "episodes_this_iter": 20, "episode_reward_min": 53.97294012314676}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1352.5649936750517, "node_ip": "10.138.0.2", "timesteps_total": 2816760, "iterations_since_restore": 65, "custom_metrics": {"cost1_max": 422.0672924597534, "cost1_min": 29.07007257112427, "cost2_max": -28.198186548217276, "system_level_velocity_mean": 14.044766655078586, "cost1_mean": 345.73077298580307, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.927823927007577, "system_level_velocity_min": 10.932992173026513, "outflow_rate_max": 1236.692594409059, "cost2_mean": -147.57001873454416, "outflow_rate_mean": 1080.1436565906004, "cost2_min": -195.88224101804764}, "training_iteration": 65, "episodes_total": 982, "episode_len_mean": 666.91, "episode_reward_mean": 1144.903581229426, "time_total_s": 1500.1343185901642, "pid": 32001, "info": {"num_steps_trained": 2816760, "load_time_ms": 13.731, "num_steps_sampled": 2816760, "grad_time_ms": 8920.698, "sample_time_ms": 13277.101, "update_time_ms": 6.524, "default": {"vf_explained_var": 0.9630208015441895, "vf_loss": 11.062387466430664, "entropy": 1.085932731628418, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 11.057700157165527, "kl": 0.016083290800452232, "policy_loss": -0.005492445081472397}}, "time_this_iter_s": 22.677059173583984, "timesteps_since_restore": 2816760, "time_since_restore": 1500.1343185901642, "timestamp": 1557211815, "timesteps_this_iter": 42437, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf908>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf208>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-50-15", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 53.97294012314676}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1352.5649936750517, "node_ip": "10.138.0.2", "timesteps_total": 2860242, "iterations_since_restore": 66, "custom_metrics": {"cost1_max": 419.0617256210363, "cost1_min": 29.07007257112427, "cost2_max": -28.198186548217276, "system_level_velocity_mean": 13.96591409865382, "cost1_mean": 348.87444480519497, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.927823927007577, "system_level_velocity_min": 10.932992173026513, "outflow_rate_max": 1285.6560545868886, "cost2_mean": -151.9020205655929, "outflow_rate_mean": 1089.4419402130811, "cost2_min": -206.2590746607302}, "training_iteration": 66, "episodes_total": 996, "episode_len_mean": 674.73, "episode_reward_mean": 1161.6260477388148, "time_total_s": 1523.3846626281738, "pid": 32001, "info": {"num_steps_trained": 2860242, "load_time_ms": 13.408, "num_steps_sampled": 2860242, "grad_time_ms": 9013.181, "sample_time_ms": 13337.598, "update_time_ms": 6.486, "default": {"vf_explained_var": 0.9717234373092651, "vf_loss": 9.64332103729248, "entropy": 1.091102123260498, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 9.640079498291016, "kl": 0.016571655869483948, "policy_loss": -0.004069887101650238}}, "time_this_iter_s": 23.250344038009644, "timesteps_since_restore": 2860242, "time_since_restore": 1523.3846626281738, "timestamp": 1557211839, "timesteps_this_iter": 43482, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad91d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9f98>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-50-39", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 53.97294012314676}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1377.5810134767974, "node_ip": "10.138.0.2", "timesteps_total": 2902556, "iterations_since_restore": 67, "custom_metrics": {"cost1_max": 419.0617256210363, "cost1_min": 29.07007257112427, "cost2_max": -28.198186548217276, "system_level_velocity_mean": 14.13455075686344, "cost1_mean": 348.74420332594417, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.927823927007577, "system_level_velocity_min": 10.932992173026513, "outflow_rate_max": 1292.5446347547615, "cost2_mean": -154.63729038643535, "outflow_rate_mean": 1089.505577305244, "cost2_min": -212.42673445106433}, "training_iteration": 67, "episodes_total": 1015, "episode_len_mean": 668.23, "episode_reward_mean": 1161.2094295055595, "time_total_s": 1547.22305560112, "pid": 32001, "info": {"num_steps_trained": 2902556, "load_time_ms": 13.246, "num_steps_sampled": 2902556, "grad_time_ms": 9026.425, "sample_time_ms": 13450.371, "update_time_ms": 6.577, "default": {"vf_explained_var": 0.9396654367446899, "vf_loss": 17.830244064331055, "entropy": 1.0716077089309692, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "total_loss": 17.827362060546875, "kl": 0.017411183565855026, "policy_loss": -0.003753339871764183}}, "time_this_iter_s": 23.838392972946167, "timesteps_since_restore": 2902556, "time_since_restore": 1547.22305560112, "timestamp": 1557211862, "timesteps_this_iter": 42314, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668650f0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865cc0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-51-02", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 53.97294012314676}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1388.1613400566655, "node_ip": "10.138.0.2", "timesteps_total": 2943975, "iterations_since_restore": 68, "custom_metrics": {"cost1_max": 419.0617256210363, "cost1_min": 29.07007257112427, "cost2_max": -28.198186548217276, "system_level_velocity_mean": 14.224992216749776, "cost1_mean": 353.45899832447304, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.927823927007577, "system_level_velocity_min": 10.932992173026513, "outflow_rate_max": 1292.5446347547615, "cost2_mean": -158.7249398232832, "outflow_rate_mean": 1101.8789275496592, "cost2_min": -212.42673445106433}, "training_iteration": 68, "episodes_total": 1031, "episode_len_mean": 672.16, "episode_reward_mean": 1174.698508753409, "time_total_s": 1568.8199644088745, "pid": 32001, "info": {"num_steps_trained": 2943975, "load_time_ms": 12.928, "num_steps_sampled": 2943975, "grad_time_ms": 9014.675, "sample_time_ms": 13314.154, "update_time_ms": 6.56, "default": {"vf_explained_var": 0.9525120258331299, "vf_loss": 13.851240158081055, "entropy": 1.0635179281234741, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "total_loss": 13.846134185791016, "kl": 0.016082709655165672, "policy_loss": -0.0059118918143212795}}, "time_this_iter_s": 21.596908807754517, "timesteps_since_restore": 2943975, "time_since_restore": 1568.8199644088745, "timestamp": 1557211884, "timesteps_this_iter": 41419, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac208>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-51-24", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 53.97294012314676}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1395.9983503857497, "node_ip": "10.138.0.2", "timesteps_total": 2985730, "iterations_since_restore": 69, "custom_metrics": {"cost1_max": 458.00968466861116, "cost1_min": 29.07007257112427, "cost2_max": -28.198186548217276, "system_level_velocity_mean": 14.491058758558399, "cost1_mean": 353.2903956746999, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.927823927007577, "system_level_velocity_min": 10.932992173026513, "outflow_rate_max": 1292.5446347547615, "cost2_mean": -162.25103164180484, "outflow_rate_mean": 1100.1634679403883, "cost2_min": -213.9018393960128}, "training_iteration": 69, "episodes_total": 1048, "episode_len_mean": 660.81, "episode_reward_mean": 1168.722018875169, "time_total_s": 1590.4918575286865, "pid": 32001, "info": {"num_steps_trained": 2985730, "load_time_ms": 12.304, "num_steps_sampled": 2985730, "grad_time_ms": 9016.013, "sample_time_ms": 13139.592, "update_time_ms": 6.491, "default": {"vf_explained_var": 0.9369038939476013, "vf_loss": 18.58445930480957, "entropy": 1.0767618417739868, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "total_loss": 18.578205108642578, "kl": 0.021896297112107277, "policy_loss": -0.007347245700657368}}, "time_this_iter_s": 21.67189311981201, "timesteps_since_restore": 2985730, "time_since_restore": 1590.4918575286865, "timestamp": 1557211906, "timesteps_this_iter": 41755, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bff28>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf8d0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-51-46", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 53.97294012314676}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1395.9983503857497, "node_ip": "10.138.0.2", "timesteps_total": 3028153, "iterations_since_restore": 70, "custom_metrics": {"cost1_max": 458.00968466861116, "cost1_min": 33.57087041468867, "cost2_max": -30.08085427105615, "system_level_velocity_mean": 14.510144577723153, "cost1_mean": 363.6453509760966, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.354100791228202, "system_level_velocity_min": 11.303736544875614, "outflow_rate_max": 1292.5446347547615, "cost2_mean": -170.09121107065232, "outflow_rate_mean": 1124.5286696816331, "cost2_min": -221.8034819233007}, "training_iteration": 70, "episodes_total": 1065, "episode_len_mean": 673.88, "episode_reward_mean": 1202.2058738554142, "time_total_s": 1613.4406459331512, "pid": 32001, "info": {"num_steps_trained": 3028153, "load_time_ms": 12.019, "num_steps_sampled": 3028153, "grad_time_ms": 9072.454, "sample_time_ms": 13222.097, "update_time_ms": 6.524, "default": {"vf_explained_var": 0.9733715057373047, "vf_loss": 8.42505931854248, "entropy": 1.086256504058838, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "total_loss": 8.41963005065918, "kl": 0.015249112620949745, "policy_loss": -0.006573118735104799}}, "time_this_iter_s": 22.94878840446472, "timesteps_since_restore": 3028153, "time_since_restore": 1613.4406459331512, "timestamp": 1557211929, "timesteps_this_iter": 42423, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfcc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf208>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf5c0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-52-09", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 59.69263766425363}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1395.9983503857497, "node_ip": "10.138.0.2", "timesteps_total": 3070702, "iterations_since_restore": 71, "custom_metrics": {"cost1_max": 458.00968466861116, "cost1_min": 33.57087041468867, "cost2_max": -30.08085427105615, "system_level_velocity_mean": 14.567811713229208, "cost1_mean": 361.9143899447292, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 18.99039731731878, "system_level_velocity_min": 11.303736544875614, "outflow_rate_max": 1292.5446347547615, "cost2_mean": -173.30728555847006, "outflow_rate_mean": 1117.0203978633033, "cost2_min": -221.8034819233007}, "training_iteration": 71, "episodes_total": 1081, "episode_len_mean": 667.85, "episode_reward_mean": 1195.0775079785699, "time_total_s": 1636.2408056259155, "pid": 32001, "info": {"num_steps_trained": 3070702, "load_time_ms": 11.851, "num_steps_sampled": 3070702, "grad_time_ms": 9144.417, "sample_time_ms": 13252.627, "update_time_ms": 6.568, "default": {"vf_explained_var": 0.9652986526489258, "vf_loss": 13.440591812133789, "entropy": 1.113319993019104, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "total_loss": 13.436856269836426, "kl": 0.016543256118893623, "policy_loss": -0.004974788520485163}}, "time_this_iter_s": 22.800159692764282, "timesteps_since_restore": 3070702, "time_since_restore": 1636.2408056259155, "timestamp": 1557211951, "timesteps_this_iter": 42549, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ace48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668acda0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66865940>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-52-31", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 59.69263766425363}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1395.9983503857497, "node_ip": "10.138.0.2", "timesteps_total": 3113158, "iterations_since_restore": 72, "custom_metrics": {"cost1_max": 458.00968466861116, "cost1_min": 33.57087041468867, "cost2_max": -30.08085427105615, "system_level_velocity_mean": 14.674249457446624, "cost1_mean": 364.18538863717185, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 18.99039731731878, "system_level_velocity_min": 11.820890100197742, "outflow_rate_max": 1292.5446347547615, "cost2_mean": -176.36145238549298, "outflow_rate_mean": 1119.898312270779, "cost2_min": -224.70870248156035}, "training_iteration": 72, "episodes_total": 1096, "episode_len_mean": 666.7, "episode_reward_mean": 1196.9222815285857, "time_total_s": 1659.1248846054077, "pid": 32001, "info": {"num_steps_trained": 3113158, "load_time_ms": 11.71, "num_steps_sampled": 3113158, "grad_time_ms": 9258.822, "sample_time_ms": 13254.399, "update_time_ms": 6.435, "default": {"vf_explained_var": 0.977504312992096, "vf_loss": 7.806188583374023, "entropy": 1.1081422567367554, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "total_loss": 7.801051139831543, "kl": 0.01619235798716545, "policy_loss": -0.0063510616309940815}}, "time_this_iter_s": 22.884078979492188, "timesteps_since_restore": 3113158, "time_since_restore": 1659.1248846054077, "timestamp": 1557211974, "timesteps_this_iter": 42456, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bff28>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf908>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-52-54", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 59.69263766425363}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1402.4052297838289, "node_ip": "10.138.0.2", "timesteps_total": 3158229, "iterations_since_restore": 73, "custom_metrics": {"cost1_max": 458.00968466861116, "cost1_min": 84.94415445298442, "cost2_max": -54.53647219307447, "system_level_velocity_mean": 14.719539815388876, "cost1_mean": 368.30861274248105, "outflow_rate_min": 429.6919795330074, "system_level_velocity_max": 18.99039731731878, "system_level_velocity_min": 11.820890100197742, "outflow_rate_max": 1349.7289955249105, "cost2_mean": -180.102558985283, "outflow_rate_mean": 1127.4862784817133, "cost2_min": -224.70870248156035}, "training_iteration": 73, "episodes_total": 1111, "episode_len_mean": 670.4, "episode_reward_mean": 1208.8541046675944, "time_total_s": 1682.269811630249, "pid": 32001, "info": {"num_steps_trained": 3158229, "load_time_ms": 12.068, "num_steps_sampled": 3158229, "grad_time_ms": 9411.429, "sample_time_ms": 13237.7, "update_time_ms": 6.543, "default": {"vf_explained_var": 0.9677085876464844, "vf_loss": 11.39798641204834, "entropy": 1.112336277961731, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "total_loss": 11.393314361572266, "kl": 0.01568116433918476, "policy_loss": -0.005848004017025232}}, "time_this_iter_s": 23.14492702484131, "timesteps_since_restore": 3158229, "time_since_restore": 1682.269811630249, "timestamp": 1557211998, "timesteps_this_iter": 45071, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cee10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cea20>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-53-18", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 202.1551185924629}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1519.8540153993688, "node_ip": "10.138.0.2", "timesteps_total": 3203086, "iterations_since_restore": 74, "custom_metrics": {"cost1_max": 458.00968466861116, "cost1_min": 84.94415445298442, "cost2_max": -54.53647219307447, "system_level_velocity_mean": 14.767513513621985, "cost1_mean": 363.25283518838694, "outflow_rate_min": 429.6919795330074, "system_level_velocity_max": 18.99039731731878, "system_level_velocity_min": 11.708281994610106, "outflow_rate_max": 1357.1003325314855, "cost2_mean": -183.43171376323, "outflow_rate_mean": 1112.0060458281173, "cost2_min": -249.60207819497938}, "training_iteration": 74, "episodes_total": 1126, "episode_len_mean": 661.07, "episode_reward_mean": 1194.616445698162, "time_total_s": 1705.903014421463, "pid": 32001, "info": {"num_steps_trained": 3203086, "load_time_ms": 12.683, "num_steps_sampled": 3203086, "grad_time_ms": 9499.257, "sample_time_ms": 13254.655, "update_time_ms": 6.687, "default": {"vf_explained_var": 0.9690676331520081, "vf_loss": 10.68040943145752, "entropy": 1.1145986318588257, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "total_loss": 10.675910949707031, "kl": 0.016846390441060066, "policy_loss": -0.005762132350355387}}, "time_this_iter_s": 23.63320279121399, "timesteps_since_restore": 3203086, "time_since_restore": 1705.903014421463, "timestamp": 1557212021, "timesteps_this_iter": 44857, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfb70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bff28>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-53-41", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 202.1551185924629}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1519.8540153993688, "node_ip": "10.138.0.2", "timesteps_total": 3246122, "iterations_since_restore": 75, "custom_metrics": {"cost1_max": 458.00968466861116, "cost1_min": 142.65426360922277, "cost2_max": -83.59206093246121, "system_level_velocity_mean": 14.811541031597145, "cost1_mean": 370.2332072147204, "outflow_rate_min": 558.6181390714448, "system_level_velocity_max": 18.5602376995909, "system_level_velocity_min": 11.708281994610106, "outflow_rate_max": 1357.1003325314855, "cost2_mean": -189.5001261329678, "outflow_rate_mean": 1126.7896406372383, "cost2_min": -249.60207819497938}, "training_iteration": 75, "episodes_total": 1143, "episode_len_mean": 669.91, "episode_reward_mean": 1214.1390952726936, "time_total_s": 1729.5183954238892, "pid": 32001, "info": {"num_steps_trained": 3246122, "load_time_ms": 12.418, "num_steps_sampled": 3246122, "grad_time_ms": 9574.96, "sample_time_ms": 13272.605, "update_time_ms": 6.754, "default": {"vf_explained_var": 0.9771886467933655, "vf_loss": 8.415205001831055, "entropy": 1.130104422569275, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "total_loss": 8.41157054901123, "kl": 0.014409218914806843, "policy_loss": -0.004716725088655949}}, "time_this_iter_s": 23.615381002426147, "timesteps_since_restore": 3246122, "time_since_restore": 1729.5183954238892, "timestamp": 1557212045, "timesteps_this_iter": 43036, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cee10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cea20>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce470>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-54-05", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 375.610729394234}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1519.8540153993688, "node_ip": "10.138.0.2", "timesteps_total": 3289268, "iterations_since_restore": 76, "custom_metrics": {"cost1_max": 457.10704002635555, "cost1_min": 142.65426360922277, "cost2_max": -83.59206093246121, "system_level_velocity_mean": 14.873434312109318, "cost1_mean": 373.1073246670617, "outflow_rate_min": 558.6181390714448, "system_level_velocity_max": 18.5602376995909, "system_level_velocity_min": 11.708281994610106, "outflow_rate_max": 1363.10645609405, "cost2_mean": -192.42060517243672, "outflow_rate_mean": 1133.244226857829, "cost2_min": -249.60207819497938}, "training_iteration": 76, "episodes_total": 1158, "episode_len_mean": 672.42, "episode_reward_mean": 1222.337397088411, "time_total_s": 1752.4324612617493, "pid": 32001, "info": {"num_steps_trained": 3289268, "load_time_ms": 12.659, "num_steps_sampled": 3289268, "grad_time_ms": 9567.499, "sample_time_ms": 13245.131, "update_time_ms": 6.919, "default": {"vf_explained_var": 0.9821940064430237, "vf_loss": 7.28889274597168, "entropy": 1.1530728340148926, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "total_loss": 7.28320837020874, "kl": 0.01932491920888424, "policy_loss": -0.007134001702070236}}, "time_this_iter_s": 22.914065837860107, "timesteps_since_restore": 3289268, "time_since_restore": 1752.4324612617493, "timestamp": 1557212068, "timesteps_this_iter": 43146, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfcc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf6a0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-54-28", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 375.610729394234}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1519.8540153993688, "node_ip": "10.138.0.2", "timesteps_total": 3334129, "iterations_since_restore": 77, "custom_metrics": {"cost1_max": 454.5200883266696, "cost1_min": 90.06708446876749, "cost2_max": -60.781018219508596, "system_level_velocity_mean": 14.835732899969576, "cost1_mean": 370.48430601148823, "outflow_rate_min": 455.31236184860063, "system_level_velocity_max": 19.42875383040651, "system_level_velocity_min": 11.708281994610106, "outflow_rate_max": 1397.2890132517446, "cost2_mean": -193.75843735124238, "outflow_rate_mean": 1126.1404966051205, "cost2_min": -249.60207819497938}, "training_iteration": 77, "episodes_total": 1173, "episode_len_mean": 670.89, "episode_reward_mean": 1210.8089442788496, "time_total_s": 1776.4023804664612, "pid": 32001, "info": {"num_steps_trained": 3334129, "load_time_ms": 12.865, "num_steps_sampled": 3334129, "grad_time_ms": 9642.186, "sample_time_ms": 13183.095, "update_time_ms": 6.964, "default": {"vf_explained_var": 0.9820342063903809, "vf_loss": 7.038106918334961, "entropy": 1.1599236726760864, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "total_loss": 7.031970024108887, "kl": 0.015991101041436195, "policy_loss": -0.007336081936955452}}, "time_this_iter_s": 23.969919204711914, "timesteps_since_restore": 3334129, "time_since_restore": 1776.4023804664612, "timestamp": 1557212092, "timesteps_this_iter": 44861, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9860>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a20>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-54-52", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 213.42434407154414}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1519.8540153993688, "node_ip": "10.138.0.2", "timesteps_total": 3377534, "iterations_since_restore": 78, "custom_metrics": {"cost1_max": 454.5200883266696, "cost1_min": 90.06708446876749, "cost2_max": -60.781018219508596, "system_level_velocity_mean": 14.821114847365994, "cost1_mean": 373.9044445972329, "outflow_rate_min": 455.31236184860063, "system_level_velocity_max": 19.42875383040651, "system_level_velocity_min": 11.708281994610106, "outflow_rate_max": 1397.2890132517446, "cost2_mean": -194.92227435949098, "outflow_rate_mean": 1137.8997250825935, "cost2_min": -249.60207819497938}, "training_iteration": 78, "episodes_total": 1188, "episode_len_mean": 677.63, "episode_reward_mean": 1225.0092797655097, "time_total_s": 1798.7233130931854, "pid": 32001, "info": {"num_steps_trained": 3377534, "load_time_ms": 12.494, "num_steps_sampled": 3377534, "grad_time_ms": 9674.812, "sample_time_ms": 13222.085, "update_time_ms": 7.101, "default": {"vf_explained_var": 0.9827974438667297, "vf_loss": 6.870578765869141, "entropy": 1.1185524463653564, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "total_loss": 6.865083694458008, "kl": 0.016961151733994484, "policy_loss": -0.0067671542055904865}}, "time_this_iter_s": 22.320932626724243, "timesteps_since_restore": 3377534, "time_since_restore": 1798.7233130931854, "timestamp": 1557212114, "timesteps_this_iter": 43405, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfb70>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfe80>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-55-14", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 213.42434407154414}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1519.8540153993688, "node_ip": "10.138.0.2", "timesteps_total": 3420836, "iterations_since_restore": 79, "custom_metrics": {"cost1_max": 454.5200883266696, "cost1_min": 90.06708446876749, "cost2_max": -60.781018219508596, "system_level_velocity_mean": 14.906066167656295, "cost1_mean": 376.7526850701941, "outflow_rate_min": 455.31236184860063, "system_level_velocity_max": 19.42875383040651, "system_level_velocity_min": 11.694547255930484, "outflow_rate_max": 1397.2890132517446, "cost2_mean": -194.63877514098306, "outflow_rate_mean": 1145.7664997729403, "cost2_min": -249.60207819497938}, "training_iteration": 79, "episodes_total": 1206, "episode_len_mean": 679.76, "episode_reward_mean": 1227.2911091189537, "time_total_s": 1821.0669121742249, "pid": 32001, "info": {"num_steps_trained": 3420836, "load_time_ms": 13.202, "num_steps_sampled": 3420836, "grad_time_ms": 9719.86, "sample_time_ms": 13243.053, "update_time_ms": 7.196, "default": {"vf_explained_var": 0.9695872664451599, "vf_loss": 12.063458442687988, "entropy": 1.1254962682724, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "total_loss": 12.059460639953613, "kl": 0.020535388961434364, "policy_loss": -0.005538713186979294}}, "time_this_iter_s": 22.34359908103943, "timesteps_since_restore": 3420836, "time_since_restore": 1821.0669121742249, "timestamp": 1557212137, "timesteps_this_iter": 43302, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af96a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9898>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9198>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-55-37", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 213.42434407154414}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1465.1853926534716, "node_ip": "10.138.0.2", "timesteps_total": 3463218, "iterations_since_restore": 80, "custom_metrics": {"cost1_max": 473.2798249152215, "cost1_min": 90.06708446876749, "cost2_max": -60.781018219508596, "system_level_velocity_mean": 14.894452993777639, "cost1_mean": 375.6424626663676, "outflow_rate_min": 454.29000265643634, "system_level_velocity_max": 19.785974003022982, "system_level_velocity_min": 11.4599483901303, "outflow_rate_max": 1397.2890132517446, "cost2_mean": -193.54439161090613, "outflow_rate_mean": 1143.7351322525653, "cost2_min": -245.2575029264505}, "training_iteration": 80, "episodes_total": 1223, "episode_len_mean": 679.46, "episode_reward_mean": 1213.8031602637925, "time_total_s": 1844.0557124614716, "pid": 32001, "info": {"num_steps_trained": 3463218, "load_time_ms": 13.354, "num_steps_sampled": 3463218, "grad_time_ms": 9698.073, "sample_time_ms": 13269.247, "update_time_ms": 7.163, "default": {"vf_explained_var": 0.9779554009437561, "vf_loss": 10.145512580871582, "entropy": 1.183025598526001, "cur_kl_coeff": 0.11249999701976776, "cur_lr": 0.0005000000237487257, "total_loss": 10.140373229980469, "kl": 0.013895994052290916, "policy_loss": -0.006703079212456942}}, "time_this_iter_s": 22.988800287246704, "timesteps_since_restore": 3463218, "time_since_restore": 1844.0557124614716, "timestamp": 1557212160, "timesteps_this_iter": 42382, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfb70>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfe80>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-56-00", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 213.42434407154414}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1473.218520515552, "node_ip": "10.138.0.2", "timesteps_total": 3507377, "iterations_since_restore": 81, "custom_metrics": {"cost1_max": 473.2798249152215, "cost1_min": 29.00134549136621, "cost2_max": -30.47714081486757, "system_level_velocity_mean": 15.29683297138732, "cost1_mean": 362.09502790376524, "outflow_rate_min": 327.9201233089694, "system_level_velocity_max": 20.11181137025636, "system_level_velocity_min": 11.4599483901303, "outflow_rate_max": 1397.2890132517446, "cost2_mean": -185.1131956533884, "outflow_rate_mean": 1111.5511856821854, "cost2_min": -245.2575029264505}, "training_iteration": 81, "episodes_total": 1241, "episode_len_mean": 647.51, "episode_reward_mean": 1160.1146432100575, "time_total_s": 1868.912749528885, "pid": 32001, "info": {"num_steps_trained": 3507377, "load_time_ms": 13.671, "num_steps_sampled": 3507377, "grad_time_ms": 9720.607, "sample_time_ms": 13451.542, "update_time_ms": 7.127, "default": {"vf_explained_var": 0.9524979591369629, "vf_loss": 17.637847900390625, "entropy": 1.2077943086624146, "cur_kl_coeff": 0.11249998956918716, "cur_lr": 0.0005000000237487257, "total_loss": 17.632366180419922, "kl": 0.023599199950695038, "policy_loss": -0.008136946707963943}}, "time_this_iter_s": 24.85703706741333, "timesteps_since_restore": 3507377, "time_since_restore": 1868.912749528885, "timestamp": 1557212184, "timesteps_this_iter": 44159, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9438>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9198>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-56-24", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 53.276522507201456}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1473.218520515552, "node_ip": "10.138.0.2", "timesteps_total": 3551245, "iterations_since_restore": 82, "custom_metrics": {"cost1_max": 473.2798249152215, "cost1_min": 29.00134549136621, "cost2_max": -30.47714081486757, "system_level_velocity_mean": 15.344642179367115, "cost1_mean": 358.0423887858425, "outflow_rate_min": 327.9201233089694, "system_level_velocity_max": 20.237946353554804, "system_level_velocity_min": 11.4599483901303, "outflow_rate_max": 1397.2890132517446, "cost2_mean": -183.2266771770295, "outflow_rate_mean": 1100.3484048993685, "cost2_min": -221.3641284097457}, "training_iteration": 82, "episodes_total": 1255, "episode_len_mean": 641.57, "episode_reward_mean": 1142.8260997364537, "time_total_s": 1891.5762557983398, "pid": 32001, "info": {"num_steps_trained": 3551245, "load_time_ms": 13.733, "num_steps_sampled": 3551245, "grad_time_ms": 9714.877, "sample_time_ms": 13434.746, "update_time_ms": 7.191, "default": {"vf_explained_var": 0.9795361757278442, "vf_loss": 8.838236808776855, "entropy": 1.1935112476348877, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 8.833183288574219, "kl": 0.016147557646036148, "policy_loss": -0.007777712307870388}}, "time_this_iter_s": 22.663506269454956, "timesteps_since_restore": 3551245, "time_since_restore": 1891.5762557983398, "timestamp": 1557212207, "timesteps_this_iter": 43868, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac668>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac3c8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-56-47", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 53.276522507201456}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1473.218520515552, "node_ip": "10.138.0.2", "timesteps_total": 3593664, "iterations_since_restore": 83, "custom_metrics": {"cost1_max": 490.6514594864217, "cost1_min": 29.00134549136621, "cost2_max": -30.47714081486757, "system_level_velocity_mean": 15.464839480732554, "cost1_mean": 362.35878613383977, "outflow_rate_min": 327.9201233089694, "system_level_velocity_max": 20.237946353554804, "system_level_velocity_min": 11.4599483901303, "outflow_rate_max": 1391.6646046408332, "cost2_mean": -183.5110238727754, "outflow_rate_mean": 1110.9562869681251, "cost2_min": -221.3641284097457}, "training_iteration": 83, "episodes_total": 1274, "episode_len_mean": 643.6, "episode_reward_mean": 1146.4626375943653, "time_total_s": 1913.4770781993866, "pid": 32001, "info": {"num_steps_trained": 3593664, "load_time_ms": 13.378, "num_steps_sampled": 3593664, "grad_time_ms": 9620.046, "sample_time_ms": 13406.465, "update_time_ms": 7.109, "default": {"vf_explained_var": 0.9683969616889954, "vf_loss": 13.611124992370605, "entropy": 1.210787057876587, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 13.6066312789917, "kl": 0.014455524273216724, "policy_loss": -0.006932847201824188}}, "time_this_iter_s": 21.900822401046753, "timesteps_since_restore": 3593664, "time_since_restore": 1913.4770781993866, "timestamp": 1557212229, "timesteps_this_iter": 42419, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af91d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9780>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-57-09", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 53.276522507201456}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1473.218520515552, "node_ip": "10.138.0.2", "timesteps_total": 3635937, "iterations_since_restore": 84, "custom_metrics": {"cost1_max": 490.6514594864217, "cost1_min": 29.00134549136621, "cost2_max": -30.47714081486757, "system_level_velocity_mean": 15.785805408569217, "cost1_mean": 358.3088138676324, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.237946353554804, "system_level_velocity_min": 11.4599483901303, "outflow_rate_max": 1458.2605531183099, "cost2_mean": -180.9006702442318, "outflow_rate_mean": 1099.6152032853552, "cost2_min": -221.3641284097457}, "training_iteration": 84, "episodes_total": 1293, "episode_len_mean": 626.86, "episode_reward_mean": 1119.8334642024001, "time_total_s": 1935.8518331050873, "pid": 32001, "info": {"num_steps_trained": 3635937, "load_time_ms": 13.269, "num_steps_sampled": 3635937, "grad_time_ms": 9569.93, "sample_time_ms": 13332.484, "update_time_ms": 7.016, "default": {"vf_explained_var": 0.9614440202713013, "vf_loss": 17.605119705200195, "entropy": 1.2019140720367432, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 17.601484298706055, "kl": 0.012088811956346035, "policy_loss": -0.0056744590401649475}}, "time_this_iter_s": 22.374754905700684, "timesteps_since_restore": 3635937, "time_since_restore": 1935.8518331050873, "timestamp": 1557212251, "timesteps_this_iter": 42273, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bfe80>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-57-31", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 53.276522507201456}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1473.218520515552, "node_ip": "10.138.0.2", "timesteps_total": 3681248, "iterations_since_restore": 85, "custom_metrics": {"cost1_max": 490.6514594864217, "cost1_min": 29.00134549136621, "cost2_max": -30.47714081486757, "system_level_velocity_mean": 15.743910678205618, "cost1_mean": 359.8774864355418, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.237946353554804, "system_level_velocity_min": 11.4599483901303, "outflow_rate_max": 1458.2605531183099, "cost2_mean": -183.06885871449987, "outflow_rate_mean": 1102.1098206508548, "cost2_min": -264.8946443323472}, "training_iteration": 85, "episodes_total": 1307, "episode_len_mean": 631.37, "episode_reward_mean": 1125.5178744113553, "time_total_s": 1959.062715291977, "pid": 32001, "info": {"num_steps_trained": 3681248, "load_time_ms": 13.949, "num_steps_sampled": 3681248, "grad_time_ms": 9554.406, "sample_time_ms": 13306.006, "update_time_ms": 7.171, "default": {"vf_explained_var": 0.9753682613372803, "vf_loss": 9.726790428161621, "entropy": 1.2248586416244507, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 9.72285270690918, "kl": 0.01161201111972332, "policy_loss": -0.005897533614188433}}, "time_this_iter_s": 23.21088218688965, "timesteps_since_restore": 3681248, "time_since_restore": 1959.062715291977, "timestamp": 1557212275, "timesteps_this_iter": 45311, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9080>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668d1390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-57-55", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 53.276522507201456}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1486.0552974024342, "node_ip": "10.138.0.2", "timesteps_total": 3725975, "iterations_since_restore": 86, "custom_metrics": {"cost1_max": 490.6514594864217, "cost1_min": 29.00134549136621, "cost2_max": -30.47714081486757, "system_level_velocity_mean": 15.779959196542086, "cost1_mean": 367.4285727357907, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.237946353554804, "system_level_velocity_min": 11.972582898272357, "outflow_rate_max": 1470.5564038057043, "cost2_mean": -187.1281677583758, "outflow_rate_mean": 1119.9028376006559, "cost2_min": -264.8946443323472}, "training_iteration": 86, "episodes_total": 1321, "episode_len_mean": 641.0, "episode_reward_mean": 1154.6473234738419, "time_total_s": 1981.5671741962433, "pid": 32001, "info": {"num_steps_trained": 3725975, "load_time_ms": 14.112, "num_steps_sampled": 3725975, "grad_time_ms": 9568.965, "sample_time_ms": 13250.686, "update_time_ms": 7.039, "default": {"vf_explained_var": 0.9790086150169373, "vf_loss": 8.941904067993164, "entropy": 1.203702688217163, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 8.937798500061035, "kl": 0.013305407017469406, "policy_loss": -0.006351239513605833}}, "time_this_iter_s": 22.504458904266357, "timesteps_since_restore": 3725975, "time_since_restore": 1981.5671741962433, "timestamp": 1557212297, "timesteps_this_iter": 44727, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad91d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9ba8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-58-17", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 53.276522507201456}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1568.610818687412, "node_ip": "10.138.0.2", "timesteps_total": 3768765, "iterations_since_restore": 87, "custom_metrics": {"cost1_max": 490.6514594864217, "cost1_min": 29.00134549136621, "cost2_max": -31.182876059118083, "system_level_velocity_mean": 15.524255375319122, "cost1_mean": 378.8901994047661, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.237946353554804, "system_level_velocity_min": 11.972582898272357, "outflow_rate_max": 1470.5564038057043, "cost2_mean": -194.72496508978386, "outflow_rate_mean": 1149.1420236804704, "cost2_min": -264.8946443323472}, "training_iteration": 87, "episodes_total": 1336, "episode_len_mean": 666.38, "episode_reward_mean": 1202.9663073504842, "time_total_s": 2004.5711011886597, "pid": 32001, "info": {"num_steps_trained": 3768765, "load_time_ms": 14.062, "num_steps_sampled": 3768765, "grad_time_ms": 9505.076, "sample_time_ms": 13218.411, "update_time_ms": 6.996, "default": {"vf_explained_var": 0.9818845987319946, "vf_loss": 7.942282676696777, "entropy": 1.1929726600646973, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 7.937638759613037, "kl": 0.013347364030778408, "policy_loss": -0.006896276026964188}}, "time_this_iter_s": 23.003926992416382, "timesteps_since_restore": 3768765, "time_since_restore": 2004.5711011886597, "timestamp": 1557212320, "timesteps_this_iter": 42790, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af96a0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9908>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-58-40", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 53.276522507201456}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1568.610818687412, "node_ip": "10.138.0.2", "timesteps_total": 3812971, "iterations_since_restore": 88, "custom_metrics": {"cost1_max": 490.6514594864217, "cost1_min": 34.00595185950334, "cost2_max": -36.512335467751335, "system_level_velocity_mean": 15.666258761850155, "cost1_mean": 383.1042981442933, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.237946353554804, "system_level_velocity_min": 11.972582898272357, "outflow_rate_max": 1470.5564038057043, "cost2_mean": -195.75782359010176, "outflow_rate_mean": 1159.1680289358176, "cost2_min": -264.8946443323472}, "training_iteration": 88, "episodes_total": 1353, "episode_len_mean": 667.22, "episode_reward_mean": 1204.6833692572147, "time_total_s": 2027.081046819687, "pid": 32001, "info": {"num_steps_trained": 3812971, "load_time_ms": 14.728, "num_steps_sampled": 3812971, "grad_time_ms": 9503.96, "sample_time_ms": 13238.674, "update_time_ms": 6.903, "default": {"vf_explained_var": 0.972353994846344, "vf_loss": 11.283211708068848, "entropy": 1.2546759843826294, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 11.27977466583252, "kl": 0.013930657878518105, "policy_loss": -0.005788540001958609}}, "time_this_iter_s": 22.50994563102722, "timesteps_since_restore": 3812971, "time_since_restore": 2027.081046819687, "timestamp": 1557212343, "timesteps_this_iter": 44206, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9198>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad91d0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-59-03", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 59.35979956846416}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1568.610818687412, "node_ip": "10.138.0.2", "timesteps_total": 3854166, "iterations_since_restore": 89, "custom_metrics": {"cost1_max": 490.4222894515568, "cost1_min": 33.53253495405474, "cost2_max": -35.36956381106761, "system_level_velocity_mean": 15.59767858001838, "cost1_mean": 373.37766124867267, "outflow_rate_min": 325.38406599605145, "system_level_velocity_max": 19.93196525796058, "system_level_velocity_min": 11.972582898272357, "outflow_rate_max": 1472.7085314875417, "cost2_mean": -195.1769167913747, "outflow_rate_mean": 1135.8885454932843, "cost2_min": -264.8946443323472}, "training_iteration": 89, "episodes_total": 1375, "episode_len_mean": 656.68, "episode_reward_mean": 1177.4022751236812, "time_total_s": 2050.4879841804504, "pid": 32001, "info": {"num_steps_trained": 3854166, "load_time_ms": 14.826, "num_steps_sampled": 3854166, "grad_time_ms": 9462.759, "sample_time_ms": 13386.437, "update_time_ms": 6.918, "default": {"vf_explained_var": 0.955498993396759, "vf_loss": 20.247772216796875, "entropy": 1.2445608377456665, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 20.244176864624023, "kl": 0.0148111367598176, "policy_loss": -0.006093022413551807}}, "time_this_iter_s": 23.40693736076355, "timesteps_since_restore": 3854166, "time_since_restore": 2050.4879841804504, "timestamp": 1557212366, "timesteps_this_iter": 41195, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9908>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9208>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-59-26", "hostname": "flow-main", "episodes_this_iter": 22, "episode_reward_min": 59.35979956846416}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1581.55658733511, "node_ip": "10.138.0.2", "timesteps_total": 3898609, "iterations_since_restore": 90, "custom_metrics": {"cost1_max": 490.4222894515568, "cost1_min": 33.53253495405474, "cost2_max": -35.36956381106761, "system_level_velocity_mean": 15.502433013141522, "cost1_mean": 373.92960189968426, "outflow_rate_min": 325.38406599605145, "system_level_velocity_max": 19.93196525796058, "system_level_velocity_min": 12.25465970121817, "outflow_rate_max": 1472.7085314875417, "cost2_mean": -196.90897253838065, "outflow_rate_mean": 1136.826257243089, "cost2_min": -264.8946443323472}, "training_iteration": 90, "episodes_total": 1390, "episode_len_mean": 661.05, "episode_reward_mean": 1185.4193739220295, "time_total_s": 2072.83003616333, "pid": 32001, "info": {"num_steps_trained": 3898609, "load_time_ms": 14.701, "num_steps_sampled": 3898609, "grad_time_ms": 9485.291, "sample_time_ms": 13298.888, "update_time_ms": 6.963, "default": {"vf_explained_var": 0.9721029996871948, "vf_loss": 10.583647727966309, "entropy": 1.2201673984527588, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 10.580988883972168, "kl": 0.013370541855692863, "policy_loss": -0.004916444420814514}}, "time_this_iter_s": 22.34205198287964, "timesteps_since_restore": 3898609, "time_since_restore": 2072.83003616333, "timestamp": 1557212389, "timesteps_this_iter": 44443, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b139e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cd048>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf7b8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_06-59-49", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 66.3529631596817}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1581.55658733511, "node_ip": "10.138.0.2", "timesteps_total": 3941881, "iterations_since_restore": 91, "custom_metrics": {"cost1_max": 492.53745790301514, "cost1_min": 33.53253495405474, "cost2_max": -35.36956381106761, "system_level_velocity_mean": 15.582421201972563, "cost1_mean": 373.9929981592655, "outflow_rate_min": 325.38406599605145, "system_level_velocity_max": 19.93196525796058, "system_level_velocity_min": 12.25465970121817, "outflow_rate_max": 1472.7085314875417, "cost2_mean": -195.5858187111896, "outflow_rate_mean": 1133.5694862762855, "cost2_min": -256.9423519878294}, "training_iteration": 91, "episodes_total": 1404, "episode_len_mean": 658.33, "episode_reward_mean": 1182.5694981740107, "time_total_s": 2095.283449411392, "pid": 32001, "info": {"num_steps_trained": 3941881, "load_time_ms": 14.049, "num_steps_sampled": 3941881, "grad_time_ms": 9450.513, "sample_time_ms": 13094.156, "update_time_ms": 6.946, "default": {"vf_explained_var": 0.9755903482437134, "vf_loss": 10.641449928283691, "entropy": 1.1830518245697021, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 10.638458251953125, "kl": 0.012616787105798721, "policy_loss": -0.005120672285556793}}, "time_this_iter_s": 22.453413248062134, "timesteps_since_restore": 3941881, "time_since_restore": 2095.283449411392, "timestamp": 1557212411, "timesteps_this_iter": 43272, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9208>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-00-11", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 66.3529631596817}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1581.55658733511, "node_ip": "10.138.0.2", "timesteps_total": 3985430, "iterations_since_restore": 92, "custom_metrics": {"cost1_max": 492.53745790301514, "cost1_min": 29.233468810396854, "cost2_max": -31.12542290336621, "system_level_velocity_mean": 15.686212233847078, "cost1_mean": 362.97749778428863, "outflow_rate_min": 325.38406599605145, "system_level_velocity_max": 20.061555934424113, "system_level_velocity_min": 12.25465970121817, "outflow_rate_max": 1472.7085314875417, "cost2_mean": -190.19704197522734, "outflow_rate_mean": 1106.331451486151, "cost2_min": -244.65690351852234}, "training_iteration": 92, "episodes_total": 1422, "episode_len_mean": 640.21, "episode_reward_mean": 1140.1458496889943, "time_total_s": 2117.727851867676, "pid": 32001, "info": {"num_steps_trained": 3985430, "load_time_ms": 13.387, "num_steps_sampled": 3985430, "grad_time_ms": 9465.489, "sample_time_ms": 13058.906, "update_time_ms": 6.834, "default": {"vf_explained_var": 0.9682506918907166, "vf_loss": 13.867525100708008, "entropy": 1.1954834461212158, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 13.863792419433594, "kl": 0.01249471865594387, "policy_loss": -0.005838888697326183}}, "time_this_iter_s": 22.44440245628357, "timesteps_since_restore": 3985430, "time_since_restore": 2117.727851867676, "timestamp": 1557212433, "timesteps_this_iter": 43549, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b134e0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-00-33", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 54.42429508114514}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1581.55658733511, "node_ip": "10.138.0.2", "timesteps_total": 4029013, "iterations_since_restore": 93, "custom_metrics": {"cost1_max": 492.53745790301514, "cost1_min": 29.233468810396854, "cost2_max": -31.12542290336621, "system_level_velocity_mean": 15.672438182644695, "cost1_mean": 358.15047387845357, "outflow_rate_min": 325.38406599605145, "system_level_velocity_max": 20.061555934424113, "system_level_velocity_min": 12.162875797189876, "outflow_rate_max": 1472.7085314875417, "cost2_mean": -188.32140368049903, "outflow_rate_mean": 1093.316461194191, "cost2_min": -244.65690351852234}, "training_iteration": 93, "episodes_total": 1439, "episode_len_mean": 634.26, "episode_reward_mean": 1120.198443308159, "time_total_s": 2139.5922133922577, "pid": 32001, "info": {"num_steps_trained": 4029013, "load_time_ms": 13.051, "num_steps_sampled": 4029013, "grad_time_ms": 9514.26, "sample_time_ms": 13006.005, "update_time_ms": 6.851, "default": {"vf_explained_var": 0.9713587164878845, "vf_loss": 11.6602783203125, "entropy": 1.1992591619491577, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 11.656771659851074, "kl": 0.012888835743069649, "policy_loss": -0.005682376213371754}}, "time_this_iter_s": 21.86436152458191, "timesteps_since_restore": 4029013, "time_since_restore": 2139.5922133922577, "timestamp": 1557212455, "timesteps_this_iter": 43583, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f60>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-00-55", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 51.110910704463116}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1581.55658733511, "node_ip": "10.138.0.2", "timesteps_total": 4071982, "iterations_since_restore": 94, "custom_metrics": {"cost1_max": 495.90960986246967, "cost1_min": 29.233468810396854, "cost2_max": -31.12542290336621, "system_level_velocity_mean": 15.718195367008184, "cost1_mean": 352.1425261645856, "outflow_rate_min": 325.38406599605145, "system_level_velocity_max": 20.061555934424113, "system_level_velocity_min": 12.162875797189876, "outflow_rate_max": 1472.7085314875417, "cost2_mean": -186.4985892507818, "outflow_rate_mean": 1079.3633262937008, "cost2_min": -244.65690351852234}, "training_iteration": 94, "episodes_total": 1455, "episode_len_mean": 624.34, "episode_reward_mean": 1103.0565611769355, "time_total_s": 2161.9254422187805, "pid": 32001, "info": {"num_steps_trained": 4071982, "load_time_ms": 13.213, "num_steps_sampled": 4071982, "grad_time_ms": 9523.749, "sample_time_ms": 12990.965, "update_time_ms": 6.835, "default": {"vf_explained_var": 0.9696706533432007, "vf_loss": 12.976515769958496, "entropy": 1.2163931131362915, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 12.97251033782959, "kl": 0.014242061413824558, "policy_loss": -0.006409157533198595}}, "time_this_iter_s": 22.333228826522827, "timesteps_since_restore": 4071982, "time_since_restore": 2161.9254422187805, "timestamp": 1557212478, "timesteps_this_iter": 42969, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b134e0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13518>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-01-18", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 51.110910704463116}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1581.55658733511, "node_ip": "10.138.0.2", "timesteps_total": 4114327, "iterations_since_restore": 95, "custom_metrics": {"cost1_max": 495.90960986246967, "cost1_min": 29.233468810396854, "cost2_max": -31.12542290336621, "system_level_velocity_mean": 15.83517995496924, "cost1_mean": 350.0707637922749, "outflow_rate_min": 319.6844307164947, "system_level_velocity_max": 20.061555934424113, "system_level_velocity_min": 12.162875797189876, "outflow_rate_max": 1442.1108342954917, "cost2_mean": -183.43332449865704, "outflow_rate_mean": 1074.1255451292216, "cost2_min": -239.58029639348615}, "training_iteration": 95, "episodes_total": 1477, "episode_len_mean": 616.53, "episode_reward_mean": 1093.2819222245255, "time_total_s": 2183.860887527466, "pid": 32001, "info": {"num_steps_trained": 4114327, "load_time_ms": 12.902, "num_steps_sampled": 4114327, "grad_time_ms": 9407.21, "sample_time_ms": 12982.005, "update_time_ms": 6.611, "default": {"vf_explained_var": 0.9538007974624634, "vf_loss": 19.629976272583008, "entropy": 1.2246348857879639, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 19.62638282775879, "kl": 0.016194505617022514, "policy_loss": -0.006327043287456036}}, "time_this_iter_s": 21.935445308685303, "timesteps_since_restore": 4114327, "time_since_restore": 2183.860887527466, "timestamp": 1557212500, "timesteps_this_iter": 42345, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-01-40", "hostname": "flow-main", "episodes_this_iter": 22, "episode_reward_min": 51.110910704463116}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1539.7017093086406, "node_ip": "10.138.0.2", "timesteps_total": 4160545, "iterations_since_restore": 96, "custom_metrics": {"cost1_max": 495.90960986246967, "cost1_min": 29.233468810396854, "cost2_max": -31.12542290336621, "system_level_velocity_mean": 15.769317280733269, "cost1_mean": 352.46686362731714, "outflow_rate_min": 319.6844307164947, "system_level_velocity_max": 20.061555934424113, "system_level_velocity_min": 12.162875797189876, "outflow_rate_max": 1433.276257333898, "cost2_mean": -183.6218082354887, "outflow_rate_mean": 1080.2973161916743, "cost2_min": -240.038883873094}, "training_iteration": 96, "episodes_total": 1487, "episode_len_mean": 622.0, "episode_reward_mean": 1103.6828045534735, "time_total_s": 2207.48193526268, "pid": 32001, "info": {"num_steps_trained": 4160545, "load_time_ms": 12.558, "num_steps_sampled": 4160545, "grad_time_ms": 9442.956, "sample_time_ms": 13059.512, "update_time_ms": 6.6, "default": {"vf_explained_var": 0.9788910746574402, "vf_loss": 7.121269702911377, "entropy": 1.1992812156677246, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 7.117440223693848, "kl": 0.012990044429898262, "policy_loss": -0.006021616514772177}}, "time_this_iter_s": 23.621047735214233, "timesteps_since_restore": 4160545, "time_since_restore": 2207.48193526268, "timestamp": 1557212523, "timesteps_this_iter": 46218, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b136a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13518>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13710>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-02-03", "hostname": "flow-main", "episodes_this_iter": 10, "episode_reward_min": 51.110910704463116}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1539.7017093086406, "node_ip": "10.138.0.2", "timesteps_total": 4204794, "iterations_since_restore": 97, "custom_metrics": {"cost1_max": 495.90960986246967, "cost1_min": 29.233468810396854, "cost2_max": -31.12542290336621, "system_level_velocity_mean": 15.557867673285465, "cost1_mean": 349.27171758028527, "outflow_rate_min": 319.6844307164947, "system_level_velocity_max": 20.061555934424113, "system_level_velocity_min": 11.454723400453123, "outflow_rate_max": 1433.276257333898, "cost2_mean": -184.28632053345285, "outflow_rate_mean": 1078.5871207706869, "cost2_min": -240.038883873094}, "training_iteration": 97, "episodes_total": 1504, "episode_len_mean": 624.53, "episode_reward_mean": 1101.5084304642048, "time_total_s": 2229.8087570667267, "pid": 32001, "info": {"num_steps_trained": 4204794, "load_time_ms": 12.588, "num_steps_sampled": 4204794, "grad_time_ms": 9459.443, "sample_time_ms": 12975.434, "update_time_ms": 6.418, "default": {"vf_explained_var": 0.9792623519897461, "vf_loss": 8.606490135192871, "entropy": 1.2039085626602173, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 8.601080894470215, "kl": 0.014435088261961937, "policy_loss": -0.007844045758247375}}, "time_this_iter_s": 22.32682180404663, "timesteps_since_restore": 4204794, "time_since_restore": 2229.8087570667267, "timestamp": 1557212546, "timesteps_this_iter": 44249, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a58>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-02-26", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 51.110910704463116}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1539.7017093086406, "node_ip": "10.138.0.2", "timesteps_total": 4247389, "iterations_since_restore": 98, "custom_metrics": {"cost1_max": 499.88430146255973, "cost1_min": 29.483731672606954, "cost2_max": -31.665109772666955, "system_level_velocity_mean": 15.427847849912872, "cost1_mean": 357.95454240710984, "outflow_rate_min": 319.6844307164947, "system_level_velocity_max": 20.030481059843176, "system_level_velocity_min": 11.454723400453123, "outflow_rate_max": 1433.276257333898, "cost2_mean": -187.01876789158726, "outflow_rate_mean": 1097.7995444953663, "cost2_min": -240.038883873094}, "training_iteration": 98, "episodes_total": 1521, "episode_len_mean": 640.13, "episode_reward_mean": 1132.0637489542914, "time_total_s": 2252.0385909080505, "pid": 32001, "info": {"num_steps_trained": 4247389, "load_time_ms": 12.342, "num_steps_sampled": 4247389, "grad_time_ms": 9417.06, "sample_time_ms": 12989.562, "update_time_ms": 6.405, "default": {"vf_explained_var": 0.9792147874832153, "vf_loss": 9.12533950805664, "entropy": 1.185411810874939, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 9.121274948120117, "kl": 0.01375596597790718, "policy_loss": -0.006385200656950474}}, "time_this_iter_s": 22.229833841323853, "timesteps_since_restore": 4247389, "time_since_restore": 2252.0385909080505, "timestamp": 1557212568, "timesteps_this_iter": 42595, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13710>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13ba8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-02-48", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 51.110910704463116}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1539.7017093086406, "node_ip": "10.138.0.2", "timesteps_total": 4291190, "iterations_since_restore": 99, "custom_metrics": {"cost1_max": 499.88430146255973, "cost1_min": 29.483731672606954, "cost2_max": -31.665109772666955, "system_level_velocity_mean": 15.412060695283564, "cost1_mean": 357.54587400887897, "outflow_rate_min": 319.6844307164947, "system_level_velocity_max": 20.030481059843176, "system_level_velocity_min": 11.454723400453123, "outflow_rate_max": 1433.276257333898, "cost2_mean": -186.176506562912, "outflow_rate_mean": 1095.4984308863643, "cost2_min": -240.038883873094}, "training_iteration": 99, "episodes_total": 1535, "episode_len_mean": 639.5, "episode_reward_mean": 1132.588055872359, "time_total_s": 2274.160243034363, "pid": 32001, "info": {"num_steps_trained": 4291190, "load_time_ms": 12.192, "num_steps_sampled": 4291190, "grad_time_ms": 9445.811, "sample_time_ms": 12832.402, "update_time_ms": 6.363, "default": {"vf_explained_var": 0.9803929924964905, "vf_loss": 8.202482223510742, "entropy": 1.2098079919815063, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 8.199350357055664, "kl": 0.013986829668283463, "policy_loss": -0.005491352640092373}}, "time_this_iter_s": 22.121652126312256, "timesteps_since_restore": 4291190, "time_since_restore": 2274.160243034363, "timestamp": 1557212590, "timesteps_this_iter": 43801, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9780>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9dd8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-03-10", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 51.110910704463116}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1539.7017093086406, "node_ip": "10.138.0.2", "timesteps_total": 4333575, "iterations_since_restore": 100, "custom_metrics": {"cost1_max": 499.88430146255973, "cost1_min": 32.31989392521929, "cost2_max": -34.27548416753857, "system_level_velocity_mean": 15.318130655368376, "cost1_mean": 360.72499958336795, "outflow_rate_min": 319.6844307164947, "system_level_velocity_max": 19.906662670937163, "system_level_velocity_min": 11.091931448070001, "outflow_rate_max": 1433.276257333898, "cost2_mean": -186.25989264308268, "outflow_rate_mean": 1103.0885445164129, "cost2_min": -240.038883873094}, "training_iteration": 100, "episodes_total": 1553, "episode_len_mean": 646.73, "episode_reward_mean": 1144.549677702347, "time_total_s": 2296.158132791519, "pid": 32001, "info": {"num_steps_trained": 4333575, "load_time_ms": 12.005, "num_steps_sampled": 4333575, "grad_time_ms": 9420.686, "sample_time_ms": 12823.875, "update_time_ms": 6.257, "default": {"vf_explained_var": 0.9760369658470154, "vf_loss": 11.015721321105957, "entropy": 1.1524556875228882, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 11.011786460876465, "kl": 0.015928857028484344, "policy_loss": -0.006622853223234415}}, "time_this_iter_s": 21.997889757156372, "timesteps_since_restore": 4333575, "time_since_restore": 2296.158132791519, "timestamp": 1557212612, "timesteps_this_iter": 42385, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bff28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf940>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf2b0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-03-32", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 53.91957555697465}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1589.0989442391021, "node_ip": "10.138.0.2", "timesteps_total": 4377763, "iterations_since_restore": 101, "custom_metrics": {"cost1_max": 499.88430146255973, "cost1_min": 32.31989392521929, "cost2_max": -34.27548416753857, "system_level_velocity_mean": 15.187189481455116, "cost1_mean": 368.3625799046076, "outflow_rate_min": 327.90164231085646, "system_level_velocity_max": 19.957392522371638, "system_level_velocity_min": 11.091931448070001, "outflow_rate_max": 1433.276257333898, "cost2_mean": -189.76570309400796, "outflow_rate_mean": 1121.0629853948565, "cost2_min": -240.038883873094}, "training_iteration": 101, "episodes_total": 1568, "episode_len_mean": 662.88, "episode_reward_mean": 1179.435908198782, "time_total_s": 2318.203779935837, "pid": 32001, "info": {"num_steps_trained": 4377763, "load_time_ms": 12.661, "num_steps_sampled": 4377763, "grad_time_ms": 9402.555, "sample_time_ms": 12800.433, "update_time_ms": 6.198, "default": {"vf_explained_var": 0.9773790240287781, "vf_loss": 8.933731079101562, "entropy": 1.2132668495178223, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 8.929940223693848, "kl": 0.01354412641376257, "policy_loss": -0.006076200399547815}}, "time_this_iter_s": 22.045647144317627, "timesteps_since_restore": 4377763, "time_since_restore": 2318.203779935837, "timestamp": 1557212634, "timesteps_this_iter": 44188, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad99b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad93c8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-03-54", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 53.91957555697465}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1589.0989442391021, "node_ip": "10.138.0.2", "timesteps_total": 4421829, "iterations_since_restore": 102, "custom_metrics": {"cost1_max": 499.88430146255973, "cost1_min": 86.05278446604962, "cost2_max": -63.19170960848899, "system_level_velocity_mean": 15.212672926319385, "cost1_mean": 376.0350897903038, "outflow_rate_min": 422.35725982887334, "system_level_velocity_max": 19.957392522371638, "system_level_velocity_min": 11.091931448070001, "outflow_rate_max": 1422.4759893522676, "cost2_mean": -193.3436786046586, "outflow_rate_mean": 1139.8234452274608, "cost2_min": -237.41293147077425}, "training_iteration": 102, "episodes_total": 1584, "episode_len_mean": 672.81, "episode_reward_mean": 1207.30961826102, "time_total_s": 2340.7904205322266, "pid": 32001, "info": {"num_steps_trained": 4421829, "load_time_ms": 13.282, "num_steps_sampled": 4421829, "grad_time_ms": 9398.935, "sample_time_ms": 12816.82, "update_time_ms": 6.256, "default": {"vf_explained_var": 0.9833890199661255, "vf_loss": 6.765774250030518, "entropy": 1.1891674995422363, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 6.7620344161987305, "kl": 0.012640989385545254, "policy_loss": -0.005872283596545458}}, "time_this_iter_s": 22.58664059638977, "timesteps_since_restore": 4421829, "time_since_restore": 2340.7904205322266, "timestamp": 1557212657, "timesteps_this_iter": 44066, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b139e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13e48>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13d30>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-04-17", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 191.12850754910843}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1589.0989442391021, "node_ip": "10.138.0.2", "timesteps_total": 4465691, "iterations_since_restore": 103, "custom_metrics": {"cost1_max": 499.88430146255973, "cost1_min": 88.40450886872986, "cost2_max": -66.6473363613716, "system_level_velocity_mean": 15.209285130711299, "cost1_mean": 377.4800032513376, "outflow_rate_min": 422.35725982887334, "system_level_velocity_max": 19.957392522371638, "system_level_velocity_min": 11.091931448070001, "outflow_rate_max": 1410.3634655398298, "cost2_mean": -195.1627125021869, "outflow_rate_mean": 1140.8445429627866, "cost2_min": -237.41293147077425}, "training_iteration": 103, "episodes_total": 1600, "episode_len_mean": 675.34, "episode_reward_mean": 1209.5958092942224, "time_total_s": 2365.2684576511383, "pid": 32001, "info": {"num_steps_trained": 4465691, "load_time_ms": 13.857, "num_steps_sampled": 4465691, "grad_time_ms": 9433.876, "sample_time_ms": 13042.087, "update_time_ms": 6.334, "default": {"vf_explained_var": 0.9817020297050476, "vf_loss": 7.753783702850342, "entropy": 1.2180445194244385, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 7.748789310455322, "kl": 0.01385630201548338, "policy_loss": -0.007331761531531811}}, "time_this_iter_s": 24.478037118911743, "timesteps_since_restore": 4465691, "time_since_restore": 2365.2684576511383, "timestamp": 1557212681, "timesteps_this_iter": 43862, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9080>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-04-41", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 207.5733993553974}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1603.8232508930926, "node_ip": "10.138.0.2", "timesteps_total": 4509983, "iterations_since_restore": 104, "custom_metrics": {"cost1_max": 485.52356955414075, "cost1_min": 88.40450886872986, "cost2_max": -66.6473363613716, "system_level_velocity_mean": 15.228998927024536, "cost1_mean": 374.832539146485, "outflow_rate_min": 422.35725982887334, "system_level_velocity_max": 19.957392522371638, "system_level_velocity_min": 11.091931448070001, "outflow_rate_max": 1472.5142152520348, "cost2_mean": -194.86060297965872, "outflow_rate_mean": 1135.9144613504388, "cost2_min": -237.41293147077425}, "training_iteration": 104, "episodes_total": 1612, "episode_len_mean": 672.22, "episode_reward_mean": 1199.960833025469, "time_total_s": 2388.441433906555, "pid": 32001, "info": {"num_steps_trained": 4509983, "load_time_ms": 13.197, "num_steps_sampled": 4509983, "grad_time_ms": 9449.989, "sample_time_ms": 13110.241, "update_time_ms": 6.367, "default": {"vf_explained_var": 0.9792801737785339, "vf_loss": 8.549114227294922, "entropy": 1.2078099250793457, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 8.544665336608887, "kl": 0.014163576997816563, "policy_loss": -0.006839632987976074}}, "time_this_iter_s": 23.17297625541687, "timesteps_since_restore": 4509983, "time_since_restore": 2388.441433906555, "timestamp": 1557212704, "timesteps_this_iter": 44292, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad96d8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cea20>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-05-04", "hostname": "flow-main", "episodes_this_iter": 12, "episode_reward_min": 207.5733993553974}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1603.8232508930926, "node_ip": "10.138.0.2", "timesteps_total": 4553039, "iterations_since_restore": 105, "custom_metrics": {"cost1_max": 485.52356955414075, "cost1_min": 96.81073470902658, "cost2_max": -70.86604399692473, "system_level_velocity_mean": 15.350525582965732, "cost1_mean": 374.7681478105245, "outflow_rate_min": 447.2974062036104, "system_level_velocity_max": 19.957392522371638, "system_level_velocity_min": 10.552633781756766, "outflow_rate_max": 1472.5142152520348, "cost2_mean": -195.3747328978431, "outflow_rate_mean": 1138.1672567431551, "cost2_min": -242.23347832906842}, "training_iteration": 105, "episodes_total": 1630, "episode_len_mean": 669.12, "episode_reward_mean": 1193.2277773426022, "time_total_s": 2410.7293105125427, "pid": 32001, "info": {"num_steps_trained": 4553039, "load_time_ms": 13.312, "num_steps_sampled": 4553039, "grad_time_ms": 9472.85, "sample_time_ms": 13120.73, "update_time_ms": 6.398, "default": {"vf_explained_var": 0.9701501131057739, "vf_loss": 13.312952995300293, "entropy": 1.2018773555755615, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 13.308363914489746, "kl": 0.01420604344457388, "policy_loss": -0.006988210137933493}}, "time_this_iter_s": 22.28787660598755, "timesteps_since_restore": 4553039, "time_since_restore": 2410.7293105125427, "timestamp": 1557212727, "timesteps_this_iter": 43056, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad99b0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-05-27", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 235.04829126538053}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1603.8232508930926, "node_ip": "10.138.0.2", "timesteps_total": 4595131, "iterations_since_restore": 106, "custom_metrics": {"cost1_max": 497.7580954424256, "cost1_min": 96.81073470902658, "cost2_max": -70.86604399692473, "system_level_velocity_mean": 15.362595433715317, "cost1_mean": 366.03397216119663, "outflow_rate_min": 447.2974062036104, "system_level_velocity_max": 19.984991427799137, "system_level_velocity_min": 10.552633781756766, "outflow_rate_max": 1472.5142152520348, "cost2_mean": -194.80031164728928, "outflow_rate_mean": 1118.0226385922936, "cost2_min": -242.23347832906842}, "training_iteration": 106, "episodes_total": 1648, "episode_len_mean": 658.53, "episode_reward_mean": 1163.5026890503352, "time_total_s": 2433.4175589084625, "pid": 32001, "info": {"num_steps_trained": 4595131, "load_time_ms": 13.523, "num_steps_sampled": 4595131, "grad_time_ms": 9351.852, "sample_time_ms": 13146.71, "update_time_ms": 6.469, "default": {"vf_explained_var": 0.9747536778450012, "vf_loss": 12.415874481201172, "entropy": 1.205048680305481, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 12.41106128692627, "kl": 0.012895255349576473, "policy_loss": -0.006988832727074623}}, "time_this_iter_s": 22.6882483959198, "timesteps_since_restore": 4595131, "time_since_restore": 2433.4175589084625, "timestamp": 1557212750, "timesteps_this_iter": 42092, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ceb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ce470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cef28>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-05-50", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 235.04829126538053}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1608.5404845181308, "node_ip": "10.138.0.2", "timesteps_total": 4639679, "iterations_since_restore": 107, "custom_metrics": {"cost1_max": 497.7580954424256, "cost1_min": 86.05048444187074, "cost2_max": -70.48757239475702, "system_level_velocity_mean": 15.542859403727027, "cost1_mean": 362.2240349762227, "outflow_rate_min": 439.9574620558149, "system_level_velocity_max": 20.311675852425832, "system_level_velocity_min": 10.552633781756766, "outflow_rate_max": 1472.5142152520348, "cost2_mean": -193.04709424421335, "outflow_rate_mean": 1107.7465870575932, "cost2_min": -242.23347832906842}, "training_iteration": 107, "episodes_total": 1664, "episode_len_mean": 647.96, "episode_reward_mean": 1137.7492055844687, "time_total_s": 2457.5472280979156, "pid": 32001, "info": {"num_steps_trained": 4639679, "load_time_ms": 13.556, "num_steps_sampled": 4639679, "grad_time_ms": 9433.422, "sample_time_ms": 13244.043, "update_time_ms": 6.708, "default": {"vf_explained_var": 0.9671469330787659, "vf_loss": 14.147440910339355, "entropy": 1.2258163690567017, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 14.142521858215332, "kl": 0.01514511276036501, "policy_loss": -0.00747413607314229}}, "time_this_iter_s": 24.129669189453125, "timesteps_since_restore": 4639679, "time_since_restore": 2457.5472280979156, "timestamp": 1557212774, "timesteps_this_iter": 44548, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c50>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13be0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-06-14", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 181.6681070262092}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1608.5404845181308, "node_ip": "10.138.0.2", "timesteps_total": 4681799, "iterations_since_restore": 108, "custom_metrics": {"cost1_max": 507.7576718315712, "cost1_min": 86.05048444187074, "cost2_max": -70.48757239475702, "system_level_velocity_mean": 15.595132210034281, "cost1_mean": 360.4713885847669, "outflow_rate_min": 439.9574620558149, "system_level_velocity_max": 20.37091965455975, "system_level_velocity_min": 10.552633781756766, "outflow_rate_max": 1472.5142152520348, "cost2_mean": -190.99876851943722, "outflow_rate_mean": 1100.2348176671983, "cost2_min": -242.23347832906842}, "training_iteration": 108, "episodes_total": 1683, "episode_len_mean": 645.45, "episode_reward_mean": 1115.835504428013, "time_total_s": 2479.358078479767, "pid": 32001, "info": {"num_steps_trained": 4681799, "load_time_ms": 13.618, "num_steps_sampled": 4681799, "grad_time_ms": 9390.132, "sample_time_ms": 13244.36, "update_time_ms": 6.754, "default": {"vf_explained_var": 0.9756531119346619, "vf_loss": 11.165482521057129, "entropy": 1.2226271629333496, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 11.162274360656738, "kl": 0.01586037501692772, "policy_loss": -0.005884826183319092}}, "time_this_iter_s": 21.810850381851196, "timesteps_since_restore": 4681799, "time_since_restore": 2479.358078479767, "timestamp": 1557212796, "timesteps_this_iter": 42120, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad93c8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9d68>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-06-36", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 181.6681070262092}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1608.5404845181308, "node_ip": "10.138.0.2", "timesteps_total": 4724362, "iterations_since_restore": 109, "custom_metrics": {"cost1_max": 528.4863286758487, "cost1_min": 86.05048444187074, "cost2_max": -70.48757239475702, "system_level_velocity_mean": 15.77894520798343, "cost1_mean": 359.5589011991771, "outflow_rate_min": 439.9574620558149, "system_level_velocity_max": 20.37091965455975, "system_level_velocity_min": 10.552633781756766, "outflow_rate_max": 1472.5142152520348, "cost2_mean": -189.54608494945995, "outflow_rate_mean": 1097.6346629308528, "cost2_min": -242.23347832906842}, "training_iteration": 109, "episodes_total": 1698, "episode_len_mean": 638.41, "episode_reward_mean": 1101.5402193918176, "time_total_s": 2501.5367937088013, "pid": 32001, "info": {"num_steps_trained": 4724362, "load_time_ms": 13.458, "num_steps_sampled": 4724362, "grad_time_ms": 9385.785, "sample_time_ms": 13253.77, "update_time_ms": 6.779, "default": {"vf_explained_var": 0.9694766998291016, "vf_loss": 14.331795692443848, "entropy": 1.2175869941711426, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 14.325213432312012, "kl": 0.016462955623865128, "policy_loss": -0.009362183511257172}}, "time_this_iter_s": 22.178715229034424, "timesteps_since_restore": 4724362, "time_since_restore": 2501.5367937088013, "timestamp": 1557212818, "timesteps_this_iter": 42563, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668652b0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668653c8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-06-58", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 181.6681070262092}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1608.5404845181308, "node_ip": "10.138.0.2", "timesteps_total": 4767711, "iterations_since_restore": 110, "custom_metrics": {"cost1_max": 528.4863286758487, "cost1_min": 86.05048444187074, "cost2_max": -70.48757239475702, "system_level_velocity_mean": 15.837392507418464, "cost1_mean": 364.88070729619363, "outflow_rate_min": 439.9574620558149, "system_level_velocity_max": 20.37091965455975, "system_level_velocity_min": 10.552633781756766, "outflow_rate_max": 1463.7021225348128, "cost2_mean": -190.78603197416433, "outflow_rate_mean": 1109.8606602849713, "cost2_min": -242.23347832906842}, "training_iteration": 110, "episodes_total": 1713, "episode_len_mean": 644.05, "episode_reward_mean": 1111.4668921443565, "time_total_s": 2524.503093957901, "pid": 32001, "info": {"num_steps_trained": 4767711, "load_time_ms": 13.144, "num_steps_sampled": 4767711, "grad_time_ms": 9372.694, "sample_time_ms": 13362.11, "update_time_ms": 6.808, "default": {"vf_explained_var": 0.9839571714401245, "vf_loss": 7.067113876342773, "entropy": 1.247741937637329, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 7.062427997589111, "kl": 0.013826912268996239, "policy_loss": -0.00702082272619009}}, "time_this_iter_s": 22.96630024909973, "timesteps_since_restore": 4767711, "time_since_restore": 2524.503093957901, "timestamp": 1557212841, "timesteps_this_iter": 43349, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9c50>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c50>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-07-21", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 181.6681070262092}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1608.5404845181308, "node_ip": "10.138.0.2", "timesteps_total": 4811491, "iterations_since_restore": 111, "custom_metrics": {"cost1_max": 528.4863286758487, "cost1_min": 86.05048444187074, "cost2_max": -70.48757239475702, "system_level_velocity_mean": 15.865275458488803, "cost1_mean": 371.4181600669727, "outflow_rate_min": 439.9574620558149, "system_level_velocity_max": 20.37091965455975, "system_level_velocity_min": 11.532367932023119, "outflow_rate_max": 1463.7021225348128, "cost2_mean": -191.22897801446595, "outflow_rate_mean": 1119.7116179466577, "cost2_min": -241.87833582764182}, "training_iteration": 111, "episodes_total": 1730, "episode_len_mean": 652.89, "episode_reward_mean": 1122.117270601565, "time_total_s": 2547.6925632953644, "pid": 32001, "info": {"num_steps_trained": 4811491, "load_time_ms": 12.391, "num_steps_sampled": 4811491, "grad_time_ms": 9433.546, "sample_time_ms": 13415.462, "update_time_ms": 6.972, "default": {"vf_explained_var": 0.9804114699363708, "vf_loss": 9.0925931930542, "entropy": 1.2452185153961182, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 9.087502479553223, "kl": 0.013477453961968422, "policy_loss": -0.007364982273429632}}, "time_this_iter_s": 23.18946933746338, "timesteps_since_restore": 4811491, "time_since_restore": 2547.6925632953644, "timestamp": 1557212864, "timesteps_this_iter": 43780, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9358>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-07-44", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 181.6681070262092}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1608.5404845181308, "node_ip": "10.138.0.2", "timesteps_total": 4853728, "iterations_since_restore": 112, "custom_metrics": {"cost1_max": 528.4863286758487, "cost1_min": 86.05048444187074, "cost2_max": -70.48757239475702, "system_level_velocity_mean": 16.02509899006075, "cost1_mean": 375.42976260566064, "outflow_rate_min": 430.798613699406, "system_level_velocity_max": 20.38366575783029, "system_level_velocity_min": 12.275126277892296, "outflow_rate_max": 1463.7021225348128, "cost2_mean": -191.4228818684566, "outflow_rate_mean": 1125.3520092640763, "cost2_min": -241.87833582764182}, "training_iteration": 112, "episodes_total": 1747, "episode_len_mean": 652.35, "episode_reward_mean": 1125.9407828822002, "time_total_s": 2570.567241191864, "pid": 32001, "info": {"num_steps_trained": 4853728, "load_time_ms": 12.342, "num_steps_sampled": 4853728, "grad_time_ms": 9356.377, "sample_time_ms": 13521.081, "update_time_ms": 7.094, "default": {"vf_explained_var": 0.9710009098052979, "vf_loss": 14.016267776489258, "entropy": 1.218104362487793, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 14.01136302947998, "kl": 0.01484716683626175, "policy_loss": -0.0074105821549892426}}, "time_this_iter_s": 22.874677896499634, "timesteps_since_restore": 4853728, "time_since_restore": 2570.567241191864, "timestamp": 1557212887, "timesteps_this_iter": 42237, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9b00>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9cc0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-08-07", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 181.6681070262092}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1506.1023219207216, "node_ip": "10.138.0.2", "timesteps_total": 4895565, "iterations_since_restore": 113, "custom_metrics": {"cost1_max": 528.4863286758487, "cost1_min": 80.55834417213498, "cost2_max": -69.2716362058894, "system_level_velocity_mean": 15.903236465723241, "cost1_mean": 383.79763301227445, "outflow_rate_min": 419.44023750404784, "system_level_velocity_max": 20.38366575783029, "system_level_velocity_min": 12.275126277892296, "outflow_rate_max": 1439.1460237395268, "cost2_mean": -195.99410545135947, "outflow_rate_mean": 1145.7577672507805, "cost2_min": -241.87833582764182}, "training_iteration": 113, "episodes_total": 1764, "episode_len_mean": 667.72, "episode_reward_mean": 1157.468032705298, "time_total_s": 2592.9783198833466, "pid": 32001, "info": {"num_steps_trained": 4895565, "load_time_ms": 12.153, "num_steps_sampled": 4895565, "grad_time_ms": 9269.142, "sample_time_ms": 13401.891, "update_time_ms": 6.957, "default": {"vf_explained_var": 0.9737366437911987, "vf_loss": 11.970521926879883, "entropy": 1.2349929809570312, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 11.963891983032227, "kl": 0.015994654968380928, "policy_loss": -0.009328413754701614}}, "time_this_iter_s": 22.411078691482544, "timesteps_since_restore": 4895565, "time_since_restore": 2592.9783198833466, "timestamp": 1557212909, "timesteps_this_iter": 41837, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9358>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9ba8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-08-29", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 185.46375366983145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1506.1023219207216, "node_ip": "10.138.0.2", "timesteps_total": 4939638, "iterations_since_restore": 114, "custom_metrics": {"cost1_max": 528.4863286758487, "cost1_min": 80.55834417213498, "cost2_max": -64.42331634341218, "system_level_velocity_mean": 15.897157897959739, "cost1_mean": 381.11237618793734, "outflow_rate_min": 419.44023750404784, "system_level_velocity_max": 20.38366575783029, "system_level_velocity_min": 12.275126277892296, "outflow_rate_max": 1439.1460237395268, "cost2_mean": -196.05695868868366, "outflow_rate_mean": 1140.642145896238, "cost2_min": -241.87833582764182}, "training_iteration": 114, "episodes_total": 1779, "episode_len_mean": 663.67, "episode_reward_mean": 1155.7433892782835, "time_total_s": 2617.0095911026, "pid": 32001, "info": {"num_steps_trained": 4939638, "load_time_ms": 12.73, "num_steps_sampled": 4939638, "grad_time_ms": 9336.681, "sample_time_ms": 13419.862, "update_time_ms": 6.967, "default": {"vf_explained_var": 0.9802901744842529, "vf_loss": 8.111196517944336, "entropy": 1.2393807172775269, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 8.104449272155762, "kl": 0.015487667173147202, "policy_loss": -0.009361506439745426}}, "time_this_iter_s": 24.03127121925354, "timesteps_since_restore": 4939638, "time_since_restore": 2617.0095911026, "timestamp": 1557212933, "timesteps_this_iter": 44073, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9cc0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f60>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-08-53", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 185.46375366983145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1491.1029590887697, "node_ip": "10.138.0.2", "timesteps_total": 4983268, "iterations_since_restore": 115, "custom_metrics": {"cost1_max": 527.2504230708249, "cost1_min": 80.55834417213498, "cost2_max": -64.42331634341218, "system_level_velocity_mean": 15.695552483070317, "cost1_mean": 383.77048797237217, "outflow_rate_min": 419.44023750404784, "system_level_velocity_max": 20.38366575783029, "system_level_velocity_min": 12.275126277892296, "outflow_rate_max": 1439.1460237395268, "cost2_mean": -197.66142442063335, "outflow_rate_mean": 1147.0645911369365, "cost2_min": -241.87833582764182}, "training_iteration": 115, "episodes_total": 1794, "episode_len_mean": 673.97, "episode_reward_mean": 1169.0798003149432, "time_total_s": 2640.7187428474426, "pid": 32001, "info": {"num_steps_trained": 4983268, "load_time_ms": 12.18, "num_steps_sampled": 4983268, "grad_time_ms": 9390.766, "sample_time_ms": 13507.998, "update_time_ms": 6.967, "default": {"vf_explained_var": 0.9844606518745422, "vf_loss": 6.494483947753906, "entropy": 1.232053518295288, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.489422798156738, "kl": 0.015294038690626621, "policy_loss": -0.007641258183866739}}, "time_this_iter_s": 23.70915174484253, "timesteps_since_restore": 4983268, "time_since_restore": 2640.7187428474426, "timestamp": 1557212957, "timesteps_this_iter": 43630, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f28>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9b38>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-09-17", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 185.46375366983145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1491.1029590887697, "node_ip": "10.138.0.2", "timesteps_total": 5028216, "iterations_since_restore": 116, "custom_metrics": {"cost1_max": 527.2504230708249, "cost1_min": 80.55834417213498, "cost2_max": -64.42331634341218, "system_level_velocity_mean": 15.583068890201792, "cost1_mean": 381.51852383065255, "outflow_rate_min": 419.44023750404784, "system_level_velocity_max": 20.38366575783029, "system_level_velocity_min": 11.977243271322209, "outflow_rate_max": 1439.1460237395268, "cost2_mean": -197.55265328857797, "outflow_rate_mean": 1140.9351986691856, "cost2_min": -236.15912854640246}, "training_iteration": 116, "episodes_total": 1809, "episode_len_mean": 673.97, "episode_reward_mean": 1167.2457213973423, "time_total_s": 2666.1989941596985, "pid": 32001, "info": {"num_steps_trained": 5028216, "load_time_ms": 12.051, "num_steps_sampled": 5028216, "grad_time_ms": 9633.161, "sample_time_ms": 13544.384, "update_time_ms": 6.921, "default": {"vf_explained_var": 0.9866065382957458, "vf_loss": 6.064944267272949, "entropy": 1.2218700647354126, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.060128211975098, "kl": 0.01695987395942211, "policy_loss": -0.007677826564759016}}, "time_this_iter_s": 25.48025131225586, "timesteps_since_restore": 5028216, "time_since_restore": 2666.1989941596985, "timestamp": 1557212983, "timesteps_this_iter": 44948, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9080>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9d68>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-09-43", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 185.46375366983145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1491.1029590887697, "node_ip": "10.138.0.2", "timesteps_total": 5072162, "iterations_since_restore": 117, "custom_metrics": {"cost1_max": 527.2504230708249, "cost1_min": 80.55834417213498, "cost2_max": -64.42331634341218, "system_level_velocity_mean": 15.581189702758815, "cost1_mean": 382.67466158823015, "outflow_rate_min": 419.44023750404784, "system_level_velocity_max": 20.38366575783029, "system_level_velocity_min": 11.977243271322209, "outflow_rate_max": 1439.1460237395268, "cost2_mean": -197.53944409552375, "outflow_rate_mean": 1143.4357115090706, "cost2_min": -236.15912854640246}, "training_iteration": 117, "episodes_total": 1822, "episode_len_mean": 673.97, "episode_reward_mean": 1179.9390992414392, "time_total_s": 2688.297061920166, "pid": 32001, "info": {"num_steps_trained": 5072162, "load_time_ms": 11.829, "num_steps_sampled": 5072162, "grad_time_ms": 9492.945, "sample_time_ms": 13482.005, "update_time_ms": 6.744, "default": {"vf_explained_var": 0.9851512908935547, "vf_loss": 6.349442958831787, "entropy": 1.2288111448287964, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.345453262329102, "kl": 0.01342572271823883, "policy_loss": -0.00625410582870245}}, "time_this_iter_s": 22.09806776046753, "timesteps_since_restore": 5072162, "time_since_restore": 2688.297061920166, "timestamp": 1557213005, "timesteps_this_iter": 43946, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9dd8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9550>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-10-05", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 185.46375366983145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1491.1029590887697, "node_ip": "10.138.0.2", "timesteps_total": 5116435, "iterations_since_restore": 118, "custom_metrics": {"cost1_max": 514.877122931972, "cost1_min": 80.55834417213498, "cost2_max": -64.42331634341218, "system_level_velocity_mean": 15.543209634519528, "cost1_mean": 378.6351995756849, "outflow_rate_min": 419.44023750404784, "system_level_velocity_max": 20.38366575783029, "system_level_velocity_min": 11.841987523003988, "outflow_rate_max": 1401.7403617459095, "cost2_mean": -197.02196049351275, "outflow_rate_mean": 1139.0928766633447, "cost2_min": -236.15912854640246}, "training_iteration": 118, "episodes_total": 1842, "episode_len_mean": 668.35, "episode_reward_mean": 1174.997905848832, "time_total_s": 2711.1989195346832, "pid": 32001, "info": {"num_steps_trained": 5116435, "load_time_ms": 11.909, "num_steps_sampled": 5116435, "grad_time_ms": 9584.223, "sample_time_ms": 13499.973, "update_time_ms": 6.631, "default": {"vf_explained_var": 0.9713168144226074, "vf_loss": 11.853374481201172, "entropy": 1.2583223581314087, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 11.849737167358398, "kl": 0.014016500674188137, "policy_loss": -0.00600361218675971}}, "time_this_iter_s": 22.901857614517212, "timesteps_since_restore": 5116435, "time_since_restore": 2711.1989195346832, "timestamp": 1557213028, "timesteps_this_iter": 44273, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b134a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b137b8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13e48>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-10-28", "hostname": "flow-main", "episodes_this_iter": 20, "episode_reward_min": 185.46375366983145}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1491.1029590887697, "node_ip": "10.138.0.2", "timesteps_total": 5158639, "iterations_since_restore": 119, "custom_metrics": {"cost1_max": 475.4080763573263, "cost1_min": 85.86908024004464, "cost2_max": -64.42331634341218, "system_level_velocity_mean": 15.415990172050133, "cost1_mean": 371.67654143086287, "outflow_rate_min": 434.7566978138862, "system_level_velocity_max": 20.356285270544696, "system_level_velocity_min": 11.841987523003988, "outflow_rate_max": 1401.7403617459095, "cost2_mean": -194.1742583274116, "outflow_rate_mean": 1126.648394022448, "cost2_min": -236.15912854640246}, "training_iteration": 119, "episodes_total": 1859, "episode_len_mean": 662.99, "episode_reward_mean": 1161.8066473467113, "time_total_s": 2733.4458100795746, "pid": 32001, "info": {"num_steps_trained": 5158639, "load_time_ms": 11.955, "num_steps_sampled": 5158639, "grad_time_ms": 9514.764, "sample_time_ms": 13576.062, "update_time_ms": 6.692, "default": {"vf_explained_var": 0.9768514633178711, "vf_loss": 10.59789752960205, "entropy": 1.2639555931091309, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 10.592413902282715, "kl": 0.01609966531395912, "policy_loss": -0.008199268952012062}}, "time_this_iter_s": 22.246890544891357, "timesteps_since_restore": 5158639, "time_since_restore": 2733.4458100795746, "timestamp": 1557213050, "timesteps_this_iter": 42204, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a58>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-10-50", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 190.92310516423294}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1552.8059206263958, "node_ip": "10.138.0.2", "timesteps_total": 5202241, "iterations_since_restore": 120, "custom_metrics": {"cost1_max": 512.1762220437515, "cost1_min": 85.86908024004464, "cost2_max": -64.42331634341218, "system_level_velocity_mean": 15.385025456806872, "cost1_mean": 373.13008955148746, "outflow_rate_min": 434.7566978138862, "system_level_velocity_max": 20.356285270544696, "system_level_velocity_min": 11.841987523003988, "outflow_rate_max": 1401.7403617459095, "cost2_mean": -193.02996322200076, "outflow_rate_mean": 1129.7732821163552, "cost2_min": -225.44983230335004}, "training_iteration": 120, "episodes_total": 1874, "episode_len_mean": 666.21, "episode_reward_mean": 1165.366808687175, "time_total_s": 2756.3695044517517, "pid": 32001, "info": {"num_steps_trained": 5202241, "load_time_ms": 12.41, "num_steps_sampled": 5202241, "grad_time_ms": 9528.916, "sample_time_ms": 13557.39, "update_time_ms": 6.777, "default": {"vf_explained_var": 0.9838711619377136, "vf_loss": 6.655195713043213, "entropy": 1.2588450908660889, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.649667739868164, "kl": 0.014560793526470661, "policy_loss": -0.007985319942235947}}, "time_this_iter_s": 22.923694372177124, "timesteps_since_restore": 5202241, "time_since_restore": 2756.3695044517517, "timestamp": 1557213073, "timesteps_this_iter": 43602, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13080>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c50>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-11-13", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 190.92310516423294}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1552.8059206263958, "node_ip": "10.138.0.2", "timesteps_total": 5246215, "iterations_since_restore": 121, "custom_metrics": {"cost1_max": 512.1762220437515, "cost1_min": 85.86908024004464, "cost2_max": -64.91394701287425, "system_level_velocity_mean": 15.421166846386603, "cost1_mean": 374.9647807844442, "outflow_rate_min": 413.5477217082531, "system_level_velocity_max": 20.175231258028724, "system_level_velocity_min": 11.841987523003988, "outflow_rate_max": 1442.5722474371175, "cost2_mean": -194.0918901415473, "outflow_rate_mean": 1135.0514807147918, "cost2_min": -242.09599660592943}, "training_iteration": 121, "episodes_total": 1889, "episode_len_mean": 666.34, "episode_reward_mean": 1178.7546668217549, "time_total_s": 2781.1173663139343, "pid": 32001, "info": {"num_steps_trained": 5246215, "load_time_ms": 12.985, "num_steps_sampled": 5246215, "grad_time_ms": 9515.454, "sample_time_ms": 13725.892, "update_time_ms": 6.754, "default": {"vf_explained_var": 0.9760457277297974, "vf_loss": 11.041096687316895, "entropy": 1.2357481718063354, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 11.037320137023926, "kl": 0.015593906864523888, "policy_loss": -0.006407652981579304}}, "time_this_iter_s": 24.747861862182617, "timesteps_since_restore": 5246215, "time_since_restore": 2781.1173663139343, "timestamp": 1557213098, "timesteps_this_iter": 43974, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a58>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a90>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-11-38", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 200.70811600305422}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1552.8059206263958, "node_ip": "10.138.0.2", "timesteps_total": 5289366, "iterations_since_restore": 122, "custom_metrics": {"cost1_max": 512.1762220437515, "cost1_min": 85.86908024004464, "cost2_max": -64.91394701287425, "system_level_velocity_mean": 15.618838023277497, "cost1_mean": 376.54113129695804, "outflow_rate_min": 413.5477217082531, "system_level_velocity_max": 20.175231258028724, "system_level_velocity_min": 11.841987523003988, "outflow_rate_max": 1442.5722474371175, "cost2_mean": -191.97336605621018, "outflow_rate_mean": 1137.6668582213906, "cost2_min": -242.09599660592943}, "training_iteration": 122, "episodes_total": 1905, "episode_len_mean": 661.27, "episode_reward_mean": 1176.9233341442764, "time_total_s": 2804.985455274582, "pid": 32001, "info": {"num_steps_trained": 5289366, "load_time_ms": 13.081, "num_steps_sampled": 5289366, "grad_time_ms": 9633.088, "sample_time_ms": 13707.241, "update_time_ms": 6.656, "default": {"vf_explained_var": 0.9783185124397278, "vf_loss": 9.570699691772461, "entropy": 1.2203348875045776, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 9.566597938537598, "kl": 0.016412707045674324, "policy_loss": -0.006870493292808533}}, "time_this_iter_s": 23.868088960647583, "timesteps_since_restore": 5289366, "time_since_restore": 2804.985455274582, "timestamp": 1557213121, "timesteps_this_iter": 43151, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9748>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668658d0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-12-01", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 200.70811600305422}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1552.8059206263958, "node_ip": "10.138.0.2", "timesteps_total": 5330529, "iterations_since_restore": 123, "custom_metrics": {"cost1_max": 512.1762220437515, "cost1_min": 85.86908024004464, "cost2_max": -64.91394701287425, "system_level_velocity_mean": 15.58339340526263, "cost1_mean": 372.11546591706923, "outflow_rate_min": 413.5477217082531, "system_level_velocity_max": 20.175231258028724, "system_level_velocity_min": 11.841987523003988, "outflow_rate_max": 1442.5722474371175, "cost2_mean": -191.17242032748115, "outflow_rate_mean": 1127.1939679284408, "cost2_min": -242.09599660592943}, "training_iteration": 123, "episodes_total": 1924, "episode_len_mean": 656.19, "episode_reward_mean": 1167.7904901199029, "time_total_s": 2828.6649520397186, "pid": 32001, "info": {"num_steps_trained": 5330529, "load_time_ms": 13.114, "num_steps_sampled": 5330529, "grad_time_ms": 9682.936, "sample_time_ms": 13784.462, "update_time_ms": 6.686, "default": {"vf_explained_var": 0.9780394434928894, "vf_loss": 10.528762817382812, "entropy": 1.2312558889389038, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 10.5234956741333, "kl": 0.013341955840587616, "policy_loss": -0.007519741076976061}}, "time_this_iter_s": 23.67949676513672, "timesteps_since_restore": 5330529, "time_since_restore": 2828.6649520397186, "timestamp": 1557213145, "timesteps_this_iter": 41163, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a90>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-12-25", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 200.70811600305422}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1560.6473611567933, "node_ip": "10.138.0.2", "timesteps_total": 5373484, "iterations_since_restore": 124, "custom_metrics": {"cost1_max": 512.1762220437515, "cost1_min": 86.96927449871048, "cost2_max": -64.91394701287425, "system_level_velocity_mean": 15.655383758470489, "cost1_mean": 375.5796632558189, "outflow_rate_min": 413.5477217082531, "system_level_velocity_max": 20.175231258028724, "system_level_velocity_min": 11.211142948304213, "outflow_rate_max": 1442.5722474371175, "cost2_mean": -191.01866296022382, "outflow_rate_mean": 1133.9624580344766, "cost2_min": -242.09599660592943}, "training_iteration": 124, "episodes_total": 1940, "episode_len_mean": 657.31, "episode_reward_mean": 1178.2170987470852, "time_total_s": 2852.0243785381317, "pid": 32001, "info": {"num_steps_trained": 5373484, "load_time_ms": 13.097, "num_steps_sampled": 5373484, "grad_time_ms": 9617.456, "sample_time_ms": 13782.293, "update_time_ms": 6.63, "default": {"vf_explained_var": 0.9703560471534729, "vf_loss": 12.309393882751465, "entropy": 1.2461495399475098, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 12.305804252624512, "kl": 0.015153473243117332, "policy_loss": -0.006148502230644226}}, "time_this_iter_s": 23.359426498413086, "timesteps_since_restore": 5373484, "time_since_restore": 2852.0243785381317, "timestamp": 1557213169, "timesteps_this_iter": 42955, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9668>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f60>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-12-49", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 207.0861772544889}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1560.6473611567933, "node_ip": "10.138.0.2", "timesteps_total": 5419258, "iterations_since_restore": 125, "custom_metrics": {"cost1_max": 512.1762220437515, "cost1_min": 86.96927449871048, "cost2_max": -64.91394701287425, "system_level_velocity_mean": 15.796867895853843, "cost1_mean": 379.486744014797, "outflow_rate_min": 413.5477217082531, "system_level_velocity_max": 20.175231258028724, "system_level_velocity_min": 11.211142948304213, "outflow_rate_max": 1442.5722474371175, "cost2_mean": -191.64132986380264, "outflow_rate_mean": 1138.8871303928202, "cost2_min": -242.09599660592943}, "training_iteration": 125, "episodes_total": 1952, "episode_len_mean": 657.31, "episode_reward_mean": 1185.224852782637, "time_total_s": 2876.1081986427307, "pid": 32001, "info": {"num_steps_trained": 5419258, "load_time_ms": 13.619, "num_steps_sampled": 5419258, "grad_time_ms": 9648.366, "sample_time_ms": 13788.476, "update_time_ms": 6.686, "default": {"vf_explained_var": 0.9879453182220459, "vf_loss": 4.736325263977051, "entropy": 1.2682578563690186, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 4.731273651123047, "kl": 0.014618849381804466, "policy_loss": -0.007518933154642582}}, "time_this_iter_s": 24.083820104599, "timesteps_since_restore": 5419258, "time_since_restore": 2876.1081986427307, "timestamp": 1557213193, "timesteps_this_iter": 45774, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9cf8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9a90>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-13-13", "hostname": "flow-main", "episodes_this_iter": 12, "episode_reward_min": 207.0861772544889}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1560.6473611567933, "node_ip": "10.138.0.2", "timesteps_total": 5463909, "iterations_since_restore": 126, "custom_metrics": {"cost1_max": 512.1762220437515, "cost1_min": 92.57750732649625, "cost2_max": -83.02253134819637, "system_level_velocity_mean": 15.614508354985528, "cost1_mean": 387.538867180257, "outflow_rate_min": 413.5477217082531, "system_level_velocity_max": 19.662138145648584, "system_level_velocity_min": 11.211142948304213, "outflow_rate_max": 1442.5722474371175, "cost2_mean": -194.9133767976382, "outflow_rate_mean": 1158.0826480607261, "cost2_min": -242.09599660592943}, "training_iteration": 126, "episodes_total": 1967, "episode_len_mean": 674.02, "episode_reward_mean": 1213.01116059699, "time_total_s": 2900.5066492557526, "pid": 32001, "info": {"num_steps_trained": 5463909, "load_time_ms": 13.65, "num_steps_sampled": 5463909, "grad_time_ms": 9513.695, "sample_time_ms": 13814.847, "update_time_ms": 6.68, "default": {"vf_explained_var": 0.987661600112915, "vf_loss": 5.165634632110596, "entropy": 1.2642056941986084, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 5.160982131958008, "kl": 0.01818605326116085, "policy_loss": -0.007721506524831057}}, "time_this_iter_s": 24.39845061302185, "timesteps_since_restore": 5463909, "time_since_restore": 2900.5066492557526, "timestamp": 1557213217, "timesteps_this_iter": 44651, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b134e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ceb38>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-13-37", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 223.50314331540346}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1578.2564688541972, "node_ip": "10.138.0.2", "timesteps_total": 5508288, "iterations_since_restore": 127, "custom_metrics": {"cost1_max": 508.97854656090675, "cost1_min": 92.57750732649625, "cost2_max": -83.02253134819637, "system_level_velocity_mean": 15.55900187269988, "cost1_mean": 383.25228638168204, "outflow_rate_min": 413.5477217082531, "system_level_velocity_max": 19.575498325229788, "system_level_velocity_min": 11.211142948304213, "outflow_rate_max": 1442.5722474371175, "cost2_mean": -194.51280620923458, "outflow_rate_mean": 1149.1097718262477, "cost2_min": -242.09599660592943}, "training_iteration": 127, "episodes_total": 1982, "episode_len_mean": 669.23, "episode_reward_mean": 1208.2663115692587, "time_total_s": 2923.881621360779, "pid": 32001, "info": {"num_steps_trained": 5508288, "load_time_ms": 13.574, "num_steps_sampled": 5508288, "grad_time_ms": 9600.138, "sample_time_ms": 13856.009, "update_time_ms": 6.783, "default": {"vf_explained_var": 0.9787744283676147, "vf_loss": 8.784448623657227, "entropy": 1.2452139854431152, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 8.779108047485352, "kl": 0.01653793826699257, "policy_loss": -0.008132034912705421}}, "time_this_iter_s": 23.374972105026245, "timesteps_since_restore": 5508288, "time_since_restore": 2923.881621360779, "timestamp": 1557213241, "timesteps_this_iter": 44379, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af95c0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9400>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-14-01", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 223.50314331540346}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1578.2564688541972, "node_ip": "10.138.0.2", "timesteps_total": 5550669, "iterations_since_restore": 128, "custom_metrics": {"cost1_max": 486.0270948337223, "cost1_min": 34.55712819733693, "cost2_max": -34.75196962128654, "system_level_velocity_mean": 15.459562940060119, "cost1_mean": 383.6411616302879, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.635179969511913, "system_level_velocity_min": 11.211142948304213, "outflow_rate_max": 1432.1534293174973, "cost2_mean": -193.05187416868054, "outflow_rate_mean": 1147.3371166779, "cost2_min": -234.43702162586732}, "training_iteration": 128, "episodes_total": 2001, "episode_len_mean": 673.47, "episode_reward_mean": 1214.5161111017746, "time_total_s": 2946.574116706848, "pid": 32001, "info": {"num_steps_trained": 5550669, "load_time_ms": 13.397, "num_steps_sampled": 5550669, "grad_time_ms": 9603.291, "sample_time_ms": 13832.35, "update_time_ms": 6.901, "default": {"vf_explained_var": 0.971987783908844, "vf_loss": 11.588640213012695, "entropy": 1.2724722623825073, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 11.582784652709961, "kl": 0.017491130158305168, "policy_loss": -0.00880551990121603}}, "time_this_iter_s": 22.692495346069336, "timesteps_since_restore": 5550669, "time_since_restore": 2946.574116706848, "timestamp": 1557213263, "timesteps_this_iter": 42381, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13b38>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13828>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-14-23", "hostname": "flow-main", "episodes_this_iter": 19, "episode_reward_min": 69.32610182381592}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1578.2564688541972, "node_ip": "10.138.0.2", "timesteps_total": 5596208, "iterations_since_restore": 129, "custom_metrics": {"cost1_max": 486.0270948337223, "cost1_min": 34.55712819733693, "cost2_max": -34.75196962128654, "system_level_velocity_mean": 15.222812961139688, "cost1_mean": 377.1050074691806, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.635179969511913, "system_level_velocity_min": 11.211142948304213, "outflow_rate_max": 1407.3157008512192, "cost2_mean": -191.13516303799125, "outflow_rate_mean": 1130.521323042876, "cost2_min": -234.43702162586732}, "training_iteration": 129, "episodes_total": 2016, "episode_len_mean": 673.2, "episode_reward_mean": 1191.7450726739637, "time_total_s": 2972.2805240154266, "pid": 32001, "info": {"num_steps_trained": 5596208, "load_time_ms": 13.39, "num_steps_sampled": 5596208, "grad_time_ms": 9866.729, "sample_time_ms": 13914.37, "update_time_ms": 6.826, "default": {"vf_explained_var": 0.9794577956199646, "vf_loss": 6.454014778137207, "entropy": 1.3076114654541016, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.448063373565674, "kl": 0.019349707290530205, "policy_loss": -0.009217891842126846}}, "time_this_iter_s": 25.70640730857849, "timesteps_since_restore": 5596208, "time_since_restore": 2972.2805240154266, "timestamp": 1557213289, "timesteps_this_iter": 45539, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9748>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f60>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-14-49", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 69.32610182381592}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1578.2564688541972, "node_ip": "10.138.0.2", "timesteps_total": 5640867, "iterations_since_restore": 130, "custom_metrics": {"cost1_max": 486.0270948337223, "cost1_min": 34.074224809774805, "cost2_max": -33.04085101075237, "system_level_velocity_mean": 14.997474727394524, "cost1_mean": 370.7660563390563, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.635179969511913, "system_level_velocity_min": 11.211142948304213, "outflow_rate_max": 1407.3157008512192, "cost2_mean": -189.9315983910964, "outflow_rate_mean": 1117.5666836020876, "cost2_min": -234.43702162586732}, "training_iteration": 130, "episodes_total": 2029, "episode_len_mean": 672.17, "episode_reward_mean": 1189.1516358386168, "time_total_s": 2995.9366104602814, "pid": 32001, "info": {"num_steps_trained": 5640867, "load_time_ms": 12.899, "num_steps_sampled": 5640867, "grad_time_ms": 9940.846, "sample_time_ms": 13913.679, "update_time_ms": 6.903, "default": {"vf_explained_var": 0.977927029132843, "vf_loss": 7.654908657073975, "entropy": 1.2661900520324707, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 7.649868011474609, "kl": 0.016006214544177055, "policy_loss": -0.007741700857877731}}, "time_this_iter_s": 23.656086444854736, "timesteps_since_restore": 5640867, "time_since_restore": 2995.9366104602814, "timestamp": 1557213313, "timesteps_this_iter": 44659, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b4ccf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668acda0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-15-13", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 60.121231339702454}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1578.2564688541972, "node_ip": "10.138.0.2", "timesteps_total": 5684340, "iterations_since_restore": 131, "custom_metrics": {"cost1_max": 486.0270948337223, "cost1_min": 34.074224809774805, "cost2_max": -33.04085101075237, "system_level_velocity_mean": 14.815244862854534, "cost1_mean": 366.1145292842134, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.635179969511913, "system_level_velocity_min": 11.454446526671632, "outflow_rate_max": 1405.6019201256372, "cost2_mean": -188.8274713263844, "outflow_rate_mean": 1107.74671160617, "cost2_min": -234.43702162586732}, "training_iteration": 131, "episodes_total": 2046, "episode_len_mean": 671.99, "episode_reward_mean": 1184.0378850471802, "time_total_s": 3019.9988090991974, "pid": 32001, "info": {"num_steps_trained": 5684340, "load_time_ms": 12.844, "num_steps_sampled": 5684340, "grad_time_ms": 9934.999, "sample_time_ms": 13851.038, "update_time_ms": 6.874, "default": {"vf_explained_var": 0.9792263507843018, "vf_loss": 8.035822868347168, "entropy": 1.2711365222930908, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 8.03063678741455, "kl": 0.01666775345802307, "policy_loss": -0.007998818531632423}}, "time_this_iter_s": 24.062198638916016, "timesteps_since_restore": 5684340, "time_since_restore": 3019.9988090991974, "timestamp": 1557213337, "timesteps_this_iter": 43473, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9e80>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af98d0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-15-37", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 60.121231339702454}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1578.2564688541972, "node_ip": "10.138.0.2", "timesteps_total": 5729230, "iterations_since_restore": 132, "custom_metrics": {"cost1_max": 486.0270948337223, "cost1_min": 34.074224809774805, "cost2_max": -33.04085101075237, "system_level_velocity_mean": 14.845927688607587, "cost1_mean": 355.425556797094, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.799301629413886, "system_level_velocity_min": 11.454446526671632, "outflow_rate_max": 1405.6019201256372, "cost2_mean": -184.36199019876912, "outflow_rate_mean": 1082.4284106846808, "cost2_min": -230.96867298600262}, "training_iteration": 132, "episodes_total": 2062, "episode_len_mean": 655.18, "episode_reward_mean": 1159.1471826009165, "time_total_s": 3045.828996181488, "pid": 32001, "info": {"num_steps_trained": 5729230, "load_time_ms": 12.782, "num_steps_sampled": 5729230, "grad_time_ms": 9769.161, "sample_time_ms": 14212.312, "update_time_ms": 7.071, "default": {"vf_explained_var": 0.9678869843482971, "vf_loss": 10.91867733001709, "entropy": 1.2681571245193481, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 10.912450790405273, "kl": 0.01549592986702919, "policy_loss": -0.008841491304337978}}, "time_this_iter_s": 25.83018708229065, "timesteps_since_restore": 5729230, "time_since_restore": 3045.828996181488, "timestamp": 1557213363, "timesteps_this_iter": 44890, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ceb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac550>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668acba8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-16-03", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 60.121231339702454}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1524.2448707827132, "node_ip": "10.138.0.2", "timesteps_total": 5774291, "iterations_since_restore": 133, "custom_metrics": {"cost1_max": 465.28867663120434, "cost1_min": 32.37144755533849, "cost2_max": -32.379893485011635, "system_level_velocity_mean": 14.802654129700818, "cost1_mean": 346.64244350463684, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 19.799301629413886, "system_level_velocity_min": 11.454446526671632, "outflow_rate_max": 1405.6019201256372, "cost2_mean": -180.9911465110558, "outflow_rate_mean": 1060.9514232187294, "cost2_min": -224.30454942968336}, "training_iteration": 133, "episodes_total": 2078, "episode_len_mean": 644.11, "episode_reward_mean": 1131.328998068929, "time_total_s": 3081.5221474170685, "pid": 32001, "info": {"num_steps_trained": 5774291, "load_time_ms": 12.351, "num_steps_sampled": 5774291, "grad_time_ms": 10331.88, "sample_time_ms": 14842.546, "update_time_ms": 7.231, "default": {"vf_explained_var": 0.9731854796409607, "vf_loss": 9.288329124450684, "entropy": 1.2671914100646973, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 9.283141136169434, "kl": 0.014911282807588577, "policy_loss": -0.007704582996666431}}, "time_this_iter_s": 35.693151235580444, "timesteps_since_restore": 5774291, "time_since_restore": 3081.5221474170685, "timestamp": 1557213398, "timesteps_this_iter": 45061, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af99e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9710>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9390>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-16-38", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 56.82635847730659}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1494.9273532122897, "node_ip": "10.138.0.2", "timesteps_total": 5819573, "iterations_since_restore": 134, "custom_metrics": {"cost1_max": 465.28867663120434, "cost1_min": 29.624683823609637, "cost2_max": -31.737429472620175, "system_level_velocity_mean": 14.68362058652651, "cost1_mean": 343.3471867261409, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.29501693926965, "system_level_velocity_min": 11.454446526671632, "outflow_rate_max": 1405.6019201256372, "cost2_mean": -180.3752793732415, "outflow_rate_mean": 1054.6871544101339, "cost2_min": -224.30454942968336}, "training_iteration": 134, "episodes_total": 2095, "episode_len_mean": 643.31, "episode_reward_mean": 1123.8369283084232, "time_total_s": 3113.3879816532135, "pid": 32001, "info": {"num_steps_trained": 5819573, "load_time_ms": 12.364, "num_steps_sampled": 5819573, "grad_time_ms": 10369.761, "sample_time_ms": 15651.177, "update_time_ms": 8.489, "default": {"vf_explained_var": 0.9778146743774414, "vf_loss": 8.64238452911377, "entropy": 1.2443821430206299, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 8.636791229248047, "kl": 0.016689857468008995, "policy_loss": -0.008409629575908184}}, "time_this_iter_s": 31.86583423614502, "timesteps_since_restore": 5819573, "time_since_restore": 3113.3879816532135, "timestamp": 1557213430, "timesteps_this_iter": 45282, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b134e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13b38>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13828>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-17-10", "hostname": "flow-main", "episodes_this_iter": 17, "episode_reward_min": 54.40287738554172}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1494.9273532122897, "node_ip": "10.138.0.2", "timesteps_total": 5862916, "iterations_since_restore": 135, "custom_metrics": {"cost1_max": 470.19039964195804, "cost1_min": 29.624683823609637, "cost2_max": -31.737429472620175, "system_level_velocity_mean": 14.630350503453833, "cost1_mean": 342.57432905141553, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.29501693926965, "system_level_velocity_min": 11.454446526671632, "outflow_rate_max": 1352.9837189799152, "cost2_mean": -180.32414943324994, "outflow_rate_mean": 1054.423321137046, "cost2_min": -224.30454942968336}, "training_iteration": 135, "episodes_total": 2110, "episode_len_mean": 643.31, "episode_reward_mean": 1125.1921456913788, "time_total_s": 3144.595082759857, "pid": 32001, "info": {"num_steps_trained": 5862916, "load_time_ms": 12.76, "num_steps_sampled": 5862916, "grad_time_ms": 10299.132, "sample_time_ms": 16433.526, "update_time_ms": 8.826, "default": {"vf_explained_var": 0.9837524890899658, "vf_loss": 6.9990763664245605, "entropy": 1.241286277770996, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.994593620300293, "kl": 0.016058029606938362, "policy_loss": -0.007192777935415506}}, "time_this_iter_s": 31.207101106643677, "timesteps_since_restore": 5862916, "time_since_restore": 3144.595082759857, "timestamp": 1557213461, "timesteps_this_iter": 43343, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cef28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac668>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af95c0>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-17-41", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 54.40287738554172}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1494.9273532122897, "node_ip": "10.138.0.2", "timesteps_total": 5909373, "iterations_since_restore": 136, "custom_metrics": {"cost1_max": 471.67053677409876, "cost1_min": 29.624683823609637, "cost2_max": -31.737429472620175, "system_level_velocity_mean": 14.761273599850883, "cost1_mean": 350.2082001131396, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.29501693926965, "system_level_velocity_min": 11.490504189310425, "outflow_rate_max": 1352.9837189799152, "cost2_mean": -182.29958304377516, "outflow_rate_mean": 1070.3174137485955, "cost2_min": -234.0297014777473}, "training_iteration": 136, "episodes_total": 2123, "episode_len_mean": 648.66, "episode_reward_mean": 1146.2186376099462, "time_total_s": 3174.506109714508, "pid": 32001, "info": {"num_steps_trained": 5909373, "load_time_ms": 12.598, "num_steps_sampled": 5909373, "grad_time_ms": 10175.765, "sample_time_ms": 17108.305, "update_time_ms": 9.202, "default": {"vf_explained_var": 0.9804844260215759, "vf_loss": 6.271728515625, "entropy": 1.2803393602371216, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.265686988830566, "kl": 0.01719398982822895, "policy_loss": -0.008942659944295883}}, "time_this_iter_s": 29.91102695465088, "timesteps_since_restore": 5909373, "time_since_restore": 3174.506109714508, "timestamp": 1557213491, "timesteps_this_iter": 46457, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf940>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b134a8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-18-11", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 54.40287738554172}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1606.9207054443655, "node_ip": "10.138.0.2", "timesteps_total": 5952304, "iterations_since_restore": 137, "custom_metrics": {"cost1_max": 471.67053677409876, "cost1_min": 29.624683823609637, "cost2_max": -31.737429472620175, "system_level_velocity_mean": 14.652830613173817, "cost1_mean": 356.02903070398156, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.29501693926965, "system_level_velocity_min": 11.367299559854462, "outflow_rate_max": 1388.8201001428013, "cost2_mean": -186.01781244111422, "outflow_rate_mean": 1087.9577232094607, "cost2_min": -241.66942310288792}, "training_iteration": 137, "episodes_total": 2141, "episode_len_mean": 660.03, "episode_reward_mean": 1175.0254684127592, "time_total_s": 3205.3034887313843, "pid": 32001, "info": {"num_steps_trained": 5952304, "load_time_ms": 12.493, "num_steps_sampled": 5952304, "grad_time_ms": 10084.939, "sample_time_ms": 17941.823, "update_time_ms": 9.16, "default": {"vf_explained_var": 0.9807794094085693, "vf_loss": 7.4311065673828125, "entropy": 1.2760004997253418, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 7.425287246704102, "kl": 0.016221363097429276, "policy_loss": -0.008556426502764225}}, "time_this_iter_s": 30.79737901687622, "timesteps_since_restore": 5952304, "time_since_restore": 3205.3034887313843, "timestamp": 1557213522, "timesteps_this_iter": 42931, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668ac668>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f98>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-18-42", "hostname": "flow-main", "episodes_this_iter": 18, "episode_reward_min": 54.40287738554172}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1606.9207054443655, "node_ip": "10.138.0.2", "timesteps_total": 5997465, "iterations_since_restore": 138, "custom_metrics": {"cost1_max": 471.67053677409876, "cost1_min": 29.624683823609637, "cost2_max": -31.737429472620175, "system_level_velocity_mean": 14.6559714082337, "cost1_mean": 351.88560435420766, "outflow_rate_min": 326.3279975793562, "system_level_velocity_max": 20.29501693926965, "system_level_velocity_min": 11.367299559854462, "outflow_rate_max": 1388.8201001428013, "cost2_mean": -184.29337035562222, "outflow_rate_mean": 1073.7408394052327, "cost2_min": -241.66942310288792}, "training_iteration": 138, "episodes_total": 2155, "episode_len_mean": 654.7, "episode_reward_mean": 1149.5255365081512, "time_total_s": 3235.3214037418365, "pid": 32001, "info": {"num_steps_trained": 5997465, "load_time_ms": 12.405, "num_steps_sampled": 5997465, "grad_time_ms": 10023.203, "sample_time_ms": 18736.244, "update_time_ms": 9.113, "default": {"vf_explained_var": 0.9795998930931091, "vf_loss": 7.019081115722656, "entropy": 1.2947781085968018, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 7.014017105102539, "kl": 0.016890568658709526, "policy_loss": -0.007913734763860703}}, "time_this_iter_s": 30.01791501045227, "timesteps_since_restore": 5997465, "time_since_restore": 3235.3214037418365, "timestamp": 1557213552, "timesteps_this_iter": 45161, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b138d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13e48>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13828>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-19-12", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 54.40287738554172}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1606.9207054443655, "node_ip": "10.138.0.2", "timesteps_total": 6043293, "iterations_since_restore": 139, "custom_metrics": {"cost1_max": 471.67053677409876, "cost1_min": 29.624683823609637, "cost2_max": -31.737429472620175, "system_level_velocity_mean": 14.539272360372935, "cost1_mean": 357.89093743425974, "outflow_rate_min": 327.90164231085646, "system_level_velocity_max": 20.29501693926965, "system_level_velocity_min": 11.367299559854462, "outflow_rate_max": 1388.8201001428013, "cost2_mean": -187.80884469304385, "outflow_rate_mean": 1091.399885613972, "cost2_min": -241.66942310288792}, "training_iteration": 139, "episodes_total": 2168, "episode_len_mean": 666.64, "episode_reward_mean": 1175.9750710588125, "time_total_s": 3266.0381841659546, "pid": 32001, "info": {"num_steps_trained": 6043293, "load_time_ms": 12.422, "num_steps_sampled": 6043293, "grad_time_ms": 9805.672, "sample_time_ms": 19454.489, "update_time_ms": 9.087, "default": {"vf_explained_var": 0.980269730091095, "vf_loss": 6.792101860046387, "entropy": 1.2891356945037842, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.786923885345459, "kl": 0.015023035928606987, "policy_loss": -0.0077134077437222}}, "time_this_iter_s": 30.716780424118042, "timesteps_since_restore": 6043293, "time_since_restore": 3266.0381841659546, "timestamp": 1557213583, "timesteps_this_iter": 45828, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af97f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af9f60>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66af96d8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-19-43", "hostname": "flow-main", "episodes_this_iter": 13, "episode_reward_min": 54.40287738554172}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1606.9207054443655, "node_ip": "10.138.0.2", "timesteps_total": 6089005, "iterations_since_restore": 140, "custom_metrics": {"cost1_max": 471.67053677409876, "cost1_min": 102.58223037989049, "cost2_max": -71.19223609978536, "system_level_velocity_mean": 14.40045916378695, "cost1_mean": 367.54172151681286, "outflow_rate_min": 434.4546996924916, "system_level_velocity_max": 19.037633874199006, "system_level_velocity_min": 11.367299559854462, "outflow_rate_max": 1388.8201001428013, "cost2_mean": -192.33304066341015, "outflow_rate_mean": 1114.80235665712, "cost2_min": -241.66942310288792}, "training_iteration": 140, "episodes_total": 2184, "episode_len_mean": 684.28, "episode_reward_mean": 1213.7470762510252, "time_total_s": 3296.7940368652344, "pid": 32001, "info": {"num_steps_trained": 6089005, "load_time_ms": 14.689, "num_steps_sampled": 6089005, "grad_time_ms": 9824.839, "sample_time_ms": 20143.091, "update_time_ms": 8.978, "default": {"vf_explained_var": 0.9818296432495117, "vf_loss": 7.191114902496338, "entropy": 1.2914272546768188, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "total_loss": 7.186636924743652, "kl": 0.016247674822807312, "policy_loss": -0.007219888735562563}}, "time_this_iter_s": 30.755852699279785, "timesteps_since_restore": 6089005, "time_since_restore": 3296.7940368652344, "timestamp": 1557213614, "timesteps_this_iter": 45712, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf0f0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668bf7b8>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-20-14", "hostname": "flow-main", "episodes_this_iter": 16, "episode_reward_min": 268.12391993982817}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1606.9207054443655, "node_ip": "10.138.0.2", "timesteps_total": 6133646, "iterations_since_restore": 141, "custom_metrics": {"cost1_max": 471.67053677409876, "cost1_min": 118.18134705886692, "cost2_max": -71.19223609978536, "system_level_velocity_mean": 14.332642004086061, "cost1_mean": 369.25515556551807, "outflow_rate_min": 471.68884311685224, "system_level_velocity_max": 19.037633874199006, "system_level_velocity_min": 10.830007569727385, "outflow_rate_max": 1388.8201001428013, "cost2_mean": -192.22079054502777, "outflow_rate_mean": 1118.1901800840624, "cost2_min": -241.66942310288792}, "training_iteration": 141, "episodes_total": 2199, "episode_len_mean": 689.8, "episode_reward_mean": 1219.4727346970521, "time_total_s": 3326.8863549232483, "pid": 32001, "info": {"num_steps_trained": 6133646, "load_time_ms": 14.955, "num_steps_sampled": 6133646, "grad_time_ms": 9846.792, "sample_time_ms": 20722.979, "update_time_ms": 8.959, "default": {"vf_explained_var": 0.977704644203186, "vf_loss": 8.239472389221191, "entropy": 1.3138954639434814, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 8.235342025756836, "kl": 0.01625572331249714, "policy_loss": -0.006872790865600109}}, "time_this_iter_s": 30.092318058013916, "timesteps_since_restore": 6133646, "time_since_restore": 3326.8863549232483, "timestamp": 1557213644, "timesteps_this_iter": 44641, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66b13710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cee10>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b668cef28>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-20-44", "hostname": "flow-main", "episodes_this_iter": 15, "episode_reward_min": 273.2357848155873}
{"num_metric_batches_dropped": 0, "policy_reward_mean": {}, "experiment_id": "6c5f9ca9950143e48ae0bb409774b704", "done": false, "episode_reward_max": 1606.9207054443655, "node_ip": "10.138.0.2", "timesteps_total": 6179472, "iterations_since_restore": 142, "custom_metrics": {"cost1_max": 485.6150844703034, "cost1_min": 118.18134705886692, "cost2_max": -71.19223609978536, "system_level_velocity_mean": 14.255305623968143, "cost1_mean": 366.95850337499616, "outflow_rate_min": 471.68884311685224, "system_level_velocity_max": 19.037633874199006, "system_level_velocity_min": 10.830007569727385, "outflow_rate_max": 1388.8201001428013, "cost2_mean": -191.38097901164406, "outflow_rate_mean": 1110.7470619838475, "cost2_min": -241.66942310288792}, "training_iteration": 142, "episodes_total": 2213, "episode_len_mean": 689.8, "episode_reward_mean": 1220.5642772357432, "time_total_s": 3356.983015537262, "pid": 32001, "info": {"num_steps_trained": 6179472, "load_time_ms": 17.165, "num_steps_sampled": 6179472, "grad_time_ms": 10136.889, "sample_time_ms": 20856.928, "update_time_ms": 8.889, "default": {"vf_explained_var": 0.9834686517715454, "vf_loss": 6.217123985290527, "entropy": 1.3138993978500366, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "total_loss": 6.21147346496582, "kl": 0.019350940361618996, "policy_loss": -0.008916802704334259}}, "time_this_iter_s": 30.096660614013672, "timesteps_since_restore": 6179472, "time_since_restore": 3356.983015537262, "timestamp": 1557213674, "timesteps_this_iter": 45826, "config": {"log_level": "INFO", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad96d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f6b66ad9d68>"}, "num_workers": 20, "num_gpus_per_worker": 0, "num_gpus": 0, "train_batch_size": 30000, "input_evaluation": null, "input": "sampler", "model": {"conv_filters": null, "custom_model": null, "use_lstm": false, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "conv_activation": "relu", "lstm_cell_size": 256, "lstm_use_prev_action_reward": false, "max_seq_len": 20, "squash_to_range": false, "dim": 84, "free_log_std": false, "grayscale": false, "framestack": true, "zero_mean": true, "custom_options": {}, "channel_major": false}, "lr": 0.0005, "use_gae": true, "straggler_mitigation": false, "optimizer": {}, "output": null, "horizon": 1500, "clip_param": 0.3, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sgd_minibatch_size": 128, "compress_observations": false, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "monitor": false, "sample_async": false, "num_cpus_per_worker": 1, "num_cpus_for_driver": 1, "vf_loss_coeff": 1.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "clip_rewards": null, "kl_coeff": 0.2, "collect_metrics_timeout": 180, "synchronize_filters": true, "simple_optimizer": false, "lambda": 0.97, "gamma": 0.99, "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "clip_actions": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "vf_share_layers": false, "preprocessor_pref": "deepmind", "lr_schedule": null, "observation_filter": "NoFilter", "num_envs_per_worker": 1}, "date": "2019-05-07_07-21-14", "hostname": "flow-main", "episodes_this_iter": 14, "episode_reward_min": 273.2357848155873}
