{"custom_metrics": {"cost1_max": 239.40507916992357, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 539.4945955505442, "outflow_rate_mean": 471.9314527391997, "cost1_mean": 72.34097648204866, "system_level_velocity_mean": 16.543448210912423, "system_level_velocity_max": 18.738561024751387, "cost2_min": -93.6276255621, "cost1_min": 18.664902574835544, "cost2_max": -16.05251810329059, "cost2_mean": -34.480240427971324, "system_level_velocity_min": 9.151649662857817}, "episode_reward_max": 420.00573550090314, "episode_reward_mean": 124.60695952870086, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 46244, "timestamp": 1557251489, "time_since_restore": 50.69402360916138, "episodes_total": 5, "iterations_since_restore": 1, "episode_len_mean": 176.6, "time_total_s": 50.69402360916138, "date": "2019-05-07_17-51-29", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 46244, "update_time_ms": 1410.423, "load_time_ms": 61.322, "default": {"kl": 0.0008276724256575108, "cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0005912058986723423, "total_loss": 1.3430556058883667, "entropy": 1.4135324954986572, "vf_explained_var": 0.9064660668373108, "vf_loss": 1.3434813022613525, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 38275.826, "num_steps_trained": 46244, "grad_time_ms": 10817.688}, "episodes_this_iter": 5, "time_this_iter_s": 50.69402360916138, "timesteps_total": 46244, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435333c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533438>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 1, "policy_reward_mean": {}, "timesteps_this_iter": 46244, "episode_reward_min": 34.1567579603025, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 279.9963757451855, "outflow_rate_min": 338.7694285714286, "outflow_rate_max": 843.1547428571428, "outflow_rate_mean": 520.2911193206666, "cost1_mean": 200.37189249868712, "system_level_velocity_mean": 10.539212233163811, "system_level_velocity_max": 18.738561024751387, "system_level_velocity_min": 7.591566828650765, "cost2_max": -16.05251810329059, "cost2_mean": -74.07864329042451, "cost2_min": -94.80592686994889, "cost1_min": 18.664902574835544}, "episode_reward_max": 464.3540499243068, "episode_reward_mean": 335.7836033857024, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 91941, "timestamp": 1557251518, "time_since_restore": 79.28349566459656, "episodes_total": 24, "iterations_since_restore": 2, "episode_len_mean": 590.9583333333334, "time_total_s": 79.28349566459656, "date": "2019-05-07_17-51-58", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 91941, "update_time_ms": 709.228, "load_time_ms": 37.318, "default": {"kl": 0.0023067158181220293, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.0010055735474452376, "total_loss": 0.7845057249069214, "entropy": 1.4256829023361206, "vf_explained_var": 0.9735580086708069, "vf_loss": 0.785280704498291, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 28284.473, "num_steps_trained": 91941, "grad_time_ms": 10505.528}, "episodes_this_iter": 19, "time_this_iter_s": 28.58947205543518, "timesteps_total": 91941, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7e48>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 2, "policy_reward_mean": {}, "timesteps_this_iter": 45697, "episode_reward_min": 34.1567579603025, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 279.9963757451855, "outflow_rate_min": 338.7694285714286, "outflow_rate_max": 843.1547428571428, "outflow_rate_mean": 527.3363226050069, "cost1_mean": 212.85148033107558, "system_level_velocity_mean": 9.810925540773448, "system_level_velocity_max": 18.738561024751387, "system_level_velocity_min": 7.591566828650765, "cost2_max": -16.05251810329059, "cost2_mean": -77.80166927484632, "cost2_min": -105.58535880286955, "cost1_min": 18.664902574835544}, "episode_reward_max": 464.3540499243068, "episode_reward_mean": 355.6643274694375, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 134025, "timestamp": 1557251546, "time_since_restore": 107.39097213745117, "episodes_total": 42, "iterations_since_restore": 3, "episode_len_mean": 637.6904761904761, "time_total_s": 107.39097213745117, "date": "2019-05-07_17-52-26", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 134025, "update_time_ms": 475.392, "load_time_ms": 28.849, "default": {"kl": 0.00847826711833477, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.002421205397695303, "total_loss": 0.6290009021759033, "entropy": 1.4049408435821533, "vf_explained_var": 0.9860080480575562, "vf_loss": 0.6309980750083923, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 24916.141, "num_steps_trained": 134025, "grad_time_ms": 10279.623}, "episodes_this_iter": 18, "time_this_iter_s": 28.107476472854614, "timesteps_total": 134025, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 3, "policy_reward_mean": {}, "timesteps_this_iter": 42084, "episode_reward_min": 34.1567579603025, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 279.9963757451855, "outflow_rate_min": 338.7694285714286, "outflow_rate_max": 843.1547428571428, "outflow_rate_mean": 527.2809272474402, "cost1_mean": 214.26169569232638, "system_level_velocity_mean": 9.627189179884036, "system_level_velocity_max": 18.738561024751387, "cost2_min": -105.58535880286955, "cost1_min": 18.664902574835544, "cost2_max": -16.05251810329059, "cost2_mean": -78.32928787181568, "system_level_velocity_min": 7.493467178119856}, "episode_reward_max": 464.3540499243068, "episode_reward_mean": 359.4962869694007, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 180023, "timestamp": 1557251575, "time_since_restore": 135.9266700744629, "episodes_total": 49, "iterations_since_restore": 4, "episode_len_mean": 646.5918367346939, "time_total_s": 135.9266700744629, "date": "2019-05-07_17-52-55", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 180023, "update_time_ms": 358.967, "load_time_ms": 24.9, "default": {"kl": 0.006666488945484161, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.0023137519601732492, "total_loss": 0.41541406512260437, "entropy": 1.4033945798873901, "vf_explained_var": 0.9878900647163391, "vf_loss": 0.4173944890499115, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 22848.597, "num_steps_trained": 180023, "grad_time_ms": 10652.72}, "episodes_this_iter": 7, "time_this_iter_s": 28.53569793701172, "timesteps_total": 180023, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc6a0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 4, "policy_reward_mean": {}, "timesteps_this_iter": 45998, "episode_reward_min": 34.1567579603025, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 279.9963757451855, "outflow_rate_min": 122.60142857142858, "outflow_rate_max": 843.1547428571428, "outflow_rate_mean": 489.7302701188072, "cost1_mean": 206.55149759664104, "system_level_velocity_mean": 9.213775580067589, "system_level_velocity_max": 18.738561024751387, "system_level_velocity_min": 5.707211267822842, "cost2_max": -16.05251810329059, "cost2_mean": -76.50455711126342, "cost2_min": -105.58535880286955, "cost1_min": 18.664902574835544}, "episode_reward_max": 464.3540499243068, "episode_reward_mean": 351.4059276279361, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 227101, "timestamp": 1557251604, "time_since_restore": 165.7429175376892, "episodes_total": 67, "iterations_since_restore": 5, "episode_len_mean": 651.2686567164179, "time_total_s": 165.7429175376892, "date": "2019-05-07_17-53-24", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 227101, "update_time_ms": 290.012, "load_time_ms": 22.583, "default": {"kl": 0.005225322674959898, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.002398781245574355, "total_loss": 0.8549585342407227, "entropy": 1.4058624505996704, "vf_explained_var": 0.9827842712402344, "vf_loss": 0.8570960760116577, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 21972.38, "num_steps_trained": 227101, "grad_time_ms": 10763.732}, "episodes_this_iter": 18, "time_this_iter_s": 29.81624746322632, "timesteps_total": 227101, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d23c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2080>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 5, "policy_reward_mean": {}, "timesteps_this_iter": 47078, "episode_reward_min": 34.1567579603025, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 279.9963757451855, "outflow_rate_min": 122.60142857142858, "outflow_rate_max": 843.1547428571428, "outflow_rate_mean": 480.47736021638667, "cost1_mean": 203.2300307000727, "system_level_velocity_mean": 8.84577744618059, "system_level_velocity_max": 18.738561024751387, "system_level_velocity_min": 5.707211267822842, "cost2_max": -16.05251810329059, "cost2_mean": -77.00199238489756, "cost2_min": -105.58535880286955, "cost1_min": 18.664902574835544}, "episode_reward_max": 464.3540499243068, "episode_reward_mean": 353.5821717008733, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 270167, "timestamp": 1557251631, "time_since_restore": 192.56916427612305, "episodes_total": 83, "iterations_since_restore": 6, "episode_len_mean": 660.6626506024096, "time_total_s": 192.56916427612305, "date": "2019-05-07_17-53-51", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 270167, "update_time_ms": 243.049, "load_time_ms": 20.741, "default": {"kl": 0.011590505950152874, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0033292053267359734, "total_loss": 0.6444746851921082, "entropy": 1.3749608993530273, "vf_explained_var": 0.9889270067214966, "vf_loss": 0.6472243070602417, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 21044.58, "num_steps_trained": 270167, "grad_time_ms": 10687.434}, "episodes_this_iter": 16, "time_this_iter_s": 26.826246738433838, "timesteps_total": 270167, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c73c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74a8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 6, "policy_reward_mean": {}, "timesteps_this_iter": 43066, "episode_reward_min": 34.1567579603025, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 279.9963757451855, "outflow_rate_min": 122.60142857142858, "outflow_rate_max": 843.1547428571428, "outflow_rate_mean": 507.3203285503985, "cost1_mean": 204.83416997079476, "system_level_velocity_mean": 8.753507365698585, "system_level_velocity_max": 18.738561024751387, "system_level_velocity_min": 4.705911077078808, "cost2_max": -16.05251810329059, "cost2_mean": -77.74529580869998, "cost2_min": -105.58535880286955, "cost1_min": 18.664902574835544}, "episode_reward_max": 496.2379110704083, "episode_reward_mean": 364.96461867264276, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 311007, "timestamp": 1557251657, "time_since_restore": 218.39374899864197, "episodes_total": 97, "iterations_since_restore": 7, "episode_len_mean": 666.340206185567, "time_total_s": 218.39374899864197, "date": "2019-05-07_17-54-17", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 311007, "update_time_ms": 209.647, "load_time_ms": 19.332, "default": {"kl": 0.012846670113503933, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.005541069898754358, "total_loss": 2.0059008598327637, "entropy": 1.3573776483535767, "vf_explained_var": 0.9680365920066833, "vf_loss": 2.0107996463775635, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 20378.016, "num_steps_trained": 311007, "grad_time_ms": 10494.68}, "episodes_this_iter": 14, "time_this_iter_s": 25.82458472251892, "timesteps_total": 311007, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2908>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 7, "policy_reward_mean": {}, "timesteps_this_iter": 40840, "episode_reward_min": 34.1567579603025, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 279.9963757451855, "outflow_rate_min": 122.60142857142858, "outflow_rate_max": 1020.6835740259742, "outflow_rate_mean": 576.9167528621213, "cost1_mean": 214.72189440537898, "system_level_velocity_mean": 8.404665385351938, "system_level_velocity_max": 18.449727569848882, "system_level_velocity_min": 4.705911077078808, "cost2_max": -17.735492476492052, "cost2_mean": -83.35780477232244, "cost2_min": -130.28944625964476, "cost1_min": 34.74160693564871}, "episode_reward_max": 590.3406153495717, "episode_reward_mean": 405.3873389843895, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 352075, "timestamp": 1557251683, "time_since_restore": 244.2272379398346, "episodes_total": 116, "iterations_since_restore": 8, "episode_len_mean": 693.52, "time_total_s": 244.2272379398346, "date": "2019-05-07_17-54-43", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 352075, "update_time_ms": 184.841, "load_time_ms": 18.383, "default": {"kl": 0.00815139152109623, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.002525401534512639, "total_loss": 4.076388359069824, "entropy": 1.3300971984863281, "vf_explained_var": 0.9161897897720337, "vf_loss": 4.0785064697265625, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 19976.552, "num_steps_trained": 352075, "grad_time_ms": 10252.774}, "episodes_this_iter": 19, "time_this_iter_s": 25.833488941192627, "timesteps_total": 352075, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2b00>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 8, "policy_reward_mean": {}, "timesteps_this_iter": 41068, "episode_reward_min": 57.10962575027831, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 273.8923113437819, "outflow_rate_min": 122.60142857142858, "outflow_rate_max": 1020.6835740259742, "outflow_rate_mean": 618.7522322906927, "cost1_mean": 214.82026401620524, "system_level_velocity_mean": 8.39390613762718, "system_level_velocity_max": 18.449727569848882, "system_level_velocity_min": 4.705911077078808, "cost2_max": -17.735492476492052, "cost2_mean": -85.69038088739966, "cost2_min": -130.28944625964476, "cost1_min": 34.74160693564871}, "episode_reward_max": 608.3567060886003, "episode_reward_mean": 425.06395152187747, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 393148, "timestamp": 1557251708, "time_since_restore": 269.2848243713379, "episodes_total": 129, "iterations_since_restore": 9, "episode_len_mean": 693.52, "time_total_s": 269.2848243713379, "date": "2019-05-07_17-55-08", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 393148, "update_time_ms": 165.294, "load_time_ms": 17.179, "default": {"kl": 0.0064443484880030155, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.001127418945543468, "total_loss": 3.545240879058838, "entropy": 1.3293848037719727, "vf_explained_var": 0.9345899820327759, "vf_loss": 3.546046495437622, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 19558.686, "num_steps_trained": 393148, "grad_time_ms": 10085.234}, "episodes_this_iter": 13, "time_this_iter_s": 25.057586431503296, "timesteps_total": 393148, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c79e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c79b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 9, "policy_reward_mean": {}, "timesteps_this_iter": 41073, "episode_reward_min": 57.10962575027831, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 269.9725114211556, "outflow_rate_min": 122.60142857142858, "outflow_rate_max": 1065.1296623376625, "outflow_rate_mean": 688.769048466517, "cost1_mean": 217.61503829376426, "system_level_velocity_mean": 8.472012100749744, "system_level_velocity_max": 18.449727569848882, "system_level_velocity_min": 4.705911077078808, "cost2_max": -17.735492476492052, "cost2_mean": -91.25932187977183, "cost2_min": -156.153289339075, "cost1_min": 34.74160693564871}, "episode_reward_max": 654.6039904707837, "episode_reward_mean": 459.2831879171595, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 434357, "timestamp": 1557251734, "time_since_restore": 294.73481154441833, "episodes_total": 145, "iterations_since_restore": 10, "episode_len_mean": 693.52, "time_total_s": 294.73481154441833, "date": "2019-05-07_17-55-34", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 434357, "update_time_ms": 149.627, "load_time_ms": 16.634, "default": {"kl": 0.007397630717605352, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0015549135860055685, "total_loss": 3.7465219497680664, "entropy": 1.3221834897994995, "vf_explained_var": 0.9367867708206177, "vf_loss": 3.747706890106201, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 19222.386, "num_steps_trained": 434357, "grad_time_ms": 9989.587}, "episodes_this_iter": 16, "time_this_iter_s": 25.449987173080444, "timesteps_total": 434357, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caac8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 10, "policy_reward_mean": {}, "timesteps_this_iter": 41209, "episode_reward_min": 57.10962575027831, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 299.2789431453017, "outflow_rate_min": 122.60142857142858, "outflow_rate_max": 1145.0625742257744, "outflow_rate_mean": 793.1382815384616, "cost1_mean": 229.18658956576368, "system_level_velocity_mean": 8.72621562382975, "system_level_velocity_max": 11.122417460380884, "system_level_velocity_min": 4.705911077078808, "cost2_max": -47.891307834064065, "cost2_mean": -99.40582300591653, "cost2_min": -156.153289339075, "cost1_min": 116.2933268032322}, "episode_reward_max": 661.6869222084999, "episode_reward_mean": 505.1869984460566, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 475157, "timestamp": 1557251759, "time_since_restore": 320.31773042678833, "episodes_total": 163, "iterations_since_restore": 11, "episode_len_mean": 700.0, "time_total_s": 320.31773042678833, "date": "2019-05-07_17-55-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 475157, "update_time_ms": 9.316, "load_time_ms": 11.555, "default": {"kl": 0.006378542631864548, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.0005274355062283576, "total_loss": 4.383744716644287, "entropy": 1.3435604572296143, "vf_explained_var": 0.9245246648788452, "vf_loss": 4.383953094482422, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17023.511, "num_steps_trained": 475157, "grad_time_ms": 9827.307}, "episodes_this_iter": 18, "time_this_iter_s": 25.582918882369995, "timesteps_total": 475157, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2e80>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 11, "policy_reward_mean": {}, "timesteps_this_iter": 40800, "episode_reward_min": 286.28418346902345, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 299.2789431453017, "outflow_rate_min": 356.09571428571434, "outflow_rate_max": 1222.859535264735, "outflow_rate_mean": 893.9880867223605, "cost1_mean": 237.26952735371154, "system_level_velocity_mean": 9.1908681559776, "system_level_velocity_max": 18.668951118312126, "system_level_velocity_min": 4.705911077078808, "cost2_max": -23.115262894797265, "cost2_mean": -107.35114787819282, "cost2_min": -161.58942937490002, "cost1_min": 41.71291469437072}, "episode_reward_max": 678.6936237305526, "episode_reward_mean": 541.8331776311561, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 515341, "timestamp": 1557251784, "time_since_restore": 345.24711775779724, "episodes_total": 181, "iterations_since_restore": 12, "episode_len_mean": 693.62, "time_total_s": 345.24711775779724, "date": "2019-05-07_17-56-24", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 515341, "update_time_ms": 9.252, "load_time_ms": 11.442, "default": {"kl": 0.00811664666980505, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.0020232279784977436, "total_loss": 5.520755290985107, "entropy": 1.3397631645202637, "vf_explained_var": 0.914441704750061, "vf_loss": 5.522372722625732, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16770.16, "num_steps_trained": 515341, "grad_time_ms": 9714.77}, "episodes_this_iter": 18, "time_this_iter_s": 24.92938733100891, "timesteps_total": 515341, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d24a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d25c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d22b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 12, "policy_reward_mean": {}, "timesteps_this_iter": 40184, "episode_reward_min": 67.41017775194867, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 299.2789431453017, "outflow_rate_min": 528.6770794288633, "outflow_rate_max": 1222.859535264735, "outflow_rate_mean": 962.454357016067, "cost1_mean": 246.10955028473035, "system_level_velocity_mean": 9.522526384063312, "system_level_velocity_max": 18.668951118312126, "system_level_velocity_min": 7.802922858219988, "cost2_max": -23.115262894797265, "cost2_mean": -113.37206763894585, "cost2_min": -161.58942937490002, "cost1_min": 41.71291469437072}, "episode_reward_max": 678.6936237305526, "episode_reward_mean": 571.4361550190594, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 555899, "timestamp": 1557251810, "time_since_restore": 371.4822714328766, "episodes_total": 199, "iterations_since_restore": 13, "episode_len_mean": 693.62, "time_total_s": 371.4822714328766, "date": "2019-05-07_17-56-50", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 555899, "update_time_ms": 9.234, "load_time_ms": 11.293, "default": {"kl": 0.0055203805677592754, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0008221064927056432, "total_loss": 5.269177436828613, "entropy": 1.3699406385421753, "vf_explained_var": 0.8997214436531067, "vf_loss": 5.269723415374756, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16571.74, "num_steps_trained": 555899, "grad_time_ms": 9726.307}, "episodes_this_iter": 18, "time_this_iter_s": 26.235153675079346, "timesteps_total": 555899, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7cf8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 13, "policy_reward_mean": {}, "timesteps_this_iter": 40558, "episode_reward_min": 67.41017775194867, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 299.2789431453017, "outflow_rate_min": 528.6770794288633, "outflow_rate_max": 1222.859535264735, "outflow_rate_mean": 989.2612919531298, "cost1_mean": 248.60281144988963, "system_level_velocity_mean": 9.619016058733022, "system_level_velocity_max": 18.668951118312126, "system_level_velocity_min": 7.814545484318572, "cost2_max": -23.115262894797265, "cost2_mean": -116.36120930796069, "cost2_min": -161.58942937490002, "cost1_min": 41.71291469437072}, "episode_reward_max": 678.6936237305526, "episode_reward_mean": 584.8691993137548, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 596295, "timestamp": 1557251836, "time_since_restore": 396.7589581012726, "episodes_total": 213, "iterations_since_restore": 14, "episode_len_mean": 693.62, "time_total_s": 396.7589581012726, "date": "2019-05-07_17-57-16", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 596295, "update_time_ms": 9.192, "load_time_ms": 11.231, "default": {"kl": 0.008759020827710629, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.00211565219797194, "total_loss": 4.01535177230835, "entropy": 1.3606070280075073, "vf_explained_var": 0.9330133199691772, "vf_loss": 4.017029285430908, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16481.877, "num_steps_trained": 596295, "grad_time_ms": 9490.553}, "episodes_this_iter": 14, "time_this_iter_s": 25.276686668395996, "timesteps_total": 596295, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cacc0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 14, "policy_reward_mean": {}, "timesteps_this_iter": 40396, "episode_reward_min": 67.41017775194867, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 299.2789431453017, "outflow_rate_min": 528.6770794288633, "outflow_rate_max": 1222.859535264735, "outflow_rate_mean": 1016.219906146936, "cost1_mean": 251.9313643629629, "system_level_velocity_mean": 9.759311553240446, "system_level_velocity_max": 18.668951118312126, "system_level_velocity_min": 7.814545484318572, "cost2_max": -23.115262894797265, "cost2_mean": -118.63175661369364, "cost2_min": -161.58942937490002, "cost1_min": 41.71291469437072}, "episode_reward_max": 678.6936237305526, "episode_reward_mean": 594.7959124912021, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 637043, "timestamp": 1557251860, "time_since_restore": 421.3931312561035, "episodes_total": 230, "iterations_since_restore": 15, "episode_len_mean": 693.62, "time_total_s": 421.3931312561035, "date": "2019-05-07_17-57-40", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 637043, "update_time_ms": 8.832, "load_time_ms": 11.264, "default": {"kl": 0.008055208250880241, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.001936126034706831, "total_loss": 5.515826225280762, "entropy": 1.3425707817077637, "vf_explained_var": 0.9156075716018677, "vf_loss": 5.517359256744385, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16164.61, "num_steps_trained": 637043, "grad_time_ms": 9291.916}, "episodes_this_iter": 17, "time_this_iter_s": 24.634173154830933, "timesteps_total": 637043, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 15, "policy_reward_mean": {}, "timesteps_this_iter": 40748, "episode_reward_min": 67.41017775194867, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 299.2789431453017, "outflow_rate_min": 528.6770794288633, "outflow_rate_max": 1222.859535264735, "outflow_rate_mean": 1025.8918386784044, "cost1_mean": 254.55505226932695, "system_level_velocity_mean": 9.87551221707461, "system_level_velocity_max": 18.668951118312126, "system_level_velocity_min": 7.814545484318572, "cost2_max": -23.115262894797265, "cost2_mean": -118.3722025575723, "cost2_min": -161.58942937490002, "cost1_min": 41.71291469437072}, "episode_reward_max": 698.5384732409703, "episode_reward_mean": 596.5286221273246, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 677728, "timestamp": 1557251888, "time_since_restore": 448.8998906612396, "episodes_total": 245, "iterations_since_restore": 16, "episode_len_mean": 693.62, "time_total_s": 448.8998906612396, "date": "2019-05-07_17-58-08", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 677728, "update_time_ms": 8.764, "load_time_ms": 11.276, "default": {"kl": 0.007900157012045383, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.001792268012650311, "total_loss": 5.252601623535156, "entropy": 1.3581273555755615, "vf_explained_var": 0.922308623790741, "vf_loss": 5.253998756408691, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16079.789, "num_steps_trained": 677728, "grad_time_ms": 9445.285}, "episodes_this_iter": 15, "time_this_iter_s": 27.50675940513611, "timesteps_total": 677728, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f594356c358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 16, "policy_reward_mean": {}, "timesteps_this_iter": 40685, "episode_reward_min": 67.41017775194867, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 295.7324717162285, "outflow_rate_min": 512.9059206967113, "outflow_rate_max": 1222.859535264735, "outflow_rate_mean": 1022.0484467405164, "cost1_mean": 251.18398111358565, "system_level_velocity_mean": 9.936965467798963, "system_level_velocity_max": 18.668951118312126, "system_level_velocity_min": 7.814545484318572, "cost2_max": -20.869479761737193, "cost2_mean": -113.56401651845636, "cost2_min": -161.58942937490002, "cost1_min": 41.71291469437072}, "episode_reward_max": 698.5384732409703, "episode_reward_mean": 582.5250018510983, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 718209, "timestamp": 1557251915, "time_since_restore": 476.1341209411621, "episodes_total": 266, "iterations_since_restore": 17, "episode_len_mean": 687.26, "time_total_s": 476.1341209411621, "date": "2019-05-07_17-58-35", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 718209, "update_time_ms": 8.725, "load_time_ms": 11.333, "default": {"kl": 0.007956230081617832, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.001565457321703434, "total_loss": 7.152451992034912, "entropy": 1.368110179901123, "vf_explained_var": 0.8959192037582397, "vf_loss": 7.153619289398193, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16219.977, "num_steps_trained": 718209, "grad_time_ms": 9446.21}, "episodes_this_iter": 21, "time_this_iter_s": 27.234230279922485, "timesteps_total": 718209, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74a8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 17, "policy_reward_mean": {}, "timesteps_this_iter": 40481, "episode_reward_min": 63.89420319062925, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 295.7324717162285, "outflow_rate_min": 512.9059206967113, "outflow_rate_max": 1164.5275428571429, "outflow_rate_mean": 1009.2743800740998, "cost1_mean": 249.40477991500694, "system_level_velocity_mean": 9.705994292710145, "system_level_velocity_max": 18.18866160593796, "system_level_velocity_min": 7.024412914702118, "cost2_max": -20.869479761737193, "cost2_mean": -107.7831941034719, "cost2_min": -156.9836503764165, "cost1_min": 42.49210375848925}, "episode_reward_max": 698.5384732409703, "episode_reward_mean": 570.8135795996551, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 756748, "timestamp": 1557251939, "time_since_restore": 500.31871604919434, "episodes_total": 285, "iterations_since_restore": 18, "episode_len_mean": 693.64, "time_total_s": 500.31871604919434, "date": "2019-05-07_17-58-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 756748, "update_time_ms": 8.405, "load_time_ms": 11.405, "default": {"kl": 0.010431259870529175, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.003525687614455819, "total_loss": 5.412120819091797, "entropy": 1.3721389770507812, "vf_explained_var": 0.9155886769294739, "vf_loss": 5.415124893188477, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16027.718, "num_steps_trained": 756748, "grad_time_ms": 9475.031}, "episodes_this_iter": 19, "time_this_iter_s": 24.184595108032227, "timesteps_total": 756748, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7ef0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 18, "policy_reward_mean": {}, "timesteps_this_iter": 38539, "episode_reward_min": 63.89420319062925, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 294.8830733877388, "outflow_rate_min": 512.9059206967113, "outflow_rate_max": 1164.5275428571429, "outflow_rate_mean": 993.9521563338401, "cost1_mean": 244.84652782010758, "system_level_velocity_mean": 9.553546966345928, "system_level_velocity_max": 18.18866160593796, "system_level_velocity_min": 7.024412914702118, "cost2_max": -20.869479761737193, "cost2_mean": -102.2721745212645, "cost2_min": -156.9836503764165, "cost1_min": 42.49210375848925}, "episode_reward_max": 698.5384732409703, "episode_reward_mean": 550.6874434265054, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 793829, "timestamp": 1557251963, "time_since_restore": 523.797173500061, "episodes_total": 301, "iterations_since_restore": 19, "episode_len_mean": 693.64, "time_total_s": 523.797173500061, "date": "2019-05-07_17-59-23", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 793829, "update_time_ms": 8.219, "load_time_ms": 11.88, "default": {"kl": 0.007939840666949749, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.00347900646738708, "total_loss": 4.01239013671875, "entropy": 1.3682607412338257, "vf_explained_var": 0.9394941926002502, "vf_loss": 4.015471935272217, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15884.783, "num_steps_trained": 793829, "grad_time_ms": 9460.488}, "episodes_this_iter": 16, "time_this_iter_s": 23.4784574508667, "timesteps_total": 793829, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d25f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bce10>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 19, "policy_reward_mean": {}, "timesteps_this_iter": 37081, "episode_reward_min": 63.89420319062925, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 294.8830733877388, "outflow_rate_min": 512.9059206967113, "outflow_rate_max": 1164.5275428571429, "outflow_rate_mean": 980.8261358303436, "cost1_mean": 243.5416106820585, "system_level_velocity_mean": 9.517765318360782, "system_level_velocity_max": 18.18866160593796, "system_level_velocity_min": 7.024412914702118, "cost2_max": -20.869479761737193, "cost2_mean": -96.51060027786, "cost2_min": -156.9836503764165, "cost1_min": 42.49210375848925}, "episode_reward_max": 698.5384732409703, "episode_reward_mean": 532.4075292151807, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 831953, "timestamp": 1557251987, "time_since_restore": 548.1101744174957, "episodes_total": 317, "iterations_since_restore": 20, "episode_len_mean": 693.64, "time_total_s": 548.1101744174957, "date": "2019-05-07_17-59-47", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 831953, "update_time_ms": 8.253, "load_time_ms": 12.01, "default": {"kl": 0.009859392419457436, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0041499356739223, "total_loss": 4.110202789306641, "entropy": 1.3419301509857178, "vf_explained_var": 0.9281995296478271, "vf_loss": 4.113860130310059, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15736.399, "num_steps_trained": 831953, "grad_time_ms": 9497.433}, "episodes_this_iter": 16, "time_this_iter_s": 24.313000917434692, "timesteps_total": 831953, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d24a8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 20, "policy_reward_mean": {}, "timesteps_this_iter": 38124, "episode_reward_min": 63.89420319062925, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 294.8830733877388, "outflow_rate_min": 512.9059206967113, "outflow_rate_max": 1152.0143456543456, "outflow_rate_mean": 970.8077626235505, "cost1_mean": 241.3082748879725, "system_level_velocity_mean": 9.437048816818974, "system_level_velocity_max": 18.18866160593796, "system_level_velocity_min": 7.024412914702118, "cost2_max": -20.869479761737193, "cost2_mean": -92.1160271934985, "cost2_min": -156.9836503764165, "cost1_min": 42.49210375848925}, "episode_reward_max": 698.5384732409703, "episode_reward_mean": 520.2484694317542, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 870685, "timestamp": 1557252013, "time_since_restore": 574.040967464447, "episodes_total": 331, "iterations_since_restore": 21, "episode_len_mean": 693.64, "time_total_s": 574.040967464447, "date": "2019-05-07_18-00-13", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 870685, "update_time_ms": 8.394, "load_time_ms": 12.224, "default": {"kl": 0.010614462196826935, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.002909785835072398, "total_loss": 3.922659158706665, "entropy": 1.297353744506836, "vf_explained_var": 0.9461107850074768, "vf_loss": 3.9250383377075195, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15756.655, "num_steps_trained": 870685, "grad_time_ms": 9512.355}, "episodes_this_iter": 14, "time_this_iter_s": 25.930793046951294, "timesteps_total": 870685, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7d30>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 21, "policy_reward_mean": {}, "timesteps_this_iter": 38732, "episode_reward_min": 63.89420319062925, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 299.8594931811532, "outflow_rate_min": 512.9059206967113, "outflow_rate_max": 1152.0143456543456, "outflow_rate_mean": 968.9426421759982, "cost1_mean": 241.54193359496432, "system_level_velocity_mean": 9.4320305421186, "system_level_velocity_max": 18.18866160593796, "system_level_velocity_min": 7.024412914702118, "cost2_max": -20.869479761737193, "cost2_mean": -89.55907709289937, "cost2_min": -154.7960112092042, "cost1_min": 42.49210375848925}, "episode_reward_max": 670.9339465146012, "episode_reward_mean": 516.2266036255857, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 911270, "timestamp": 1557252041, "time_since_restore": 601.4010531902313, "episodes_total": 351, "iterations_since_restore": 22, "episode_len_mean": 693.64, "time_total_s": 601.4010531902313, "date": "2019-05-07_18-00-41", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 911270, "update_time_ms": 8.391, "load_time_ms": 12.187, "default": {"kl": 0.009964006952941418, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0032872094307094812, "total_loss": 6.406294345855713, "entropy": 1.2983791828155518, "vf_explained_var": 0.8939985036849976, "vf_loss": 6.409082889556885, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15938.684, "num_steps_trained": 911270, "grad_time_ms": 9573.158}, "episodes_this_iter": 20, "time_this_iter_s": 27.3600857257843, "timesteps_total": 911270, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c76d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc550>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 22, "policy_reward_mean": {}, "timesteps_this_iter": 40585, "episode_reward_min": 63.89420319062925, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 306.81755647335484, "outflow_rate_min": 814.2965714285715, "outflow_rate_max": 1140.5973194805192, "outflow_rate_mean": 982.552537046953, "cost1_mean": 245.25543034753613, "system_level_velocity_mean": 9.395166231681621, "system_level_velocity_max": 11.597462861659984, "system_level_velocity_min": 7.024412914702118, "cost2_max": -68.61819887352186, "cost2_mean": -91.78096172080977, "cost2_min": -135.71524230742102, "cost1_min": 176.79898070686681}, "episode_reward_max": 653.2938235321727, "episode_reward_mean": 530.2640547278346, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 951523, "timestamp": 1557252068, "time_since_restore": 628.6317343711853, "episodes_total": 369, "iterations_since_restore": 23, "episode_len_mean": 700.0, "time_total_s": 628.6317343711853, "date": "2019-05-07_18-01-08", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 951523, "update_time_ms": 8.455, "load_time_ms": 12.664, "default": {"kl": 0.00912433210760355, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.002631197450682521, "total_loss": 6.470260143280029, "entropy": 1.3022587299346924, "vf_explained_var": 0.9085382223129272, "vf_loss": 6.4724345207214355, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16133.945, "num_steps_trained": 951523, "grad_time_ms": 9477.439}, "episodes_this_iter": 18, "time_this_iter_s": 27.23068118095398, "timesteps_total": 951523, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcfd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcb38>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 23, "policy_reward_mean": {}, "timesteps_this_iter": 40253, "episode_reward_min": 418.66164792305466, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 306.81755647335484, "outflow_rate_min": 868.4085714285715, "outflow_rate_max": 1140.5973194805192, "outflow_rate_mean": 999.1664726873126, "cost1_mean": 251.20118985515322, "system_level_velocity_mean": 9.61669648213674, "system_level_velocity_max": 11.597462861659984, "system_level_velocity_min": 8.000710163499216, "cost2_max": -68.61819887352186, "cost2_mean": -97.15053407747808, "cost2_min": -135.71524230742102, "cost1_min": 202.01954986057996}, "episode_reward_max": 679.5380893637779, "episode_reward_mean": 548.9089707609388, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 990794, "timestamp": 1557252093, "time_since_restore": 653.5488126277924, "episodes_total": 387, "iterations_since_restore": 24, "episode_len_mean": 700.0, "time_total_s": 653.5488126277924, "date": "2019-05-07_18-01-33", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 990794, "update_time_ms": 8.235, "load_time_ms": 12.926, "default": {"kl": 0.007373984903097153, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0026592479553073645, "total_loss": 6.177847385406494, "entropy": 1.2986098527908325, "vf_explained_var": 0.9067175388336182, "vf_loss": 6.180138111114502, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16143.088, "num_steps_trained": 990794, "grad_time_ms": 9432.669}, "episodes_this_iter": 18, "time_this_iter_s": 24.917078256607056, "timesteps_total": 990794, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab00>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 24, "policy_reward_mean": {}, "timesteps_this_iter": 39271, "episode_reward_min": 418.66164792305466, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 306.81755647335484, "outflow_rate_min": 480.3595784917904, "outflow_rate_max": 1140.5973194805192, "outflow_rate_mean": 1007.8859596330698, "cost1_mean": 255.32127279312186, "system_level_velocity_mean": 9.935376871418665, "system_level_velocity_max": 18.593781096376095, "system_level_velocity_min": 8.132855114094061, "cost2_max": -21.244441249102344, "cost2_mean": -100.27283680292679, "cost2_min": -135.71524230742102, "cost1_min": 33.72893763911804}, "episode_reward_max": 694.5930368890915, "episode_reward_mean": 561.8665658554711, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1029942, "timestamp": 1557252119, "time_since_restore": 679.4482190608978, "episodes_total": 403, "iterations_since_restore": 25, "episode_len_mean": 693.5, "time_total_s": 679.4482190608978, "date": "2019-05-07_18-01-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1029942, "update_time_ms": 7.846, "load_time_ms": 12.903, "default": {"kl": 0.007762766443192959, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.002373799216002226, "total_loss": 6.326264381408691, "entropy": 1.2970739603042603, "vf_explained_var": 0.9093207716941833, "vf_loss": 6.328250408172607, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16226.623, "num_steps_trained": 1029942, "grad_time_ms": 9477.881}, "episodes_this_iter": 16, "time_this_iter_s": 25.89940643310547, "timesteps_total": 1029942, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c73c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7d30>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 25, "policy_reward_mean": {}, "timesteps_this_iter": 39148, "episode_reward_min": 48.85539526880185, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 313.0439411523976, "outflow_rate_min": 480.3595784917904, "outflow_rate_max": 1140.5973194805192, "outflow_rate_mean": 1020.0089284402625, "cost1_mean": 261.2845409267493, "system_level_velocity_mean": 10.162024089399196, "system_level_velocity_max": 18.593781096376095, "system_level_velocity_min": 8.132855114094061, "cost2_max": -21.244441249102344, "cost2_mean": -103.78107904755194, "cost2_min": -135.71524230742102, "cost1_min": 33.72893763911804}, "episode_reward_max": 694.5930368890915, "episode_reward_mean": 577.435505107959, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1070747, "timestamp": 1557252146, "time_since_restore": 706.5690093040466, "episodes_total": 417, "iterations_since_restore": 26, "episode_len_mean": 693.5, "time_total_s": 706.5690093040466, "date": "2019-05-07_18-02-26", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1070747, "update_time_ms": 7.676, "load_time_ms": 12.922, "default": {"kl": 0.008620209991931915, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.0025994868483394384, "total_loss": 5.391064643859863, "entropy": 1.282600998878479, "vf_explained_var": 0.9404147863388062, "vf_loss": 5.393232822418213, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16463.295, "num_steps_trained": 1070747, "grad_time_ms": 9202.425}, "episodes_this_iter": 14, "time_this_iter_s": 27.120790243148804, "timesteps_total": 1070747, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434decf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434decc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ded30>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 26, "policy_reward_mean": {}, "timesteps_this_iter": 40805, "episode_reward_min": 48.85539526880185, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 319.13780922283934, "outflow_rate_min": 480.3595784917904, "outflow_rate_max": 1140.5973194805192, "outflow_rate_mean": 1027.6400839647383, "cost1_mean": 268.19928937348874, "system_level_velocity_mean": 10.435393234667306, "system_level_velocity_max": 18.593781096376095, "system_level_velocity_min": 8.132855114094061, "cost2_max": -21.244441249102344, "cost2_mean": -107.90730111979842, "cost2_min": -135.71524230742102, "cost1_min": 33.72893763911804}, "episode_reward_max": 694.5930368890915, "episode_reward_mean": 589.4844752795354, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1111051, "timestamp": 1557252171, "time_since_restore": 731.280820608139, "episodes_total": 436, "iterations_since_restore": 27, "episode_len_mean": 693.5, "time_total_s": 731.280820608139, "date": "2019-05-07_18-02-51", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1111051, "update_time_ms": 7.63, "load_time_ms": 12.992, "default": {"kl": 0.009455986320972443, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0025927983224391937, "total_loss": 6.360182285308838, "entropy": 1.2756381034851074, "vf_explained_var": 0.9192854762077332, "vf_loss": 6.362302303314209, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16255.75, "num_steps_trained": 1111051, "grad_time_ms": 9158.558}, "episodes_this_iter": 19, "time_this_iter_s": 24.711811304092407, "timesteps_total": 1111051, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434def60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de898>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 27, "policy_reward_mean": {}, "timesteps_this_iter": 40304, "episode_reward_min": 48.85539526880185, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 324.8912033268414, "outflow_rate_min": 470.65067266487256, "outflow_rate_max": 1186.0268903096903, "outflow_rate_mean": 1023.5826412048733, "cost1_mean": 270.0929008998912, "system_level_velocity_mean": 10.706146967809236, "system_level_velocity_max": 19.148474221730112, "system_level_velocity_min": 8.60731634845468, "cost2_max": -17.866828331079223, "cost2_mean": -107.40675136229241, "cost2_min": -135.71524230742102, "cost1_min": 29.220803792482577}, "episode_reward_max": 694.5930368890915, "episode_reward_mean": 587.7086799413007, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1150276, "timestamp": 1557252199, "time_since_restore": 759.558331489563, "episodes_total": 454, "iterations_since_restore": 28, "episode_len_mean": 686.93, "time_total_s": 759.558331489563, "date": "2019-05-07_18-03-19", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1150276, "update_time_ms": 7.669, "load_time_ms": 12.957, "default": {"kl": 0.012048409320414066, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.003906072350218892, "total_loss": 6.8102030754089355, "entropy": 1.2441047430038452, "vf_explained_var": 0.9326583743095398, "vf_loss": 6.813506126403809, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16458.764, "num_steps_trained": 1150276, "grad_time_ms": 9363.376}, "episodes_this_iter": 18, "time_this_iter_s": 28.27751088142395, "timesteps_total": 1150276, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bce10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc3c8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 28, "policy_reward_mean": {}, "timesteps_this_iter": 39225, "episode_reward_min": 48.85539526880185, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 324.8912033268414, "outflow_rate_min": 468.1458274290127, "outflow_rate_max": 1211.074284115884, "outflow_rate_mean": 1013.9345174491935, "cost1_mean": 271.5948667188664, "system_level_velocity_mean": 10.95185135364281, "system_level_velocity_max": 19.273528942792048, "system_level_velocity_min": 8.862772725448286, "cost2_max": -17.866828331079223, "cost2_mean": -104.66904511907289, "cost2_min": -131.84549407671622, "cost1_min": 27.688945116231036}, "episode_reward_max": 699.4644289636755, "episode_reward_mean": 585.4406364114456, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1188971, "timestamp": 1557252223, "time_since_restore": 783.6321675777435, "episodes_total": 475, "iterations_since_restore": 29, "episode_len_mean": 680.34, "time_total_s": 783.6321675777435, "date": "2019-05-07_18-03-43", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1188971, "update_time_ms": 8.0, "load_time_ms": 12.85, "default": {"kl": 0.010139280930161476, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.003163066226989031, "total_loss": 7.740164756774902, "entropy": 1.2564992904663086, "vf_explained_var": 0.9130891561508179, "vf_loss": 7.7428202629089355, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16567.185, "num_steps_trained": 1188971, "grad_time_ms": 9313.865}, "episodes_this_iter": 21, "time_this_iter_s": 24.073836088180542, "timesteps_total": 1188971, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da438>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 29, "policy_reward_mean": {}, "timesteps_this_iter": 38695, "episode_reward_min": 46.37835692033649, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 351.4694331235129, "outflow_rate_min": 468.1458274290127, "outflow_rate_max": 1276.0282517482517, "outflow_rate_mean": 1017.5395950475951, "cost1_mean": 274.43494803368264, "system_level_velocity_mean": 11.07281878548863, "system_level_velocity_max": 19.273528942792048, "system_level_velocity_min": 8.939290272806746, "cost2_max": -17.866828331079223, "cost2_mean": -102.96164059834358, "cost2_min": -131.06147349943717, "cost1_min": 27.688945116231036}, "episode_reward_max": 732.110102907231, "episode_reward_mean": 584.1212763168932, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1227936, "timestamp": 1557252248, "time_since_restore": 808.2137403488159, "episodes_total": 489, "iterations_since_restore": 30, "episode_len_mean": 680.34, "time_total_s": 808.2137403488159, "date": "2019-05-07_18-04-08", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1227936, "update_time_ms": 7.841, "load_time_ms": 12.819, "default": {"kl": 0.0085734399035573, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.0033693246077746153, "total_loss": 5.218080043792725, "entropy": 1.2523037195205688, "vf_explained_var": 0.9300419688224792, "vf_loss": 5.2210211753845215, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16654.661, "num_steps_trained": 1227936, "grad_time_ms": 9254.534}, "episodes_this_iter": 14, "time_this_iter_s": 24.581572771072388, "timesteps_total": 1227936, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de0f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 30, "policy_reward_mean": {}, "timesteps_this_iter": 38965, "episode_reward_min": 46.37835692033649, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 351.4694331235129, "outflow_rate_min": 468.1458274290127, "outflow_rate_max": 1276.0282517482517, "outflow_rate_mean": 1020.5876956942457, "cost1_mean": 276.4202258405956, "system_level_velocity_mean": 10.98032324974277, "system_level_velocity_max": 19.273528942792048, "system_level_velocity_min": 8.939290272806746, "cost2_max": -17.866828331079223, "cost2_mean": -102.09712955245455, "cost2_min": -131.06147349943717, "cost1_min": 27.688945116231036}, "episode_reward_max": 732.110102907231, "episode_reward_mean": 590.034575836074, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1267617, "timestamp": 1557252272, "time_since_restore": 832.7747521400452, "episodes_total": 504, "iterations_since_restore": 31, "episode_len_mean": 686.84, "time_total_s": 832.7747521400452, "date": "2019-05-07_18-04-32", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1267617, "update_time_ms": 7.605, "load_time_ms": 12.905, "default": {"kl": 0.00891038402915001, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0033446243032813072, "total_loss": 5.032626628875732, "entropy": 1.2200614213943481, "vf_explained_var": 0.9346677660942078, "vf_loss": 5.035525798797607, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16547.609, "num_steps_trained": 1267617, "grad_time_ms": 9225.205}, "episodes_this_iter": 15, "time_this_iter_s": 24.561011791229248, "timesteps_total": 1267617, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daf98>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 31, "policy_reward_mean": {}, "timesteps_this_iter": 39681, "episode_reward_min": 46.37835692033649, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 351.4694331235129, "outflow_rate_min": 468.1458274290127, "outflow_rate_max": 1276.0282517482517, "outflow_rate_mean": 1013.8372747511885, "cost1_mean": 274.27362406174984, "system_level_velocity_mean": 10.90458296482112, "system_level_velocity_max": 19.273528942792048, "system_level_velocity_min": 8.939290272806746, "cost2_max": -17.866828331079223, "cost2_mean": -100.25364284107802, "cost2_min": -131.06147349943717, "cost1_min": 27.688945116231036}, "episode_reward_max": 732.110102907231, "episode_reward_mean": 585.3879870619744, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1307582, "timestamp": 1557252299, "time_since_restore": 859.0210165977478, "episodes_total": 521, "iterations_since_restore": 32, "episode_len_mean": 686.84, "time_total_s": 859.0210165977478, "date": "2019-05-07_18-04-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1307582, "update_time_ms": 7.508, "load_time_ms": 13.141, "default": {"kl": 0.010837848298251629, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0033442266285419464, "total_loss": 5.536170959472656, "entropy": 1.2060364484786987, "vf_explained_var": 0.9391937255859375, "vf_loss": 5.538974285125732, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16532.255, "num_steps_trained": 1307582, "grad_time_ms": 9129.498}, "episodes_this_iter": 17, "time_this_iter_s": 26.246264457702637, "timesteps_total": 1307582, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dea20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ded68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434debe0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 32, "policy_reward_mean": {}, "timesteps_this_iter": 39965, "episode_reward_min": 46.37835692033649, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 351.4694331235129, "outflow_rate_min": 468.1458274290127, "outflow_rate_max": 1276.0282517482517, "outflow_rate_mean": 1010.1949142341638, "cost1_mean": 270.90288438021145, "system_level_velocity_mean": 10.965240131168162, "system_level_velocity_max": 19.273528942792048, "system_level_velocity_min": 8.939290272806746, "cost2_max": -17.866828331079223, "cost2_mean": -97.35789060746887, "cost2_min": -131.06147349943717, "cost1_min": 27.688945116231036}, "episode_reward_max": 732.110102907231, "episode_reward_mean": 577.8796926195745, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1346788, "timestamp": 1557252325, "time_since_restore": 885.1917593479156, "episodes_total": 541, "iterations_since_restore": 33, "episode_len_mean": 680.3, "time_total_s": 885.1917593479156, "date": "2019-05-07_18-05-25", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1346788, "update_time_ms": 7.505, "load_time_ms": 13.07, "default": {"kl": 0.01021132804453373, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0026707546785473824, "total_loss": 7.557429790496826, "entropy": 1.2065966129302979, "vf_explained_var": 0.926077127456665, "vf_loss": 7.559589385986328, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16453.96, "num_steps_trained": 1346788, "grad_time_ms": 9101.562}, "episodes_this_iter": 20, "time_this_iter_s": 26.170742750167847, "timesteps_total": 1346788, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daa58>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 33, "policy_reward_mean": {}, "timesteps_this_iter": 39206, "episode_reward_min": 46.37835692033649, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 351.4694331235129, "outflow_rate_min": 468.1458274290127, "outflow_rate_max": 1276.0282517482517, "outflow_rate_mean": 1015.6377632517709, "cost1_mean": 272.5995662194518, "system_level_velocity_mean": 10.880378475056643, "system_level_velocity_max": 19.273528942792048, "system_level_velocity_min": 8.95765332882114, "cost2_max": -19.402700033073717, "cost2_mean": -98.532567323507, "cost2_min": -131.06147349943717, "cost1_min": 27.688945116231036}, "episode_reward_max": 732.110102907231, "episode_reward_mean": 578.7079770709715, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1385045, "timestamp": 1557252349, "time_since_restore": 909.929842710495, "episodes_total": 560, "iterations_since_restore": 34, "episode_len_mean": 686.87, "time_total_s": 909.929842710495, "date": "2019-05-07_18-05-49", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1385045, "update_time_ms": 7.481, "load_time_ms": 12.711, "default": {"kl": 0.009171261452138424, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.002565923612564802, "total_loss": 6.820756435394287, "entropy": 1.2072627544403076, "vf_explained_var": 0.9324477910995483, "vf_loss": 6.8228631019592285, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16460.288, "num_steps_trained": 1385045, "grad_time_ms": 9079.347}, "episodes_this_iter": 19, "time_this_iter_s": 24.738083362579346, "timesteps_total": 1385045, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de0b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 34, "policy_reward_mean": {}, "timesteps_this_iter": 38257, "episode_reward_min": 46.37835692033649, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 356.17160430227426, "outflow_rate_min": 478.55213650930926, "outflow_rate_max": 1276.0282517482517, "outflow_rate_mean": 1028.5385168935647, "cost1_mean": 278.04929173101374, "system_level_velocity_mean": 10.935532871538639, "system_level_velocity_max": 18.500939650256633, "system_level_velocity_min": 9.0987954510628, "cost2_max": -21.10577412552553, "cost2_mean": -99.07447755765756, "cost2_min": -126.06972806167921, "cost1_min": 30.364137820906475}, "episode_reward_max": 732.110102907231, "episode_reward_mean": 583.3591022090282, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1423137, "timestamp": 1557252374, "time_since_restore": 934.113297700882, "episodes_total": 576, "iterations_since_restore": 35, "episode_len_mean": 693.46, "time_total_s": 934.113297700882, "date": "2019-05-07_18-06-14", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1423137, "update_time_ms": 7.52, "load_time_ms": 12.638, "default": {"kl": 0.011193112470209599, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.003404713701456785, "total_loss": 5.8274641036987305, "entropy": 1.2125763893127441, "vf_explained_var": 0.9418805837631226, "vf_loss": 5.83030891418457, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16343.97, "num_steps_trained": 1423137, "grad_time_ms": 9023.703}, "episodes_this_iter": 16, "time_this_iter_s": 24.183454990386963, "timesteps_total": 1423137, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc3c8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 35, "policy_reward_mean": {}, "timesteps_this_iter": 38092, "episode_reward_min": 51.92202891319062, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 356.17160430227426, "outflow_rate_min": 478.55213650930926, "outflow_rate_max": 1215.2782745254744, "outflow_rate_mean": 1032.0952560943638, "cost1_mean": 278.93129952253395, "system_level_velocity_mean": 10.992158127875252, "system_level_velocity_max": 18.500939650256633, "system_level_velocity_min": 9.0987954510628, "cost2_max": -21.10577412552553, "cost2_mean": -100.12664697221679, "cost2_min": -124.92229633430031, "cost1_min": 30.364137820906475}, "episode_reward_max": 715.8930649912019, "episode_reward_mean": 581.2758284146838, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1462567, "timestamp": 1557252398, "time_since_restore": 958.2804253101349, "episodes_total": 595, "iterations_since_restore": 36, "episode_len_mean": 693.46, "time_total_s": 958.2804253101349, "date": "2019-05-07_18-06-38", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1462567, "update_time_ms": 7.655, "load_time_ms": 13.056, "default": {"kl": 0.010623190551996231, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.003966168966144323, "total_loss": 6.97187614440918, "entropy": 1.2228268384933472, "vf_explained_var": 0.9257007837295532, "vf_loss": 6.975311756134033, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15966.755, "num_steps_trained": 1462567, "grad_time_ms": 9104.228}, "episodes_this_iter": 19, "time_this_iter_s": 24.16712760925293, "timesteps_total": 1462567, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434decf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dea58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434debe0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 36, "policy_reward_mean": {}, "timesteps_this_iter": 39430, "episode_reward_min": 51.92202891319062, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 367.30037160030923, "outflow_rate_min": 478.55213650930926, "outflow_rate_max": 1293.374756043956, "outflow_rate_mean": 1039.5555288056523, "cost1_mean": 281.19105790737785, "system_level_velocity_mean": 11.08821501760815, "system_level_velocity_max": 18.500939650256633, "system_level_velocity_min": 9.0987954510628, "cost2_max": -21.10577412552553, "cost2_mean": -102.31523026336117, "cost2_min": -128.06940346444892, "cost1_min": 30.364137820906475}, "episode_reward_max": 715.8930649912019, "episode_reward_mean": 582.844497175755, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1502243, "timestamp": 1557252423, "time_since_restore": 982.9242930412292, "episodes_total": 608, "iterations_since_restore": 37, "episode_len_mean": 693.46, "time_total_s": 982.9242930412292, "date": "2019-05-07_18-07-03", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1502243, "update_time_ms": 7.453, "load_time_ms": 13.087, "default": {"kl": 0.010990175418555737, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.004166340921074152, "total_loss": 4.861626625061035, "entropy": 1.1908670663833618, "vf_explained_var": 0.9525565505027771, "vf_loss": 4.865243434906006, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15805.567, "num_steps_trained": 1502243, "grad_time_ms": 9258.303}, "episodes_this_iter": 13, "time_this_iter_s": 24.64386773109436, "timesteps_total": 1502243, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2ba8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 37, "policy_reward_mean": {}, "timesteps_this_iter": 39676, "episode_reward_min": 51.92202891319062, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 367.30037160030923, "outflow_rate_min": 468.51659183910147, "outflow_rate_max": 1293.374756043956, "outflow_rate_mean": 1052.5286386241437, "cost1_mean": 284.5327981079324, "system_level_velocity_mean": 11.392539367276663, "system_level_velocity_max": 18.562116125422637, "system_level_velocity_min": 9.435760545185436, "cost2_max": -21.10577412552553, "cost2_mean": -105.20551547600196, "cost2_min": -130.0655705404642, "cost1_min": 30.364137820906475}, "episode_reward_max": 725.3397346836937, "episode_reward_mean": 585.4169868378989, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1541284, "timestamp": 1557252448, "time_since_restore": 1008.4094758033752, "episodes_total": 627, "iterations_since_restore": 38, "episode_len_mean": 686.97, "time_total_s": 1008.4094758033752, "date": "2019-05-07_18-07-28", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1541284, "update_time_ms": 7.377, "load_time_ms": 13.31, "default": {"kl": 0.010704061947762966, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.002939319470897317, "total_loss": 8.125875473022461, "entropy": 1.192993402481079, "vf_explained_var": 0.9319895505905151, "vf_loss": 8.128280639648438, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15668.275, "num_steps_trained": 1541284, "grad_time_ms": 9116.863}, "episodes_this_iter": 19, "time_this_iter_s": 25.485182762145996, "timesteps_total": 1541284, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dae10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dacf8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 38, "policy_reward_mean": {}, "timesteps_this_iter": 39041, "episode_reward_min": 51.92202891319062, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 367.30037160030923, "outflow_rate_min": 468.51659183910147, "outflow_rate_max": 1293.374756043956, "outflow_rate_mean": 1059.0040762695048, "cost1_mean": 285.63736240086524, "system_level_velocity_mean": 11.576818045672097, "system_level_velocity_max": 18.89278823538697, "system_level_velocity_min": 9.291668092960162, "cost2_max": -26.639212264889927, "cost2_mean": -107.39696581810097, "cost2_min": -132.99531064306404, "cost1_min": 35.07813250882362}, "episode_reward_max": 725.3397346836937, "episode_reward_mean": 582.9029729921881, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1579864, "timestamp": 1557252472, "time_since_restore": 1032.6598217487335, "episodes_total": 647, "iterations_since_restore": 39, "episode_len_mean": 681.38, "time_total_s": 1032.6598217487335, "date": "2019-05-07_18-07-52", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1579864, "update_time_ms": 7.018, "load_time_ms": 13.663, "default": {"kl": 0.011256106197834015, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.004223965108394623, "total_loss": 8.422510147094727, "entropy": 1.2041398286819458, "vf_explained_var": 0.9219031929969788, "vf_loss": 8.426170349121094, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15509.759, "num_steps_trained": 1579864, "grad_time_ms": 9291.877}, "episodes_this_iter": 20, "time_this_iter_s": 24.250345945358276, "timesteps_total": 1579864, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dea20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de208>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 39, "policy_reward_mean": {}, "timesteps_this_iter": 38580, "episode_reward_min": 53.36685954152631, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 367.30037160030923, "outflow_rate_min": 468.51659183910147, "outflow_rate_max": 1293.374756043956, "outflow_rate_mean": 1063.50990546431, "cost1_mean": 287.7174173581283, "system_level_velocity_mean": 11.655076713569615, "system_level_velocity_max": 18.89278823538697, "system_level_velocity_min": 9.291668092960162, "cost2_max": -26.639212264889927, "cost2_mean": -108.11233509278814, "cost2_min": -132.99531064306404, "cost1_min": 35.07813250882362}, "episode_reward_max": 725.3397346836937, "episode_reward_mean": 586.0792460634622, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1618168, "timestamp": 1557252496, "time_since_restore": 1056.208636522293, "episodes_total": 663, "iterations_since_restore": 40, "episode_len_mean": 681.38, "time_total_s": 1056.208636522293, "date": "2019-05-07_18-08-16", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1618168, "update_time_ms": 7.035, "load_time_ms": 13.851, "default": {"kl": 0.014285843819379807, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0038713375106453896, "total_loss": 6.533114910125732, "entropy": 1.193494200706482, "vf_explained_var": 0.9353927373886108, "vf_loss": 6.536272048950195, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15307.4, "num_steps_trained": 1618168, "grad_time_ms": 9390.016}, "episodes_this_iter": 16, "time_this_iter_s": 23.54881477355957, "timesteps_total": 1618168, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d27f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dec18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2400>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 40, "policy_reward_mean": {}, "timesteps_this_iter": 38304, "episode_reward_min": 53.36685954152631, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 402.75565058338464, "outflow_rate_min": 468.51659183910147, "outflow_rate_max": 1398.9407896103896, "outflow_rate_mean": 1067.5616029987752, "cost1_mean": 288.6663452572225, "system_level_velocity_mean": 11.682484076867503, "system_level_velocity_max": 18.89278823538697, "system_level_velocity_min": 9.129476666222903, "cost2_max": -26.639212264889927, "cost2_mean": -110.1961388024917, "cost2_min": -138.07768647022044, "cost1_min": 35.07813250882362}, "episode_reward_max": 753.7708880293357, "episode_reward_mean": 586.9460991164001, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1656601, "timestamp": 1557252521, "time_since_restore": 1081.702981710434, "episodes_total": 683, "iterations_since_restore": 41, "episode_len_mean": 681.38, "time_total_s": 1081.702981710434, "date": "2019-05-07_18-08-41", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1656601, "update_time_ms": 7.263, "load_time_ms": 13.774, "default": {"kl": 0.012369846925139427, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.00434121722355485, "total_loss": 7.480869770050049, "entropy": 1.2148154973983765, "vf_explained_var": 0.9347852468490601, "vf_loss": 7.484592437744141, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15252.088, "num_steps_trained": 1656601, "grad_time_ms": 9537.618}, "episodes_this_iter": 20, "time_this_iter_s": 25.49434518814087, "timesteps_total": 1656601, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da978>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 41, "policy_reward_mean": {}, "timesteps_this_iter": 38433, "episode_reward_min": 53.36685954152631, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 402.75565058338464, "outflow_rate_min": 468.51659183910147, "outflow_rate_max": 1398.9407896103896, "outflow_rate_mean": 1075.8357079279178, "cost1_mean": 289.64177732408143, "system_level_velocity_mean": 11.890446872319977, "system_level_velocity_max": 19.577231759548376, "system_level_velocity_min": 9.129476666222903, "cost2_max": -22.360418016538443, "cost2_mean": -110.41986074626007, "cost2_min": -138.07768647022044, "cost1_min": 29.58002005411787}, "episode_reward_max": 753.7708880293357, "episode_reward_mean": 585.0449029981293, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1695518, "timestamp": 1557252547, "time_since_restore": 1107.5125668048859, "episodes_total": 702, "iterations_since_restore": 42, "episode_len_mean": 674.81, "time_total_s": 1107.5125668048859, "date": "2019-05-07_18-09-07", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1695518, "update_time_ms": 7.633, "load_time_ms": 13.501, "default": {"kl": 0.010472388938069344, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.003959372639656067, "total_loss": 7.794969081878662, "entropy": 1.196480631828308, "vf_explained_var": 0.9335387349128723, "vf_loss": 7.798405647277832, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15019.054, "num_steps_trained": 1695518, "grad_time_ms": 9726.961}, "episodes_this_iter": 19, "time_this_iter_s": 25.809585094451904, "timesteps_total": 1695518, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7080>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 42, "policy_reward_mean": {}, "timesteps_this_iter": 38917, "episode_reward_min": 49.245924129253574, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 402.75565058338464, "outflow_rate_min": 471.753448358796, "outflow_rate_max": 1398.9407896103896, "outflow_rate_mean": 1078.5196553095122, "cost1_mean": 288.5178680463854, "system_level_velocity_mean": 11.856683551596513, "system_level_velocity_max": 19.577231759548376, "system_level_velocity_min": 9.129476666222903, "cost2_max": -22.360418016538443, "cost2_mean": -110.2805919227941, "cost2_min": -138.07768647022044, "cost1_min": 29.58002005411787}, "episode_reward_max": 753.7708880293357, "episode_reward_mean": 582.9790305162607, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1734558, "timestamp": 1557252572, "time_since_restore": 1132.180462360382, "episodes_total": 719, "iterations_since_restore": 43, "episode_len_mean": 674.76, "time_total_s": 1132.180462360382, "date": "2019-05-07_18-09-32", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1734558, "update_time_ms": 7.808, "load_time_ms": 13.388, "default": {"kl": 0.010898514650762081, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.004387084860354662, "total_loss": 8.030218124389648, "entropy": 1.2257016897201538, "vf_explained_var": 0.9224835634231567, "vf_loss": 8.03406047821045, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14686.52, "num_steps_trained": 1734558, "grad_time_ms": 9907.398}, "episodes_this_iter": 17, "time_this_iter_s": 24.667895555496216, "timesteps_total": 1734558, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eacf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea2e8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 43, "policy_reward_mean": {}, "timesteps_this_iter": 39040, "episode_reward_min": 49.245924129253574, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 402.75565058338464, "outflow_rate_min": 445.5539686726139, "outflow_rate_max": 1398.9407896103896, "outflow_rate_mean": 1078.9403332870193, "cost1_mean": 289.9434652489469, "system_level_velocity_mean": 11.927239224272862, "system_level_velocity_max": 19.577231759548376, "system_level_velocity_min": 9.129476666222903, "cost2_max": -20.040352688375187, "cost2_mean": -108.64580488889425, "cost2_min": -138.07768647022044, "cost1_min": 24.78073967934319}, "episode_reward_max": 753.7708880293357, "episode_reward_mean": 583.4823834080993, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1772977, "timestamp": 1557252598, "time_since_restore": 1158.408212184906, "episodes_total": 735, "iterations_since_restore": 44, "episode_len_mean": 673.89, "time_total_s": 1158.408212184906, "date": "2019-05-07_18-09-58", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1772977, "update_time_ms": 8.184, "load_time_ms": 13.495, "default": {"kl": 0.015094051137566566, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.005745222792029381, "total_loss": 7.570138931274414, "entropy": 1.2253228425979614, "vf_explained_var": 0.9260365962982178, "vf_loss": 7.575129985809326, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14595.865, "num_steps_trained": 1772977, "grad_time_ms": 10142.723}, "episodes_this_iter": 16, "time_this_iter_s": 26.227749824523926, "timesteps_total": 1772977, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da860>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 44, "policy_reward_mean": {}, "timesteps_this_iter": 38419, "episode_reward_min": 41.36268402005774, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 402.75565058338464, "outflow_rate_min": 442.39605397933786, "outflow_rate_max": 1398.9407896103896, "outflow_rate_mean": 1078.5674155585448, "cost1_mean": 288.6588591402262, "system_level_velocity_mean": 11.860588205454153, "system_level_velocity_max": 19.577231759548376, "system_level_velocity_min": 9.129476666222903, "cost2_max": -20.040352688375187, "cost2_mean": -105.98942610193254, "cost2_min": -138.07768647022044, "cost1_min": 24.78073967934319}, "episode_reward_max": 753.7708880293357, "episode_reward_mean": 581.2926364348943, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1811141, "timestamp": 1557252624, "time_since_restore": 1184.204342365265, "episodes_total": 755, "iterations_since_restore": 45, "episode_len_mean": 673.78, "time_total_s": 1184.204342365265, "date": "2019-05-07_18-10-24", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1811141, "update_time_ms": 8.464, "load_time_ms": 13.54, "default": {"kl": 0.01177220605313778, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.004632585681974888, "total_loss": 7.958670616149902, "entropy": 1.1972485780715942, "vf_explained_var": 0.9399551153182983, "vf_loss": 7.962714672088623, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14592.038, "num_steps_trained": 1811141, "grad_time_ms": 10305.388}, "episodes_this_iter": 20, "time_this_iter_s": 25.796130180358887, "timesteps_total": 1811141, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 45, "policy_reward_mean": {}, "timesteps_this_iter": 38164, "episode_reward_min": 41.36268402005774, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 374.25500267801795, "outflow_rate_min": 442.39605397933786, "outflow_rate_max": 1309.687111288711, "outflow_rate_mean": 1083.6748113067965, "cost1_mean": 290.5242175315559, "system_level_velocity_mean": 11.925335068846682, "system_level_velocity_max": 19.577231759548376, "system_level_velocity_min": 8.87752052276348, "cost2_max": -20.040352688375187, "cost2_mean": -104.65003478556555, "cost2_min": -134.21429415709827, "cost1_min": 24.78073967934319}, "episode_reward_max": 692.3915994528345, "episode_reward_mean": 578.127372432108, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1849617, "timestamp": 1557252651, "time_since_restore": 1210.6793100833893, "episodes_total": 775, "iterations_since_restore": 46, "episode_len_mean": 673.78, "time_total_s": 1210.6793100833893, "date": "2019-05-07_18-10-51", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1849617, "update_time_ms": 8.859, "load_time_ms": 13.18, "default": {"kl": 0.012052515521645546, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.004386219661682844, "total_loss": 7.804343223571777, "entropy": 1.1910227537155151, "vf_explained_var": 0.9458410739898682, "vf_loss": 7.808126449584961, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14739.953, "num_steps_trained": 1849617, "grad_time_ms": 10390.682}, "episodes_this_iter": 20, "time_this_iter_s": 26.47496771812439, "timesteps_total": 1849617, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bce10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dea20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da908>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 46, "policy_reward_mean": {}, "timesteps_this_iter": 38476, "episode_reward_min": 41.36268402005774, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 387.39019352752666, "outflow_rate_min": 442.39605397933786, "outflow_rate_max": 1419.2258253746254, "outflow_rate_mean": 1093.7198706737897, "cost1_mean": 294.248182633954, "system_level_velocity_mean": 12.051652015831644, "system_level_velocity_max": 19.14063467124249, "system_level_velocity_min": 8.87752052276348, "cost2_max": -19.556754665376, "cost2_mean": -103.66842672328261, "cost2_min": -134.21429415709827, "cost1_min": 24.78073967934319}, "episode_reward_max": 721.9164603933002, "episode_reward_mean": 581.8701093346118, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1888291, "timestamp": 1557252676, "time_since_restore": 1236.2729618549347, "episodes_total": 791, "iterations_since_restore": 47, "episode_len_mean": 673.75, "time_total_s": 1236.2729618549347, "date": "2019-05-07_18-11-16", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1888291, "update_time_ms": 9.193, "load_time_ms": 13.392, "default": {"kl": 0.013342668302357197, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.005414704792201519, "total_loss": 6.856448650360107, "entropy": 1.2064810991287231, "vf_explained_var": 0.94622802734375, "vf_loss": 6.861196517944336, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14808.553, "num_steps_trained": 1888291, "grad_time_ms": 10416.877}, "episodes_this_iter": 16, "time_this_iter_s": 25.59365177154541, "timesteps_total": 1888291, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea860>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 47, "policy_reward_mean": {}, "timesteps_this_iter": 38674, "episode_reward_min": 41.36268402005774, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 387.39019352752666, "outflow_rate_min": 442.39605397933786, "outflow_rate_max": 1419.2258253746254, "outflow_rate_mean": 1088.9601740224412, "cost1_mean": 294.5270740815736, "system_level_velocity_mean": 12.062011867433302, "system_level_velocity_max": 19.14063467124249, "system_level_velocity_min": 8.87752052276348, "cost2_max": -19.556754665376, "cost2_mean": -102.60521219944998, "cost2_min": -134.21429415709827, "cost1_min": 24.78073967934319}, "episode_reward_max": 721.9164603933002, "episode_reward_mean": 582.7007009073092, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1926895, "timestamp": 1557252701, "time_since_restore": 1261.2819969654083, "episodes_total": 810, "iterations_since_restore": 48, "episode_len_mean": 673.75, "time_total_s": 1261.2819969654083, "date": "2019-05-07_18-11-41", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1926895, "update_time_ms": 9.253, "load_time_ms": 13.238, "default": {"kl": 0.012271026149392128, "cur_kl_coeff": 0.050000011920928955, "policy_loss": -0.0039061992429196835, "total_loss": 7.704377174377441, "entropy": 1.1944657564163208, "vf_explained_var": 0.9404179453849792, "vf_loss": 7.707670211791992, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14662.403, "num_steps_trained": 1926895, "grad_time_ms": 10514.402}, "episodes_this_iter": 19, "time_this_iter_s": 25.009035110473633, "timesteps_total": 1926895, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da978>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 48, "policy_reward_mean": {}, "timesteps_this_iter": 38604, "episode_reward_min": 41.36268402005774, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 387.39019352752666, "outflow_rate_min": 442.39605397933786, "outflow_rate_max": 1419.2258253746254, "outflow_rate_mean": 1093.7893239729447, "cost1_mean": 296.4114089061226, "system_level_velocity_mean": 12.137680246215393, "system_level_velocity_max": 19.37262518378, "system_level_velocity_min": 8.87752052276348, "cost2_max": -18.060294143526182, "cost2_mean": -103.95882949230578, "cost2_min": -135.5528636202237, "cost1_min": 22.33915055963361}, "episode_reward_max": 721.9164603933002, "episode_reward_mean": 583.6825126237858, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1965327, "timestamp": 1557252728, "time_since_restore": 1287.526293039322, "episodes_total": 829, "iterations_since_restore": 49, "episode_len_mean": 673.67, "time_total_s": 1287.526293039322, "date": "2019-05-07_18-12-08", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1965327, "update_time_ms": 9.412, "load_time_ms": 12.999, "default": {"kl": 0.010770943015813828, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0032400554046034813, "total_loss": 9.003680229187012, "entropy": 1.1862717866897583, "vf_explained_var": 0.935031533241272, "vf_loss": 9.00638198852539, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14737.404, "num_steps_trained": 1965327, "grad_time_ms": 10639.207}, "episodes_this_iter": 19, "time_this_iter_s": 26.244296073913574, "timesteps_total": 1965327, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaf60>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 49, "policy_reward_mean": {}, "timesteps_this_iter": 38432, "episode_reward_min": 38.070655709617455, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 450.2562501936883, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1468.2296819180817, "outflow_rate_mean": 1103.9335166079766, "cost1_mean": 301.51976704256055, "system_level_velocity_mean": 12.188440812580119, "system_level_velocity_max": 19.37262518378, "system_level_velocity_min": 8.87752052276348, "cost2_max": -18.060294143526182, "cost2_mean": -106.14019337677188, "cost2_min": -135.5528636202237, "cost1_min": 22.33915055963361}, "episode_reward_max": 721.9164603933002, "episode_reward_mean": 589.0975948596395, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2003631, "timestamp": 1557252753, "time_since_restore": 1312.7307460308075, "episodes_total": 848, "iterations_since_restore": 50, "episode_len_mean": 680.15, "time_total_s": 1312.7307460308075, "date": "2019-05-07_18-12-33", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2003631, "update_time_ms": 9.536, "load_time_ms": 12.725, "default": {"kl": 0.012019106186926365, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.004356182646006346, "total_loss": 8.2523832321167, "entropy": 1.1833465099334717, "vf_explained_var": 0.9443320631980896, "vf_loss": 8.256138801574707, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14860.156, "num_steps_trained": 2003631, "grad_time_ms": 10682.577}, "episodes_this_iter": 19, "time_this_iter_s": 25.204452991485596, "timesteps_total": 2003631, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434deda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de828>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 50, "policy_reward_mean": {}, "timesteps_this_iter": 38304, "episode_reward_min": 38.070655709617455, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 450.2562501936883, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1468.2296819180817, "outflow_rate_mean": 1109.2131260614358, "cost1_mean": 301.29196762432565, "system_level_velocity_mean": 12.345759621685957, "system_level_velocity_max": 19.37262518378, "system_level_velocity_min": 8.87752052276348, "cost2_max": -18.060294143526182, "cost2_mean": -106.8927640717548, "cost2_min": -135.5528636202237, "cost1_min": 22.33915055963361}, "episode_reward_max": 721.9164603933002, "episode_reward_mean": 583.9609142169758, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2040819, "timestamp": 1557252778, "time_since_restore": 1338.139545917511, "episodes_total": 866, "iterations_since_restore": 51, "episode_len_mean": 674.72, "time_total_s": 1338.139545917511, "date": "2019-05-07_18-12-58", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2040819, "update_time_ms": 9.472, "load_time_ms": 12.931, "default": {"kl": 0.013177800923585892, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0034068317618221045, "total_loss": 9.196012496948242, "entropy": 1.1609078645706177, "vf_explained_var": 0.9440930485725403, "vf_loss": 9.198760986328125, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14894.794, "num_steps_trained": 2040819, "grad_time_ms": 10637.529}, "episodes_this_iter": 18, "time_this_iter_s": 25.40879988670349, "timesteps_total": 2040819, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d20f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2a90>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 51, "policy_reward_mean": {}, "timesteps_this_iter": 37188, "episode_reward_min": 38.070655709617455, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 450.2562501936883, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1468.2296819180817, "outflow_rate_mean": 1096.0549554190052, "cost1_mean": 297.1880788978794, "system_level_velocity_mean": 12.390844428776388, "system_level_velocity_max": 19.37262518378, "system_level_velocity_min": 9.463182952200581, "cost2_max": -18.060294143526182, "cost2_mean": -106.38447575134093, "cost2_min": -135.5528636202237, "cost1_min": 22.33915055963361}, "episode_reward_max": 713.9685633601257, "episode_reward_mean": 575.9118436041563, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2078613, "timestamp": 1557252803, "time_since_restore": 1363.0378234386444, "episodes_total": 884, "iterations_since_restore": 52, "episode_len_mean": 668.25, "time_total_s": 1363.0378234386444, "date": "2019-05-07_18-13-23", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2078613, "update_time_ms": 9.228, "load_time_ms": 13.021, "default": {"kl": 0.01140050683170557, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.00388320186175406, "total_loss": 8.272139549255371, "entropy": 1.1831045150756836, "vf_explained_var": 0.9414844512939453, "vf_loss": 8.275453567504883, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14844.99, "num_steps_trained": 2078613, "grad_time_ms": 10595.843}, "episodes_this_iter": 18, "time_this_iter_s": 24.898277521133423, "timesteps_total": 2078613, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab00>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 52, "policy_reward_mean": {}, "timesteps_this_iter": 37794, "episode_reward_min": 38.070655709617455, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 453.5175124386097, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1468.2296819180817, "outflow_rate_mean": 1114.1935766213712, "cost1_mean": 303.1782552026484, "system_level_velocity_mean": 12.465155665720767, "system_level_velocity_max": 19.37262518378, "system_level_velocity_min": 9.463182952200581, "cost2_max": -18.060294143526182, "cost2_mean": -107.46155205075559, "cost2_min": -135.5528636202237, "cost1_min": 22.33915055963361}, "episode_reward_max": 745.845360093789, "episode_reward_mean": 581.0100541897768, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2115897, "timestamp": 1557252830, "time_since_restore": 1389.4625089168549, "episodes_total": 902, "iterations_since_restore": 53, "episode_len_mean": 674.85, "time_total_s": 1389.4625089168549, "date": "2019-05-07_18-13-50", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2115897, "update_time_ms": 9.149, "load_time_ms": 13.143, "default": {"kl": 0.013018189929425716, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.00403904914855957, "total_loss": 9.059399604797363, "entropy": 1.1527892351150513, "vf_explained_var": 0.9537236094474792, "vf_loss": 9.062787055969238, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14978.029, "num_steps_trained": 2115897, "grad_time_ms": 10639.405}, "episodes_this_iter": 18, "time_this_iter_s": 26.42468547821045, "timesteps_total": 2115897, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea630>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 53, "policy_reward_mean": {}, "timesteps_this_iter": 37284, "episode_reward_min": 38.070655709617455, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 460.86416375648855, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1574.872223658694, "outflow_rate_mean": 1136.1066225692196, "cost1_mean": 311.9964175364196, "system_level_velocity_mean": 12.637525328776144, "system_level_velocity_max": 19.344268970288482, "system_level_velocity_min": 9.463182952200581, "cost2_max": -18.060294143526182, "cost2_mean": -108.43184241515954, "cost2_min": -135.5528636202237, "cost1_min": 22.33915055963361}, "episode_reward_max": 801.4198857390801, "episode_reward_mean": 587.1037221880159, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2154103, "timestamp": 1557252856, "time_since_restore": 1415.6125583648682, "episodes_total": 921, "iterations_since_restore": 54, "episode_len_mean": 681.43, "time_total_s": 1415.6125583648682, "date": "2019-05-07_18-14-16", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2154103, "update_time_ms": 9.051, "load_time_ms": 13.728, "default": {"kl": 0.012975229881703854, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.0048777274787425995, "total_loss": 8.983389854431152, "entropy": 1.1446902751922607, "vf_explained_var": 0.9510489702224731, "vf_loss": 8.987621307373047, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15064.166, "num_steps_trained": 2154103, "grad_time_ms": 10546.951}, "episodes_this_iter": 19, "time_this_iter_s": 26.150049448013306, "timesteps_total": 2154103, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c70b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 54, "policy_reward_mean": {}, "timesteps_this_iter": 38206, "episode_reward_min": 38.070655709617455, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 460.86416375648855, "outflow_rate_min": 506.15054574697206, "outflow_rate_max": 1574.872223658694, "outflow_rate_mean": 1143.0059602803829, "cost1_mean": 315.01920855731123, "system_level_velocity_mean": 12.594906606848294, "system_level_velocity_max": 19.344268970288482, "system_level_velocity_min": 9.463182952200581, "cost2_max": -24.701625339734264, "cost2_mean": -109.14565098161432, "cost2_min": -132.98081170505785, "cost1_min": 36.82491354682933}, "episode_reward_max": 801.4198857390801, "episode_reward_mean": 595.8247823048954, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2191657, "timestamp": 1557252881, "time_since_restore": 1440.824134349823, "episodes_total": 940, "iterations_since_restore": 55, "episode_len_mean": 688.1, "time_total_s": 1440.824134349823, "date": "2019-05-07_18-14-41", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2191657, "update_time_ms": 8.932, "load_time_ms": 13.886, "default": {"kl": 0.013150290586054325, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.00431465357542038, "total_loss": 9.26649284362793, "entropy": 1.1350704431533813, "vf_explained_var": 0.9457370638847351, "vf_loss": 9.270151138305664, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15063.579, "num_steps_trained": 2191657, "grad_time_ms": 10488.682}, "episodes_this_iter": 19, "time_this_iter_s": 25.211575984954834, "timesteps_total": 2191657, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da630>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 55, "policy_reward_mean": {}, "timesteps_this_iter": 37554, "episode_reward_min": 51.166344475916375, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 460.86416375648855, "outflow_rate_min": 506.15054574697206, "outflow_rate_max": 1615.0762873126873, "outflow_rate_mean": 1152.1489106979654, "cost1_mean": 318.1195400300387, "system_level_velocity_mean": 12.71611934176431, "system_level_velocity_max": 19.344268970288482, "system_level_velocity_min": 9.463182952200581, "cost2_max": -24.701625339734264, "cost2_mean": -109.86956413281614, "cost2_min": -134.50009244470368, "cost1_min": 36.82491354682933}, "episode_reward_max": 801.4198857390801, "episode_reward_mean": 597.6415110167934, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2229161, "timestamp": 1557252906, "time_since_restore": 1465.8868086338043, "episodes_total": 956, "iterations_since_restore": 56, "episode_len_mean": 688.1, "time_total_s": 1465.8868086338043, "date": "2019-05-07_18-15-06", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2229161, "update_time_ms": 8.915, "load_time_ms": 13.586, "default": {"kl": 0.019742634147405624, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.006772659718990326, "total_loss": 9.728551864624023, "entropy": 1.103914499282837, "vf_explained_var": 0.9418803453445435, "vf_loss": 9.734338760375977, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14960.137, "num_steps_trained": 2229161, "grad_time_ms": 10449.042}, "episodes_this_iter": 16, "time_this_iter_s": 25.062674283981323, "timesteps_total": 2229161, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dab00>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 56, "policy_reward_mean": {}, "timesteps_this_iter": 37504, "episode_reward_min": 51.166344475916375, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 460.86416375648855, "outflow_rate_min": 445.25449331600703, "outflow_rate_max": 1615.0762873126873, "outflow_rate_mean": 1149.76001969062, "cost1_mean": 318.1037892389388, "system_level_velocity_mean": 12.940390544787414, "system_level_velocity_max": 19.67417037877948, "system_level_velocity_min": 9.318689831909726, "cost2_max": -19.463650740262523, "cost2_mean": -109.42605942891707, "cost2_min": -134.50009244470368, "cost1_min": 22.19674257980603}, "episode_reward_max": 801.4198857390801, "episode_reward_mean": 595.4135942034404, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2266254, "timestamp": 1557252932, "time_since_restore": 1492.1832234859467, "episodes_total": 978, "iterations_since_restore": 57, "episode_len_mean": 680.22, "time_total_s": 1492.1832234859467, "date": "2019-05-07_18-15-32", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2266254, "update_time_ms": 8.867, "load_time_ms": 13.438, "default": {"kl": 0.01605794206261635, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.004863571375608444, "total_loss": 13.282386779785156, "entropy": 1.0518771409988403, "vf_explained_var": 0.9335577487945557, "vf_loss": 13.286447525024414, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15106.375, "num_steps_trained": 2266254, "grad_time_ms": 10373.276}, "episodes_this_iter": 22, "time_this_iter_s": 26.296414852142334, "timesteps_total": 2266254, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea390>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 57, "policy_reward_mean": {}, "timesteps_this_iter": 37093, "episode_reward_min": 37.54752194720664, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 460.86416375648855, "outflow_rate_min": 445.25449331600703, "outflow_rate_max": 1615.0762873126873, "outflow_rate_mean": 1165.2855268884764, "cost1_mean": 323.0178568535376, "system_level_velocity_mean": 13.121512447756887, "system_level_velocity_max": 19.7281463182138, "system_level_velocity_min": 9.318689831909726, "cost2_max": -19.463650740262523, "cost2_mean": -110.88057691721806, "cost2_min": -134.50009244470368, "cost1_min": 22.19674257980603}, "episode_reward_max": 801.4198857390801, "episode_reward_mean": 599.295251255342, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2303826, "timestamp": 1557252959, "time_since_restore": 1518.9590246677399, "episodes_total": 997, "iterations_since_restore": 58, "episode_len_mean": 680.15, "time_total_s": 1518.9590246677399, "date": "2019-05-07_18-15-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2303826, "update_time_ms": 8.821, "load_time_ms": 13.476, "default": {"kl": 0.016076577827334404, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.006137078162282705, "total_loss": 11.058965682983398, "entropy": 1.063906192779541, "vf_explained_var": 0.9369604587554932, "vf_loss": 11.064298629760742, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15305.437, "num_steps_trained": 2303826, "grad_time_ms": 10352.299}, "episodes_this_iter": 19, "time_this_iter_s": 26.775801181793213, "timesteps_total": 2303826, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d25f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2160>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 58, "policy_reward_mean": {}, "timesteps_this_iter": 37572, "episode_reward_min": 37.54752194720664, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 457.11123276676904, "outflow_rate_min": 445.25449331600703, "outflow_rate_max": 1615.0762873126873, "outflow_rate_mean": 1161.5025784602935, "cost1_mean": 319.65319947150124, "system_level_velocity_mean": 13.134914962569798, "system_level_velocity_max": 19.7281463182138, "system_level_velocity_min": 9.186497910653701, "cost2_max": -19.463650740262523, "cost2_mean": -110.63008072891951, "cost2_min": -136.7756589213122, "cost1_min": 22.19674257980603}, "episode_reward_max": 762.6239382654568, "episode_reward_mean": 592.3246482765612, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2340167, "timestamp": 1557252984, "time_since_restore": 1543.7268271446228, "episodes_total": 1015, "iterations_since_restore": 59, "episode_len_mean": 674.6, "time_total_s": 1543.7268271446228, "date": "2019-05-07_18-16-24", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2340167, "update_time_ms": 8.696, "load_time_ms": 13.331, "default": {"kl": 0.015570384450256824, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.005441197194159031, "total_loss": 11.677237510681152, "entropy": 1.0340979099273682, "vf_explained_var": 0.9413533806800842, "vf_loss": 11.681899070739746, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15312.811, "num_steps_trained": 2340167, "grad_time_ms": 10198.888}, "episodes_this_iter": 18, "time_this_iter_s": 24.767802476882935, "timesteps_total": 2340167, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2e80>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 59, "policy_reward_mean": {}, "timesteps_this_iter": 36341, "episode_reward_min": 37.54752194720664, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 457.11123276676904, "outflow_rate_min": 445.25449331600703, "outflow_rate_max": 1615.0762873126873, "outflow_rate_mean": 1160.442904925828, "cost1_mean": 317.63203781131375, "system_level_velocity_mean": 13.068658953319106, "system_level_velocity_max": 19.7281463182138, "system_level_velocity_min": 9.186497910653701, "cost2_max": -19.463650740262523, "cost2_mean": -110.88529862451858, "cost2_min": -136.7756589213122, "cost1_min": 22.19674257980603}, "episode_reward_max": 757.0533048197944, "episode_reward_mean": 590.495779817695, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2378004, "timestamp": 1557253009, "time_since_restore": 1568.3502087593079, "episodes_total": 1033, "iterations_since_restore": 60, "episode_len_mean": 674.6, "time_total_s": 1568.3502087593079, "date": "2019-05-07_18-16-49", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2378004, "update_time_ms": 8.662, "load_time_ms": 13.141, "default": {"kl": 0.015467314049601555, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.004081288818269968, "total_loss": 10.300250053405762, "entropy": 1.0590788125991821, "vf_explained_var": 0.9434024095535278, "vf_loss": 10.303557395935059, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15274.212, "num_steps_trained": 2378004, "grad_time_ms": 10178.548}, "episodes_this_iter": 18, "time_this_iter_s": 24.62338161468506, "timesteps_total": 2378004, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 60, "policy_reward_mean": {}, "timesteps_this_iter": 37837, "episode_reward_min": 37.54752194720664, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 457.11123276676904, "outflow_rate_min": 445.25449331600703, "outflow_rate_max": 1589.9890893106895, "outflow_rate_mean": 1160.2381096221588, "cost1_mean": 316.05316016103285, "system_level_velocity_mean": 13.186710362444073, "system_level_velocity_max": 19.87908089848665, "system_level_velocity_min": 9.186497910653701, "cost2_max": -19.463650740262523, "cost2_mean": -110.5274022479757, "cost2_min": -136.7756589213122, "cost1_min": 22.19674257980603}, "episode_reward_max": 757.0533048197944, "episode_reward_mean": 582.944942294625, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2415864, "timestamp": 1557253035, "time_since_restore": 1594.8848643302917, "episodes_total": 1053, "iterations_since_restore": 61, "episode_len_mean": 668.02, "time_total_s": 1594.8848643302917, "date": "2019-05-07_18-17-15", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2415864, "update_time_ms": 8.667, "load_time_ms": 12.626, "default": {"kl": 0.014351315796375275, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.005773666314780712, "total_loss": 11.194599151611328, "entropy": 1.0699564218521118, "vf_explained_var": 0.9449371099472046, "vf_loss": 11.199655532836914, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15323.555, "num_steps_trained": 2415864, "grad_time_ms": 10243.952}, "episodes_this_iter": 20, "time_this_iter_s": 26.534655570983887, "timesteps_total": 2415864, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaac8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 61, "policy_reward_mean": {}, "timesteps_this_iter": 37860, "episode_reward_min": 37.54752194720664, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 428.55582177397457, "outflow_rate_min": 451.0313081385432, "outflow_rate_max": 1540.2943374625374, "outflow_rate_mean": 1170.9522894961917, "cost1_mean": 320.24328062883535, "system_level_velocity_mean": 13.158221026613791, "system_level_velocity_max": 19.87908089848665, "system_level_velocity_min": 9.186497910653701, "cost2_max": -21.298695186762636, "cost2_mean": -111.31365775757031, "cost2_min": -136.7756589213122, "cost1_min": 24.199524221734215}, "episode_reward_max": 757.0533048197944, "episode_reward_mean": 588.7039103279135, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2453159, "timestamp": 1557253061, "time_since_restore": 1620.327342748642, "episodes_total": 1072, "iterations_since_restore": 62, "episode_len_mean": 674.69, "time_total_s": 1620.327342748642, "date": "2019-05-07_18-17-41", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2453159, "update_time_ms": 8.618, "load_time_ms": 12.537, "default": {"kl": 0.016534261405467987, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.004767061211168766, "total_loss": 12.152167320251465, "entropy": 1.0402531623840332, "vf_explained_var": 0.9391443729400635, "vf_loss": 12.156106948852539, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15429.575, "num_steps_trained": 2453159, "grad_time_ms": 10191.215}, "episodes_this_iter": 19, "time_this_iter_s": 25.44247841835022, "timesteps_total": 2453159, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d20f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d25f8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 62, "policy_reward_mean": {}, "timesteps_this_iter": 37295, "episode_reward_min": 39.36492074556817, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 428.55582177397457, "outflow_rate_min": 473.2852124902266, "outflow_rate_max": 1540.2943374625374, "outflow_rate_mean": 1191.4962555320003, "cost1_mean": 325.2431849464414, "system_level_velocity_mean": 13.116554331460835, "system_level_velocity_max": 19.87908089848665, "system_level_velocity_min": 9.186497910653701, "cost2_max": -21.376500806210068, "cost2_mean": -112.78994504654625, "cost2_min": -136.7756589213122, "cost1_min": 29.053266064604315}, "episode_reward_max": 757.0533048197944, "episode_reward_mean": 597.6997675972665, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2490786, "timestamp": 1557253086, "time_since_restore": 1645.9353110790253, "episodes_total": 1088, "iterations_since_restore": 63, "episode_len_mean": 682.76, "time_total_s": 1645.9353110790253, "date": "2019-05-07_18-18-06", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2490786, "update_time_ms": 8.618, "load_time_ms": 12.355, "default": {"kl": 0.013502540998160839, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.0046864901669323444, "total_loss": 10.570409774780273, "entropy": 1.038464069366455, "vf_explained_var": 0.9478323459625244, "vf_loss": 10.574421882629395, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15431.825, "num_steps_trained": 2490786, "grad_time_ms": 10106.097}, "episodes_this_iter": 16, "time_this_iter_s": 25.6079683303833, "timesteps_total": 2490786, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 63, "policy_reward_mean": {}, "timesteps_this_iter": 37627, "episode_reward_min": 44.26603206419299, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 418.89806673069916, "outflow_rate_min": 473.2852124902266, "outflow_rate_max": 1501.0336207792207, "outflow_rate_mean": 1176.49878125991, "cost1_mean": 320.0884436369942, "system_level_velocity_mean": 12.96410193761658, "system_level_velocity_max": 19.87908089848665, "system_level_velocity_min": 9.186497910653701, "cost2_max": -21.376500806210068, "cost2_mean": -112.45023975611984, "cost2_min": -130.26558514488414, "cost1_min": 29.053266064604315}, "episode_reward_max": 757.0533048197944, "episode_reward_mean": 595.8675932416476, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2528460, "timestamp": 1557253113, "time_since_restore": 1672.1727421283722, "episodes_total": 1109, "iterations_since_restore": 64, "episode_len_mean": 681.79, "time_total_s": 1672.1727421283722, "date": "2019-05-07_18-18-33", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2528460, "update_time_ms": 8.413, "load_time_ms": 11.821, "default": {"kl": 0.017451779916882515, "cur_kl_coeff": 0.05000000074505806, "policy_loss": -0.005618479568511248, "total_loss": 11.760148048400879, "entropy": 1.0424106121063232, "vf_explained_var": 0.9426777958869934, "vf_loss": 11.764893531799316, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15499.738, "num_steps_trained": 2528460, "grad_time_ms": 10049.425}, "episodes_this_iter": 21, "time_this_iter_s": 26.237431049346924, "timesteps_total": 2528460, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c75f8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 64, "policy_reward_mean": {}, "timesteps_this_iter": 37674, "episode_reward_min": 44.26603206419299, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 503.15170171204477, "outflow_rate_min": 472.60190145823697, "outflow_rate_max": 1602.2145350649353, "outflow_rate_mean": 1183.492874827939, "cost1_mean": 322.2741053882422, "system_level_velocity_mean": 13.192207482347792, "system_level_velocity_max": 19.87908089848665, "system_level_velocity_min": 10.468335865920032, "cost2_max": -20.160705316234452, "cost2_mean": -111.50561337786684, "cost2_min": -130.26558514488414, "cost1_min": 29.053266064604315}, "episode_reward_max": 736.7110677503666, "episode_reward_mean": 598.0465955444398, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2565568, "timestamp": 1557253139, "time_since_restore": 1698.8083889484406, "episodes_total": 1128, "iterations_since_restore": 65, "episode_len_mean": 675.26, "time_total_s": 1698.8083889484406, "date": "2019-05-07_18-18-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2565568, "update_time_ms": 8.29, "load_time_ms": 11.732, "default": {"kl": 0.01852540485560894, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.004949316848069429, "total_loss": 14.624271392822266, "entropy": 0.9940927028656006, "vf_explained_var": 0.9377346634864807, "vf_loss": 14.628294944763184, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15687.653, "num_steps_trained": 2565568, "grad_time_ms": 10006.691}, "episodes_this_iter": 19, "time_this_iter_s": 26.63564682006836, "timesteps_total": 2565568, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaa58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea588>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 65, "policy_reward_mean": {}, "timesteps_this_iter": 37108, "episode_reward_min": 44.26603206419299, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 503.15170171204477, "outflow_rate_min": 472.60190145823697, "outflow_rate_max": 1602.2145350649353, "outflow_rate_mean": 1188.3907485502166, "cost1_mean": 322.57774164253124, "system_level_velocity_mean": 13.192386799789826, "system_level_velocity_max": 19.87908089848665, "system_level_velocity_min": 10.468335865920032, "cost2_max": -20.160705316234452, "cost2_mean": -111.81022679073436, "cost2_min": -135.41229059608935, "cost1_min": 29.053266064604315}, "episode_reward_max": 736.7110677503666, "episode_reward_mean": 603.8464501662871, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2603348, "timestamp": 1557253164, "time_since_restore": 1723.899419784546, "episodes_total": 1147, "iterations_since_restore": 66, "episode_len_mean": 675.26, "time_total_s": 1723.899419784546, "date": "2019-05-07_18-19-24", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2603348, "update_time_ms": 7.876, "load_time_ms": 12.192, "default": {"kl": 0.01802443526685238, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.006317910738289356, "total_loss": 11.559749603271484, "entropy": 0.9933647513389587, "vf_explained_var": 0.9387403726577759, "vf_loss": 11.565166473388672, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15800.715, "num_steps_trained": 2603348, "grad_time_ms": 9897.949}, "episodes_this_iter": 19, "time_this_iter_s": 25.091030836105347, "timesteps_total": 2603348, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d29b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d25f8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 66, "policy_reward_mean": {}, "timesteps_this_iter": 37780, "episode_reward_min": 44.26603206419299, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 503.15170171204477, "outflow_rate_min": 472.60190145823697, "outflow_rate_max": 1602.2145350649353, "outflow_rate_mean": 1195.7243127210186, "cost1_mean": 324.080171028642, "system_level_velocity_mean": 13.063004465941969, "system_level_velocity_max": 19.085241087284967, "system_level_velocity_min": 9.713941259916998, "cost2_max": -20.160705316234452, "cost2_mean": -113.07429235542796, "cost2_min": -135.41229059608935, "cost1_min": 31.80423278878002}, "episode_reward_max": 766.2751202335095, "episode_reward_mean": 610.4844132506391, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2640461, "timestamp": 1557253190, "time_since_restore": 1749.0144457817078, "episodes_total": 1163, "iterations_since_restore": 67, "episode_len_mean": 681.84, "time_total_s": 1749.0144457817078, "date": "2019-05-07_18-19-50", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2640461, "update_time_ms": 7.836, "load_time_ms": 12.183, "default": {"kl": 0.0160591471940279, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.004109828267246485, "total_loss": 10.930109977722168, "entropy": 0.9881999492645264, "vf_explained_var": 0.9486685991287231, "vf_loss": 10.933417320251465, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15749.892, "num_steps_trained": 2640461, "grad_time_ms": 9828.468}, "episodes_this_iter": 16, "time_this_iter_s": 25.115025997161865, "timesteps_total": 2640461, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 67, "policy_reward_mean": {}, "timesteps_this_iter": 37113, "episode_reward_min": 51.73536649073291, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 503.15170171204477, "outflow_rate_min": 472.60190145823697, "outflow_rate_max": 1602.2145350649353, "outflow_rate_mean": 1190.4885275501897, "cost1_mean": 323.1604165390322, "system_level_velocity_mean": 13.029930618160265, "system_level_velocity_max": 19.085241087284967, "system_level_velocity_min": 9.713941259916998, "cost2_max": -20.160705316234452, "cost2_mean": -112.31403961767542, "cost2_min": -135.41229059608935, "cost1_min": 31.80423278878002}, "episode_reward_max": 766.2751202335095, "episode_reward_mean": 606.4916472034952, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2677574, "timestamp": 1557253215, "time_since_restore": 1774.587221622467, "episodes_total": 1183, "iterations_since_restore": 68, "episode_len_mean": 681.84, "time_total_s": 1774.587221622467, "date": "2019-05-07_18-20-15", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2677574, "update_time_ms": 7.877, "load_time_ms": 11.657, "default": {"kl": 0.019247740507125854, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.006137719377875328, "total_loss": 15.793292999267578, "entropy": 0.9705529808998108, "vf_explained_var": 0.9308857321739197, "vf_loss": 15.798469543457031, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15763.341, "num_steps_trained": 2677574, "grad_time_ms": 9695.476}, "episodes_this_iter": 20, "time_this_iter_s": 25.572775840759277, "timesteps_total": 2677574, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed048>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 68, "policy_reward_mean": {}, "timesteps_this_iter": 37113, "episode_reward_min": 51.73536649073291, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 503.15170171204477, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1602.2145350649353, "outflow_rate_mean": 1198.79751147766, "cost1_mean": 328.8701408413635, "system_level_velocity_mean": 13.107647562812188, "system_level_velocity_max": 19.085241087284967, "system_level_velocity_min": 9.713941259916998, "cost2_max": -17.0283577450417, "cost2_mean": -112.15306291147733, "cost2_min": -135.41229059608935, "cost1_min": 18.860244660511505}, "episode_reward_max": 766.2751202335095, "episode_reward_mean": 613.4556161578917, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2714855, "timestamp": 1557253240, "time_since_restore": 1799.4679090976715, "episodes_total": 1203, "iterations_since_restore": 69, "episode_len_mean": 686.75, "time_total_s": 1799.4679090976715, "date": "2019-05-07_18-20-40", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2714855, "update_time_ms": 7.907, "load_time_ms": 12.084, "default": {"kl": 0.018826065585017204, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.0047322590835392475, "total_loss": 16.514305114746094, "entropy": 0.9721333384513855, "vf_explained_var": 0.9200220108032227, "vf_loss": 16.518095016479492, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15813.011, "num_steps_trained": 2714855, "grad_time_ms": 9654.679}, "episodes_this_iter": 20, "time_this_iter_s": 24.880687475204468, "timesteps_total": 2714855, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed400>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 69, "policy_reward_mean": {}, "timesteps_this_iter": 37281, "episode_reward_min": 31.314388878283275, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 455.25840508627715, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1572.934176023976, "outflow_rate_mean": 1193.9837247787618, "cost1_mean": 326.8393316143979, "system_level_velocity_mean": 12.882926708444437, "system_level_velocity_max": 18.369104434068515, "system_level_velocity_min": 9.713941259916998, "cost2_max": -17.0283577450417, "cost2_mean": -112.56755822733099, "cost2_min": -135.41229059608935, "cost1_min": 18.860244660511505}, "episode_reward_max": 766.2751202335095, "episode_reward_mean": 617.9410704792284, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2751455, "timestamp": 1557253265, "time_since_restore": 1824.8129725456238, "episodes_total": 1220, "iterations_since_restore": 70, "episode_len_mean": 693.28, "time_total_s": 1824.8129725456238, "date": "2019-05-07_18-21-05", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2751455, "update_time_ms": 7.745, "load_time_ms": 12.272, "default": {"kl": 0.01646551489830017, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.004610148258507252, "total_loss": 13.152172088623047, "entropy": 1.006718397140503, "vf_explained_var": 0.9378657937049866, "vf_loss": 13.155960083007812, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15976.049, "num_steps_trained": 2751455, "grad_time_ms": 9563.424}, "episodes_this_iter": 17, "time_this_iter_s": 25.34506344795227, "timesteps_total": 2751455, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daf60>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 70, "policy_reward_mean": {}, "timesteps_this_iter": 36600, "episode_reward_min": 31.314388878283275, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 455.25840508627715, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1583.416012987013, "outflow_rate_mean": 1190.401005867673, "cost1_mean": 324.4323535377237, "system_level_velocity_mean": 12.793648866341043, "system_level_velocity_max": 18.369104434068515, "system_level_velocity_min": 9.713941259916998, "cost2_max": -17.0283577450417, "cost2_mean": -111.14269821904819, "cost2_min": -135.63914551228612, "cost1_min": 18.860244660511505}, "episode_reward_max": 766.2751202335095, "episode_reward_mean": 614.7024828121349, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2788634, "timestamp": 1557253290, "time_since_restore": 1849.5046319961548, "episodes_total": 1237, "iterations_since_restore": 71, "episode_len_mean": 693.28, "time_total_s": 1849.5046319961548, "date": "2019-05-07_18-21-30", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2788634, "update_time_ms": 7.795, "load_time_ms": 12.658, "default": {"kl": 0.019216137006878853, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.006138800643384457, "total_loss": 16.2521915435791, "entropy": 1.0205540657043457, "vf_explained_var": 0.9204713106155396, "vf_loss": 16.25737190246582, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15944.164, "num_steps_trained": 2788634, "grad_time_ms": 9409.384}, "episodes_this_iter": 17, "time_this_iter_s": 24.691659450531006, "timesteps_total": 2788634, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c76d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7780>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 71, "policy_reward_mean": {}, "timesteps_this_iter": 37179, "episode_reward_min": 31.314388878283275, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 455.25840508627715, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1583.416012987013, "outflow_rate_mean": 1187.5727239016392, "cost1_mean": 323.0328132301542, "system_level_velocity_mean": 12.74322569188598, "system_level_velocity_max": 18.369104434068515, "system_level_velocity_min": 9.713941259916998, "cost2_max": -17.0283577450417, "cost2_mean": -110.64167276673685, "cost2_min": -135.63914551228612, "cost1_min": 18.860244660511505}, "episode_reward_max": 766.2751202335095, "episode_reward_mean": 614.7740233209428, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2825724, "timestamp": 1557253315, "time_since_restore": 1874.5890698432922, "episodes_total": 1255, "iterations_since_restore": 72, "episode_len_mean": 693.28, "time_total_s": 1874.5890698432922, "date": "2019-05-07_18-21-55", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2825724, "update_time_ms": 7.791, "load_time_ms": 12.714, "default": {"kl": 0.01748368889093399, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.006887305993586779, "total_loss": 14.358983039855957, "entropy": 1.0029826164245605, "vf_explained_var": 0.9356529116630554, "vf_loss": 14.364995956420898, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15927.837, "num_steps_trained": 2825724, "grad_time_ms": 9391.259}, "episodes_this_iter": 18, "time_this_iter_s": 25.08443784713745, "timesteps_total": 2825724, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edc88>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 72, "policy_reward_mean": {}, "timesteps_this_iter": 37090, "episode_reward_min": 31.314388878283275, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 455.25840508627715, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1583.416012987013, "outflow_rate_mean": 1168.4950398427097, "cost1_mean": 315.0791328622114, "system_level_velocity_mean": 12.77996042640368, "system_level_velocity_max": 19.152441942330313, "system_level_velocity_min": 9.967555003975695, "cost2_max": -17.0283577450417, "cost2_mean": -107.05524440168602, "cost2_min": -135.63914551228612, "cost1_min": 18.860244660511505}, "episode_reward_max": 763.6244583391116, "episode_reward_mean": 602.3282449409804, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2862821, "timestamp": 1557253341, "time_since_restore": 1900.4625010490417, "episodes_total": 1277, "iterations_since_restore": 73, "episode_len_mean": 680.35, "time_total_s": 1900.4625010490417, "date": "2019-05-07_18-22-21", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2862821, "update_time_ms": 7.819, "load_time_ms": 12.318, "default": {"kl": 0.01877216063439846, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.00598874082788825, "total_loss": 19.230316162109375, "entropy": 0.9937604665756226, "vf_explained_var": 0.9006668925285339, "vf_loss": 19.23536491394043, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15988.057, "num_steps_trained": 2862821, "grad_time_ms": 9359.705}, "episodes_this_iter": 22, "time_this_iter_s": 25.87343120574951, "timesteps_total": 2862821, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 73, "policy_reward_mean": {}, "timesteps_this_iter": 37097, "episode_reward_min": 31.314388878283275, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 423.87021859863086, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1583.416012987013, "outflow_rate_mean": 1162.769791389163, "cost1_mean": 313.6566450339571, "system_level_velocity_mean": 12.718421000317337, "system_level_velocity_max": 19.152441942330313, "system_level_velocity_min": 9.967555003975695, "cost2_max": -17.0283577450417, "cost2_mean": -105.99755479551249, "cost2_min": -135.63914551228612, "cost1_min": 18.860244660511505}, "episode_reward_max": 763.6244583391116, "episode_reward_mean": 603.5873859782022, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2900150, "timestamp": 1557253366, "time_since_restore": 1925.2306756973267, "episodes_total": 1293, "iterations_since_restore": 74, "episode_len_mean": 680.35, "time_total_s": 1925.2306756973267, "date": "2019-05-07_18-22-46", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2900150, "update_time_ms": 8.029, "load_time_ms": 12.385, "default": {"kl": 0.020715808495879173, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.006876652128994465, "total_loss": 15.040114402770996, "entropy": 0.9935020804405212, "vf_explained_var": 0.9290446639060974, "vf_loss": 15.045955657958984, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15875.779, "num_steps_trained": 2900150, "grad_time_ms": 9322.868}, "episodes_this_iter": 16, "time_this_iter_s": 24.768174648284912, "timesteps_total": 2900150, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de550>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 74, "policy_reward_mean": {}, "timesteps_this_iter": 37329, "episode_reward_min": 31.314388878283275, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 423.87021859863086, "outflow_rate_min": 440.7407910664902, "outflow_rate_max": 1583.416012987013, "outflow_rate_mean": 1161.7603277098772, "cost1_mean": 311.75414196329336, "system_level_velocity_mean": 12.624283960321431, "system_level_velocity_max": 19.152441942330313, "system_level_velocity_min": 9.967555003975695, "cost2_max": -21.550844788394876, "cost2_mean": -105.61827153472228, "cost2_min": -135.63914551228612, "cost1_min": 29.705656963877026}, "episode_reward_max": 763.6244583391116, "episode_reward_mean": 603.5750435091937, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2936949, "timestamp": 1557253392, "time_since_restore": 1951.1003684997559, "episodes_total": 1314, "iterations_since_restore": 75, "episode_len_mean": 680.51, "time_total_s": 1951.1003684997559, "date": "2019-05-07_18-23-12", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2936949, "update_time_ms": 8.15, "load_time_ms": 12.234, "default": {"kl": 0.018452361226081848, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.005911826156079769, "total_loss": 18.796371459960938, "entropy": 1.005151391029358, "vf_explained_var": 0.9096398949623108, "vf_loss": 18.800899505615234, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15867.68, "num_steps_trained": 2936949, "grad_time_ms": 9254.712}, "episodes_this_iter": 21, "time_this_iter_s": 25.8696928024292, "timesteps_total": 2936949, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dedd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de3c8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 75, "policy_reward_mean": {}, "timesteps_this_iter": 36799, "episode_reward_min": 45.72855143439454, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 394.90318428647925, "outflow_rate_min": 440.7407910664902, "outflow_rate_max": 1448.6399208791208, "outflow_rate_mean": 1161.551904303284, "cost1_mean": 312.35421193378903, "system_level_velocity_mean": 12.645369074084984, "system_level_velocity_max": 19.152441942330313, "system_level_velocity_min": 9.736072585473039, "cost2_max": -21.550844788394876, "cost2_mean": -104.95546134480483, "cost2_min": -135.63914551228612, "cost1_min": 29.705656963877026}, "episode_reward_max": 734.3275105397026, "episode_reward_mean": 603.6996326339159, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2973439, "timestamp": 1557253417, "time_since_restore": 1975.7896497249603, "episodes_total": 1331, "iterations_since_restore": 76, "episode_len_mean": 680.51, "time_total_s": 1975.7896497249603, "date": "2019-05-07_18-23-37", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2973439, "update_time_ms": 8.193, "load_time_ms": 12.195, "default": {"kl": 0.015261733904480934, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.006341646891087294, "total_loss": 15.736828804016113, "entropy": 1.0139236450195312, "vf_explained_var": 0.9137028455734253, "vf_loss": 15.742026329040527, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15837.365, "num_steps_trained": 2973439, "grad_time_ms": 9245.529}, "episodes_this_iter": 17, "time_this_iter_s": 24.689281225204468, "timesteps_total": 2973439, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ead68>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 76, "policy_reward_mean": {}, "timesteps_this_iter": 36490, "episode_reward_min": 45.72855143439454, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 394.90318428647925, "outflow_rate_min": 440.7407910664902, "outflow_rate_max": 1448.6399208791208, "outflow_rate_mean": 1157.6484443971206, "cost1_mean": 312.4108332351605, "system_level_velocity_mean": 12.82403877428479, "system_level_velocity_max": 19.53896842452283, "system_level_velocity_min": 9.736072585473039, "cost2_max": -20.110164484596485, "cost2_mean": -103.42511358310267, "cost2_min": -129.3473173307154, "cost1_min": 28.601719973673617}, "episode_reward_max": 734.3275105397026, "episode_reward_mean": 597.3463027884991, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3009385, "timestamp": 1557253443, "time_since_restore": 2002.337521314621, "episodes_total": 1352, "iterations_since_restore": 77, "episode_len_mean": 673.93, "time_total_s": 2002.337521314621, "date": "2019-05-07_18-24-03", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3009385, "update_time_ms": 8.19, "load_time_ms": 12.173, "default": {"kl": 0.018915332853794098, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.0071440329775214195, "total_loss": 21.21237564086914, "entropy": 0.9960340261459351, "vf_explained_var": 0.896438717842102, "vf_loss": 21.218101501464844, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15809.368, "num_steps_trained": 3009385, "grad_time_ms": 9416.645}, "episodes_this_iter": 21, "time_this_iter_s": 26.547871589660645, "timesteps_total": 3009385, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7518>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 77, "policy_reward_mean": {}, "timesteps_this_iter": 35946, "episode_reward_min": 45.72855143439454, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 418.76878965873004, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1512.6352471528471, "outflow_rate_mean": 1170.8615527224088, "cost1_mean": 316.5941253123383, "system_level_velocity_mean": 12.995265263253895, "system_level_velocity_max": 19.53896842452283, "system_level_velocity_min": 9.736072585473039, "cost2_max": -16.131373163902325, "cost2_mean": -103.35414582041014, "cost2_min": -129.5725493558772, "cost1_min": 17.480408871955536}, "episode_reward_max": 734.3275105397026, "episode_reward_mean": 596.1665442383703, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3045813, "timestamp": 1557253468, "time_since_restore": 2026.8154273033142, "episodes_total": 1371, "iterations_since_restore": 78, "episode_len_mean": 673.76, "time_total_s": 2026.8154273033142, "date": "2019-05-07_18-24-28", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3045813, "update_time_ms": 8.305, "load_time_ms": 12.448, "default": {"kl": 0.018716594204306602, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.006464138627052307, "total_loss": 20.54995346069336, "entropy": 0.9994034171104431, "vf_explained_var": 0.8880142569541931, "vf_loss": 20.55501365661621, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15672.905, "num_steps_trained": 3045813, "grad_time_ms": 9443.037}, "episodes_this_iter": 19, "time_this_iter_s": 24.477905988693237, "timesteps_total": 3045813, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed128>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 78, "policy_reward_mean": {}, "timesteps_this_iter": 36428, "episode_reward_min": 31.858126269669658, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 432.4652501803994, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1512.6352471528471, "outflow_rate_mean": 1166.4688174255928, "cost1_mean": 312.72428719746705, "system_level_velocity_mean": 13.028106531270808, "system_level_velocity_max": 19.53896842452283, "system_level_velocity_min": 9.736072585473039, "cost2_max": -16.131373163902325, "cost2_mean": -103.30716210315053, "cost2_min": -129.5725493558772, "cost1_min": 17.480408871955536}, "episode_reward_max": 734.3275105397026, "episode_reward_mean": 586.4284946431478, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3082930, "timestamp": 1557253493, "time_since_restore": 2051.7259137630463, "episodes_total": 1392, "iterations_since_restore": 79, "episode_len_mean": 668.15, "time_total_s": 2051.7259137630463, "date": "2019-05-07_18-24-53", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3082930, "update_time_ms": 8.318, "load_time_ms": 12.262, "default": {"kl": 0.015206841751933098, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.00454968586564064, "total_loss": 17.28333282470703, "entropy": 1.0097910165786743, "vf_explained_var": 0.9099319577217102, "vf_loss": 17.2867431640625, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15668.238, "num_steps_trained": 3082930, "grad_time_ms": 9452.72}, "episodes_this_iter": 21, "time_this_iter_s": 24.910486459732056, "timesteps_total": 3082930, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 79, "policy_reward_mean": {}, "timesteps_this_iter": 37117, "episode_reward_min": 31.858126269669658, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 432.4652501803994, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1512.6352471528471, "outflow_rate_mean": 1183.970887700742, "cost1_mean": 316.7481732935318, "system_level_velocity_mean": 13.039375557104433, "system_level_velocity_max": 19.53896842452283, "system_level_velocity_min": 9.736072585473039, "cost2_max": -16.131373163902325, "cost2_mean": -105.34416120127082, "cost2_min": -129.5725493558772, "cost1_min": 17.480408871955536}, "episode_reward_max": 734.2091776736003, "episode_reward_mean": 596.1671104806372, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3119256, "timestamp": 1557253517, "time_since_restore": 2075.9544229507446, "episodes_total": 1410, "iterations_since_restore": 80, "episode_len_mean": 674.71, "time_total_s": 2075.9544229507446, "date": "2019-05-07_18-25-17", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3119256, "update_time_ms": 8.358, "load_time_ms": 12.451, "default": {"kl": 0.017957311123609543, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.007493963465094566, "total_loss": 17.618215560913086, "entropy": 1.024232029914856, "vf_explained_var": 0.9099709987640381, "vf_loss": 17.62436294555664, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15552.439, "num_steps_trained": 3119256, "grad_time_ms": 9457.611}, "episodes_this_iter": 18, "time_this_iter_s": 24.228509187698364, "timesteps_total": 3119256, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 80, "policy_reward_mean": {}, "timesteps_this_iter": 36326, "episode_reward_min": 31.858126269669658, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 471.83060664222563, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1525.436382017982, "outflow_rate_mean": 1192.852521102965, "cost1_mean": 318.3795657903491, "system_level_velocity_mean": 13.273690020888976, "system_level_velocity_max": 19.53896842452283, "system_level_velocity_min": 10.247194900760297, "cost2_max": -16.131373163902325, "cost2_mean": -106.05540412140952, "cost2_min": -129.5725493558772, "cost1_min": 17.480408871955536}, "episode_reward_max": 733.5622278135486, "episode_reward_mean": 591.5654941286275, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3156306, "timestamp": 1557253542, "time_since_restore": 2100.680181503296, "episodes_total": 1430, "iterations_since_restore": 81, "episode_len_mean": 668.89, "time_total_s": 2100.680181503296, "date": "2019-05-07_18-25-42", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3156306, "update_time_ms": 8.531, "load_time_ms": 12.507, "default": {"kl": 0.019705407321453094, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.00883650965988636, "total_loss": 21.215307235717773, "entropy": 1.0242372751235962, "vf_explained_var": 0.8936693668365479, "vf_loss": 21.22266387939453, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15516.414, "num_steps_trained": 3156306, "grad_time_ms": 9498.396}, "episodes_this_iter": 20, "time_this_iter_s": 24.72575855255127, "timesteps_total": 3156306, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cae10>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 81, "policy_reward_mean": {}, "timesteps_this_iter": 37050, "episode_reward_min": 31.858126269669658, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 478.99901467826885, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1589.6260719280717, "outflow_rate_mean": 1195.1198575611265, "cost1_mean": 316.6686408740101, "system_level_velocity_mean": 13.392118264533096, "system_level_velocity_max": 19.49574731551828, "system_level_velocity_min": 10.247194900760297, "cost2_max": -16.131373163902325, "cost2_mean": -105.82309075883809, "cost2_min": -129.5725493558772, "cost1_min": 17.480408871955536}, "episode_reward_max": 733.5622278135486, "episode_reward_mean": 587.2069544331079, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3193814, "timestamp": 1557253569, "time_since_restore": 2127.8286097049713, "episodes_total": 1452, "iterations_since_restore": 82, "episode_len_mean": 662.46, "time_total_s": 2127.8286097049713, "date": "2019-05-07_18-26-09", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3193814, "update_time_ms": 8.593, "load_time_ms": 12.349, "default": {"kl": 0.019378196448087692, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.007153981365263462, "total_loss": 20.435110092163086, "entropy": 1.0363094806671143, "vf_explained_var": 0.8935720920562744, "vf_loss": 20.44080924987793, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15644.822, "num_steps_trained": 3193814, "grad_time_ms": 9576.9}, "episodes_this_iter": 22, "time_this_iter_s": 27.148428201675415, "timesteps_total": 3193814, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 82, "policy_reward_mean": {}, "timesteps_this_iter": 37508, "episode_reward_min": 31.858126269669658, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 514.113149235159, "outflow_rate_min": 457.1660812385978, "outflow_rate_max": 1589.6260719280717, "outflow_rate_mean": 1203.505152603171, "cost1_mean": 317.43965389937347, "system_level_velocity_mean": 13.530156511074253, "system_level_velocity_max": 19.66026800602315, "system_level_velocity_min": 10.247194900760297, "cost2_max": -19.936870636930294, "cost2_mean": -106.8449394937131, "cost2_min": -127.62727027974623, "cost1_min": 24.005381514142808}, "episode_reward_max": 782.545887888498, "episode_reward_mean": 588.7739883750063, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3230393, "timestamp": 1557253595, "time_since_restore": 2154.079607963562, "episodes_total": 1471, "iterations_since_restore": 83, "episode_len_mean": 657.9, "time_total_s": 2154.079607963562, "date": "2019-05-07_18-26-35", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3230393, "update_time_ms": 8.636, "load_time_ms": 12.683, "default": {"kl": 0.019707877188920975, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.006755391135811806, "total_loss": 21.114124298095703, "entropy": 1.028340458869934, "vf_explained_var": 0.9011738896369934, "vf_loss": 21.119403839111328, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15720.187, "num_steps_trained": 3230393, "grad_time_ms": 9538.55}, "episodes_this_iter": 19, "time_this_iter_s": 26.2509982585907, "timesteps_total": 3230393, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cacf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 83, "policy_reward_mean": {}, "timesteps_this_iter": 36579, "episode_reward_min": 35.337317936508676, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 514.113149235159, "outflow_rate_min": 457.1660812385978, "outflow_rate_max": 1589.6260719280717, "outflow_rate_mean": 1215.1305628004034, "cost1_mean": 321.64910575653977, "system_level_velocity_mean": 13.510503931763822, "system_level_velocity_max": 19.66026800602315, "system_level_velocity_min": 10.406866504973948, "cost2_max": -19.936870636930294, "cost2_mean": -107.83644807786855, "cost2_min": -127.66560093644972, "cost1_min": 24.005381514142808}, "episode_reward_max": 782.545887888498, "episode_reward_mean": 597.7484060646686, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3266190, "timestamp": 1557253619, "time_since_restore": 2178.3620960712433, "episodes_total": 1492, "iterations_since_restore": 84, "episode_len_mean": 664.05, "time_total_s": 2178.3620960712433, "date": "2019-05-07_18-26-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3266190, "update_time_ms": 8.483, "load_time_ms": 12.548, "default": {"kl": 0.019830262288451195, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.007845674641430378, "total_loss": 18.449373245239258, "entropy": 1.0581072568893433, "vf_explained_var": 0.9018473029136658, "vf_loss": 18.455732345581055, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15677.188, "num_steps_trained": 3266190, "grad_time_ms": 9535.15}, "episodes_this_iter": 21, "time_this_iter_s": 24.282488107681274, "timesteps_total": 3266190, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eab38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eabe0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 84, "policy_reward_mean": {}, "timesteps_this_iter": 35797, "episode_reward_min": 35.337317936508676, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 514.113149235159, "outflow_rate_min": 457.1660812385978, "outflow_rate_max": 1589.6260719280717, "outflow_rate_mean": 1215.4005021682565, "cost1_mean": 320.93300787890405, "system_level_velocity_mean": 13.597223901205652, "system_level_velocity_max": 19.66026800602315, "system_level_velocity_min": 10.406866504973948, "cost2_max": -19.936870636930294, "cost2_mean": -106.78325328808641, "cost2_min": -127.66560093644972, "cost1_min": 24.005381514142808}, "episode_reward_max": 782.545887888498, "episode_reward_mean": 592.4992229386665, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3302592, "timestamp": 1557253644, "time_since_restore": 2203.3753492832184, "episodes_total": 1509, "iterations_since_restore": 85, "episode_len_mean": 659.32, "time_total_s": 2203.3753492832184, "date": "2019-05-07_18-27-24", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3302592, "update_time_ms": 8.466, "load_time_ms": 12.682, "default": {"kl": 0.017892075702548027, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.005984534043818712, "total_loss": 15.281294822692871, "entropy": 1.0562400817871094, "vf_explained_var": 0.9153014421463013, "vf_loss": 15.28593635559082, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15475.332, "num_steps_trained": 3302592, "grad_time_ms": 9651.415}, "episodes_this_iter": 17, "time_this_iter_s": 25.013253211975098, "timesteps_total": 3302592, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7630>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 85, "policy_reward_mean": {}, "timesteps_this_iter": 36402, "episode_reward_min": 35.337317936508676, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 514.113149235159, "outflow_rate_min": 457.1660812385978, "outflow_rate_max": 1666.8394220367868, "outflow_rate_mean": 1219.2032418800059, "cost1_mean": 322.0651348230254, "system_level_velocity_mean": 13.608305371872332, "system_level_velocity_max": 19.66026800602315, "system_level_velocity_min": 10.406866504973948, "cost2_max": -19.936870636930294, "cost2_mean": -106.3879096870232, "cost2_min": -127.8394313366401, "cost1_min": 24.005381514142808}, "episode_reward_max": 846.5793836382553, "episode_reward_mean": 597.8895492516432, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3339435, "timestamp": 1557253670, "time_since_restore": 2229.169861316681, "episodes_total": 1530, "iterations_since_restore": 86, "episode_len_mean": 660.21, "time_total_s": 2229.169861316681, "date": "2019-05-07_18-27-50", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3339435, "update_time_ms": 8.572, "load_time_ms": 12.646, "default": {"kl": 0.017635934054851532, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.007687477394938469, "total_loss": 19.890588760375977, "entropy": 1.0738868713378906, "vf_explained_var": 0.8870158195495605, "vf_loss": 19.896955490112305, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15522.434, "num_steps_trained": 3339435, "grad_time_ms": 9714.547}, "episodes_this_iter": 21, "time_this_iter_s": 25.794512033462524, "timesteps_total": 3339435, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 86, "policy_reward_mean": {}, "timesteps_this_iter": 36843, "episode_reward_min": 35.337317936508676, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 514.113149235159, "outflow_rate_min": 457.1660812385978, "outflow_rate_max": 1666.8394220367868, "outflow_rate_mean": 1226.4102240211123, "cost1_mean": 323.2858608822706, "system_level_velocity_mean": 13.614525357622576, "system_level_velocity_max": 19.66026800602315, "system_level_velocity_min": 10.406866504973948, "cost2_max": -19.936870636930294, "cost2_mean": -107.45247820481322, "cost2_min": -131.81618532459123, "cost1_min": 24.005381514142808}, "episode_reward_max": 846.5793836382553, "episode_reward_mean": 601.5962665925257, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3376229, "timestamp": 1557253695, "time_since_restore": 2254.288432598114, "episodes_total": 1546, "iterations_since_restore": 87, "episode_len_mean": 661.67, "time_total_s": 2254.288432598114, "date": "2019-05-07_18-28-15", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3376229, "update_time_ms": 8.363, "load_time_ms": 12.309, "default": {"kl": 0.017835086211562157, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.006196852307766676, "total_loss": 15.509966850280762, "entropy": 1.0686851739883423, "vf_explained_var": 0.9155921936035156, "vf_loss": 15.514825820922852, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15506.705, "num_steps_trained": 3376229, "grad_time_ms": 9590.065}, "episodes_this_iter": 16, "time_this_iter_s": 25.118571281433105, "timesteps_total": 3376229, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434def28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ded30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de978>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 87, "policy_reward_mean": {}, "timesteps_this_iter": 36794, "episode_reward_min": 35.337317936508676, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 460.6415483784932, "outflow_rate_min": 466.30674638378895, "outflow_rate_max": 1666.8394220367868, "outflow_rate_mean": 1225.1086011828622, "cost1_mean": 323.37529119105767, "system_level_velocity_mean": 13.330586633226812, "system_level_velocity_max": 19.095418350302094, "system_level_velocity_min": 9.894255050585583, "cost2_max": -22.212697917143736, "cost2_mean": -108.50260737955041, "cost2_min": -131.81618532459123, "cost1_min": 29.971793267802433}, "episode_reward_max": 846.5793836382553, "episode_reward_mean": 608.001137442598, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3412874, "timestamp": 1557253721, "time_since_restore": 2280.1829113960266, "episodes_total": 1568, "iterations_since_restore": 88, "episode_len_mean": 673.05, "time_total_s": 2280.1829113960266, "date": "2019-05-07_18-28-41", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3412874, "update_time_ms": 8.205, "load_time_ms": 12.427, "default": {"kl": 0.018178729340434074, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.006592728663235903, "total_loss": 18.133926391601562, "entropy": 1.07002592086792, "vf_explained_var": 0.8943966031074524, "vf_loss": 18.13915252685547, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15599.034, "num_steps_trained": 3412874, "grad_time_ms": 9637.294}, "episodes_this_iter": 22, "time_this_iter_s": 25.894478797912598, "timesteps_total": 3412874, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 88, "policy_reward_mean": {}, "timesteps_this_iter": 36645, "episode_reward_min": 46.24890751623764, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 460.6415483784932, "outflow_rate_min": 466.30674638378895, "outflow_rate_max": 1666.8394220367868, "outflow_rate_mean": 1233.000112511696, "cost1_mean": 326.48506632004876, "system_level_velocity_mean": 13.297703035149018, "system_level_velocity_max": 19.095418350302094, "system_level_velocity_min": 9.894255050585583, "cost2_max": -22.212697917143736, "cost2_mean": -108.96743724453295, "cost2_min": -131.81618532459123, "cost1_min": 29.971793267802433}, "episode_reward_max": 846.5793836382553, "episode_reward_mean": 612.9337074074564, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3449237, "timestamp": 1557253746, "time_since_restore": 2304.961228132248, "episodes_total": 1586, "iterations_since_restore": 89, "episode_len_mean": 678.87, "time_total_s": 2304.961228132248, "date": "2019-05-07_18-29-06", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3449237, "update_time_ms": 8.537, "load_time_ms": 12.134, "default": {"kl": 0.017908243462443352, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.007511581294238567, "total_loss": 15.968897819519043, "entropy": 1.050040602684021, "vf_explained_var": 0.9126249551773071, "vf_loss": 15.975067138671875, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15513.7, "num_steps_trained": 3449237, "grad_time_ms": 9706.377}, "episodes_this_iter": 18, "time_this_iter_s": 24.778316736221313, "timesteps_total": 3449237, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 89, "policy_reward_mean": {}, "timesteps_this_iter": 36363, "episode_reward_min": 46.24890751623764, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 493.3103199518785, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1666.8394220367868, "outflow_rate_mean": 1222.651019922605, "cost1_mean": 324.02466427339874, "system_level_velocity_mean": 13.277058174907031, "system_level_velocity_max": 19.924822348123104, "system_level_velocity_min": 9.894255050585583, "cost2_max": -17.61379404756733, "cost2_mean": -108.52194936873296, "cost2_min": -131.81618532459123, "cost1_min": 18.85938324041694}, "episode_reward_max": 846.5793836382553, "episode_reward_mean": 607.9260041982691, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3485782, "timestamp": 1557253773, "time_since_restore": 2331.503377199173, "episodes_total": 1607, "iterations_since_restore": 90, "episode_len_mean": 676.88, "time_total_s": 2331.503377199173, "date": "2019-05-07_18-29-33", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3485782, "update_time_ms": 9.058, "load_time_ms": 11.771, "default": {"kl": 0.019534414634108543, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.007484072353690863, "total_loss": 20.090028762817383, "entropy": 1.0663803815841675, "vf_explained_var": 0.8982285857200623, "vf_loss": 20.09604835510254, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15677.029, "num_steps_trained": 3485782, "grad_time_ms": 9774.628}, "episodes_this_iter": 21, "time_this_iter_s": 26.54214906692505, "timesteps_total": 3485782, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cada0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cae10>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 90, "policy_reward_mean": {}, "timesteps_this_iter": 36545, "episode_reward_min": 31.90020579812032, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 493.3103199518785, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1569.7858441558442, "outflow_rate_mean": 1216.2360082678977, "cost1_mean": 322.88661291107985, "system_level_velocity_mean": 13.279682246865052, "system_level_velocity_max": 19.924822348123104, "system_level_velocity_min": 9.894255050585583, "cost2_max": -17.61379404756733, "cost2_mean": -107.78562187636936, "cost2_min": -131.81618532459123, "cost1_min": 18.85938324041694}, "episode_reward_max": 759.9781883689276, "episode_reward_mean": 602.6111285910587, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3522570, "timestamp": 1557253799, "time_since_restore": 2357.2582669258118, "episodes_total": 1627, "iterations_since_restore": 91, "episode_len_mean": 675.24, "time_total_s": 2357.2582669258118, "date": "2019-05-07_18-29-59", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3522570, "update_time_ms": 8.852, "load_time_ms": 11.966, "default": {"kl": 0.019263222813606262, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.007193366065621376, "total_loss": 19.444580078125, "entropy": 1.0726962089538574, "vf_explained_var": 0.9007946848869324, "vf_loss": 19.450328826904297, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15698.534, "num_steps_trained": 3522570, "grad_time_ms": 9854.99}, "episodes_this_iter": 20, "time_this_iter_s": 25.754889726638794, "timesteps_total": 3522570, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea978>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 91, "policy_reward_mean": {}, "timesteps_this_iter": 36788, "episode_reward_min": 31.90020579812032, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 493.3103199518785, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1569.7858441558442, "outflow_rate_mean": 1219.1196314221445, "cost1_mean": 325.93865724914923, "system_level_velocity_mean": 13.259185422573388, "system_level_velocity_max": 19.924822348123104, "system_level_velocity_min": 9.894255050585583, "cost2_max": -17.61379404756733, "cost2_mean": -107.78720515746016, "cost2_min": -128.9728236993286, "cost1_min": 18.85938324041694}, "episode_reward_max": 759.9781883689276, "episode_reward_mean": 605.3424268270207, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3559501, "timestamp": 1557253823, "time_since_restore": 2382.191305875778, "episodes_total": 1643, "iterations_since_restore": 92, "episode_len_mean": 680.15, "time_total_s": 2382.191305875778, "date": "2019-05-07_18-30-23", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3559501, "update_time_ms": 8.951, "load_time_ms": 12.182, "default": {"kl": 0.019368387758731842, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.008125505410134792, "total_loss": 14.666218757629395, "entropy": 1.0699056386947632, "vf_explained_var": 0.9197213649749756, "vf_loss": 14.672893524169922, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15502.758, "num_steps_trained": 3559501, "grad_time_ms": 9829.306}, "episodes_this_iter": 16, "time_this_iter_s": 24.93303894996643, "timesteps_total": 3559501, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7630>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 92, "policy_reward_mean": {}, "timesteps_this_iter": 36931, "episode_reward_min": 31.90020579812032, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 493.3103199518785, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1569.7858441558442, "outflow_rate_mean": 1217.6886395129693, "cost1_mean": 325.4885178387364, "system_level_velocity_mean": 13.23496629887942, "system_level_velocity_max": 19.924822348123104, "system_level_velocity_min": 9.657796850221231, "cost2_max": -17.61379404756733, "cost2_mean": -107.5471699048369, "cost2_min": -128.9728236993286, "cost1_min": 18.85938324041694}, "episode_reward_max": 759.9781883689276, "episode_reward_mean": 603.7464562572735, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3596318, "timestamp": 1557253848, "time_since_restore": 2407.120293855667, "episodes_total": 1662, "iterations_since_restore": 93, "episode_len_mean": 680.16, "time_total_s": 2407.120293855667, "date": "2019-05-07_18-30-48", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3596318, "update_time_ms": 8.66, "load_time_ms": 12.117, "default": {"kl": 0.0178228672593832, "cur_kl_coeff": 0.07499999552965164, "policy_loss": -0.006604555994272232, "total_loss": 15.103120803833008, "entropy": 1.0674529075622559, "vf_explained_var": 0.9148451089859009, "vf_loss": 15.10838794708252, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15314.495, "num_steps_trained": 3596318, "grad_time_ms": 9886.65}, "episodes_this_iter": 19, "time_this_iter_s": 24.928987979888916, "timesteps_total": 3596318, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec668>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 93, "policy_reward_mean": {}, "timesteps_this_iter": 36817, "episode_reward_min": 31.90020579812032, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 493.3103199518785, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1569.7858441558442, "outflow_rate_mean": 1210.800072148334, "cost1_mean": 323.5470321486498, "system_level_velocity_mean": 13.173148968564043, "system_level_velocity_max": 19.924822348123104, "system_level_velocity_min": 9.657796850221231, "cost2_max": -17.61379404756733, "cost2_mean": -108.72555415957008, "cost2_min": -133.80343579200164, "cost1_min": 18.85938324041694}, "episode_reward_max": 743.4196056190742, "episode_reward_mean": 604.8175041484635, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3633992, "timestamp": 1557253874, "time_since_restore": 2432.1682925224304, "episodes_total": 1680, "iterations_since_restore": 94, "episode_len_mean": 680.16, "time_total_s": 2432.1682925224304, "date": "2019-05-07_18-31-14", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3633992, "update_time_ms": 8.804, "load_time_ms": 12.275, "default": {"kl": 0.021451259031891823, "cur_kl_coeff": 0.07499998807907104, "policy_loss": -0.006911459378898144, "total_loss": 14.825387954711914, "entropy": 1.0593230724334717, "vf_explained_var": 0.9017489552497864, "vf_loss": 14.83069133758545, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15378.599, "num_steps_trained": 3633992, "grad_time_ms": 9897.766}, "episodes_this_iter": 18, "time_this_iter_s": 25.047998666763306, "timesteps_total": 3633992, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecbe0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 94, "policy_reward_mean": {}, "timesteps_this_iter": 37674, "episode_reward_min": 31.90020579812032, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 493.3103199518785, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1569.7858441558442, "outflow_rate_mean": 1204.8573223701121, "cost1_mean": 320.052928660907, "system_level_velocity_mean": 13.046859454693397, "system_level_velocity_max": 19.924822348123104, "system_level_velocity_min": 9.657796850221231, "cost2_max": -17.61379404756733, "cost2_mean": -109.91704876686411, "cost2_min": -133.80343579200164, "cost1_min": 18.85938324041694}, "episode_reward_max": 743.4196056190742, "episode_reward_mean": 604.6196028056322, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3671153, "timestamp": 1557253898, "time_since_restore": 2457.1276137828827, "episodes_total": 1701, "iterations_since_restore": 95, "episode_len_mean": 680.16, "time_total_s": 2457.1276137828827, "date": "2019-05-07_18-31-38", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3671153, "update_time_ms": 8.673, "load_time_ms": 12.122, "default": {"kl": 0.016480199992656708, "cur_kl_coeff": 0.11249999701976776, "policy_loss": -0.007787036709487438, "total_loss": 15.098423957824707, "entropy": 1.0556079149246216, "vf_explained_var": 0.912067711353302, "vf_loss": 15.104357719421387, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15477.794, "num_steps_trained": 3671153, "grad_time_ms": 9792.977}, "episodes_this_iter": 21, "time_this_iter_s": 24.95932126045227, "timesteps_total": 3671153, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaef0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 95, "policy_reward_mean": {}, "timesteps_this_iter": 37161, "episode_reward_min": 31.90020579812032, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 468.52239939811955, "outflow_rate_min": 454.18547075098166, "outflow_rate_max": 1558.8071568431567, "outflow_rate_mean": 1208.510747179762, "cost1_mean": 321.56300881547537, "system_level_velocity_mean": 12.917914723905449, "system_level_velocity_max": 18.96570987679526, "system_level_velocity_min": 9.657796850221231, "cost2_max": -20.37897176230779, "cost2_mean": -111.46266767537028, "cost2_min": -133.80343579200164, "cost1_min": 29.46221401383867}, "episode_reward_max": 743.4196056190742, "episode_reward_mean": 612.290838513841, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3707252, "timestamp": 1557253924, "time_since_restore": 2482.2920179367065, "episodes_total": 1718, "iterations_since_restore": 96, "episode_len_mean": 686.88, "time_total_s": 2482.2920179367065, "date": "2019-05-07_18-32-04", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3707252, "update_time_ms": 8.69, "load_time_ms": 11.895, "default": {"kl": 0.018775450065732002, "cur_kl_coeff": 0.11250000447034836, "policy_loss": -0.006813719402998686, "total_loss": 14.200222969055176, "entropy": 1.0539865493774414, "vf_explained_var": 0.9175336956977844, "vf_loss": 14.204925537109375, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15466.662, "num_steps_trained": 3707252, "grad_time_ms": 9741.896}, "episodes_this_iter": 17, "time_this_iter_s": 25.164404153823853, "timesteps_total": 3707252, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c76a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 96, "policy_reward_mean": {}, "timesteps_this_iter": 36099, "episode_reward_min": 44.87484619413858, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 428.24835094282645, "outflow_rate_min": 454.18547075098166, "outflow_rate_max": 1481.768338061938, "outflow_rate_mean": 1212.9938260961212, "cost1_mean": 322.54986115697136, "system_level_velocity_mean": 12.780877223391338, "system_level_velocity_max": 18.64833751217276, "system_level_velocity_min": 9.657796850221231, "cost2_max": -25.523867820869658, "cost2_mean": -114.15231604736282, "cost2_min": -133.80343579200164, "cost1_min": 30.862021066026912}, "episode_reward_max": 743.4196056190742, "episode_reward_mean": 618.2317399636764, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3744125, "timestamp": 1557253950, "time_since_restore": 2508.2171370983124, "episodes_total": 1737, "iterations_since_restore": 97, "episode_len_mean": 693.45, "time_total_s": 2508.2171370983124, "date": "2019-05-07_18-32-30", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3744125, "update_time_ms": 8.789, "load_time_ms": 12.197, "default": {"kl": 0.018115535378456116, "cur_kl_coeff": 0.11250000447034836, "policy_loss": -0.007145143114030361, "total_loss": 14.139212608337402, "entropy": 1.0766206979751587, "vf_explained_var": 0.9142548441886902, "vf_loss": 14.14432144165039, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15614.038, "num_steps_trained": 3744125, "grad_time_ms": 9674.287}, "episodes_this_iter": 19, "time_this_iter_s": 25.925119161605835, "timesteps_total": 3744125, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecd30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eccc0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 97, "policy_reward_mean": {}, "timesteps_this_iter": 36873, "episode_reward_min": 48.12019329625987, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 415.90158775597, "outflow_rate_min": 449.11702719380946, "outflow_rate_max": 1474.0876587412586, "outflow_rate_mean": 1190.5819790696573, "cost1_mean": 313.51470390224165, "system_level_velocity_mean": 12.778409172578238, "system_level_velocity_max": 19.469490222758047, "system_level_velocity_min": 10.09393556967841, "cost2_max": -18.103100690317277, "cost2_mean": -113.08188605577247, "cost2_min": -133.80343579200164, "cost1_min": 22.926051436429873}, "episode_reward_max": 712.3424838376079, "episode_reward_mean": 608.0000595067819, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3781794, "timestamp": 1557253975, "time_since_restore": 2533.582389831543, "episodes_total": 1756, "iterations_since_restore": 98, "episode_len_mean": 680.95, "time_total_s": 2533.582389831543, "date": "2019-05-07_18-32-55", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3781794, "update_time_ms": 8.917, "load_time_ms": 12.193, "default": {"kl": 0.015983110293745995, "cur_kl_coeff": 0.11250001192092896, "policy_loss": -0.006648886948823929, "total_loss": 18.243852615356445, "entropy": 1.06096613407135, "vf_explained_var": 0.8900020718574524, "vf_loss": 18.24870491027832, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15653.588, "num_steps_trained": 3781794, "grad_time_ms": 9582.229}, "episodes_this_iter": 19, "time_this_iter_s": 25.36525273323059, "timesteps_total": 3781794, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec940>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 98, "policy_reward_mean": {}, "timesteps_this_iter": 37669, "episode_reward_min": 42.288275768659936, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 421.1333632627775, "outflow_rate_min": 445.25449331600703, "outflow_rate_max": 1484.7271872127872, "outflow_rate_mean": 1183.807166977014, "cost1_mean": 311.2558799448096, "system_level_velocity_mean": 13.027119856810568, "system_level_velocity_max": 19.469490222758047, "system_level_velocity_min": 10.09393556967841, "cost2_max": -18.103100690317277, "cost2_mean": -110.92305560804238, "cost2_min": -133.28288814931153, "cost1_min": 22.275703799007058}, "episode_reward_max": 712.3424838376079, "episode_reward_mean": 597.2024730220443, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3819166, "timestamp": 1557254000, "time_since_restore": 2558.686707019806, "episodes_total": 1776, "iterations_since_restore": 99, "episode_len_mean": 667.92, "time_total_s": 2558.686707019806, "date": "2019-05-07_18-33-20", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3819166, "update_time_ms": 8.801, "load_time_ms": 12.353, "default": {"kl": 0.016360417008399963, "cur_kl_coeff": 0.11250001192092896, "policy_loss": -0.005999626591801643, "total_loss": 15.709490776062012, "entropy": 1.05631422996521, "vf_explained_var": 0.919697642326355, "vf_loss": 15.713652610778809, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15811.686, "num_steps_trained": 3819166, "grad_time_ms": 9458.985}, "episodes_this_iter": 20, "time_this_iter_s": 25.10431718826294, "timesteps_total": 3819166, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2a90>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 99, "policy_reward_mean": {}, "timesteps_this_iter": 37372, "episode_reward_min": 40.93132546445578, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
{"custom_metrics": {"cost1_max": 421.1333632627775, "outflow_rate_min": 445.25449331600703, "outflow_rate_max": 1484.7271872127872, "outflow_rate_mean": 1179.3073704295614, "cost1_mean": 309.2768123714509, "system_level_velocity_mean": 12.94965052324037, "system_level_velocity_max": 19.469490222758047, "system_level_velocity_min": 9.97845102136005, "cost2_max": -18.103100690317277, "cost2_mean": -111.65626841087702, "cost2_min": -131.9809702560105, "cost1_min": 22.275703799007058}, "episode_reward_max": 712.3424838376079, "episode_reward_mean": 596.4061409367769, "done": true, "node_ip": "10.138.0.2", "timesteps_since_restore": 3857133, "timestamp": 1557254026, "time_since_restore": 2584.1901047229767, "episodes_total": 1796, "iterations_since_restore": 100, "episode_len_mean": 667.92, "time_total_s": 2584.1901047229767, "date": "2019-05-07_18-33-46", "pid": 10550, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3857133, "update_time_ms": 8.471, "load_time_ms": 12.517, "default": {"kl": 0.014146131463348866, "cur_kl_coeff": 0.11250001192092896, "policy_loss": -0.004664570093154907, "total_loss": 16.74325180053711, "entropy": 1.0741941928863525, "vf_explained_var": 0.8978182673454285, "vf_loss": 16.74632453918457, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15839.035, "num_steps_trained": 3857133, "grad_time_ms": 9327.99}, "episodes_this_iter": 20, "time_this_iter_s": 25.503397703170776, "timesteps_total": 3857133, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943518358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943518198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943518278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "fcnet_activation": "tanh", "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "fcnet_hiddens": [100, 50, 25], "conv_filters": null, "grayscale": false, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "custom_options": {}, "framestack": true, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "training_iteration": 100, "policy_reward_mean": {}, "timesteps_this_iter": 37967, "episode_reward_min": 40.93132546445578, "hostname": "flow-main", "experiment_id": "8910e75763f94b00845158ada645d41e"}
