{"custom_metrics": {"system_level_velocity_min": 10.981050156438783, "cost1_max": 291.26018073975433, "outflow_rate_min": 443.2153404981598, "outflow_rate_max": 795.7971428571428, "cost1_mean": 158.40056060133284, "system_level_velocity_mean": 14.812538080735013, "system_level_velocity_max": 18.644026005031243, "cost2_min": -61.17257429102359, "outflow_rate_mean": 619.5062416776514, "cost2_max": -18.386573398562835, "cost2_mean": -39.77957384479321, "cost1_min": 25.540940462911365}, "episode_reward_max": 438.18516413446235, "episode_reward_mean": 241.44457066641203, "training_iteration": 1, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 46053, "pid": 10582, "time_since_restore": 48.48791480064392, "episodes_total": 2, "iterations_since_restore": 1, "episode_len_mean": 369.0, "time_this_iter_s": 48.48791480064392, "date": "2019-05-07_17-51-29", "timestamp": 1557251489, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 46053, "update_time_ms": 1384.666, "load_time_ms": 62.729, "default": {"vf_explained_var": 0.9019444584846497, "kl": 0.0006433658418245614, "policy_loss": -0.00016523619706276804, "cur_kl_coeff": 0.20000004768371582, "total_loss": 1.6265716552734375, "entropy": 1.4227322340011597, "vf_loss": 1.6266084909439087, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 35552.435, "num_steps_trained": 46053, "grad_time_ms": 11334.05}, "timesteps_total": 46053, "time_total_s": 48.48791480064392, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533f60>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 46053, "episodes_this_iter": 2, "policy_reward_mean": {}, "episode_reward_min": 44.70397719836171, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 6.504212949492656, "cost1_max": 292.12085703514026, "outflow_rate_min": 257.2182857142857, "outflow_rate_max": 850.5722857142857, "cost1_mean": 209.16741419123434, "system_level_velocity_mean": 9.570829166963849, "system_level_velocity_max": 18.644026005031243, "cost2_min": -100.16391164265771, "outflow_rate_mean": 520.3155234418864, "cost2_max": -17.96886386557293, "cost2_mean": -73.99710887147805, "cost1_min": 25.540940462911365}, "episode_reward_max": 550.1586470053709, "episode_reward_mean": 419.88714608053436, "training_iteration": 2, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 93176, "pid": 10582, "time_since_restore": 77.035071849823, "episodes_total": 22, "iterations_since_restore": 2, "episode_len_mean": 640.2272727272727, "time_this_iter_s": 28.547157049179077, "date": "2019-05-07_17-51-58", "timestamp": 1557251518, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 93176, "update_time_ms": 698.007, "load_time_ms": 38.085, "default": {"vf_explained_var": 0.9664980173110962, "kl": 0.010027228854596615, "policy_loss": -0.002529260003939271, "cur_kl_coeff": 0.10000000894069672, "total_loss": 1.2135103940963745, "entropy": 1.4063564538955688, "vf_loss": 1.2150369882583618, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 26955.419, "num_steps_trained": 93176, "grad_time_ms": 10704.196}, "timesteps_total": 93176, "time_total_s": 77.035071849823, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7da0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 47123, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 44.70397719836171, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 6.504212949492656, "cost1_max": 292.12085703514026, "outflow_rate_min": 257.2182857142857, "outflow_rate_max": 850.5722857142857, "cost1_mean": 216.75085792846326, "system_level_velocity_mean": 9.142254092817236, "system_level_velocity_max": 18.644026005031243, "cost2_min": -100.16391164265771, "outflow_rate_mean": 499.94058331028043, "cost2_max": -17.96886386557293, "cost2_mean": -76.66970198470663, "cost1_min": 25.540940462911365}, "episode_reward_max": 550.1586470053709, "episode_reward_mean": 434.4085186020572, "training_iteration": 3, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 134296, "pid": 10582, "time_since_restore": 103.79215264320374, "episodes_total": 41, "iterations_since_restore": 3, "episode_len_mean": 667.9268292682926, "time_this_iter_s": 26.757080793380737, "date": "2019-05-07_17-52-25", "timestamp": 1557251545, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 134296, "update_time_ms": 468.811, "load_time_ms": 29.166, "default": {"vf_explained_var": 0.9836226105690002, "kl": 0.008994420059025288, "policy_loss": -0.003983750008046627, "cur_kl_coeff": 0.10000001639127731, "total_loss": 0.9639356136322021, "entropy": 1.4064918756484985, "vf_loss": 0.9670200347900391, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 23930.329, "num_steps_trained": 134296, "grad_time_ms": 10059.757}, "timesteps_total": 134296, "time_total_s": 103.79215264320374, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 41120, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 44.70397719836171, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 6.504212949492656, "cost1_max": 304.2024890426693, "outflow_rate_min": 257.2182857142857, "outflow_rate_max": 850.5722857142857, "cost1_mean": 220.6400685540973, "system_level_velocity_mean": 9.163985295570747, "system_level_velocity_max": 18.644026005031243, "cost2_min": -100.16391164265771, "outflow_rate_mean": 517.013667291817, "cost2_max": -17.96886386557293, "cost2_mean": -77.7289920439979, "cost1_min": 25.540940462911365}, "episode_reward_max": 558.8501185924187, "episode_reward_mean": 445.3391269552969, "training_iteration": 4, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 179178, "pid": 10582, "time_since_restore": 131.7543227672577, "episodes_total": 48, "iterations_since_restore": 4, "episode_len_mean": 672.6041666666666, "time_this_iter_s": 27.962170124053955, "date": "2019-05-07_17-52-53", "timestamp": 1557251573, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 179178, "update_time_ms": 353.497, "load_time_ms": 24.786, "default": {"vf_explained_var": 0.9812281727790833, "kl": 0.003588503459468484, "policy_loss": -0.0008750648121349514, "cur_kl_coeff": 0.10000002384185791, "total_loss": 0.877278208732605, "entropy": 1.4034227132797241, "vf_loss": 0.8777943849563599, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 22245.253, "num_steps_trained": 179178, "grad_time_ms": 10209.887}, "timesteps_total": 179178, "time_total_s": 131.7543227672577, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d26a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d26d8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 44882, "episodes_this_iter": 7, "policy_reward_mean": {}, "episode_reward_min": 44.70397719836171, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 6.504212949492656, "cost1_max": 304.2024890426693, "outflow_rate_min": 257.2182857142857, "outflow_rate_max": 850.5722857142857, "cost1_mean": 222.9951194797778, "system_level_velocity_mean": 9.066915402684304, "system_level_velocity_max": 18.644026005031243, "cost2_min": -100.16391164265771, "outflow_rate_mean": 536.9155483491845, "cost2_max": -17.96886386557293, "cost2_mean": -80.16707439372769, "cost1_min": 25.540940462911365}, "episode_reward_max": 625.0533535280658, "episode_reward_mean": 461.80274227540775, "training_iteration": 5, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 222592, "pid": 10582, "time_since_restore": 158.92531538009644, "episodes_total": 66, "iterations_since_restore": 5, "episode_len_mean": 680.0757575757576, "time_this_iter_s": 27.170992612838745, "date": "2019-05-07_17-53-20", "timestamp": 1557251600, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 222592, "update_time_ms": 285.048, "load_time_ms": 22.695, "default": {"vf_explained_var": 0.9714043140411377, "kl": 0.005820250138640404, "policy_loss": -0.001582481898367405, "cur_kl_coeff": 0.05000000819563866, "total_loss": 1.6727344989776611, "entropy": 1.386597752571106, "vf_loss": 1.6740257740020752, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 21478.5, "num_steps_trained": 222592, "grad_time_ms": 9896.698}, "timesteps_total": 222592, "time_total_s": 158.92531538009644, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c79b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c70b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7630>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 43414, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 44.70397719836171, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 5.933896395563267, "cost1_max": 304.2024890426693, "outflow_rate_min": 257.2182857142857, "outflow_rate_max": 850.5722857142857, "cost1_mean": 219.16311892997723, "system_level_velocity_mean": 8.834446076033615, "system_level_velocity_max": 18.644026005031243, "cost2_min": -100.16391164265771, "outflow_rate_mean": 539.9753328700587, "cost2_max": -17.96886386557293, "cost2_mean": -79.41707476260032, "cost1_min": 25.540940462911365}, "episode_reward_max": 625.0533535280658, "episode_reward_mean": 466.0873237571297, "training_iteration": 6, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 265817, "pid": 10582, "time_since_restore": 185.64542388916016, "episodes_total": 81, "iterations_since_restore": 6, "episode_len_mean": 683.7654320987655, "time_this_iter_s": 26.72010850906372, "date": "2019-05-07_17-53-47", "timestamp": 1557251627, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 265817, "update_time_ms": 239.082, "load_time_ms": 20.856, "default": {"vf_explained_var": 0.9550746083259583, "kl": 0.008207003585994244, "policy_loss": -0.002974590752273798, "cur_kl_coeff": 0.05000000819563866, "total_loss": 2.077587366104126, "entropy": 1.399300217628479, "vf_loss": 2.0801515579223633, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 21016.762, "num_steps_trained": 265817, "grad_time_ms": 9566.34}, "timesteps_total": 265817, "time_total_s": 185.64542388916016, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caef0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 43225, "episodes_this_iter": 15, "policy_reward_mean": {}, "episode_reward_min": 44.70397719836171, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 4.762850326161197, "cost1_max": 304.2024890426693, "outflow_rate_min": 257.2182857142857, "outflow_rate_max": 850.5722857142857, "cost1_mean": 215.8758258882528, "system_level_velocity_mean": 8.652949525769072, "system_level_velocity_max": 18.644026005031243, "cost2_min": -111.09827063375351, "outflow_rate_mean": 547.7854439776949, "cost2_max": -17.96886386557293, "cost2_mean": -80.48500259933654, "cost1_min": 25.540940462911365}, "episode_reward_max": 626.5904435291105, "episode_reward_mean": 472.64402565427736, "training_iteration": 7, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 306873, "pid": 10582, "time_since_restore": 211.11258220672607, "episodes_total": 94, "iterations_since_restore": 7, "episode_len_mean": 686.0106382978723, "time_this_iter_s": 25.467158317565918, "date": "2019-05-07_17-54-12", "timestamp": 1557251652, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 306873, "update_time_ms": 206.013, "load_time_ms": 19.407, "default": {"vf_explained_var": 0.9538898468017578, "kl": 0.009831872768700123, "policy_loss": -0.003580638440325856, "cur_kl_coeff": 0.05000000447034836, "total_loss": 2.6121068000793457, "entropy": 1.3890172243118286, "vf_loss": 2.6151957511901855, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 20450.65, "num_steps_trained": 306873, "grad_time_ms": 9387.928}, "timesteps_total": 306873, "time_total_s": 211.11258220672607, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2438>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 41056, "episodes_this_iter": 13, "policy_reward_mean": {}, "episode_reward_min": 44.70397719836171, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 4.762850326161197, "cost1_max": 304.2024890426693, "outflow_rate_min": 257.2182857142857, "outflow_rate_max": 949.4791324675325, "cost1_mean": 219.30263451623512, "system_level_velocity_mean": 8.406396664249161, "system_level_velocity_max": 11.660527005071957, "cost2_min": -112.55184977681041, "outflow_rate_mean": 597.4475402597403, "cost2_max": -48.77031437657974, "cost2_mean": -82.59497471109503, "cost1_min": 118.57597870312563}, "episode_reward_max": 697.2069545616489, "episode_reward_mean": 504.32244433694825, "training_iteration": 8, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 347929, "pid": 10582, "time_since_restore": 236.6819634437561, "episodes_total": 114, "iterations_since_restore": 8, "episode_len_mean": 700.0, "time_this_iter_s": 25.56938123703003, "date": "2019-05-07_17-54-38", "timestamp": 1557251678, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 347929, "update_time_ms": 181.078, "load_time_ms": 18.114, "default": {"vf_explained_var": 0.8845729827880859, "kl": 0.010662822052836418, "policy_loss": -0.0020841495133936405, "cur_kl_coeff": 0.05000000447034836, "total_loss": 5.307476997375488, "entropy": 1.3552896976470947, "vf_loss": 5.309027671813965, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 20067.51, "num_steps_trained": 347929, "grad_time_ms": 9225.398}, "timesteps_total": 347929, "time_total_s": 236.6819634437561, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c79e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7588>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 41056, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 376.86358395510655, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 4.762850326161197, "cost1_max": 304.2024890426693, "outflow_rate_min": 278.316, "outflow_rate_max": 954.8341142857142, "cost1_mean": 219.84204654856399, "system_level_velocity_mean": 8.400696031646977, "system_level_velocity_max": 11.660527005071957, "cost2_min": -121.1001763144302, "outflow_rate_mean": 647.8607141818181, "cost2_max": -48.77031437657974, "cost2_mean": -84.35663557519068, "cost1_min": 118.57597870312563}, "episode_reward_max": 697.2069545616489, "episode_reward_mean": 531.3285916755052, "training_iteration": 9, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 388349, "pid": 10582, "time_since_restore": 261.6855421066284, "episodes_total": 129, "iterations_since_restore": 9, "episode_len_mean": 700.0, "time_this_iter_s": 25.003578662872314, "date": "2019-05-07_17-55-03", "timestamp": 1557251703, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 388349, "update_time_ms": 161.788, "load_time_ms": 17.405, "default": {"vf_explained_var": 0.8964016437530518, "kl": 0.010957381688058376, "policy_loss": -0.00392489368095994, "cur_kl_coeff": 0.05000000447034836, "total_loss": 4.829764366149902, "entropy": 1.327795147895813, "vf_loss": 4.833141326904297, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 19561.815, "num_steps_trained": 388349, "grad_time_ms": 9243.854}, "timesteps_total": 388349, "time_total_s": 261.6855421066284, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40420, "episodes_this_iter": 15, "policy_reward_mean": {}, "episode_reward_min": 384.8366270983457, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 4.762850326161197, "cost1_max": 292.1889967960952, "outflow_rate_min": 407.8805714285715, "outflow_rate_max": 972.8079220779222, "cost1_mean": 219.99760311671307, "system_level_velocity_mean": 8.38093564340354, "system_level_velocity_max": 11.08686123581409, "cost2_min": -121.1001763144302, "outflow_rate_mean": 715.103806909091, "cost2_max": -48.77031437657974, "cost2_mean": -85.90408008626206, "cost1_min": 118.57597870312563}, "episode_reward_max": 753.6234887906154, "episode_reward_mean": 565.7394145197768, "training_iteration": 10, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 428433, "pid": 10582, "time_since_restore": 287.0508642196655, "episodes_total": 149, "iterations_since_restore": 10, "episode_len_mean": 700.0, "time_this_iter_s": 25.36532211303711, "date": "2019-05-07_17-55-28", "timestamp": 1557251728, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 428433, "update_time_ms": 146.287, "load_time_ms": 17.105, "default": {"vf_explained_var": 0.8320464491844177, "kl": 0.009670265950262547, "policy_loss": -0.003353775478899479, "cur_kl_coeff": 0.05000000447034836, "total_loss": 6.7776899337768555, "entropy": 1.3135013580322266, "vf_loss": 6.780560493469238, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 19201.689, "num_steps_trained": 428433, "grad_time_ms": 9250.635}, "timesteps_total": 428433, "time_total_s": 287.0508642196655, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943518fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2898>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40084, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 417.3598745657249, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 4.762850326161197, "cost1_max": 265.99421596646965, "outflow_rate_min": 407.8805714285715, "outflow_rate_max": 1076.1931584415586, "cost1_mean": 219.90436000588932, "system_level_velocity_mean": 8.34371923353469, "system_level_velocity_max": 10.059090972850298, "cost2_min": -121.1001763144302, "outflow_rate_mean": 766.620669090909, "cost2_max": -48.77031437657974, "cost2_mean": -86.88148419226822, "cost1_min": 118.57597870312563}, "episode_reward_max": 789.3936781788219, "episode_reward_mean": 595.5046306678177, "training_iteration": 11, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 467076, "pid": 10582, "time_since_restore": 311.2677278518677, "episodes_total": 166, "iterations_since_restore": 11, "episode_len_mean": 700.0, "time_this_iter_s": 24.21686363220215, "date": "2019-05-07_17-55-52", "timestamp": 1557251752, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 467076, "update_time_ms": 8.46, "load_time_ms": 11.909, "default": {"vf_explained_var": 0.8265392780303955, "kl": 0.007137325592339039, "policy_loss": -0.002144134370610118, "cur_kl_coeff": 0.050000011920928955, "total_loss": 6.831804275512695, "entropy": 1.3023604154586792, "vf_loss": 6.833591938018799, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17179.882, "num_steps_trained": 467076, "grad_time_ms": 8996.044}, "timesteps_total": 467076, "time_total_s": 311.2677278518677, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cada0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943518e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caeb8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38643, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 417.3598745657249, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 4.762850326161197, "cost1_max": 277.3573195778573, "outflow_rate_min": 433.8807428571428, "outflow_rate_max": 1076.1931584415586, "cost1_mean": 225.97979935822025, "system_level_velocity_mean": 8.691995174859555, "system_level_velocity_max": 18.078028166849894, "cost2_min": -140.35003897918546, "outflow_rate_mean": 837.8246049318385, "cost2_max": -17.692640381694346, "cost2_mean": -91.71353096801548, "cost1_min": 36.441452758491195}, "episode_reward_max": 801.3874456862229, "episode_reward_mean": 630.604944256609, "training_iteration": 12, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 506491, "pid": 10582, "time_since_restore": 335.59178853034973, "episodes_total": 183, "iterations_since_restore": 12, "episode_len_mean": 693.56, "time_this_iter_s": 24.324060678482056, "date": "2019-05-07_17-56-17", "timestamp": 1557251777, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 506491, "update_time_ms": 7.992, "load_time_ms": 11.746, "default": {"vf_explained_var": 0.7882078289985657, "kl": 0.007699829526245594, "policy_loss": -0.0026943080592900515, "cur_kl_coeff": 0.05000000819563866, "total_loss": 7.821791648864746, "entropy": 1.319973349571228, "vf_loss": 7.824102878570557, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16852.81, "num_steps_trained": 506491, "grad_time_ms": 8903.051}, "timesteps_total": 506491, "time_total_s": 335.59178853034973, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7320>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39415, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 68.87589385448095, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 6.722900296191092, "cost1_max": 277.3573195778573, "outflow_rate_min": 510.32105222481283, "outflow_rate_max": 1076.1931584415586, "cost1_mean": 232.1030959214084, "system_level_velocity_mean": 8.899956417195124, "system_level_velocity_max": 18.078028166849894, "cost2_min": -142.32160131775652, "outflow_rate_mean": 891.2941791616088, "cost2_max": -17.692640381694346, "cost2_mean": -95.7623991555769, "cost1_min": 36.441452758491195}, "episode_reward_max": 801.3874456862229, "episode_reward_mean": 659.9262122975899, "training_iteration": 13, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 547023, "pid": 10582, "time_since_restore": 360.7565381526947, "episodes_total": 198, "iterations_since_restore": 13, "episode_len_mean": 693.56, "time_this_iter_s": 25.16474962234497, "date": "2019-05-07_17-56-42", "timestamp": 1557251802, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 547023, "update_time_ms": 7.64, "load_time_ms": 11.743, "default": {"vf_explained_var": 0.8035100698471069, "kl": 0.008732876740396023, "policy_loss": -0.0021474380046129227, "cur_kl_coeff": 0.05000000819563866, "total_loss": 6.706880569458008, "entropy": 1.3096548318862915, "vf_loss": 6.708590984344482, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16599.402, "num_steps_trained": 547023, "grad_time_ms": 8998.196}, "timesteps_total": 547023, "time_total_s": 360.7565381526947, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caf98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cabe0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40532, "episodes_this_iter": 15, "policy_reward_mean": {}, "episode_reward_min": 68.87589385448095, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 6.722900296191092, "cost1_max": 282.60481784695514, "outflow_rate_min": 510.32105222481283, "outflow_rate_max": 1098.0415896103893, "cost1_mean": 235.4301529433355, "system_level_velocity_mean": 9.020429979613953, "system_level_velocity_max": 18.078028166849894, "cost2_min": -142.32160131775652, "outflow_rate_mean": 919.2817386581122, "cost2_max": -17.692640381694346, "cost2_mean": -98.3048393248862, "cost1_min": 36.441452758491195}, "episode_reward_max": 801.3874456862229, "episode_reward_mean": 676.8951485210519, "training_iteration": 14, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 587115, "pid": 10582, "time_since_restore": 385.46157813072205, "episodes_total": 210, "iterations_since_restore": 14, "episode_len_mean": 693.56, "time_this_iter_s": 24.705039978027344, "date": "2019-05-07_17-57-07", "timestamp": 1557251827, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 587115, "update_time_ms": 7.762, "load_time_ms": 11.709, "default": {"vf_explained_var": 0.8583422899246216, "kl": 0.008422065526247025, "policy_loss": -0.002158022252842784, "cur_kl_coeff": 0.05000000447034836, "total_loss": 6.845190048217773, "entropy": 1.3085148334503174, "vf_loss": 6.846926212310791, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16324.84, "num_steps_trained": 587115, "grad_time_ms": 8948.842}, "timesteps_total": 587115, "time_total_s": 385.46157813072205, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c76d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7f28>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40092, "episodes_this_iter": 12, "policy_reward_mean": {}, "episode_reward_min": 68.87589385448095, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 6.722900296191092, "cost1_max": 302.11218382813274, "outflow_rate_min": 510.32105222481283, "outflow_rate_max": 1258.2827724275724, "cost1_mean": 243.6006246043823, "system_level_velocity_mean": 9.311163343794933, "system_level_velocity_max": 18.078028166849894, "cost2_min": -142.32160131775652, "outflow_rate_mean": 968.4207865022681, "cost2_max": -17.692640381694346, "cost2_mean": -102.43653926472324, "cost1_min": 36.441452758491195}, "episode_reward_max": 900.4439425105692, "episode_reward_mean": 704.1284597217482, "training_iteration": 15, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 627703, "pid": 10582, "time_since_restore": 411.9815034866333, "episodes_total": 230, "iterations_since_restore": 15, "episode_len_mean": 693.56, "time_this_iter_s": 26.519925355911255, "date": "2019-05-07_17-57-33", "timestamp": 1557251853, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 627703, "update_time_ms": 7.282, "load_time_ms": 11.629, "default": {"vf_explained_var": 0.8261314630508423, "kl": 0.007822077721357346, "policy_loss": -0.00119302689563483, "cur_kl_coeff": 0.05000000819563866, "total_loss": 10.283137321472168, "entropy": 1.2990050315856934, "vf_loss": 10.283939361572266, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16162.199, "num_steps_trained": 627703, "grad_time_ms": 9047.633}, "timesteps_total": 627703, "time_total_s": 411.9815034866333, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cada0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40588, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 68.87589385448095, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 7.234544427271461, "cost1_max": 308.5907248024296, "outflow_rate_min": 455.35862697579813, "outflow_rate_max": 1258.2827724275724, "cost1_mean": 249.8007483431941, "system_level_velocity_mean": 9.723768320254345, "system_level_velocity_max": 18.43436676305024, "cost2_min": -142.61132830777913, "outflow_rate_mean": 1005.765398702096, "cost2_max": -17.692640381694346, "cost2_mean": -107.93212990509686, "cost1_min": 30.770919394665686}, "episode_reward_max": 900.4439425105692, "episode_reward_mean": 718.799225265897, "training_iteration": 16, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 667303, "pid": 10582, "time_since_restore": 437.4259557723999, "episodes_total": 250, "iterations_since_restore": 16, "episode_len_mean": 687.02, "time_this_iter_s": 25.4444522857666, "date": "2019-05-07_17-57-59", "timestamp": 1557251879, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 667303, "update_time_ms": 7.003, "load_time_ms": 11.656, "default": {"vf_explained_var": 0.8201535940170288, "kl": 0.007265160325914621, "policy_loss": -0.0007679621339775622, "cur_kl_coeff": 0.05000000819563866, "total_loss": 10.454856872558594, "entropy": 1.2983407974243164, "vf_loss": 10.45526123046875, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15782.159, "num_steps_trained": 667303, "grad_time_ms": 9300.201}, "timesteps_total": 667303, "time_total_s": 437.4259557723999, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c77b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39600, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 53.68417237900174, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 7.771469668231821, "cost1_max": 309.799270783057, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1258.2827724275724, "cost1_mean": 251.63482459209467, "system_level_velocity_mean": 10.155086728247882, "system_level_velocity_max": 18.43436676305024, "cost2_min": -142.61132830777913, "outflow_rate_mean": 1027.9529325947155, "cost2_max": -14.000703926466878, "cost2_mean": -108.97259388944529, "cost1_min": 20.531744034951608}, "episode_reward_max": 900.4439425105692, "episode_reward_mean": 715.450105349685, "training_iteration": 17, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 705367, "pid": 10582, "time_since_restore": 462.77246379852295, "episodes_total": 271, "iterations_since_restore": 17, "episode_len_mean": 673.86, "time_this_iter_s": 25.346508026123047, "date": "2019-05-07_17-58-24", "timestamp": 1557251904, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 705367, "update_time_ms": 7.215, "load_time_ms": 11.767, "default": {"vf_explained_var": 0.8091886043548584, "kl": 0.009226285852491856, "policy_loss": -0.002304977737367153, "cur_kl_coeff": 0.05000000819563866, "total_loss": 12.87597370147705, "entropy": 1.2935528755187988, "vf_loss": 12.877817153930664, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15614.283, "num_steps_trained": 705367, "grad_time_ms": 9455.438}, "timesteps_total": 705367, "time_total_s": 462.77246379852295, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc438>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38064, "episodes_this_iter": 21, "policy_reward_mean": {}, "episode_reward_min": 39.59610902966409, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 7.771469668231821, "cost1_max": 343.01210896986333, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1330.780116283716, "cost1_mean": 260.55853637017043, "system_level_velocity_mean": 10.332595078368675, "system_level_velocity_max": 18.43436676305024, "cost2_min": -142.61132830777913, "outflow_rate_mean": 1054.1633388676723, "cost2_max": -14.000703926466878, "cost2_mean": -110.71931847528366, "cost1_min": 20.531744034951608}, "episode_reward_max": 936.5785929996075, "episode_reward_mean": 727.5157089917989, "training_iteration": 18, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 742988, "pid": 10582, "time_since_restore": 486.26508045196533, "episodes_total": 289, "iterations_since_restore": 18, "episode_len_mean": 680.3, "time_this_iter_s": 23.492616653442383, "date": "2019-05-07_17-58-48", "timestamp": 1557251928, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 742988, "update_time_ms": 7.262, "load_time_ms": 12.14, "default": {"vf_explained_var": 0.8363515138626099, "kl": 0.008731444366276264, "policy_loss": -0.002812113845720887, "cur_kl_coeff": 0.05000000447034836, "total_loss": 10.055693626403809, "entropy": 1.2981600761413574, "vf_loss": 10.058070182800293, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15226.888, "num_steps_trained": 742988, "grad_time_ms": 9633.173}, "timesteps_total": 742988, "time_total_s": 486.26508045196533, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d28d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2a90>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37621, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 39.59610902966409, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.856635052976591, "cost1_max": 343.01210896986333, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1330.780116283716, "cost1_mean": 265.5126720617363, "system_level_velocity_mean": 10.527204270968873, "system_level_velocity_max": 18.43436676305024, "cost2_min": -142.61132830777913, "outflow_rate_mean": 1062.6809429356042, "cost2_max": -14.000703926466878, "cost2_mean": -110.33551044423362, "cost1_min": 20.531744034951608}, "episode_reward_max": 936.5785929996075, "episode_reward_mean": 727.956583654795, "training_iteration": 19, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 781650, "pid": 10582, "time_since_restore": 510.31502532958984, "episodes_total": 302, "iterations_since_restore": 19, "episode_len_mean": 680.3, "time_this_iter_s": 24.04994487762451, "date": "2019-05-07_17-59-12", "timestamp": 1557251952, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 781650, "update_time_ms": 7.342, "load_time_ms": 12.313, "default": {"vf_explained_var": 0.8594323992729187, "kl": 0.007441718131303787, "policy_loss": -0.0014423583634197712, "cur_kl_coeff": 0.05000000819563866, "total_loss": 7.552917003631592, "entropy": 1.2999290227890015, "vf_loss": 7.553987503051758, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15024.78, "num_steps_trained": 781650, "grad_time_ms": 9738.807}, "timesteps_total": 781650, "time_total_s": 510.31502532958984, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc208>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38662, "episodes_this_iter": 13, "policy_reward_mean": {}, "episode_reward_min": 39.59610902966409, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.856635052976591, "cost1_max": 343.01210896986333, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1330.780116283716, "cost1_mean": 267.26661103544194, "system_level_velocity_mean": 10.613071684451576, "system_level_velocity_max": 18.43436676305024, "cost2_min": -142.61132830777913, "outflow_rate_mean": 1064.4952833951447, "cost2_max": -14.000703926466878, "cost2_mean": -109.85986177527097, "cost1_min": 20.531744034951608}, "episode_reward_max": 936.5785929996075, "episode_reward_mean": 731.0674370003351, "training_iteration": 20, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 822262, "pid": 10582, "time_since_restore": 534.9325761795044, "episodes_total": 316, "iterations_since_restore": 20, "episode_len_mean": 680.3, "time_this_iter_s": 24.61755084991455, "date": "2019-05-07_17-59-36", "timestamp": 1557251976, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 822262, "update_time_ms": 7.566, "load_time_ms": 12.061, "default": {"vf_explained_var": 0.8608604669570923, "kl": 0.007417839951813221, "policy_loss": -0.0008997407858259976, "cur_kl_coeff": 0.05000000819563866, "total_loss": 8.414555549621582, "entropy": 1.3000520467758179, "vf_loss": 8.415083885192871, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14821.934, "num_steps_trained": 822262, "grad_time_ms": 9866.41}, "timesteps_total": 822262, "time_total_s": 534.9325761795044, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c78d0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40612, "episodes_this_iter": 14, "policy_reward_mean": {}, "episode_reward_min": 39.59610902966409, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.21802453168124, "cost1_max": 343.01210896986333, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1330.780116283716, "cost1_mean": 270.50483152818293, "system_level_velocity_mean": 10.752169653118097, "system_level_velocity_max": 18.43436676305024, "cost2_min": -145.4767896603039, "outflow_rate_mean": 1069.7578631593806, "cost2_max": -14.000703926466878, "cost2_mean": -110.22138182381408, "cost1_min": 20.531744034951608}, "episode_reward_max": 936.5785929996075, "episode_reward_mean": 733.1840186991919, "training_iteration": 21, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 862162, "pid": 10582, "time_since_restore": 561.9337270259857, "episodes_total": 334, "iterations_since_restore": 21, "episode_len_mean": 680.3, "time_this_iter_s": 27.001150846481323, "date": "2019-05-07_18-00-03", "timestamp": 1557252003, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 862162, "update_time_ms": 7.675, "load_time_ms": 12.111, "default": {"vf_explained_var": 0.8718846440315247, "kl": 0.008569631725549698, "policy_loss": -0.00048516091192141175, "cur_kl_coeff": 0.05000000819563866, "total_loss": 10.44741153717041, "entropy": 1.2791653871536255, "vf_loss": 10.447467803955078, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14923.501, "num_steps_trained": 862162, "grad_time_ms": 10043.195}, "timesteps_total": 862162, "time_total_s": 561.9337270259857, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2ba8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39900, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 39.59610902966409, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.2421408892126, "cost1_max": 343.01210896986333, "outflow_rate_min": 450.6851121311292, "outflow_rate_max": 1330.780116283716, "cost1_mean": 273.6025798153258, "system_level_velocity_mean": 10.86761082068789, "system_level_velocity_max": 18.340155033172213, "cost2_min": -145.4767896603039, "outflow_rate_mean": 1077.6081094258611, "cost2_max": -15.999256515778637, "cost2_mean": -108.78630855421763, "cost1_min": 23.264490540626163}, "episode_reward_max": 936.5785929996075, "episode_reward_mean": 737.8116749272689, "training_iteration": 22, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 902345, "pid": 10582, "time_since_restore": 588.3485462665558, "episodes_total": 356, "iterations_since_restore": 22, "episode_len_mean": 680.39, "time_this_iter_s": 26.41481924057007, "date": "2019-05-07_18-00-30", "timestamp": 1557252030, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 902345, "update_time_ms": 7.785, "load_time_ms": 12.143, "default": {"vf_explained_var": 0.8173899054527283, "kl": 0.007677809335291386, "policy_loss": -0.0020754686556756496, "cur_kl_coeff": 0.05000000447034836, "total_loss": 12.760784149169922, "entropy": 1.2895251512527466, "vf_loss": 12.76247787475586, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15014.277, "num_steps_trained": 902345, "grad_time_ms": 10159.075}, "timesteps_total": 902345, "time_total_s": 588.3485462665558, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cad30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943518fd0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40183, "episodes_this_iter": 22, "policy_reward_mean": {}, "episode_reward_min": 44.87898110872362, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.23882657468366, "cost1_max": 343.01210896986333, "outflow_rate_min": 450.6851121311292, "outflow_rate_max": 1330.780116283716, "cost1_mean": 276.97539680491417, "system_level_velocity_mean": 10.825607935713226, "system_level_velocity_max": 18.340155033172213, "cost2_min": -145.4767896603039, "outflow_rate_mean": 1081.2620694386633, "cost2_max": -15.999256515778637, "cost2_mean": -110.59748265581304, "cost1_min": 23.264490540626163}, "episode_reward_max": 921.5806725842345, "episode_reward_mean": 749.4407306783511, "training_iteration": 23, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 940958, "pid": 10582, "time_since_restore": 612.0627293586731, "episodes_total": 374, "iterations_since_restore": 23, "episode_len_mean": 686.86, "time_this_iter_s": 23.71418309211731, "date": "2019-05-07_18-00-54", "timestamp": 1557252054, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 940958, "update_time_ms": 7.838, "load_time_ms": 12.626, "default": {"vf_explained_var": 0.8508704304695129, "kl": 0.007368086371570826, "policy_loss": -0.0011048289015889168, "cur_kl_coeff": 0.050000011920928955, "total_loss": 10.817984580993652, "entropy": 1.2973464727401733, "vf_loss": 10.818721771240234, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14793.85, "num_steps_trained": 940958, "grad_time_ms": 10232.176}, "timesteps_total": 940958, "time_total_s": 612.0627293586731, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caf98>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38613, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 44.87898110872362, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.23882657468366, "cost1_max": 330.3376268904475, "outflow_rate_min": 450.6851121311292, "outflow_rate_max": 1244.5215404595403, "cost1_mean": 276.1596047549204, "system_level_velocity_mean": 10.805451513976024, "system_level_velocity_max": 18.340155033172213, "cost2_min": -145.4767896603039, "outflow_rate_mean": 1082.2662501339682, "cost2_max": -15.999256515778637, "cost2_mean": -108.68813816035568, "cost1_min": 23.264490540626163}, "episode_reward_max": 889.9537734051562, "episode_reward_mean": 748.8182613025766, "training_iteration": 24, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 978845, "pid": 10582, "time_since_restore": 636.1034467220306, "episodes_total": 391, "iterations_since_restore": 24, "episode_len_mean": 686.86, "time_this_iter_s": 24.040717363357544, "date": "2019-05-07_18-01-18", "timestamp": 1557252078, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 978845, "update_time_ms": 8.032, "load_time_ms": 12.614, "default": {"vf_explained_var": 0.8459282517433167, "kl": 0.008475914597511292, "policy_loss": -0.0020743662025779486, "cur_kl_coeff": 0.05000000447034836, "total_loss": 10.623626708984375, "entropy": 1.2940189838409424, "vf_loss": 10.625277519226074, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14699.576, "num_steps_trained": 978845, "grad_time_ms": 10258.997}, "timesteps_total": 978845, "time_total_s": 636.1034467220306, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7cc0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37887, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 44.87898110872362, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.033977207765293, "cost1_max": 333.7430796245725, "outflow_rate_min": 450.6851121311292, "outflow_rate_max": 1244.5215404595403, "cost1_mean": 275.7439364830684, "system_level_velocity_mean": 10.778264043990436, "system_level_velocity_max": 18.340155033172213, "cost2_min": -145.4767896603039, "outflow_rate_mean": 1083.8836002638382, "cost2_max": -15.999256515778637, "cost2_mean": -108.72554694680352, "cost1_min": 23.264490540626163}, "episode_reward_max": 889.9537734051562, "episode_reward_mean": 746.7321264902456, "training_iteration": 25, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1016961, "pid": 10582, "time_since_restore": 660.2359006404877, "episodes_total": 408, "iterations_since_restore": 25, "episode_len_mean": 686.86, "time_this_iter_s": 24.13245391845703, "date": "2019-05-07_18-01-42", "timestamp": 1557252102, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1016961, "update_time_ms": 8.32, "load_time_ms": 12.549, "default": {"vf_explained_var": 0.8308685421943665, "kl": 0.008232461288571358, "policy_loss": -0.002615630393847823, "cur_kl_coeff": 0.05000000819563866, "total_loss": 11.080180168151855, "entropy": 1.2859716415405273, "vf_loss": 11.082383155822754, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14420.905, "num_steps_trained": 1016961, "grad_time_ms": 10297.964}, "timesteps_total": 1016961, "time_total_s": 660.2359006404877, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca9b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38116, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 44.87898110872362, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.033977207765293, "cost1_max": 333.7430796245725, "outflow_rate_min": 450.6851121311292, "outflow_rate_max": 1244.5215404595403, "cost1_mean": 275.32977156151605, "system_level_velocity_mean": 10.747671611915402, "system_level_velocity_max": 18.340155033172213, "cost2_min": -145.4767896603039, "outflow_rate_mean": 1083.5809462418601, "cost2_max": -15.999256515778637, "cost2_mean": -108.74641559401644, "cost1_min": 23.264490540626163}, "episode_reward_max": 927.6015843217094, "episode_reward_mean": 747.5739665026595, "training_iteration": 26, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1056274, "pid": 10582, "time_since_restore": 685.1344635486603, "episodes_total": 421, "iterations_since_restore": 26, "episode_len_mean": 686.86, "time_this_iter_s": 24.898562908172607, "date": "2019-05-07_18-02-07", "timestamp": 1557252127, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1056274, "update_time_ms": 8.605, "load_time_ms": 12.537, "default": {"vf_explained_var": 0.8722981214523315, "kl": 0.008957264944911003, "policy_loss": -0.002817432163283229, "cur_kl_coeff": 0.05000000819563866, "total_loss": 8.651460647583008, "entropy": 1.2729740142822266, "vf_loss": 8.653830528259277, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14404.874, "num_steps_trained": 1056274, "grad_time_ms": 10258.229}, "timesteps_total": 1056274, "time_total_s": 685.1344635486603, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d22e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d24e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2160>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39313, "episodes_this_iter": 13, "policy_reward_mean": {}, "episode_reward_min": 44.87898110872362, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.744973603012353, "cost1_max": 333.7430796245725, "outflow_rate_min": 486.47017499195135, "outflow_rate_max": 1244.0099284715284, "cost1_mean": 275.6481773036752, "system_level_velocity_mean": 10.588485336637106, "system_level_velocity_max": 18.340155033172213, "cost2_min": -136.3502423088177, "outflow_rate_mean": 1085.5518796919775, "cost2_max": -17.325381859432042, "cost2_mean": -108.86329728894896, "cost1_min": 33.4921732595332}, "episode_reward_max": 927.6015843217094, "episode_reward_mean": 750.9236405662642, "training_iteration": 27, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1095807, "pid": 10582, "time_since_restore": 712.4189672470093, "episodes_total": 438, "iterations_since_restore": 27, "episode_len_mean": 693.51, "time_this_iter_s": 27.284503698349, "date": "2019-05-07_18-02-34", "timestamp": 1557252154, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1095807, "update_time_ms": 8.602, "load_time_ms": 12.704, "default": {"vf_explained_var": 0.8699864149093628, "kl": 0.008991618640720844, "policy_loss": -0.002178347436711192, "cur_kl_coeff": 0.05000000819563866, "total_loss": 10.11230754852295, "entropy": 1.2700473070144653, "vf_loss": 10.11403751373291, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14526.612, "num_steps_trained": 1095807, "grad_time_ms": 10329.759}, "timesteps_total": 1095807, "time_total_s": 712.4189672470093, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da860>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39533, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 61.62667681086056, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.744973603012353, "cost1_max": 333.7430796245725, "outflow_rate_min": 931.5157922077922, "outflow_rate_max": 1244.0099284715284, "cost1_mean": 275.14322716553073, "system_level_velocity_mean": 10.390267035874876, "system_level_velocity_max": 12.435719606647986, "cost2_min": -136.3502423088177, "outflow_rate_mean": 1083.604129166833, "cost2_max": -83.37136520949639, "cost2_mean": -109.41349923849859, "cost1_min": 230.38282544522139}, "episode_reward_max": 934.1409090703485, "episode_reward_mean": 752.1466470636835, "training_iteration": 28, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1134924, "pid": 10582, "time_since_restore": 738.5957446098328, "episodes_total": 458, "iterations_since_restore": 28, "episode_len_mean": 700.0, "time_this_iter_s": 26.176777362823486, "date": "2019-05-07_18-03-00", "timestamp": 1557252180, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1134924, "update_time_ms": 8.867, "load_time_ms": 12.892, "default": {"vf_explained_var": 0.8561655282974243, "kl": 0.007825110107660294, "policy_loss": -0.0029801419004797935, "cur_kl_coeff": 0.05000000447034836, "total_loss": 11.816778182983398, "entropy": 1.2704347372055054, "vf_loss": 11.819367408752441, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14741.971, "num_steps_trained": 1134924, "grad_time_ms": 10382.869}, "timesteps_total": 1134924, "time_total_s": 738.5957446098328, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de710>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39117, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 644.3157661995963, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.744973603012353, "cost1_max": 333.7430796245725, "outflow_rate_min": 490.3632531743549, "outflow_rate_max": 1244.0099284715284, "cost1_mean": 274.27516005539803, "system_level_velocity_mean": 10.515103904449592, "system_level_velocity_max": 18.50742477456763, "cost2_min": -132.37913087652305, "outflow_rate_mean": 1076.0077131910841, "cost2_max": -19.2282972001551, "cost2_mean": -107.16866034849582, "cost1_min": 36.89770952944207}, "episode_reward_max": 934.1409090703485, "episode_reward_mean": 744.4987139744495, "training_iteration": 29, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1174495, "pid": 10582, "time_since_restore": 764.2328174114227, "episodes_total": 477, "iterations_since_restore": 29, "episode_len_mean": 693.55, "time_this_iter_s": 25.637072801589966, "date": "2019-05-07_18-03-26", "timestamp": 1557252206, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1174495, "update_time_ms": 8.896, "load_time_ms": 12.852, "default": {"vf_explained_var": 0.8542790412902832, "kl": 0.010774923488497734, "policy_loss": -0.0031261262483894825, "cur_kl_coeff": 0.05000000819563866, "total_loss": 11.773393630981445, "entropy": 1.2619704008102417, "vf_loss": 11.775980949401855, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14805.955, "num_steps_trained": 1174495, "grad_time_ms": 10476.177}, "timesteps_total": 1174495, "time_total_s": 764.2328174114227, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943518fd0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39571, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 56.341267616441705, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.744973603012353, "cost1_max": 327.9858950981203, "outflow_rate_min": 490.3632531743549, "outflow_rate_max": 1266.9902865134864, "cost1_mean": 272.23996600796085, "system_level_velocity_mean": 10.434119058040462, "system_level_velocity_max": 18.50742477456763, "cost2_min": -135.41740283350882, "outflow_rate_mean": 1068.114429994281, "cost2_max": -19.2282972001551, "cost2_mean": -109.66923728824426, "cost1_min": 36.89770952944207}, "episode_reward_max": 934.1409090703485, "episode_reward_mean": 746.9517018021625, "training_iteration": 30, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1214201, "pid": 10582, "time_since_restore": 789.4782938957214, "episodes_total": 495, "iterations_since_restore": 30, "episode_len_mean": 693.55, "time_this_iter_s": 25.245476484298706, "date": "2019-05-07_18-03-51", "timestamp": 1557252231, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1214201, "update_time_ms": 8.969, "load_time_ms": 12.935, "default": {"vf_explained_var": 0.8720061182975769, "kl": 0.009302991442382336, "policy_loss": -0.002828147727996111, "cur_kl_coeff": 0.05000000819563866, "total_loss": 10.19390869140625, "entropy": 1.2839878797531128, "vf_loss": 10.196270942687988, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14900.577, "num_steps_trained": 1214201, "grad_time_ms": 10441.761}, "timesteps_total": 1214201, "time_total_s": 789.4782938957214, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dada0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da0f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39706, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 56.341267616441705, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.744973603012353, "cost1_max": 333.01752929202434, "outflow_rate_min": 449.11702719380946, "outflow_rate_max": 1266.9902865134864, "cost1_mean": 271.07862156510686, "system_level_velocity_mean": 10.562621352325646, "system_level_velocity_max": 18.50742477456763, "cost2_min": -135.41740283350882, "outflow_rate_mean": 1056.068081269216, "cost2_max": -15.959053913600183, "cost2_mean": -108.33059487261806, "cost1_min": 22.73265922830719}, "episode_reward_max": 934.1409090703485, "episode_reward_mean": 736.0867757306577, "training_iteration": 31, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1253226, "pid": 10582, "time_since_restore": 816.1921861171722, "episodes_total": 511, "iterations_since_restore": 31, "episode_len_mean": 686.89, "time_this_iter_s": 26.713892221450806, "date": "2019-05-07_18-04-18", "timestamp": 1557252258, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1253226, "update_time_ms": 9.056, "load_time_ms": 13.002, "default": {"vf_explained_var": 0.8638157248497009, "kl": 0.015448790043592453, "policy_loss": -0.004972944036126137, "cur_kl_coeff": 0.05000000447034836, "total_loss": 10.7103910446167, "entropy": 1.2560945749282837, "vf_loss": 10.714591979980469, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14879.373, "num_steps_trained": 1253226, "grad_time_ms": 10433.348}, "timesteps_total": 1253226, "time_total_s": 816.1921861171722, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ded30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39025, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 43.77332809929085, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.744973603012353, "cost1_max": 333.01752929202434, "outflow_rate_min": 449.11702719380946, "outflow_rate_max": 1293.1955196803196, "cost1_mean": 269.1211588471692, "system_level_velocity_mean": 10.505725345423967, "system_level_velocity_max": 18.50742477456763, "cost2_min": -135.41740283350882, "outflow_rate_mean": 1045.8075223321532, "cost2_max": -15.959053913600183, "cost2_mean": -107.85843976249507, "cost1_min": 22.73265922830719}, "episode_reward_max": 934.1409090703485, "episode_reward_mean": 733.1074036854731, "training_iteration": 32, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1292815, "pid": 10582, "time_since_restore": 841.3403537273407, "episodes_total": 528, "iterations_since_restore": 32, "episode_len_mean": 686.89, "time_this_iter_s": 25.148167610168457, "date": "2019-05-07_18-04-43", "timestamp": 1557252283, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1292815, "update_time_ms": 9.088, "load_time_ms": 13.059, "default": {"vf_explained_var": 0.877518355846405, "kl": 0.008944213390350342, "policy_loss": -0.0020980278495699167, "cur_kl_coeff": 0.05000000819563866, "total_loss": 9.436017990112305, "entropy": 1.2691612243652344, "vf_loss": 9.437668800354004, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14706.763, "num_steps_trained": 1292815, "grad_time_ms": 10478.926}, "timesteps_total": 1292815, "time_total_s": 841.3403537273407, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dec50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de198>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39589, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 43.77332809929085, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.945065159406157, "cost1_max": 333.01752929202434, "outflow_rate_min": 449.11702719380946, "outflow_rate_max": 1311.9962893106895, "cost1_mean": 269.4118086614537, "system_level_velocity_mean": 10.505998962334086, "system_level_velocity_max": 18.50742477456763, "cost2_min": -138.7119628964171, "outflow_rate_mean": 1043.9537854370483, "cost2_max": -15.959053913600183, "cost2_mean": -108.73578312120071, "cost1_min": 22.73265922830719}, "episode_reward_max": 934.1409090703485, "episode_reward_mean": 735.0267528987487, "training_iteration": 33, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1332455, "pid": 10582, "time_since_restore": 865.6430938243866, "episodes_total": 542, "iterations_since_restore": 33, "episode_len_mean": 686.89, "time_this_iter_s": 24.3027400970459, "date": "2019-05-07_18-05-08", "timestamp": 1557252308, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1332455, "update_time_ms": 9.411, "load_time_ms": 12.244, "default": {"vf_explained_var": 0.8962136507034302, "kl": 0.0099024698138237, "policy_loss": -0.003140980377793312, "cur_kl_coeff": 0.05000000819563866, "total_loss": 8.340947151184082, "entropy": 1.2430446147918701, "vf_loss": 8.343592643737793, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14794.208, "num_steps_trained": 1332455, "grad_time_ms": 10451.836}, "timesteps_total": 1332455, "time_total_s": 865.6430938243866, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2ba8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39640, "episodes_this_iter": 14, "policy_reward_mean": {}, "episode_reward_min": 43.77332809929085, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.945065159406157, "cost1_max": 333.01752929202434, "outflow_rate_min": 449.11702719380946, "outflow_rate_max": 1311.9962893106895, "cost1_mean": 269.23112946704833, "system_level_velocity_mean": 10.508129681627945, "system_level_velocity_max": 18.50742477456763, "cost2_min": -138.7119628964171, "outflow_rate_mean": 1038.0584586518337, "cost2_max": -15.959053913600183, "cost2_mean": -107.00594412416713, "cost1_min": 22.73265922830719}, "episode_reward_max": 906.638447546773, "episode_reward_mean": 729.878971762948, "training_iteration": 34, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1372016, "pid": 10582, "time_since_restore": 892.0628025531769, "episodes_total": 560, "iterations_since_restore": 34, "episode_len_mean": 686.89, "time_this_iter_s": 26.419708728790283, "date": "2019-05-07_18-05-34", "timestamp": 1557252334, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1372016, "update_time_ms": 9.263, "load_time_ms": 11.938, "default": {"vf_explained_var": 0.8748751878738403, "kl": 0.011131728999316692, "policy_loss": -0.004483007360249758, "cur_kl_coeff": 0.05000000819563866, "total_loss": 12.001904487609863, "entropy": 1.2232698202133179, "vf_loss": 12.00583267211914, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15056.222, "num_steps_trained": 1372016, "grad_time_ms": 10428.404}, "timesteps_total": 1372016, "time_total_s": 892.0628025531769, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daf98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dadd8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39561, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 43.77332809929085, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.012300628411733, "cost1_max": 333.01752929202434, "outflow_rate_min": 449.11702719380946, "outflow_rate_max": 1362.789456943057, "cost1_mean": 271.9958784549364, "system_level_velocity_mean": 10.427925054936848, "system_level_velocity_max": 18.053599234578506, "cost2_min": -138.7119628964171, "outflow_rate_mean": 1044.411766327882, "cost2_max": -15.959053913600183, "cost2_mean": -105.77013520066959, "cost1_min": 22.73265922830719}, "episode_reward_max": 962.0386623801442, "episode_reward_mean": 736.2666529185908, "training_iteration": 35, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1410051, "pid": 10582, "time_since_restore": 916.7540400028229, "episodes_total": 580, "iterations_since_restore": 35, "episode_len_mean": 693.34, "time_this_iter_s": 24.691237449645996, "date": "2019-05-07_18-05-59", "timestamp": 1557252359, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1410051, "update_time_ms": 9.363, "load_time_ms": 11.747, "default": {"vf_explained_var": 0.8546967506408691, "kl": 0.010976090095937252, "policy_loss": -0.003756442805752158, "cur_kl_coeff": 0.05000000819563866, "total_loss": 14.241312980651855, "entropy": 1.215505838394165, "vf_loss": 14.24452018737793, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15116.592, "num_steps_trained": 1410051, "grad_time_ms": 10423.488}, "timesteps_total": 1410051, "time_total_s": 916.7540400028229, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434deba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de6d8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38035, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 43.77332809929085, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.012300628411733, "cost1_max": 354.5491614382593, "outflow_rate_min": 449.11702719380946, "outflow_rate_max": 1422.4178073926073, "cost1_mean": 274.6341320667105, "system_level_velocity_mean": 10.517039613827086, "system_level_velocity_max": 18.053599234578506, "cost2_min": -138.7119628964171, "outflow_rate_mean": 1048.923408162048, "cost2_max": -15.959053913600183, "cost2_mean": -102.35023193748117, "cost1_min": 22.73265922830719}, "episode_reward_max": 1004.5316229903284, "episode_reward_mean": 735.6978914864987, "training_iteration": 36, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1448167, "pid": 10582, "time_since_restore": 943.2581112384796, "episodes_total": 598, "iterations_since_restore": 36, "episode_len_mean": 693.34, "time_this_iter_s": 26.50407123565674, "date": "2019-05-07_18-06-25", "timestamp": 1557252385, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1448167, "update_time_ms": 9.333, "load_time_ms": 11.334, "default": {"vf_explained_var": 0.8834590315818787, "kl": 0.011911501176655293, "policy_loss": -0.0038491333834826946, "cur_kl_coeff": 0.05000000819563866, "total_loss": 12.2889404296875, "entropy": 1.2191429138183594, "vf_loss": 12.292194366455078, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15298.405, "num_steps_trained": 1448167, "grad_time_ms": 10403.28}, "timesteps_total": 1448167, "time_total_s": 943.2581112384796, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da7f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38116, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 43.77332809929085, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.971556236838541, "cost1_max": 354.5491614382593, "outflow_rate_min": 449.77189613851135, "outflow_rate_max": 1422.4178073926073, "cost1_mean": 274.47711294491023, "system_level_velocity_mean": 10.676988955089382, "system_level_velocity_max": 18.539219179502954, "cost2_min": -138.7119628964171, "outflow_rate_mean": 1048.2713365376874, "cost2_max": -16.680168003340633, "cost2_mean": -98.69252300462675, "cost1_min": 27.11457581079141}, "episode_reward_max": 1004.5316229903284, "episode_reward_mean": 729.5599133912244, "training_iteration": 37, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1485599, "pid": 10582, "time_since_restore": 968.2769596576691, "episodes_total": 619, "iterations_since_restore": 37, "episode_len_mean": 686.9, "time_this_iter_s": 25.018848419189453, "date": "2019-05-07_18-06-50", "timestamp": 1557252410, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1485599, "update_time_ms": 9.497, "load_time_ms": 11.216, "default": {"vf_explained_var": 0.8663126230239868, "kl": 0.009947502054274082, "policy_loss": -0.0034077430609613657, "cur_kl_coeff": 0.05000000447034836, "total_loss": 16.623254776000977, "entropy": 1.189845085144043, "vf_loss": 16.626163482666016, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15196.32, "num_steps_trained": 1485599, "grad_time_ms": 10279.368}, "timesteps_total": 1485599, "time_total_s": 968.2769596576691, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d27f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37432, "episodes_this_iter": 21, "policy_reward_mean": {}, "episode_reward_min": 50.59971509837952, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.971556236838541, "cost1_max": 354.5491614382593, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1422.4178073926073, "cost1_mean": 277.419875829209, "system_level_velocity_mean": 10.95991632042593, "system_level_velocity_max": 18.539219179502954, "cost2_min": -132.83446650380802, "outflow_rate_mean": 1058.926740182148, "cost2_max": -15.202500853818497, "cost2_mean": -96.24802855808448, "cost1_min": 17.441982484339043}, "episode_reward_max": 1004.5316229903284, "episode_reward_mean": 721.2209543520007, "training_iteration": 38, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1522869, "pid": 10582, "time_since_restore": 992.1015379428864, "episodes_total": 635, "iterations_since_restore": 38, "episode_len_mean": 680.16, "time_this_iter_s": 23.824578285217285, "date": "2019-05-07_18-07-14", "timestamp": 1557252434, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1522869, "update_time_ms": 9.223, "load_time_ms": 10.76, "default": {"vf_explained_var": 0.8686379194259644, "kl": 0.013371895998716354, "policy_loss": -0.004819395486265421, "cur_kl_coeff": 0.05000000447034836, "total_loss": 14.19661808013916, "entropy": 1.1917805671691895, "vf_loss": 14.200769424438477, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15068.158, "num_steps_trained": 1522869, "grad_time_ms": 10171.818}, "timesteps_total": 1522869, "time_total_s": 992.1015379428864, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434deda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de198>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37270, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 29.751790485587826, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.971556236838541, "cost1_max": 365.5348338413644, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1422.4178073926073, "cost1_mean": 277.61841389093075, "system_level_velocity_mean": 11.150466872481095, "system_level_velocity_max": 18.539219179502954, "cost2_min": -129.10567929774976, "outflow_rate_mean": 1059.7178431786226, "cost2_max": -15.202500853818497, "cost2_mean": -93.39312195367603, "cost1_min": 17.441982484339043}, "episode_reward_max": 1004.5316229903284, "episode_reward_mean": 713.4247157491558, "training_iteration": 39, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1561531, "pid": 10582, "time_since_restore": 1018.2841215133667, "episodes_total": 653, "iterations_since_restore": 39, "episode_len_mean": 673.63, "time_this_iter_s": 26.182583570480347, "date": "2019-05-07_18-07-40", "timestamp": 1557252460, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1561531, "update_time_ms": 9.238, "load_time_ms": 10.741, "default": {"vf_explained_var": 0.8756861686706543, "kl": 0.010186729021370411, "policy_loss": -0.0028153236489742994, "cur_kl_coeff": 0.05000000819563866, "total_loss": 14.205317497253418, "entropy": 1.179152250289917, "vf_loss": 14.207623481750488, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15271.004, "num_steps_trained": 1561531, "grad_time_ms": 10024.864}, "timesteps_total": 1561531, "time_total_s": 1018.2841215133667, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea908>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38662, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 29.751790485587826, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.971556236838541, "cost1_max": 365.5348338413644, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1422.4178073926073, "cost1_mean": 283.21079238999596, "system_level_velocity_mean": 11.369857070342976, "system_level_velocity_max": 18.539219179502954, "cost2_min": -129.10567929774976, "outflow_rate_mean": 1074.1349682255757, "cost2_max": -15.202500853818497, "cost2_mean": -92.287567924308, "cost1_min": 17.441982484339043}, "episode_reward_max": 1004.5316229903284, "episode_reward_mean": 715.2757839274193, "training_iteration": 40, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1599166, "pid": 10582, "time_since_restore": 1043.8431239128113, "episodes_total": 672, "iterations_since_restore": 40, "episode_len_mean": 673.63, "time_this_iter_s": 25.55900239944458, "date": "2019-05-07_18-08-06", "timestamp": 1557252486, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1599166, "update_time_ms": 9.086, "load_time_ms": 10.655, "default": {"vf_explained_var": 0.8715258836746216, "kl": 0.012564671225845814, "policy_loss": -0.0040914081037044525, "cur_kl_coeff": 0.05000000074505806, "total_loss": 14.32765007019043, "entropy": 1.1734050512313843, "vf_loss": 14.3311128616333, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15379.144, "num_steps_trained": 1599166, "grad_time_ms": 9948.106}, "timesteps_total": 1599166, "time_total_s": 1043.8431239128113, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da438>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37635, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 29.751790485587826, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.971556236838541, "cost1_max": 374.01417556579065, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1426.5825806193807, "cost1_mean": 288.4516675057634, "system_level_velocity_mean": 11.587074205754982, "system_level_velocity_max": 18.539219179502954, "cost2_min": -119.46232963807412, "outflow_rate_mean": 1086.3444855442567, "cost2_max": -15.202500853818497, "cost2_mean": -91.66175628147903, "cost1_min": 17.441982484339043}, "episode_reward_max": 961.53582567536, "episode_reward_mean": 713.3673778630509, "training_iteration": 41, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1636454, "pid": 10582, "time_since_restore": 1070.4805126190186, "episodes_total": 691, "iterations_since_restore": 41, "episode_len_mean": 673.63, "time_this_iter_s": 26.637388706207275, "date": "2019-05-07_18-08-33", "timestamp": 1557252513, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1636454, "update_time_ms": 9.25, "load_time_ms": 10.564, "default": {"vf_explained_var": 0.8834692239761353, "kl": 0.01131114549934864, "policy_loss": -0.0038208093028515577, "cur_kl_coeff": 0.05000000447034836, "total_loss": 14.3760404586792, "entropy": 1.1642651557922363, "vf_loss": 14.379295349121094, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15420.455, "num_steps_trained": 1636454, "grad_time_ms": 9897.029}, "timesteps_total": 1636454, "time_total_s": 1070.4805126190186, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc7f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37288, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 29.751790485587826, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.971556236838541, "cost1_max": 374.01417556579065, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1426.5825806193807, "cost1_mean": 293.5688059151149, "system_level_velocity_mean": 11.630596432338104, "system_level_velocity_max": 18.242162584288156, "cost2_min": -119.46232963807412, "outflow_rate_mean": 1100.8694904974252, "cost2_max": -15.202500853818497, "cost2_mean": -92.36856589086398, "cost1_min": 17.441982484339043}, "episode_reward_max": 961.53582567536, "episode_reward_mean": 719.1140902660206, "training_iteration": 42, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1673472, "pid": 10582, "time_since_restore": 1094.0050904750824, "episodes_total": 707, "iterations_since_restore": 42, "episode_len_mean": 680.23, "time_this_iter_s": 23.524577856063843, "date": "2019-05-07_18-08-56", "timestamp": 1557252536, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1673472, "update_time_ms": 9.274, "load_time_ms": 10.6, "default": {"vf_explained_var": 0.8938102126121521, "kl": 0.012592346407473087, "policy_loss": -0.003575560636818409, "cur_kl_coeff": 0.05000000447034836, "total_loss": 12.12226390838623, "entropy": 1.1983215808868408, "vf_loss": 12.12520980834961, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15474.001, "num_steps_trained": 1673472, "grad_time_ms": 9683.289}, "timesteps_total": 1673472, "time_total_s": 1094.0050904750824, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eacc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eacf8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37018, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 29.751790485587826, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.025242118878602, "cost1_max": 374.01417556579065, "outflow_rate_min": 412.31217983067137, "outflow_rate_max": 1426.5825806193807, "cost1_mean": 297.6113230823003, "system_level_velocity_mean": 11.634793595119204, "system_level_velocity_max": 18.242162584288156, "cost2_min": -119.46232963807412, "outflow_rate_mean": 1110.5171944611152, "cost2_max": -15.202500853818497, "cost2_mean": -93.32800141804393, "cost1_min": 17.441982484339043}, "episode_reward_max": 961.53582567536, "episode_reward_mean": 724.2880728738818, "training_iteration": 43, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1711227, "pid": 10582, "time_since_restore": 1118.3220818042755, "episodes_total": 722, "iterations_since_restore": 43, "episode_len_mean": 686.73, "time_this_iter_s": 24.316991329193115, "date": "2019-05-07_18-09-20", "timestamp": 1557252560, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1711227, "update_time_ms": 8.946, "load_time_ms": 11.037, "default": {"vf_explained_var": 0.9049153327941895, "kl": 0.011382722295820713, "policy_loss": -0.003337156493216753, "cur_kl_coeff": 0.05000000074505806, "total_loss": 11.189659118652344, "entropy": 1.1805319786071777, "vf_loss": 11.192425727844238, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15656.892, "num_steps_trained": 1711227, "grad_time_ms": 9500.838}, "timesteps_total": 1711227, "time_total_s": 1118.3220818042755, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37755, "episodes_this_iter": 15, "policy_reward_mean": {}, "episode_reward_min": 29.751790485587826, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.025242118878602, "cost1_max": 379.5200306064032, "outflow_rate_min": 487.53146648062807, "outflow_rate_max": 1426.5825806193807, "cost1_mean": 300.87793455782924, "system_level_velocity_mean": 11.603448780147907, "system_level_velocity_max": 18.242162584288156, "cost2_min": -119.46232963807412, "outflow_rate_mean": 1122.5054822212496, "cost2_max": -16.530300518955777, "cost2_mean": -94.55622661084682, "cost1_min": 31.214617333767986}, "episode_reward_max": 961.53582567536, "episode_reward_mean": 732.5030616428943, "training_iteration": 44, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1749604, "pid": 10582, "time_since_restore": 1144.4236333370209, "episodes_total": 742, "iterations_since_restore": 44, "episode_len_mean": 693.47, "time_this_iter_s": 26.10155153274536, "date": "2019-05-07_18-09-47", "timestamp": 1557252587, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1749604, "update_time_ms": 8.802, "load_time_ms": 11.634, "default": {"vf_explained_var": 0.8892350792884827, "kl": 0.013477730564773083, "policy_loss": -0.0058111767284572124, "cur_kl_coeff": 0.05000000819563866, "total_loss": 13.420697212219238, "entropy": 1.1552181243896484, "vf_loss": 13.425835609436035, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15770.824, "num_steps_trained": 1749604, "grad_time_ms": 9353.352}, "timesteps_total": 1749604, "time_total_s": 1144.4236333370209, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea4e0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38377, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 55.90765989746412, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.025242118878602, "cost1_max": 401.52900211927385, "outflow_rate_min": 954.2537974025972, "outflow_rate_max": 1542.5256827172827, "cost1_mean": 309.23528019587496, "system_level_velocity_mean": 11.76528055187502, "system_level_velocity_max": 14.881674285502575, "cost2_min": -136.7057125731424, "outflow_rate_mean": 1145.0433035444555, "cost2_max": -77.77816778119524, "cost2_mean": -97.16645870496282, "cost1_min": 235.10398897015216}, "episode_reward_max": 994.798525168916, "episode_reward_mean": 743.4151857980555, "training_iteration": 45, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1788897, "pid": 10582, "time_since_restore": 1171.2181017398834, "episodes_total": 760, "iterations_since_restore": 45, "episode_len_mean": 700.0, "time_this_iter_s": 26.79446840286255, "date": "2019-05-07_18-10-13", "timestamp": 1557252613, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1788897, "update_time_ms": 8.812, "load_time_ms": 11.905, "default": {"vf_explained_var": 0.9119911789894104, "kl": 0.011980509385466576, "policy_loss": -0.00422273762524128, "cur_kl_coeff": 0.05000000819563866, "total_loss": 12.561017036437988, "entropy": 1.1522525548934937, "vf_loss": 12.564640998840332, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16024.288, "num_steps_trained": 1788897, "grad_time_ms": 9310.79}, "timesteps_total": 1788897, "time_total_s": 1171.2181017398834, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dae10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daf98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daac8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39293, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 590.7560859629946, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.633069305810825, "cost1_max": 401.52900211927385, "outflow_rate_min": 432.2299586380585, "outflow_rate_max": 1542.5256827172827, "cost1_mean": 307.9415624814319, "system_level_velocity_mean": 11.907951804155502, "system_level_velocity_max": 19.105753121610384, "cost2_min": -136.7057125731424, "outflow_rate_mean": 1145.0558421558112, "cost2_max": -12.386404598654604, "cost2_mean": -98.07907302292082, "cost1_min": 17.139744241002106}, "episode_reward_max": 994.798525168916, "episode_reward_mean": 741.6957867954126, "training_iteration": 46, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1826647, "pid": 10582, "time_since_restore": 1197.3712425231934, "episodes_total": 780, "iterations_since_restore": 46, "episode_len_mean": 693.26, "time_this_iter_s": 26.153140783309937, "date": "2019-05-07_18-10-40", "timestamp": 1557252640, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1826647, "update_time_ms": 8.77, "load_time_ms": 12.529, "default": {"vf_explained_var": 0.882753312587738, "kl": 0.01658841408789158, "policy_loss": -0.006245743483304977, "cur_kl_coeff": 0.05000000074505806, "total_loss": 14.20638370513916, "entropy": 1.1604198217391968, "vf_loss": 14.211801528930664, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16089.168, "num_steps_trained": 1826647, "grad_time_ms": 9210.44}, "timesteps_total": 1826647, "time_total_s": 1197.3712425231934, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea550>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37750, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 29.716041426931604, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.633069305810825, "cost1_max": 401.52900211927385, "outflow_rate_min": 432.2299586380585, "outflow_rate_max": 1542.5256827172827, "cost1_mean": 310.2290327723951, "system_level_velocity_mean": 11.994372680283513, "system_level_velocity_max": 19.105753121610384, "cost2_min": -136.7057125731424, "outflow_rate_mean": 1154.7195230469197, "cost2_max": -12.386404598654604, "cost2_mean": -99.79374065686824, "cost1_min": 17.139744241002106}, "episode_reward_max": 994.798525168916, "episode_reward_mean": 742.2026731622559, "training_iteration": 47, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1864329, "pid": 10582, "time_since_restore": 1222.9864053726196, "episodes_total": 797, "iterations_since_restore": 47, "episode_len_mean": 693.26, "time_this_iter_s": 25.61516284942627, "date": "2019-05-07_18-11-05", "timestamp": 1557252665, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1864329, "update_time_ms": 8.629, "load_time_ms": 12.011, "default": {"vf_explained_var": 0.9038774371147156, "kl": 0.013698863796889782, "policy_loss": -0.004671626258641481, "cur_kl_coeff": 0.05000000074505806, "total_loss": 11.56739616394043, "entropy": 1.1526578664779663, "vf_loss": 11.571382522583008, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16198.15, "num_steps_trained": 1864329, "grad_time_ms": 9161.694}, "timesteps_total": 1864329, "time_total_s": 1222.9864053726196, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2978>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37682, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 29.716041426931604, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.633069305810825, "cost1_max": 401.52900211927385, "outflow_rate_min": 432.2299586380585, "outflow_rate_max": 1542.5256827172827, "cost1_mean": 306.6578110629247, "system_level_velocity_mean": 12.011373331073036, "system_level_velocity_max": 19.105753121610384, "cost2_min": -136.7057125731424, "outflow_rate_mean": 1153.715502679634, "cost2_max": -12.386404598654604, "cost2_mean": -100.43286108655073, "cost1_min": 17.139744241002106}, "episode_reward_max": 994.798525168916, "episode_reward_mean": 741.6547561527634, "training_iteration": 48, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1902052, "pid": 10582, "time_since_restore": 1247.0786573886871, "episodes_total": 816, "iterations_since_restore": 48, "episode_len_mean": 686.76, "time_this_iter_s": 24.092252016067505, "date": "2019-05-07_18-11-29", "timestamp": 1557252689, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1902052, "update_time_ms": 8.62, "load_time_ms": 11.794, "default": {"vf_explained_var": 0.8973548412322998, "kl": 0.011512489058077335, "policy_loss": -0.003974488005042076, "cur_kl_coeff": 0.05000000074505806, "total_loss": 11.597806930541992, "entropy": 1.172913670539856, "vf_loss": 11.601205825805664, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16281.71, "num_steps_trained": 1902052, "grad_time_ms": 9106.374}, "timesteps_total": 1902052, "time_total_s": 1247.0786573886871, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37723, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 29.716041426931604, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.633069305810825, "cost1_max": 401.52900211927385, "outflow_rate_min": 432.2299586380585, "outflow_rate_max": 1542.5256827172827, "cost1_mean": 308.00344694264845, "system_level_velocity_mean": 12.057566853045827, "system_level_velocity_max": 19.105753121610384, "cost2_min": -138.50039570802014, "outflow_rate_mean": 1158.2234182800335, "cost2_max": -12.386404598654604, "cost2_mean": -101.29453381772171, "cost1_min": 17.139744241002106}, "episode_reward_max": 1020.3537559262974, "episode_reward_mean": 745.1893800236033, "training_iteration": 49, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1939687, "pid": 10582, "time_since_restore": 1271.7519023418427, "episodes_total": 833, "iterations_since_restore": 49, "episode_len_mean": 686.76, "time_this_iter_s": 24.673244953155518, "date": "2019-05-07_18-11-54", "timestamp": 1557252714, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1939687, "update_time_ms": 8.502, "load_time_ms": 11.359, "default": {"vf_explained_var": 0.8872479200363159, "kl": 0.011014211922883987, "policy_loss": -0.00417033676058054, "cur_kl_coeff": 0.05000000074505806, "total_loss": 12.857563972473145, "entropy": 1.1725385189056396, "vf_loss": 12.861184120178223, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16240.425, "num_steps_trained": 1939687, "grad_time_ms": 8996.578}, "timesteps_total": 1939687, "time_total_s": 1271.7519023418427, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de630>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37635, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 29.716041426931604, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.633069305810825, "cost1_max": 378.56016715174314, "outflow_rate_min": 432.2299586380585, "outflow_rate_max": 1400.7554321678322, "cost1_mean": 303.0894654730449, "system_level_velocity_mean": 12.037506337721066, "system_level_velocity_max": 19.105753121610384, "cost2_min": -138.50039570802014, "outflow_rate_mean": 1140.049375390049, "cost2_max": -12.386404598654604, "cost2_mean": -99.5214828918774, "cost1_min": 17.139744241002106}, "episode_reward_max": 1020.3537559262974, "episode_reward_mean": 734.453625783223, "training_iteration": 50, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1977025, "pid": 10582, "time_since_restore": 1298.8431725502014, "episodes_total": 851, "iterations_since_restore": 50, "episode_len_mean": 680.09, "time_this_iter_s": 27.091270208358765, "date": "2019-05-07_18-12-21", "timestamp": 1557252741, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1977025, "update_time_ms": 8.419, "load_time_ms": 11.55, "default": {"vf_explained_var": 0.8975842595100403, "kl": 0.017525488510727882, "policy_loss": -0.006347816903144121, "cur_kl_coeff": 0.05000000447034836, "total_loss": 12.923112869262695, "entropy": 1.173590898513794, "vf_loss": 12.928585052490234, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16436.696, "num_steps_trained": 1977025, "grad_time_ms": 8956.219}, "timesteps_total": 1977025, "time_total_s": 1298.8431725502014, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea0f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37338, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 29.716041426931604, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 8.899168042805037, "cost1_max": 378.56016715174314, "outflow_rate_min": 432.2299586380585, "outflow_rate_max": 1400.7554321678322, "cost1_mean": 299.57606537743936, "system_level_velocity_mean": 12.08130977214283, "system_level_velocity_max": 19.356600538511078, "cost2_min": -138.50039570802014, "outflow_rate_mean": 1134.6392957405942, "cost2_max": -12.386404598654604, "cost2_mean": -98.32216019293388, "cost1_min": 17.139744241002106}, "episode_reward_max": 1020.3537559262974, "episode_reward_mean": 729.6534202823314, "training_iteration": 51, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2014776, "pid": 10582, "time_since_restore": 1324.0574142932892, "episodes_total": 872, "iterations_since_restore": 51, "episode_len_mean": 673.46, "time_this_iter_s": 25.21424174308777, "date": "2019-05-07_18-12-46", "timestamp": 1557252766, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2014776, "update_time_ms": 8.21, "load_time_ms": 11.609, "default": {"vf_explained_var": 0.8810827732086182, "kl": 0.013651885092258453, "policy_loss": -0.004697737284004688, "cur_kl_coeff": 0.05000000074505806, "total_loss": 14.169156074523926, "entropy": 1.1863703727722168, "vf_loss": 14.173171997070312, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16423.071, "num_steps_trained": 2014776, "grad_time_ms": 8829.954}, "timesteps_total": 2014776, "time_total_s": 1324.0574142932892, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434deba8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37751, "episodes_this_iter": 21, "policy_reward_mean": {}, "episode_reward_min": 29.716041426931604, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.120822093897834, "cost1_max": 378.56016715174314, "outflow_rate_min": 436.09189613851134, "outflow_rate_max": 1400.7554321678322, "cost1_mean": 302.7735995154601, "system_level_velocity_mean": 12.02556045673498, "system_level_velocity_max": 19.356600538511078, "cost2_min": -138.50039570802014, "outflow_rate_mean": 1146.087891522845, "cost2_max": -15.83592445853933, "cost2_mean": -99.85244409719584, "cost1_min": 22.150472391881905}, "episode_reward_max": 1020.3537559262974, "episode_reward_mean": 740.710796003889, "training_iteration": 52, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2052300, "pid": 10582, "time_since_restore": 1348.7960197925568, "episodes_total": 888, "iterations_since_restore": 52, "episode_len_mean": 680.2, "time_this_iter_s": 24.738605499267578, "date": "2019-05-07_18-13-11", "timestamp": 1557252791, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2052300, "update_time_ms": 8.464, "load_time_ms": 11.643, "default": {"vf_explained_var": 0.89597487449646, "kl": 0.016433194279670715, "policy_loss": -0.006644966080784798, "cur_kl_coeff": 0.05000000447034836, "total_loss": 11.770146369934082, "entropy": 1.2024078369140625, "vf_loss": 11.775969505310059, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16554.083, "num_steps_trained": 2052300, "grad_time_ms": 8819.398}, "timesteps_total": 2052300, "time_total_s": 1348.7960197925568, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eab00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eab70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaf28>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37524, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 42.40868803236749, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.734987556973918, "cost1_max": 378.56016715174314, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1398.3730213786214, "cost1_mean": 305.6248682852744, "system_level_velocity_mean": 11.972075491855868, "system_level_velocity_max": 19.356600538511078, "cost2_min": -138.50039570802014, "outflow_rate_mean": 1153.224767922099, "cost2_max": -15.83592445853933, "cost2_mean": -100.05371079481677, "cost1_min": 22.150472391881905}, "episode_reward_max": 1020.3537559262974, "episode_reward_mean": 748.9445169889359, "training_iteration": 53, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2090210, "pid": 10582, "time_since_restore": 1375.3068103790283, "episodes_total": 906, "iterations_since_restore": 53, "episode_len_mean": 686.7, "time_this_iter_s": 26.510790586471558, "date": "2019-05-07_18-13-38", "timestamp": 1557252818, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2090210, "update_time_ms": 8.691, "load_time_ms": 11.412, "default": {"vf_explained_var": 0.8892927169799805, "kl": 0.019398579373955727, "policy_loss": -0.008228919468820095, "cur_kl_coeff": 0.05000000447034836, "total_loss": 12.29719066619873, "entropy": 1.224234700202942, "vf_loss": 12.304450035095215, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16606.201, "num_steps_trained": 2090210, "grad_time_ms": 8987.162}, "timesteps_total": 2090210, "time_total_s": 1375.3068103790283, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c79e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7320>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37910, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 42.40868803236749, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.734987556973918, "cost1_max": 377.0661595887476, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1400.8532091908094, "cost1_mean": 306.13613416186996, "system_level_velocity_mean": 11.995758392786913, "system_level_velocity_max": 19.356600538511078, "cost2_min": -124.08849356710662, "outflow_rate_mean": 1157.1102292367846, "cost2_max": -15.83592445853933, "cost2_mean": -99.54222874275224, "cost1_min": 22.150472391881905}, "episode_reward_max": 922.1614097973957, "episode_reward_mean": 745.296392335889, "training_iteration": 54, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2127641, "pid": 10582, "time_since_restore": 1401.24484872818, "episodes_total": 923, "iterations_since_restore": 54, "episode_len_mean": 686.7, "time_this_iter_s": 25.93803834915161, "date": "2019-05-07_18-14-04", "timestamp": 1557252844, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2127641, "update_time_ms": 9.048, "load_time_ms": 11.368, "default": {"vf_explained_var": 0.8974292874336243, "kl": 0.01612820103764534, "policy_loss": -0.0062010204419493675, "cur_kl_coeff": 0.05000000447034836, "total_loss": 12.344047546386719, "entropy": 1.2253434658050537, "vf_loss": 12.349442481994629, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16576.325, "num_steps_trained": 2127641, "grad_time_ms": 9001.847}, "timesteps_total": 2127641, "time_total_s": 1401.24484872818, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d24a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d23c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2f60>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37431, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 42.40868803236749, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.825085953105537, "cost1_max": 377.0661595887476, "outflow_rate_min": 458.43186282674384, "outflow_rate_max": 1400.8532091908094, "cost1_mean": 308.857164347567, "system_level_velocity_mean": 11.933068854195911, "system_level_velocity_max": 19.356600538511078, "cost2_min": -124.08849356710662, "outflow_rate_mean": 1165.72667718571, "cost2_max": -15.83592445853933, "cost2_mean": -100.95785801913189, "cost1_min": 24.93504115752652}, "episode_reward_max": 922.1614097973957, "episode_reward_mean": 750.1140280058738, "training_iteration": 55, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2165969, "pid": 10582, "time_since_restore": 1426.929249048233, "episodes_total": 943, "iterations_since_restore": 55, "episode_len_mean": 693.37, "time_this_iter_s": 25.6844003200531, "date": "2019-05-07_18-14-29", "timestamp": 1557252869, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2165969, "update_time_ms": 9.038, "load_time_ms": 11.296, "default": {"vf_explained_var": 0.8725319504737854, "kl": 0.01844816654920578, "policy_loss": -0.005087023135274649, "cur_kl_coeff": 0.05000000819563866, "total_loss": 14.491263389587402, "entropy": 1.2140469551086426, "vf_loss": 14.495427131652832, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16518.991, "num_steps_trained": 2165969, "grad_time_ms": 8949.338}, "timesteps_total": 2165969, "time_total_s": 1426.929249048233, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c75f8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38328, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 44.80590027643685, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.697990505454396, "cost1_max": 377.0661595887476, "outflow_rate_min": 525.05049024728, "outflow_rate_max": 1406.0611456543456, "cost1_mean": 308.6244383306906, "system_level_velocity_mean": 11.898028945854474, "system_level_velocity_max": 18.35803739955337, "cost2_min": -124.08849356710662, "outflow_rate_mean": 1171.4767585688064, "cost2_max": -20.271362759433057, "cost2_mean": -101.51457239630065, "cost1_min": 39.055172815768834}, "episode_reward_max": 922.1614097973957, "episode_reward_mean": 754.7115149529336, "training_iteration": 56, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2204164, "pid": 10582, "time_since_restore": 1452.6285231113434, "episodes_total": 961, "iterations_since_restore": 56, "episode_len_mean": 693.59, "time_this_iter_s": 25.69927406311035, "date": "2019-05-07_18-14-55", "timestamp": 1557252895, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2204164, "update_time_ms": 9.002, "load_time_ms": 11.184, "default": {"vf_explained_var": 0.879668653011322, "kl": 0.01440273318439722, "policy_loss": -0.006067176815122366, "cur_kl_coeff": 0.05000000447034836, "total_loss": 14.955368041992188, "entropy": 1.2084428071975708, "vf_loss": 14.960714340209961, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16456.714, "num_steps_trained": 2204164, "grad_time_ms": 8966.071}, "timesteps_total": 2204164, "time_total_s": 1452.6285231113434, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaa58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea5c0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38195, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 69.47571965456234, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.591565428625826, "cost1_max": 377.0661595887476, "outflow_rate_min": 525.05049024728, "outflow_rate_max": 1406.0611456543456, "cost1_mean": 307.07868837968124, "system_level_velocity_mean": 11.838388150194067, "system_level_velocity_max": 18.35803739955337, "cost2_min": -124.08849356710662, "outflow_rate_mean": 1172.2505834119634, "cost2_max": -20.271362759433057, "cost2_mean": -101.70415087138664, "cost1_min": 39.055172815768834}, "episode_reward_max": 922.1614097973957, "episode_reward_mean": 753.9709285849511, "training_iteration": 57, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2241430, "pid": 10582, "time_since_restore": 1477.999050617218, "episodes_total": 979, "iterations_since_restore": 57, "episode_len_mean": 693.59, "time_this_iter_s": 25.370527505874634, "date": "2019-05-07_18-15-21", "timestamp": 1557252921, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2241430, "update_time_ms": 8.779, "load_time_ms": 11.545, "default": {"vf_explained_var": 0.8969816565513611, "kl": 0.016159014776349068, "policy_loss": -0.0065048327669501305, "cur_kl_coeff": 0.05000000447034836, "total_loss": 13.354083061218262, "entropy": 1.1977267265319824, "vf_loss": 13.359781265258789, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16438.55, "num_steps_trained": 2241430, "grad_time_ms": 8960.151}, "timesteps_total": 2241430, "time_total_s": 1477.999050617218, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37266, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 69.47571965456234, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.591565428625826, "cost1_max": 372.48652184908485, "outflow_rate_min": 525.05049024728, "outflow_rate_max": 1406.0611456543456, "cost1_mean": 308.1465147973224, "system_level_velocity_mean": 11.88352591024737, "system_level_velocity_max": 18.35803739955337, "cost2_min": -123.262549427925, "outflow_rate_mean": 1172.9190387925828, "cost2_max": -20.271362759433057, "cost2_mean": -101.83300470407669, "cost1_min": 39.055172815768834}, "episode_reward_max": 907.0094341938689, "episode_reward_mean": 751.559346209841, "training_iteration": 58, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2278157, "pid": 10582, "time_since_restore": 1503.99440908432, "episodes_total": 999, "iterations_since_restore": 58, "episode_len_mean": 693.59, "time_this_iter_s": 25.99535846710205, "date": "2019-05-07_18-15-47", "timestamp": 1557252947, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2278157, "update_time_ms": 8.822, "load_time_ms": 11.841, "default": {"vf_explained_var": 0.890353798866272, "kl": 0.015500505454838276, "policy_loss": -0.006245830561965704, "cur_kl_coeff": 0.05000000447034836, "total_loss": 15.242727279663086, "entropy": 1.1961339712142944, "vf_loss": 15.248198509216309, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16605.92, "num_steps_trained": 2278157, "grad_time_ms": 8984.354}, "timesteps_total": 2278157, "time_total_s": 1503.99440908432, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434deba8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36727, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 69.47571965456234, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.591565428625826, "cost1_max": 372.48652184908485, "outflow_rate_min": 525.05049024728, "outflow_rate_max": 1406.0611456543456, "cost1_mean": 310.04575759211247, "system_level_velocity_mean": 11.944356076503793, "system_level_velocity_max": 18.35803739955337, "cost2_min": -123.262549427925, "outflow_rate_mean": 1179.3778803510243, "cost2_max": -20.271362759433057, "cost2_mean": -102.90918767246643, "cost1_min": 39.055172815768834}, "episode_reward_max": 907.0094341938689, "episode_reward_mean": 751.5862951064879, "training_iteration": 59, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2315022, "pid": 10582, "time_since_restore": 1529.2636964321136, "episodes_total": 1014, "iterations_since_restore": 59, "episode_len_mean": 693.59, "time_this_iter_s": 25.26928734779358, "date": "2019-05-07_18-16-12", "timestamp": 1557252972, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2315022, "update_time_ms": 8.851, "load_time_ms": 12.094, "default": {"vf_explained_var": 0.9200551509857178, "kl": 0.015907134860754013, "policy_loss": -0.004738388583064079, "cur_kl_coeff": 0.05000000447034836, "total_loss": 11.015296936035156, "entropy": 1.1855435371398926, "vf_loss": 11.01923942565918, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16632.89, "num_steps_trained": 2315022, "grad_time_ms": 9018.252}, "timesteps_total": 2315022, "time_total_s": 1529.2636964321136, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea128>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36865, "episodes_this_iter": 15, "policy_reward_mean": {}, "episode_reward_min": 69.47571965456234, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.591565428625826, "cost1_max": 386.27070818183864, "outflow_rate_min": 525.05049024728, "outflow_rate_max": 1406.0611456543456, "cost1_mean": 313.81653651165095, "system_level_velocity_mean": 12.088645661993546, "system_level_velocity_max": 18.35803739955337, "cost2_min": -123.262549427925, "outflow_rate_mean": 1184.640838057318, "cost2_max": -20.271362759433057, "cost2_mean": -103.67961610968628, "cost1_min": 39.055172815768834}, "episode_reward_max": 907.0094341938689, "episode_reward_mean": 754.9016803845266, "training_iteration": 60, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2352383, "pid": 10582, "time_since_restore": 1554.0540039539337, "episodes_total": 1031, "iterations_since_restore": 60, "episode_len_mean": 693.59, "time_this_iter_s": 24.79030752182007, "date": "2019-05-07_18-16-37", "timestamp": 1557252997, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2352383, "update_time_ms": 8.839, "load_time_ms": 12.064, "default": {"vf_explained_var": 0.9074218273162842, "kl": 0.013775737024843693, "policy_loss": -0.005516368430107832, "cur_kl_coeff": 0.05000000447034836, "total_loss": 13.40254020690918, "entropy": 1.1602007150650024, "vf_loss": 13.407367706298828, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16411.546, "num_steps_trained": 2352383, "grad_time_ms": 9009.29}, "timesteps_total": 2352383, "time_total_s": 1554.0540039539337, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dad30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7940>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37361, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 69.47571965456234, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.591565428625826, "cost1_max": 386.27070818183864, "outflow_rate_min": 525.05049024728, "outflow_rate_max": 1406.0611456543456, "cost1_mean": 317.4858716690378, "system_level_velocity_mean": 12.233820381982905, "system_level_velocity_max": 18.35803739955337, "cost2_min": -128.58855507824802, "outflow_rate_mean": 1194.5252671961791, "cost2_max": -20.271362759433057, "cost2_mean": -105.60165335151174, "cost1_min": 39.055172815768834}, "episode_reward_max": 926.4330970462505, "episode_reward_mean": 760.2632749176316, "training_iteration": 61, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2390961, "pid": 10582, "time_since_restore": 1580.5399503707886, "episodes_total": 1049, "iterations_since_restore": 61, "episode_len_mean": 693.59, "time_this_iter_s": 26.48594641685486, "date": "2019-05-07_18-17-03", "timestamp": 1557253023, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2390961, "update_time_ms": 8.911, "load_time_ms": 12.401, "default": {"vf_explained_var": 0.9137678742408752, "kl": 0.014595340937376022, "policy_loss": -0.003594114212319255, "cur_kl_coeff": 0.050000011920928955, "total_loss": 13.038851737976074, "entropy": 1.1287744045257568, "vf_loss": 13.041714668273926, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16458.901, "num_steps_trained": 2390961, "grad_time_ms": 9088.095}, "timesteps_total": 2390961, "time_total_s": 1580.5399503707886, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38578, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 69.47571965456234, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.591565428625826, "cost1_max": 386.27070818183864, "outflow_rate_min": 1026.748987012987, "outflow_rate_max": 1397.4409602397604, "cost1_mean": 322.2540485667633, "system_level_velocity_mean": 12.272512912032036, "system_level_velocity_max": 14.596581744535044, "cost2_min": -141.41967225026536, "outflow_rate_mean": 1202.6140131828172, "cost2_max": -87.3934362315548, "cost2_mean": -109.65427512289364, "cost1_min": 245.17309226542926}, "episode_reward_max": 927.3153427903561, "episode_reward_mean": 772.4727652282081, "training_iteration": 62, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2428906, "pid": 10582, "time_since_restore": 1606.0635409355164, "episodes_total": 1068, "iterations_since_restore": 62, "episode_len_mean": 700.0, "time_this_iter_s": 25.523590564727783, "date": "2019-05-07_18-17-29", "timestamp": 1557253049, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2428906, "update_time_ms": 8.63, "load_time_ms": 12.207, "default": {"vf_explained_var": 0.8874250054359436, "kl": 0.018106747418642044, "policy_loss": -0.005622596014291048, "cur_kl_coeff": 0.05000000447034836, "total_loss": 15.11477279663086, "entropy": 1.096433162689209, "vf_loss": 15.119490623474121, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16491.955, "num_steps_trained": 2428906, "grad_time_ms": 9133.91}, "timesteps_total": 2428906, "time_total_s": 1606.0635409355164, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bce10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc208>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37945, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 647.4274100531346, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.365696239165466, "cost1_max": 386.27070818183864, "outflow_rate_min": 490.8975290732555, "outflow_rate_max": 1397.4409602397604, "cost1_mean": 321.0100823365607, "system_level_velocity_mean": 12.412504008188161, "system_level_velocity_max": 18.84276788666011, "cost2_min": -141.41967225026536, "outflow_rate_mean": 1195.6406890449784, "cost2_max": -21.424740731266603, "cost2_mean": -111.41333712754931, "cost1_min": 33.463646941833204}, "episode_reward_max": 927.3153427903561, "episode_reward_mean": 765.9625500774912, "training_iteration": 63, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2467027, "pid": 10582, "time_since_restore": 1631.60342335701, "episodes_total": 1085, "iterations_since_restore": 63, "episode_len_mean": 693.49, "time_this_iter_s": 25.53988242149353, "date": "2019-05-07_18-17-54", "timestamp": 1557253074, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2467027, "update_time_ms": 8.677, "load_time_ms": 12.413, "default": {"vf_explained_var": 0.8997395634651184, "kl": 0.018304433673620224, "policy_loss": -0.005131545010954142, "cur_kl_coeff": 0.05000000819563866, "total_loss": 14.718215942382812, "entropy": 1.1223410367965698, "vf_loss": 14.722431182861328, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16474.996, "num_steps_trained": 2467027, "grad_time_ms": 9053.378}, "timesteps_total": 2467027, "time_total_s": 1631.60342335701, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dad68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da6a0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38121, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 47.87580698198453, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.365696239165466, "cost1_max": 386.27070818183864, "outflow_rate_min": 490.8975290732555, "outflow_rate_max": 1397.4409602397604, "cost1_mean": 319.8784982327715, "system_level_velocity_mean": 12.396305279009459, "system_level_velocity_max": 18.84276788666011, "cost2_min": -141.41967225026536, "outflow_rate_mean": 1196.1292926214019, "cost2_max": -21.424740731266603, "cost2_mean": -113.91369856339246, "cost1_min": 33.463646941833204}, "episode_reward_max": 927.3153427903561, "episode_reward_mean": 768.0366152579228, "training_iteration": 64, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2505019, "pid": 10582, "time_since_restore": 1657.8864314556122, "episodes_total": 1105, "iterations_since_restore": 64, "episode_len_mean": 693.49, "time_this_iter_s": 26.283008098602295, "date": "2019-05-07_18-18-21", "timestamp": 1557253101, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2505019, "update_time_ms": 8.288, "load_time_ms": 12.282, "default": {"vf_explained_var": 0.8875705599784851, "kl": 0.016167286783456802, "policy_loss": -0.0045793550089001656, "cur_kl_coeff": 0.05000000447034836, "total_loss": 16.444196701049805, "entropy": 1.1322795152664185, "vf_loss": 16.447967529296875, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16471.735, "num_steps_trained": 2505019, "grad_time_ms": 9091.315}, "timesteps_total": 2505019, "time_total_s": 1657.8864314556122, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed400>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37992, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 47.87580698198453, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.365696239165466, "cost1_max": 385.89787080134226, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1397.4409602397604, "cost1_mean": 310.60716790864046, "system_level_velocity_mean": 12.396084894647672, "system_level_velocity_max": 18.84276788666011, "cost2_min": -141.41967225026536, "outflow_rate_mean": 1181.1780617743798, "cost2_max": -15.998841390551604, "cost2_mean": -114.16064842531405, "cost1_min": 18.597374221990613}, "episode_reward_max": 927.3153427903561, "episode_reward_mean": 760.5217401074765, "training_iteration": 65, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2542532, "pid": 10582, "time_since_restore": 1683.6044626235962, "episodes_total": 1124, "iterations_since_restore": 65, "episode_len_mean": 680.23, "time_this_iter_s": 25.71803116798401, "date": "2019-05-07_18-18-46", "timestamp": 1557253126, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2542532, "update_time_ms": 8.188, "load_time_ms": 12.143, "default": {"vf_explained_var": 0.8782528042793274, "kl": 0.015988163650035858, "policy_loss": -0.006834218744188547, "cur_kl_coeff": 0.05000000447034836, "total_loss": 18.63489532470703, "entropy": 1.1319724321365356, "vf_loss": 18.640928268432617, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16362.319, "num_steps_trained": 2542532, "grad_time_ms": 9201.301}, "timesteps_total": 2542532, "time_total_s": 1683.6044626235962, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea780>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37513, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 35.21467070780224, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.365696239165466, "cost1_max": 395.6640405427372, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1443.2193506493509, "cost1_mean": 307.4510453742567, "system_level_velocity_mean": 12.605108501285422, "system_level_velocity_max": 18.84276788666011, "cost2_min": -141.41967225026536, "outflow_rate_mean": 1178.434326075497, "cost2_max": -15.998841390551604, "cost2_mean": -113.56202774235692, "cost1_min": 18.597374221990613}, "episode_reward_max": 927.3153427903561, "episode_reward_mean": 752.8148435632376, "training_iteration": 66, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2579728, "pid": 10582, "time_since_restore": 1710.0783092975616, "episodes_total": 1143, "iterations_since_restore": 66, "episode_len_mean": 667.1, "time_this_iter_s": 26.473846673965454, "date": "2019-05-07_18-19-13", "timestamp": 1557253153, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2579728, "update_time_ms": 8.392, "load_time_ms": 12.074, "default": {"vf_explained_var": 0.867488443851471, "kl": 0.015512094832956791, "policy_loss": -0.0040936400182545185, "cur_kl_coeff": 0.05000000819563866, "total_loss": 19.610328674316406, "entropy": 1.141027569770813, "vf_loss": 19.6136474609375, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16395.809, "num_steps_trained": 2579728, "grad_time_ms": 9243.384}, "timesteps_total": 2579728, "time_total_s": 1710.0783092975616, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daf60>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37196, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 35.21467070780224, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.365696239165466, "cost1_max": 403.91505729428417, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1483.7927624375625, "cost1_mean": 305.7071408593698, "system_level_velocity_mean": 12.550361473893444, "system_level_velocity_max": 18.84276788666011, "cost2_min": -141.41967225026536, "outflow_rate_mean": 1175.6725003492234, "cost2_max": -15.998841390551604, "cost2_mean": -111.88779225471609, "cost1_min": 18.597374221990613}, "episode_reward_max": 927.3153427903561, "episode_reward_mean": 745.5951632199308, "training_iteration": 67, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2616425, "pid": 10582, "time_since_restore": 1735.145548582077, "episodes_total": 1163, "iterations_since_restore": 67, "episode_len_mean": 667.1, "time_this_iter_s": 25.06723928451538, "date": "2019-05-07_18-19-38", "timestamp": 1557253178, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2616425, "update_time_ms": 8.503, "load_time_ms": 12.235, "default": {"vf_explained_var": 0.8808532953262329, "kl": 0.01819680817425251, "policy_loss": -0.0069812904112041, "cur_kl_coeff": 0.05000000447034836, "total_loss": 20.222505569458008, "entropy": 1.151437520980835, "vf_loss": 20.22857666015625, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16312.417, "num_steps_trained": 2616425, "grad_time_ms": 9294.934}, "timesteps_total": 2616425, "time_total_s": 1735.145548582077, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed908>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36697, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 35.21467070780224, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.473442705913435, "cost1_max": 403.91505729428417, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1483.7927624375625, "cost1_mean": 309.82057913842795, "system_level_velocity_mean": 12.534893065157966, "system_level_velocity_max": 18.56145396133209, "cost2_min": -140.32831879007514, "outflow_rate_mean": 1187.8510149086408, "cost2_max": -15.998841390551604, "cost2_mean": -110.74309267032275, "cost1_min": 18.597374221990613}, "episode_reward_max": 919.2182700332729, "episode_reward_mean": 749.9281808250634, "training_iteration": 68, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2653706, "pid": 10582, "time_since_restore": 1760.2297224998474, "episodes_total": 1180, "iterations_since_restore": 68, "episode_len_mean": 673.61, "time_this_iter_s": 25.084173917770386, "date": "2019-05-07_18-20-03", "timestamp": 1557253203, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2653706, "update_time_ms": 8.5, "load_time_ms": 12.338, "default": {"vf_explained_var": 0.889580488204956, "kl": 0.01807912439107895, "policy_loss": -0.007156806532293558, "cur_kl_coeff": 0.05000000447034836, "total_loss": 18.076005935668945, "entropy": 1.1708950996398926, "vf_loss": 18.082260131835938, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16144.992, "num_steps_trained": 2653706, "grad_time_ms": 9370.644}, "timesteps_total": 2653706, "time_total_s": 1760.2297224998474, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edd30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda20>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37281, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 35.21467070780224, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.473442705913435, "cost1_max": 422.7844091798835, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1561.3580135864136, "cost1_mean": 309.6089628716964, "system_level_velocity_mean": 12.688661731898737, "system_level_velocity_max": 18.577811697601906, "cost2_min": -131.40979678507927, "outflow_rate_mean": 1188.806064394892, "cost2_max": -15.998841390551604, "cost2_mean": -107.77018589793761, "cost1_min": 18.597374221990613}, "episode_reward_max": 919.2182700332729, "episode_reward_mean": 741.880077318164, "training_iteration": 69, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2690495, "pid": 10582, "time_since_restore": 1786.0187728404999, "episodes_total": 1201, "iterations_since_restore": 69, "episode_len_mean": 667.1, "time_this_iter_s": 25.789050340652466, "date": "2019-05-07_18-20-29", "timestamp": 1557253229, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2690495, "update_time_ms": 8.69, "load_time_ms": 12.499, "default": {"vf_explained_var": 0.8800457119941711, "kl": 0.01849898137152195, "policy_loss": -0.007290639914572239, "cur_kl_coeff": 0.05000000074505806, "total_loss": 21.50224494934082, "entropy": 1.1550507545471191, "vf_loss": 21.50861167907715, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16132.096, "num_steps_trained": 2690495, "grad_time_ms": 9434.987}, "timesteps_total": 2690495, "time_total_s": 1786.0187728404999, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edc88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed898>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36789, "episodes_this_iter": 21, "policy_reward_mean": {}, "episode_reward_min": 35.21467070780224, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.473442705913435, "cost1_max": 422.7844091798835, "outflow_rate_min": 446.98230233612446, "outflow_rate_max": 1561.3580135864136, "cost1_mean": 315.979973634883, "system_level_velocity_mean": 12.60379581850765, "system_level_velocity_max": 18.577811697601906, "cost2_min": -131.40979678507927, "outflow_rate_mean": 1202.3901948942619, "cost2_max": -18.499573079820365, "cost2_mean": -108.7224744116181, "cost1_min": 22.97190094590616}, "episode_reward_max": 905.3498426970143, "episode_reward_mean": 750.304205838867, "training_iteration": 70, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2727726, "pid": 10582, "time_since_restore": 1810.2618379592896, "episodes_total": 1217, "iterations_since_restore": 70, "episode_len_mean": 680.36, "time_this_iter_s": 24.243065118789673, "date": "2019-05-07_18-20-53", "timestamp": 1557253253, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2727726, "update_time_ms": 8.667, "load_time_ms": 12.397, "default": {"vf_explained_var": 0.8844744563102722, "kl": 0.013509733602404594, "policy_loss": -0.0057676988653838634, "cur_kl_coeff": 0.05000000819563866, "total_loss": 16.20855712890625, "entropy": 1.1772925853729248, "vf_loss": 16.21364974975586, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16047.894, "num_steps_trained": 2727726, "grad_time_ms": 9462.799}, "timesteps_total": 2727726, "time_total_s": 1810.2618379592896, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca6d8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37231, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 43.75880849984991, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.473442705913435, "cost1_max": 422.7844091798835, "outflow_rate_min": 468.99949820451235, "outflow_rate_max": 1561.3580135864136, "cost1_mean": 315.5950665603461, "system_level_velocity_mean": 12.444095598380459, "system_level_velocity_max": 18.577811697601906, "cost2_min": -129.98699754183426, "outflow_rate_mean": 1200.4573323524125, "cost2_max": -20.410183516945544, "cost2_mean": -108.19265572083339, "cost1_min": 28.114853747652614}, "episode_reward_max": 910.0385999072978, "episode_reward_mean": 749.5977855521918, "training_iteration": 71, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2764576, "pid": 10582, "time_since_restore": 1835.6883058547974, "episodes_total": 1237, "iterations_since_restore": 71, "episode_len_mean": 686.91, "time_this_iter_s": 25.426467895507812, "date": "2019-05-07_18-21-19", "timestamp": 1557253279, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2764576, "update_time_ms": 8.63, "load_time_ms": 12.316, "default": {"vf_explained_var": 0.892146646976471, "kl": 0.013869336806237698, "policy_loss": -0.004669426940381527, "cur_kl_coeff": 0.05000000074505806, "total_loss": 16.395572662353516, "entropy": 1.1829915046691895, "vf_loss": 16.399547576904297, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15914.685, "num_steps_trained": 2764576, "grad_time_ms": 9490.092}, "timesteps_total": 2764576, "time_total_s": 1835.6883058547974, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ede48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed710>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36850, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 48.322817959260576, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.473442705913435, "cost1_max": 422.7844091798835, "outflow_rate_min": 468.99949820451235, "outflow_rate_max": 1561.3580135864136, "cost1_mean": 314.42440584458654, "system_level_velocity_mean": 12.420908078002439, "system_level_velocity_max": 18.577811697601906, "cost2_min": -129.98699754183426, "outflow_rate_mean": 1197.625084180584, "cost2_max": -20.410183516945544, "cost2_mean": -107.92266258780293, "cost1_min": 28.114853747652614}, "episode_reward_max": 910.0385999072978, "episode_reward_mean": 744.5823249215514, "training_iteration": 72, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2802123, "pid": 10582, "time_since_restore": 1860.746850013733, "episodes_total": 1255, "iterations_since_restore": 72, "episode_len_mean": 686.91, "time_this_iter_s": 25.058544158935547, "date": "2019-05-07_18-21-44", "timestamp": 1557253304, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2802123, "update_time_ms": 8.591, "load_time_ms": 12.5, "default": {"vf_explained_var": 0.8675277233123779, "kl": 0.015655674040317535, "policy_loss": -0.005867027211934328, "cur_kl_coeff": 0.05000000447034836, "total_loss": 19.160682678222656, "entropy": 1.181729793548584, "vf_loss": 19.165767669677734, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15829.811, "num_steps_trained": 2802123, "grad_time_ms": 9528.587}, "timesteps_total": 2802123, "time_total_s": 1860.746850013733, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed550>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37547, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 48.322817959260576, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.425972906077506, "cost1_max": 422.7844091798835, "outflow_rate_min": 468.99949820451235, "outflow_rate_max": 1561.3580135864136, "cost1_mean": 310.2706248694756, "system_level_velocity_mean": 12.27032530831416, "system_level_velocity_max": 18.577811697601906, "cost2_min": -130.23635309777063, "outflow_rate_mean": 1190.1911014073576, "cost2_max": -20.410183516945544, "cost2_mean": -108.43738474920173, "cost1_min": 28.114853747652614}, "episode_reward_max": 910.0385999072978, "episode_reward_mean": 741.1408005688769, "training_iteration": 73, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2840045, "pid": 10582, "time_since_restore": 1886.6421167850494, "episodes_total": 1272, "iterations_since_restore": 73, "episode_len_mean": 686.91, "time_this_iter_s": 25.89526677131653, "date": "2019-05-07_18-22-10", "timestamp": 1557253330, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2840045, "update_time_ms": 8.66, "load_time_ms": 12.475, "default": {"vf_explained_var": 0.8625794649124146, "kl": 0.01662341319024563, "policy_loss": -0.005930696148425341, "cur_kl_coeff": 0.05000000447034836, "total_loss": 17.79717445373535, "entropy": 1.1933680772781372, "vf_loss": 17.80227279663086, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15819.966, "num_steps_trained": 2840045, "grad_time_ms": 9573.825}, "timesteps_total": 2840045, "time_total_s": 1886.6421167850494, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2160>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37922, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 48.322817959260576, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.425972906077506, "cost1_max": 395.36206336203935, "outflow_rate_min": 468.99949820451235, "outflow_rate_max": 1438.0652643356646, "cost1_mean": 311.2025044839386, "system_level_velocity_mean": 12.144102300473648, "system_level_velocity_max": 18.0190854906713, "cost2_min": -132.2841044646141, "outflow_rate_mean": 1192.7514930439831, "cost2_max": -21.004694556198796, "cost2_mean": -109.55750655460302, "cost1_min": 28.114853747652614}, "episode_reward_max": 910.0385999072978, "episode_reward_mean": 745.2690270453988, "training_iteration": 74, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2877080, "pid": 10582, "time_since_restore": 1912.0207109451294, "episodes_total": 1290, "iterations_since_restore": 74, "episode_len_mean": 693.42, "time_this_iter_s": 25.378594160079956, "date": "2019-05-07_18-22-35", "timestamp": 1557253355, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2877080, "update_time_ms": 8.854, "load_time_ms": 12.559, "default": {"vf_explained_var": 0.8924248814582825, "kl": 0.019887955859303474, "policy_loss": -0.006324455142021179, "cur_kl_coeff": 0.05000000447034836, "total_loss": 15.983002662658691, "entropy": 1.1862695217132568, "vf_loss": 15.98833179473877, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15724.147, "num_steps_trained": 2877080, "grad_time_ms": 9577.412}, "timesteps_total": 2877080, "time_total_s": 1912.0207109451294, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edcf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed9b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37035, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 48.322817959260576, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.425972906077506, "cost1_max": 395.36206336203935, "outflow_rate_min": 456.31390277313244, "outflow_rate_max": 1421.5829146853148, "cost1_mean": 305.6158490724988, "system_level_velocity_mean": 12.119472148320352, "system_level_velocity_max": 18.41512500782813, "cost2_min": -132.2841044646141, "outflow_rate_mean": 1181.844590661125, "cost2_max": -16.48033289281478, "cost2_mean": -107.98475710867693, "cost1_min": 26.861537491831424}, "episode_reward_max": 910.0385999072978, "episode_reward_mean": 734.8542453381923, "training_iteration": 75, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2914473, "pid": 10582, "time_since_restore": 1937.3712935447693, "episodes_total": 1311, "iterations_since_restore": 75, "episode_len_mean": 686.83, "time_this_iter_s": 25.350582599639893, "date": "2019-05-07_18-23-00", "timestamp": 1557253380, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2914473, "update_time_ms": 8.759, "load_time_ms": 12.567, "default": {"vf_explained_var": 0.8506913781166077, "kl": 0.020043358206748962, "policy_loss": -0.008554206229746342, "cur_kl_coeff": 0.05000000447034836, "total_loss": 22.346097946166992, "entropy": 1.1746387481689453, "vf_loss": 22.353649139404297, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15770.497, "num_steps_trained": 2914473, "grad_time_ms": 9494.775}, "timesteps_total": 2914473, "time_total_s": 1937.3712935447693, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ede48>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37393, "episodes_this_iter": 21, "policy_reward_mean": {}, "episode_reward_min": 48.322817959260576, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.425972906077506, "cost1_max": 395.36206336203935, "outflow_rate_min": 456.31390277313244, "outflow_rate_max": 1421.5829146853148, "cost1_mean": 308.3737208408913, "system_level_velocity_mean": 12.223868333586712, "system_level_velocity_max": 18.41512500782813, "cost2_min": -132.2841044646141, "outflow_rate_mean": 1188.2395843354507, "cost2_max": -16.48033289281478, "cost2_mean": -108.1013348330889, "cost1_min": 26.861537491831424}, "episode_reward_max": 890.7920152737228, "episode_reward_mean": 735.6013257390193, "training_iteration": 76, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2952037, "pid": 10582, "time_since_restore": 1962.8522338867188, "episodes_total": 1331, "iterations_since_restore": 76, "episode_len_mean": 686.83, "time_this_iter_s": 25.480940341949463, "date": "2019-05-07_18-23-26", "timestamp": 1557253406, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2952037, "update_time_ms": 8.502, "load_time_ms": 12.494, "default": {"vf_explained_var": 0.8731160759925842, "kl": 0.01663820445537567, "policy_loss": -0.006489814259111881, "cur_kl_coeff": 0.07499999552965164, "total_loss": 17.956850051879883, "entropy": 1.1494446992874146, "vf_loss": 17.96209144592285, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15670.675, "num_steps_trained": 2952037, "grad_time_ms": 9497.665}, "timesteps_total": 2952037, "time_total_s": 1962.8522338867188, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed5f8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37564, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 48.322817959260576, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.425972906077506, "cost1_max": 395.36206336203935, "outflow_rate_min": 456.31390277313244, "outflow_rate_max": 1421.5829146853148, "cost1_mean": 311.4052345670809, "system_level_velocity_mean": 12.180050748997228, "system_level_velocity_max": 18.41512500782813, "cost2_min": -132.2841044646141, "outflow_rate_mean": 1196.4701932495095, "cost2_max": -16.48033289281478, "cost2_mean": -108.80524514209529, "cost1_min": 26.861537491831424}, "episode_reward_max": 907.1222656694417, "episode_reward_mean": 748.590352740892, "training_iteration": 77, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2988754, "pid": 10582, "time_since_restore": 1988.18306016922, "episodes_total": 1350, "iterations_since_restore": 77, "episode_len_mean": 693.41, "time_this_iter_s": 25.33082628250122, "date": "2019-05-07_18-23-51", "timestamp": 1557253431, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2988754, "update_time_ms": 8.379, "load_time_ms": 12.533, "default": {"vf_explained_var": 0.8806701898574829, "kl": 0.01674576662480831, "policy_loss": -0.006961721461266279, "cur_kl_coeff": 0.07499998807907104, "total_loss": 18.24259376525879, "entropy": 1.162049651145935, "vf_loss": 18.248300552368164, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15679.116, "num_steps_trained": 2988754, "grad_time_ms": 9513.609}, "timesteps_total": 2988754, "time_total_s": 1988.18306016922, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed208>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36717, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 52.286718352622096, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.757333775147575, "cost1_max": 416.54663379817276, "outflow_rate_min": 452.336592127886, "outflow_rate_max": 1478.2025598401597, "cost1_mean": 311.4880243006314, "system_level_velocity_mean": 12.361336105518953, "system_level_velocity_max": 18.89662561324675, "cost2_min": -135.4157807189163, "outflow_rate_mean": 1193.1293570529062, "cost2_max": -15.66359063131099, "cost2_mean": -107.79034601077579, "cost1_min": 25.768240985398634}, "episode_reward_max": 907.1222656694417, "episode_reward_mean": 743.7131061067096, "training_iteration": 78, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3024988, "pid": 10582, "time_since_restore": 2014.2237796783447, "episodes_total": 1368, "iterations_since_restore": 78, "episode_len_mean": 686.8, "time_this_iter_s": 26.040719509124756, "date": "2019-05-07_18-24-17", "timestamp": 1557253457, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3024988, "update_time_ms": 8.572, "load_time_ms": 12.68, "default": {"vf_explained_var": 0.8661249876022339, "kl": 0.01454814150929451, "policy_loss": -0.0061623710207641125, "cur_kl_coeff": 0.07499999552965164, "total_loss": 19.105819702148438, "entropy": 1.16304612159729, "vf_loss": 19.110889434814453, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15853.731, "num_steps_trained": 3024988, "grad_time_ms": 9432.408}, "timesteps_total": 3024988, "time_total_s": 2014.2237796783447, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edbe0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36234, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 46.93394969715251, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.757333775147575, "cost1_max": 416.54663379817276, "outflow_rate_min": 452.336592127886, "outflow_rate_max": 1478.2025598401597, "cost1_mean": 311.97172155157705, "system_level_velocity_mean": 12.551824962760616, "system_level_velocity_max": 18.89662561324675, "cost2_min": -135.4157807189163, "outflow_rate_mean": 1193.5858210549225, "cost2_max": -15.66359063131099, "cost2_mean": -106.8925030364229, "cost1_min": 25.768240985398634}, "episode_reward_max": 907.1222656694417, "episode_reward_mean": 741.4933619987777, "training_iteration": 79, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3061632, "pid": 10582, "time_since_restore": 2038.5983114242554, "episodes_total": 1386, "iterations_since_restore": 79, "episode_len_mean": 680.33, "time_this_iter_s": 24.374531745910645, "date": "2019-05-07_18-24-42", "timestamp": 1557253482, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3061632, "update_time_ms": 8.511, "load_time_ms": 12.562, "default": {"vf_explained_var": 0.8834384679794312, "kl": 0.01711491495370865, "policy_loss": -0.006222756579518318, "cur_kl_coeff": 0.07499998807907104, "total_loss": 16.31708526611328, "entropy": 1.1584447622299194, "vf_loss": 16.322023391723633, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15799.071, "num_steps_trained": 3061632, "grad_time_ms": 9344.08}, "timesteps_total": 3061632, "time_total_s": 2038.5983114242554, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daf60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eadd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434dada0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36644, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 46.93394969715251, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.757333775147575, "cost1_max": 416.54663379817276, "outflow_rate_min": 452.336592127886, "outflow_rate_max": 1478.2025598401597, "cost1_mean": 307.46523819077305, "system_level_velocity_mean": 12.749253827277453, "system_level_velocity_max": 19.48425613974149, "cost2_min": -139.51476218815054, "outflow_rate_mean": 1179.88420861098, "cost2_max": -15.66359063131099, "cost2_mean": -106.1246050551911, "cost1_min": 25.768240985398634}, "episode_reward_max": 907.1222656694417, "episode_reward_mean": 728.316753317059, "training_iteration": 80, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3098773, "pid": 10582, "time_since_restore": 2064.9103162288666, "episodes_total": 1408, "iterations_since_restore": 80, "episode_len_mean": 667.35, "time_this_iter_s": 26.312004804611206, "date": "2019-05-07_18-25-08", "timestamp": 1557253508, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3098773, "update_time_ms": 8.559, "load_time_ms": 12.536, "default": {"vf_explained_var": 0.8671432733535767, "kl": 0.01487688161432743, "policy_loss": -0.005619900766760111, "cur_kl_coeff": 0.07499999552965164, "total_loss": 20.665496826171875, "entropy": 1.1474696397781372, "vf_loss": 20.670001983642578, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16004.762, "num_steps_trained": 3098773, "grad_time_ms": 9345.847}, "timesteps_total": 3098773, "time_total_s": 2064.9103162288666, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed6a0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37141, "episodes_this_iter": 22, "policy_reward_mean": {}, "episode_reward_min": 46.93394969715251, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.757333775147575, "cost1_max": 416.54663379817276, "outflow_rate_min": 452.336592127886, "outflow_rate_max": 1478.2025598401597, "cost1_mean": 308.7756512494404, "system_level_velocity_mean": 12.794096375294785, "system_level_velocity_max": 19.48425613974149, "cost2_min": -139.51476218815054, "outflow_rate_mean": 1182.711869625965, "cost2_max": -15.66359063131099, "cost2_mean": -106.67402205035933, "cost1_min": 25.768240985398634}, "episode_reward_max": 907.1222656694417, "episode_reward_mean": 730.8930957950522, "training_iteration": 81, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3136013, "pid": 10582, "time_since_restore": 2089.8642060756683, "episodes_total": 1424, "iterations_since_restore": 81, "episode_len_mean": 667.35, "time_this_iter_s": 24.953889846801758, "date": "2019-05-07_18-25-33", "timestamp": 1557253533, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3136013, "update_time_ms": 8.498, "load_time_ms": 11.896, "default": {"vf_explained_var": 0.8898329138755798, "kl": 0.015886113047599792, "policy_loss": -0.006804317701607943, "cur_kl_coeff": 0.07499999552965164, "total_loss": 15.717412948608398, "entropy": 1.1377230882644653, "vf_loss": 15.723026275634766, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16064.796, "num_steps_trained": 3136013, "grad_time_ms": 9238.239}, "timesteps_total": 3136013, "time_total_s": 2089.8642060756683, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec940>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37240, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 46.93394969715251, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.109505085577325, "cost1_max": 416.54663379817276, "outflow_rate_min": 443.2085330019741, "outflow_rate_max": 1478.2025598401597, "cost1_mean": 304.63844060793565, "system_level_velocity_mean": 12.815852545202599, "system_level_velocity_max": 19.48425613974149, "cost2_min": -139.51476218815054, "outflow_rate_mean": 1168.8236828480926, "cost2_max": -15.66359063131099, "cost2_mean": -106.0022553543112, "cost1_min": 25.768240985398634}, "episode_reward_max": 870.247478763196, "episode_reward_mean": 718.0899397546283, "training_iteration": 82, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3173002, "pid": 10582, "time_since_restore": 2115.8327734470367, "episodes_total": 1444, "iterations_since_restore": 82, "episode_len_mean": 660.79, "time_this_iter_s": 25.968567371368408, "date": "2019-05-07_18-25-59", "timestamp": 1557253559, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3173002, "update_time_ms": 8.589, "load_time_ms": 11.856, "default": {"vf_explained_var": 0.8753554224967957, "kl": 0.017794428393244743, "policy_loss": -0.007078962400555611, "cur_kl_coeff": 0.07499999552965164, "total_loss": 20.276472091674805, "entropy": 1.1334729194641113, "vf_loss": 20.28221893310547, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16171.775, "num_steps_trained": 3173002, "grad_time_ms": 9222.484}, "timesteps_total": 3173002, "time_total_s": 2115.8327734470367, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ded30>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36989, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 46.93394969715251, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.109505085577325, "cost1_max": 383.52228022824005, "outflow_rate_min": 443.2085330019741, "outflow_rate_max": 1362.0556859140856, "cost1_mean": 303.30705552902964, "system_level_velocity_mean": 12.771371844019688, "system_level_velocity_max": 19.48425613974149, "cost2_min": -139.51476218815054, "outflow_rate_mean": 1167.5875706722684, "cost2_max": -15.66359063131099, "cost2_mean": -107.815556363376, "cost1_min": 25.768240985398634}, "episode_reward_max": 913.314990196569, "episode_reward_mean": 721.3737868896471, "training_iteration": 83, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3209640, "pid": 10582, "time_since_restore": 2140.714014530182, "episodes_total": 1461, "iterations_since_restore": 83, "episode_len_mean": 660.79, "time_this_iter_s": 24.88124108314514, "date": "2019-05-07_18-26-24", "timestamp": 1557253584, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3209640, "update_time_ms": 8.411, "load_time_ms": 11.818, "default": {"vf_explained_var": 0.8821553587913513, "kl": 0.018709110096096992, "policy_loss": -0.008055446669459343, "cur_kl_coeff": 0.07499998807907104, "total_loss": 17.25305938720703, "entropy": 1.1401149034500122, "vf_loss": 17.25971221923828, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16155.695, "num_steps_trained": 3209640, "grad_time_ms": 9138.753}, "timesteps_total": 3209640, "time_total_s": 2140.714014530182, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7ac8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36638, "episodes_this_iter": 17, "policy_reward_mean": {}, "episode_reward_min": 46.93394969715251, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.109505085577325, "cost1_max": 418.9042129423911, "outflow_rate_min": 443.2085330019741, "outflow_rate_max": 1421.1417618381618, "cost1_mean": 303.07467411148934, "system_level_velocity_mean": 12.76587540765037, "system_level_velocity_max": 19.48425613974149, "cost2_min": -139.51476218815054, "outflow_rate_mean": 1171.617515113531, "cost2_max": -21.323801326085288, "cost2_mean": -109.80134591781834, "cost1_min": 29.634185273885304}, "episode_reward_max": 913.314990196569, "episode_reward_mean": 722.1166852336434, "training_iteration": 84, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3246585, "pid": 10582, "time_since_restore": 2165.5842201709747, "episodes_total": 1481, "iterations_since_restore": 84, "episode_len_mean": 661.01, "time_this_iter_s": 24.870205640792847, "date": "2019-05-07_18-26-49", "timestamp": 1557253609, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3246585, "update_time_ms": 8.219, "load_time_ms": 11.88, "default": {"vf_explained_var": 0.8884931802749634, "kl": 0.01864136941730976, "policy_loss": -0.00826028361916542, "cur_kl_coeff": 0.07499999552965164, "total_loss": 17.692941665649414, "entropy": 1.1410399675369263, "vf_loss": 17.699806213378906, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16144.032, "num_steps_trained": 3246585, "grad_time_ms": 9100.687}, "timesteps_total": 3246585, "time_total_s": 2165.5842201709747, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cada0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36945, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 47.27397625481838, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.109505085577325, "cost1_max": 420.02156566166093, "outflow_rate_min": 443.2085330019741, "outflow_rate_max": 1421.1417618381618, "cost1_mean": 314.88172365283214, "system_level_velocity_mean": 12.686831845516084, "system_level_velocity_max": 19.0833454093047, "cost2_min": -139.96644018251774, "outflow_rate_mean": 1204.2447987575868, "cost2_max": -22.27023088709619, "cost2_mean": -114.19148667837999, "cost1_min": 29.634185273885304}, "episode_reward_max": 913.314990196569, "episode_reward_mean": 751.521404312783, "training_iteration": 85, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3283053, "pid": 10582, "time_since_restore": 2190.047631263733, "episodes_total": 1500, "iterations_since_restore": 85, "episode_len_mean": 680.58, "time_this_iter_s": 24.46341109275818, "date": "2019-05-07_18-27-13", "timestamp": 1557253633, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3283053, "update_time_ms": 8.326, "load_time_ms": 11.977, "default": {"vf_explained_var": 0.8888756036758423, "kl": 0.021734191104769707, "policy_loss": -0.008576545864343643, "cur_kl_coeff": 0.07499998807907104, "total_loss": 19.19194221496582, "entropy": 1.1182786226272583, "vf_loss": 19.19888687133789, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16122.035, "num_steps_trained": 3283053, "grad_time_ms": 9036.1}, "timesteps_total": 3283053, "time_total_s": 2190.047631263733, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec3c8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36468, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 50.4304391644544, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.109505085577325, "cost1_max": 420.02156566166093, "outflow_rate_min": 443.2085330019741, "outflow_rate_max": 1421.1417618381618, "cost1_mean": 313.72886042520423, "system_level_velocity_mean": 12.817135796718382, "system_level_velocity_max": 18.966019551235057, "cost2_min": -139.96644018251774, "outflow_rate_mean": 1199.9339565188716, "cost2_max": -21.167695773799135, "cost2_mean": -113.16874118036176, "cost1_min": 26.677306597702405}, "episode_reward_max": 913.314990196569, "episode_reward_mean": 742.3216557866507, "training_iteration": 86, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3320474, "pid": 10582, "time_since_restore": 2215.422642469406, "episodes_total": 1519, "iterations_since_restore": 86, "episode_len_mean": 673.91, "time_this_iter_s": 25.375011205673218, "date": "2019-05-07_18-27-39", "timestamp": 1557253659, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3320474, "update_time_ms": 8.246, "load_time_ms": 12.67, "default": {"vf_explained_var": 0.8902912735939026, "kl": 0.015329337678849697, "policy_loss": -0.006314909551292658, "cur_kl_coeff": 0.11250000447034836, "total_loss": 16.62364959716797, "entropy": 1.1362665891647339, "vf_loss": 16.628238677978516, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16155.255, "num_steps_trained": 3320474, "grad_time_ms": 8987.901}, "timesteps_total": 3320474, "time_total_s": 2215.422642469406, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cae48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab70>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37421, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 46.58470165024397, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.120779381838974, "cost1_max": 420.02156566166093, "outflow_rate_min": 462.61484422024415, "outflow_rate_max": 1421.1417618381618, "cost1_mean": 316.1469230118039, "system_level_velocity_mean": 12.75119780991637, "system_level_velocity_max": 18.966019551235057, "cost2_min": -139.96644018251774, "outflow_rate_mean": 1209.7447554965445, "cost2_max": -21.167695773799135, "cost2_mean": -113.60640011243181, "cost1_min": 26.677306597702405}, "episode_reward_max": 913.314990196569, "episode_reward_mean": 753.688323672447, "training_iteration": 87, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3358112, "pid": 10582, "time_since_restore": 2241.845014333725, "episodes_total": 1539, "iterations_since_restore": 87, "episode_len_mean": 680.47, "time_this_iter_s": 26.422371864318848, "date": "2019-05-07_18-28-05", "timestamp": 1557253685, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3358112, "update_time_ms": 8.457, "load_time_ms": 12.785, "default": {"vf_explained_var": 0.8752911686897278, "kl": 0.01864200457930565, "policy_loss": -0.007600434590131044, "cur_kl_coeff": 0.11250001192092896, "total_loss": 19.23221206665039, "entropy": 1.13178288936615, "vf_loss": 19.237716674804688, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16282.359, "num_steps_trained": 3358112, "grad_time_ms": 8971.983}, "timesteps_total": 3358112, "time_total_s": 2241.845014333725, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea128>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37638, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 46.58470165024397, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.812418714966757, "cost1_max": 420.02156566166093, "outflow_rate_min": 462.61484422024415, "outflow_rate_max": 1421.1417618381618, "cost1_mean": 315.49175489726565, "system_level_velocity_mean": 12.728440721183638, "system_level_velocity_max": 18.966019551235057, "cost2_min": -139.96644018251774, "outflow_rate_mean": 1204.6785536264144, "cost2_max": -21.167695773799135, "cost2_mean": -112.73540992327072, "cost1_min": 26.677306597702405}, "episode_reward_max": 913.314990196569, "episode_reward_mean": 752.2462455630371, "training_iteration": 88, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3395901, "pid": 10582, "time_since_restore": 2267.1279344558716, "episodes_total": 1554, "iterations_since_restore": 88, "episode_len_mean": 680.47, "time_this_iter_s": 25.282920122146606, "date": "2019-05-07_18-28-31", "timestamp": 1557253711, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3395901, "update_time_ms": 8.601, "load_time_ms": 12.637, "default": {"vf_explained_var": 0.9060702323913574, "kl": 0.017189297825098038, "policy_loss": -0.00813816487789154, "cur_kl_coeff": 0.11250001192092896, "total_loss": 13.114019393920898, "entropy": 1.1356611251831055, "vf_loss": 13.120223999023438, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16200.714, "num_steps_trained": 3395901, "grad_time_ms": 8977.215}, "timesteps_total": 3395901, "time_total_s": 2267.1279344558716, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec198>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37789, "episodes_this_iter": 15, "policy_reward_mean": {}, "episode_reward_min": 46.58470165024397, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.812418714966757, "cost1_max": 420.02156566166093, "outflow_rate_min": 462.61484422024415, "outflow_rate_max": 1421.1417618381618, "cost1_mean": 312.5448947322651, "system_level_velocity_mean": 12.606374915821657, "system_level_velocity_max": 18.966019551235057, "cost2_min": -139.96644018251774, "outflow_rate_mean": 1196.675807336704, "cost2_max": -21.167695773799135, "cost2_mean": -111.74773740495974, "cost1_min": 26.677306597702405}, "episode_reward_max": 884.8020254684503, "episode_reward_mean": 752.7848692609665, "training_iteration": 89, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3433953, "pid": 10582, "time_since_restore": 2292.877319097519, "episodes_total": 1572, "iterations_since_restore": 89, "episode_len_mean": 680.47, "time_this_iter_s": 25.74938464164734, "date": "2019-05-07_18-28-56", "timestamp": 1557253736, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3433953, "update_time_ms": 8.577, "load_time_ms": 12.788, "default": {"vf_explained_var": 0.8842759132385254, "kl": 0.017401916906237602, "policy_loss": -0.00666512968018651, "cur_kl_coeff": 0.11250000447034836, "total_loss": 16.175304412841797, "entropy": 1.1330769062042236, "vf_loss": 16.18001365661621, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16319.211, "num_steps_trained": 3433953, "grad_time_ms": 8996.632}, "timesteps_total": 3433953, "time_total_s": 2292.877319097519, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ded30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec828>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38052, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 46.58470165024397, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.812418714966757, "cost1_max": 420.02156566166093, "outflow_rate_min": 462.61484422024415, "outflow_rate_max": 1385.5656895104898, "cost1_mean": 311.2423803689856, "system_level_velocity_mean": 12.557237694402758, "system_level_velocity_max": 18.821106383211635, "cost2_min": -132.8781157151119, "outflow_rate_mean": 1187.8753781942285, "cost2_max": -21.167695773799135, "cost2_mean": -109.61774396026864, "cost1_min": 26.677306597702405}, "episode_reward_max": 884.8020254684503, "episode_reward_mean": 747.1838849398882, "training_iteration": 90, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3471095, "pid": 10582, "time_since_restore": 2319.7080364227295, "episodes_total": 1592, "iterations_since_restore": 90, "episode_len_mean": 680.32, "time_this_iter_s": 26.83071732521057, "date": "2019-05-07_18-29-23", "timestamp": 1557253763, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3471095, "update_time_ms": 8.776, "load_time_ms": 12.853, "default": {"vf_explained_var": 0.9079766869544983, "kl": 0.016363078728318214, "policy_loss": -0.006671136245131493, "cur_kl_coeff": 0.11249999701976776, "total_loss": 17.58616065979004, "entropy": 1.1107056140899658, "vf_loss": 17.590991973876953, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16405.569, "num_steps_trained": 3471095, "grad_time_ms": 8961.796}, "timesteps_total": 3471095, "time_total_s": 2319.7080364227295, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434decf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec5f8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37142, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 46.58470165024397, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.812418714966757, "cost1_max": 397.63078264982016, "outflow_rate_min": 473.6082374910765, "outflow_rate_max": 1513.9937874125874, "cost1_mean": 314.2774438229464, "system_level_velocity_mean": 12.316137539523277, "system_level_velocity_max": 18.71883948075965, "cost2_min": -132.2330033163329, "outflow_rate_mean": 1194.762576544741, "cost2_max": -21.177706307653764, "cost2_mean": -110.53539794245307, "cost1_min": 31.580379727335178}, "episode_reward_max": 905.88952181039, "episode_reward_mean": 758.1798820742989, "training_iteration": 91, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3508510, "pid": 10582, "time_since_restore": 2345.2519636154175, "episodes_total": 1612, "iterations_since_restore": 91, "episode_len_mean": 693.46, "time_this_iter_s": 25.54392719268799, "date": "2019-05-07_18-29-49", "timestamp": 1557253789, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3508510, "update_time_ms": 9.163, "load_time_ms": 13.33, "default": {"vf_explained_var": 0.8873467445373535, "kl": 0.016314316540956497, "policy_loss": -0.006400784943252802, "cur_kl_coeff": 0.11250000447034836, "total_loss": 17.02953338623047, "entropy": 1.1445790529251099, "vf_loss": 17.034099578857422, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16477.092, "num_steps_trained": 3508510, "grad_time_ms": 8950.339}, "timesteps_total": 3508510, "time_total_s": 2345.2519636154175, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37415, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 51.510137237854394, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.812418714966757, "cost1_max": 388.86909087946793, "outflow_rate_min": 473.6082374910765, "outflow_rate_max": 1513.9937874125874, "cost1_mean": 313.5957820259743, "system_level_velocity_mean": 12.274683816947949, "system_level_velocity_max": 18.71883948075965, "cost2_min": -132.2330033163329, "outflow_rate_mean": 1189.5961637295559, "cost2_max": -21.177706307653764, "cost2_mean": -110.22398752447282, "cost1_min": 31.580379727335178}, "episode_reward_max": 961.4568365232087, "episode_reward_mean": 756.3113343007952, "training_iteration": 92, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3545953, "pid": 10582, "time_since_restore": 2370.548087835312, "episodes_total": 1627, "iterations_since_restore": 92, "episode_len_mean": 693.46, "time_this_iter_s": 25.29612421989441, "date": "2019-05-07_18-30-14", "timestamp": 1557253814, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3545953, "update_time_ms": 9.23, "load_time_ms": 12.819, "default": {"vf_explained_var": 0.9142517447471619, "kl": 0.015651891008019447, "policy_loss": -0.00712369242683053, "cur_kl_coeff": 0.11250000447034836, "total_loss": 13.178444862365723, "entropy": 1.1395183801651, "vf_loss": 13.183807373046875, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16429.926, "num_steps_trained": 3545953, "grad_time_ms": 8928.089}, "timesteps_total": 3545953, "time_total_s": 2370.548087835312, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec358>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37443, "episodes_this_iter": 15, "policy_reward_mean": {}, "episode_reward_min": 51.510137237854394, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.85451953058096, "cost1_max": 388.86909087946793, "outflow_rate_min": 471.89332422253165, "outflow_rate_max": 1513.9937874125874, "cost1_mean": 310.71988104994455, "system_level_velocity_mean": 12.322529266556325, "system_level_velocity_max": 18.782885013844528, "cost2_min": -132.2330033163329, "outflow_rate_mean": 1184.0178806840693, "cost2_max": -21.177706307653764, "cost2_mean": -109.10634087875829, "cost1_min": 31.580379727335178}, "episode_reward_max": 961.4568365232087, "episode_reward_mean": 748.6505658221155, "training_iteration": 93, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3583278, "pid": 10582, "time_since_restore": 2397.610905647278, "episodes_total": 1645, "iterations_since_restore": 93, "episode_len_mean": 686.99, "time_this_iter_s": 27.062817811965942, "date": "2019-05-07_18-30-41", "timestamp": 1557253841, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3583278, "update_time_ms": 9.2, "load_time_ms": 12.997, "default": {"vf_explained_var": 0.9184393286705017, "kl": 0.01785832643508911, "policy_loss": -0.007971582002937794, "cur_kl_coeff": 0.11250001192092896, "total_loss": 13.509892463684082, "entropy": 1.1302975416183472, "vf_loss": 13.515853881835938, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16603.222, "num_steps_trained": 3583278, "grad_time_ms": 8972.847}, "timesteps_total": 3583278, "time_total_s": 2397.610905647278, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eca90>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37325, "episodes_this_iter": 18, "policy_reward_mean": {}, "episode_reward_min": 51.510137237854394, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.85451953058096, "cost1_max": 388.86909087946793, "outflow_rate_min": 470.7699368177343, "outflow_rate_max": 1513.9937874125874, "cost1_mean": 309.78563700598045, "system_level_velocity_mean": 12.454259916323938, "system_level_velocity_max": 18.816525842201887, "cost2_min": -134.16309248700054, "outflow_rate_mean": 1176.7904867575412, "cost2_max": -21.177706307653764, "cost2_mean": -107.34851065668335, "cost1_min": 31.580379727335178}, "episode_reward_max": 961.4568365232087, "episode_reward_mean": 740.070668862663, "training_iteration": 94, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3620314, "pid": 10582, "time_since_restore": 2423.493954181671, "episodes_total": 1667, "iterations_since_restore": 94, "episode_len_mean": 680.49, "time_this_iter_s": 25.88304853439331, "date": "2019-05-07_18-31-07", "timestamp": 1557253867, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3620314, "update_time_ms": 9.375, "load_time_ms": 12.753, "default": {"vf_explained_var": 0.8680095672607422, "kl": 0.018300477415323257, "policy_loss": -0.009072107262909412, "cur_kl_coeff": 0.11250000447034836, "total_loss": 21.025634765625, "entropy": 1.1635602712631226, "vf_loss": 21.03264808654785, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16738.496, "num_steps_trained": 3620314, "grad_time_ms": 8939.884}, "timesteps_total": 3620314, "time_total_s": 2423.493954181671, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec5f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de4e0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37036, "episodes_this_iter": 22, "policy_reward_mean": {}, "episode_reward_min": 51.510137237854394, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.85451953058096, "cost1_max": 388.86909087946793, "outflow_rate_min": 470.7699368177343, "outflow_rate_max": 1513.9937874125874, "cost1_mean": 312.13987516832293, "system_level_velocity_mean": 12.37693544248118, "system_level_velocity_max": 18.816525842201887, "cost2_min": -135.41822337387643, "outflow_rate_mean": 1181.5707425284845, "cost2_max": -24.7199789604797, "cost2_mean": -108.21376832174981, "cost1_min": 34.66082262589026}, "episode_reward_max": 961.4568365232087, "episode_reward_mean": 742.7464724595553, "training_iteration": 95, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3658429, "pid": 10582, "time_since_restore": 2449.4955446720123, "episodes_total": 1683, "iterations_since_restore": 95, "episode_len_mean": 687.03, "time_this_iter_s": 26.001590490341187, "date": "2019-05-07_18-31-33", "timestamp": 1557253893, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3658429, "update_time_ms": 9.334, "load_time_ms": 12.717, "default": {"vf_explained_var": 0.9156992435455322, "kl": 0.013993429951369762, "policy_loss": -0.006932813208550215, "cur_kl_coeff": 0.11250000447034836, "total_loss": 13.399685859680176, "entropy": 1.1416192054748535, "vf_loss": 13.405044555664062, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16868.176, "num_steps_trained": 3658429, "grad_time_ms": 8964.177}, "timesteps_total": 3658429, "time_total_s": 2449.4955446720123, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ece48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec400>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38115, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 52.95570473086905, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.201495359330588, "cost1_max": 384.4740923178511, "outflow_rate_min": 406.77913127329555, "outflow_rate_max": 1499.5559704295704, "cost1_mean": 304.89807560117765, "system_level_velocity_mean": 12.44772054731882, "system_level_velocity_max": 18.918327453139984, "cost2_min": -135.41822337387643, "outflow_rate_mean": 1161.4814275531278, "cost2_max": -17.83337621675486, "cost2_mean": -106.64712920919233, "cost1_min": 19.478879546993547}, "episode_reward_max": 961.4568365232087, "episode_reward_mean": 726.0706492887783, "training_iteration": 96, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3696678, "pid": 10582, "time_since_restore": 2477.4559066295624, "episodes_total": 1703, "iterations_since_restore": 96, "episode_len_mean": 673.92, "time_this_iter_s": 27.96036195755005, "date": "2019-05-07_18-32-01", "timestamp": 1557253921, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3696678, "update_time_ms": 9.353, "load_time_ms": 12.067, "default": {"vf_explained_var": 0.866901695728302, "kl": 0.019781259819865227, "policy_loss": -0.007148826494812965, "cur_kl_coeff": 0.11250000447034836, "total_loss": 18.823862075805664, "entropy": 1.1445101499557495, "vf_loss": 18.82878303527832, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17087.287, "num_steps_trained": 3696678, "grad_time_ms": 9007.028}, "timesteps_total": 3696678, "time_total_s": 2477.4559066295624, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec9b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38249, "episodes_this_iter": 20, "policy_reward_mean": {}, "episode_reward_min": 36.65205497900845, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 10.065007984847686, "cost1_max": 384.4740923178511, "outflow_rate_min": 406.77913127329555, "outflow_rate_max": 1499.5559704295704, "cost1_mean": 300.84727273820715, "system_level_velocity_mean": 12.303641489089712, "system_level_velocity_max": 18.918327453139984, "cost2_min": -135.41822337387643, "outflow_rate_mean": 1154.167015896784, "cost2_max": -17.83337621675486, "cost2_mean": -106.97230414851181, "cost1_min": 19.478879546993547}, "episode_reward_max": 961.4568365232087, "episode_reward_mean": 728.2898819590492, "training_iteration": 97, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3734531, "pid": 10582, "time_since_restore": 2502.795876979828, "episodes_total": 1719, "iterations_since_restore": 97, "episode_len_mean": 673.92, "time_this_iter_s": 25.339970350265503, "date": "2019-05-07_18-32-27", "timestamp": 1557253947, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3734531, "update_time_ms": 9.252, "load_time_ms": 11.937, "default": {"vf_explained_var": 0.9044594764709473, "kl": 0.019093899056315422, "policy_loss": -0.0064928000792860985, "cur_kl_coeff": 0.11250001192092896, "total_loss": 13.87157917022705, "entropy": 1.1363575458526611, "vf_loss": 13.875922203063965, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17014.628, "num_steps_trained": 3734531, "grad_time_ms": 8972.717}, "timesteps_total": 3734531, "time_total_s": 2502.795876979828, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecba8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37853, "episodes_this_iter": 16, "policy_reward_mean": {}, "episode_reward_min": 36.65205497900845, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.747374968417734, "cost1_max": 384.4740923178511, "outflow_rate_min": 406.77913127329555, "outflow_rate_max": 1400.5945282717282, "cost1_mean": 302.2042696445133, "system_level_velocity_mean": 12.179817093034499, "system_level_velocity_max": 18.918327453139984, "cost2_min": -135.41822337387643, "outflow_rate_mean": 1159.2698729602532, "cost2_max": -17.83337621675486, "cost2_mean": -107.31125233648594, "cost1_min": 19.478879546993547}, "episode_reward_max": 922.909297583866, "episode_reward_mean": 735.247522662295, "training_iteration": 98, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3772567, "pid": 10582, "time_since_restore": 2528.4576053619385, "episodes_total": 1738, "iterations_since_restore": 98, "episode_len_mean": 680.39, "time_this_iter_s": 25.661728382110596, "date": "2019-05-07_18-32-52", "timestamp": 1557253972, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3772567, "update_time_ms": 8.889, "load_time_ms": 12.052, "default": {"vf_explained_var": 0.8833213448524475, "kl": 0.016465039923787117, "policy_loss": -0.006801543291658163, "cur_kl_coeff": 0.11250000447034836, "total_loss": 17.395917892456055, "entropy": 1.1475569009780884, "vf_loss": 17.400867462158203, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17087.492, "num_steps_trained": 3772567, "grad_time_ms": 8940.792}, "timesteps_total": 3772567, "time_total_s": 2528.4576053619385, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7978>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38036, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 36.65205497900845, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.747374968417734, "cost1_max": 384.4740923178511, "outflow_rate_min": 406.77913127329555, "outflow_rate_max": 1400.5945282717282, "cost1_mean": 300.87264654316783, "system_level_velocity_mean": 12.114472574396316, "system_level_velocity_max": 18.918327453139984, "cost2_min": -135.41822337387643, "outflow_rate_mean": 1155.7494627264866, "cost2_max": -17.83337621675486, "cost2_mean": -107.22744392023179, "cost1_min": 19.478879546993547}, "episode_reward_max": 922.909297583866, "episode_reward_mean": 733.2087066835444, "training_iteration": 99, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3810462, "pid": 10582, "time_since_restore": 2553.730949640274, "episodes_total": 1757, "iterations_since_restore": 99, "episode_len_mean": 680.39, "time_this_iter_s": 25.27334427833557, "date": "2019-05-07_18-33-18", "timestamp": 1557253998, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3810462, "update_time_ms": 8.636, "load_time_ms": 12.105, "default": {"vf_explained_var": 0.9038040637969971, "kl": 0.016824964433908463, "policy_loss": -0.007881773635745049, "cur_kl_coeff": 0.11250001192092896, "total_loss": 15.781876564025879, "entropy": 1.1567240953445435, "vf_loss": 15.787866592407227, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17079.124, "num_steps_trained": 3810462, "grad_time_ms": 8902.885}, "timesteps_total": 3810462, "time_total_s": 2553.730949640274, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434decf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de4e0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37895, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 36.65205497900845, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
{"custom_metrics": {"system_level_velocity_min": 9.747374968417734, "cost1_max": 384.0671207963436, "outflow_rate_min": 406.77913127329555, "outflow_rate_max": 1432.03372987013, "cost1_mean": 303.4711546375127, "system_level_velocity_mean": 12.010800803244278, "system_level_velocity_max": 18.918327453139984, "cost2_min": -135.41822337387643, "outflow_rate_mean": 1164.2736351465212, "cost2_max": -17.83337621675486, "cost2_mean": -108.12695844858848, "cost1_min": 19.478879546993547}, "episode_reward_max": 922.909297583866, "episode_reward_mean": 744.6067288834284, "training_iteration": 100, "done": true, "node_ip": "10.138.0.2", "timesteps_since_restore": 3847983, "pid": 10582, "time_since_restore": 2578.1654722690582, "episodes_total": 1776, "iterations_since_restore": 100, "episode_len_mean": 686.89, "time_this_iter_s": 24.43452262878418, "date": "2019-05-07_18-33-42", "timestamp": 1557254022, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3847983, "update_time_ms": 8.365, "load_time_ms": 12.263, "default": {"vf_explained_var": 0.8926475048065186, "kl": 0.015367771498858929, "policy_loss": -0.005740884691476822, "cur_kl_coeff": 0.11250000447034836, "total_loss": 16.62179946899414, "entropy": 1.1684207916259766, "vf_loss": 16.625810623168945, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16867.542, "num_steps_trained": 3847983, "grad_time_ms": 8876.445}, "timesteps_total": 3847983, "time_total_s": 2578.1654722690582, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "horizon": 1500, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eccf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec358>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "fcnet_activation": "tanh", "custom_options": {}, "max_seq_len": 20, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "vf_share_layers": false, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "synchronize_filters": true, "log_level": "INFO", "output": null, "train_batch_size": 30000, "kl_target": 0.01, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37521, "episodes_this_iter": 19, "policy_reward_mean": {}, "episode_reward_min": 36.65205497900845, "hostname": "flow-main", "experiment_id": "e4373c77343f409bb38bb010ccab2251"}
