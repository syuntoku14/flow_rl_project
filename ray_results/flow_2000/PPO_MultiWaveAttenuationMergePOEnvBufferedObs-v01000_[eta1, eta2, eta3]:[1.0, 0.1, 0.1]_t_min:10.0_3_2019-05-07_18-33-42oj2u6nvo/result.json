{"custom_metrics": {"cost1_max": 260.47300050351424, "outflow_rate_min": 551.9513922077921, "outflow_rate_max": 653.8828571428571, "outflow_rate_mean": 599.5543241558441, "cost1_mean": 242.62575488491524, "system_level_velocity_mean": 9.266908349143273, "system_level_velocity_max": 9.952602806813257, "cost2_min": -119.62328149029605, "cost1_min": 201.2724427251377, "cost2_max": -72.67267443528057, "cost2_mean": -103.05806140034312, "system_level_velocity_min": 7.782272610098821}, "episode_reward_max": 545.6950775095074, "episode_reward_mean": 487.8090537232973, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 45913, "timestamp": 1557254091, "time_since_restore": 54.28256845474243, "episodes_total": 5, "iterations_since_restore": 1, "episode_len_mean": 700.0, "time_total_s": 54.28256845474243, "date": "2019-05-07_18-34-51", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 45913, "update_time_ms": 2380.883, "num_steps_trained": 45913, "default": {"kl": 0.0025520608760416508, "cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0008516334928572178, "total_loss": 2.4176034927368164, "entropy": 1.4120876789093018, "vf_explained_var": 0.8662240505218506, "vf_loss": 2.4179446697235107, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 40836.187, "grad_time_ms": 10890.361, "load_time_ms": 61.095}, "episodes_this_iter": 5, "time_this_iter_s": 54.28256845474243, "timesteps_total": 45913, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f594353dc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434fada0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434faf28>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 45913, "training_iteration": 1, "policy_reward_mean": {}, "episode_reward_min": 443.69787090803186, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 324.4715909687924, "outflow_rate_min": 381.52914285714286, "outflow_rate_max": 870.2833558441557, "outflow_rate_mean": 558.985598045121, "cost1_mean": 221.42928369265613, "system_level_velocity_mean": 9.874010087472364, "system_level_velocity_max": 19.78518408813841, "cost2_min": -123.65650692251319, "cost1_min": 17.893891898908322, "cost2_max": -19.12289768211687, "cost2_mean": -100.81913645302453, "system_level_velocity_min": 6.8359196286246435}, "episode_reward_max": 592.536621207755, "episode_reward_mean": 435.82838146031065, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 88348, "timestamp": 1557254113, "time_since_restore": 77.07024002075195, "episodes_total": 26, "iterations_since_restore": 2, "episode_len_mean": 649.3076923076923, "time_total_s": 77.07024002075195, "date": "2019-05-07_18-35-13", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 88348, "update_time_ms": 1193.931, "num_steps_trained": 88348, "default": {"kl": 0.0038258833810687065, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.0013519717613235116, "total_loss": 1.536970853805542, "entropy": 1.410818099975586, "vf_explained_var": 0.9528114199638367, "vf_loss": 1.5379403829574585, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 26893.094, "grad_time_ms": 10314.507, "load_time_ms": 36.911}, "episodes_this_iter": 21, "time_this_iter_s": 22.78767156600952, "timesteps_total": 88348, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435331d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 42435, "training_iteration": 2, "policy_reward_mean": {}, "episode_reward_min": 33.151303190657494, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 324.4715909687924, "outflow_rate_min": 216.00000000000006, "outflow_rate_max": 870.2833558441557, "outflow_rate_mean": 548.7634397486006, "cost1_mean": 225.16928023013892, "system_level_velocity_mean": 9.50494329123366, "system_level_velocity_max": 19.78518408813841, "cost2_min": -135.73334909441328, "cost1_min": 17.893891898908322, "cost2_max": -19.12289768211687, "cost2_mean": -100.58485946652392, "system_level_velocity_min": 3.3860493452441465}, "episode_reward_max": 592.536621207755, "episode_reward_mean": 439.0393599868357, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 134744, "timestamp": 1557254138, "time_since_restore": 101.93309879302979, "episodes_total": 41, "iterations_since_restore": 3, "episode_len_mean": 667.8536585365854, "time_total_s": 101.93309879302979, "date": "2019-05-07_18-35-38", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 134744, "update_time_ms": 797.985, "num_steps_trained": 134744, "default": {"kl": 0.00200077798217535, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.0002870124881155789, "total_loss": 0.7885518074035645, "entropy": 1.3902018070220947, "vf_explained_var": 0.9740719199180603, "vf_loss": 0.7887387871742249, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 22678.865, "grad_time_ms": 10378.649, "load_time_ms": 29.166}, "episodes_this_iter": 15, "time_this_iter_s": 24.862858772277832, "timesteps_total": 134744, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc0b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 46396, "training_iteration": 3, "policy_reward_mean": {}, "episode_reward_min": 33.151303190657494, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 324.4715909687924, "outflow_rate_min": 185.13257142857142, "outflow_rate_max": 870.2833558441557, "outflow_rate_mean": 535.8076690709773, "cost1_mean": 222.23208833925818, "system_level_velocity_mean": 9.271332454545275, "system_level_velocity_max": 19.78518408813841, "cost2_min": -135.73334909441328, "cost1_min": 17.893891898908322, "cost2_max": -19.12289768211687, "cost2_mean": -99.99272831291405, "system_level_velocity_min": 3.3860493452441465}, "episode_reward_max": 592.536621207755, "episode_reward_mean": 434.2571473902338, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 179695, "timestamp": 1557254163, "time_since_restore": 126.57522964477539, "episodes_total": 48, "iterations_since_restore": 4, "episode_len_mean": 672.5416666666666, "time_total_s": 126.57522964477539, "date": "2019-05-07_18-36-03", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 179695, "update_time_ms": 600.325, "num_steps_trained": 179695, "default": {"kl": 0.0016931607387959957, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0006369815673679113, "total_loss": 0.9320318698883057, "entropy": 1.388304352760315, "vf_explained_var": 0.9864822626113892, "vf_loss": 0.932626485824585, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 20569.046, "grad_time_ms": 10360.918, "load_time_ms": 25.163}, "episodes_this_iter": 7, "time_this_iter_s": 24.642130851745605, "timesteps_total": 179695, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533128>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 44951, "training_iteration": 4, "policy_reward_mean": {}, "episode_reward_min": 33.151303190657494, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 324.4715909687924, "outflow_rate_min": 185.13257142857142, "outflow_rate_max": 903.108, "outflow_rate_mean": 528.4902412876381, "cost1_mean": 222.21068391789052, "system_level_velocity_mean": 9.087430122341328, "system_level_velocity_max": 19.78518408813841, "cost2_min": -135.73334909441328, "cost1_min": 17.893891898908322, "cost2_max": -19.12289768211687, "cost2_mean": -99.11414593780592, "system_level_velocity_min": 3.3860493452441465}, "episode_reward_max": 592.536621207755, "episode_reward_mean": 431.4842606032754, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 227530, "timestamp": 1557254188, "time_since_restore": 151.58565068244934, "episodes_total": 63, "iterations_since_restore": 5, "episode_len_mean": 679.0793650793651, "time_total_s": 151.58565068244934, "date": "2019-05-07_18-36-28", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 227530, "update_time_ms": 481.801, "num_steps_trained": 227530, "default": {"kl": 0.00390702486038208, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0008590067736804485, "total_loss": 0.9431837201118469, "entropy": 1.3747919797897339, "vf_explained_var": 0.9878504276275635, "vf_loss": 0.9439938068389893, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 19195.839, "grad_time_ms": 10527.385, "load_time_ms": 23.158}, "episodes_this_iter": 15, "time_this_iter_s": 25.01042103767395, "timesteps_total": 227530, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434fa240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 47835, "training_iteration": 5, "policy_reward_mean": {}, "episode_reward_min": 33.151303190657494, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 324.4715909687924, "outflow_rate_min": 185.13257142857142, "outflow_rate_max": 903.108, "outflow_rate_mean": 518.509605588586, "cost1_mean": 221.82506356197177, "system_level_velocity_mean": 8.943841320481884, "system_level_velocity_max": 19.78518408813841, "cost2_min": -135.73334909441328, "cost1_min": 17.893891898908322, "cost2_max": -19.12289768211687, "cost2_mean": -99.04825850588354, "system_level_velocity_min": 3.3860493452441465}, "episode_reward_max": 592.536621207755, "episode_reward_mean": 435.8484303242843, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 268931, "timestamp": 1557254211, "time_since_restore": 174.20768904685974, "episodes_total": 82, "iterations_since_restore": 6, "episode_len_mean": 683.9268292682926, "time_total_s": 174.20768904685974, "date": "2019-05-07_18-36-51", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 268931, "update_time_ms": 402.809, "num_steps_trained": 268931, "default": {"kl": 0.005743631161749363, "cur_kl_coeff": 0.006250000558793545, "policy_loss": -0.0028051419649273157, "total_loss": 1.3200340270996094, "entropy": 1.372169852256775, "vf_explained_var": 0.9847089052200317, "vf_loss": 1.3228033781051636, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18154.253, "grad_time_ms": 10369.819, "load_time_ms": 20.558}, "episodes_this_iter": 19, "time_this_iter_s": 22.6220383644104, "timesteps_total": 268931, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533e10>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 41401, "training_iteration": 6, "policy_reward_mean": {}, "episode_reward_min": 33.151303190657494, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 324.4715909687924, "outflow_rate_min": 185.13257142857142, "outflow_rate_max": 903.108, "outflow_rate_mean": 548.4449200690453, "cost1_mean": 223.49255535540198, "system_level_velocity_mean": 8.925105703366034, "system_level_velocity_max": 19.78518408813841, "cost2_min": -135.73334909441328, "cost1_min": 17.893891898908322, "cost2_max": -19.12289768211687, "cost2_mean": -98.37780180691665, "system_level_velocity_min": 3.3860493452441465}, "episode_reward_max": 592.536621207755, "episode_reward_mean": 443.8940289652849, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 308287, "timestamp": 1557254233, "time_since_restore": 196.29409670829773, "episodes_total": 99, "iterations_since_restore": 7, "episode_len_mean": 686.6868686868687, "time_total_s": 196.29409670829773, "date": "2019-05-07_18-37-13", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 308287, "update_time_ms": 346.312, "num_steps_trained": 308287, "default": {"kl": 0.008117182180285454, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.002282656030729413, "total_loss": 3.041066884994507, "entropy": 1.3585379123687744, "vf_explained_var": 0.9563519358634949, "vf_loss": 3.0432991981506348, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17418.544, "grad_time_ms": 10173.88, "load_time_ms": 18.499}, "episodes_this_iter": 17, "time_this_iter_s": 22.08640766143799, "timesteps_total": 308287, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39356, "training_iteration": 7, "policy_reward_mean": {}, "episode_reward_min": 33.151303190657494, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 299.8316993605058, "outflow_rate_min": 185.13257142857142, "outflow_rate_max": 903.108, "outflow_rate_mean": 567.7418793169476, "cost1_mean": 220.4635785035009, "system_level_velocity_mean": 8.64399353407681, "system_level_velocity_max": 19.78518408813841, "cost2_min": -135.73334909441328, "cost1_min": 17.893891898908322, "cost2_max": -19.12289768211687, "cost2_mean": -95.21623254680428, "system_level_velocity_min": 3.3860493452441465}, "episode_reward_max": 589.2965875760375, "episode_reward_mean": 444.7098309017905, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 346844, "timestamp": 1557254255, "time_since_restore": 218.76546025276184, "episodes_total": 116, "iterations_since_restore": 8, "episode_len_mean": 693.27, "time_total_s": 218.76546025276184, "date": "2019-05-07_18-37-35", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 346844, "update_time_ms": 303.915, "num_steps_trained": 346844, "default": {"kl": 0.012160948477685452, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0038160833064466715, "total_loss": 3.522447109222412, "entropy": 1.3484249114990234, "vf_explained_var": 0.928740918636322, "vf_loss": 3.5261871814727783, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16842.36, "grad_time_ms": 10098.859, "load_time_ms": 17.598}, "episodes_this_iter": 17, "time_this_iter_s": 22.47136354446411, "timesteps_total": 346844, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59435331d0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38557, "training_iteration": 8, "policy_reward_mean": {}, "episode_reward_min": 33.151303190657494, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 299.8316993605058, "outflow_rate_min": 185.13257142857142, "outflow_rate_max": 915.7477714285715, "outflow_rate_mean": 592.5853416623377, "cost1_mean": 219.7321763787317, "system_level_velocity_mean": 8.421897828168822, "system_level_velocity_max": 11.318981906583117, "cost2_min": -135.73334909441328, "cost1_min": 83.13985843231987, "cost2_max": -59.006671517291, "cost2_mean": -94.32360525004145, "system_level_velocity_min": 3.3860493452441465}, "episode_reward_max": 620.0191811100703, "episode_reward_mean": 455.6282267003405, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 385146, "timestamp": 1557254276, "time_since_restore": 239.4682023525238, "episodes_total": 127, "iterations_since_restore": 9, "episode_len_mean": 700.0, "time_total_s": 239.4682023525238, "date": "2019-05-07_18-37-56", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 385146, "update_time_ms": 271.123, "num_steps_trained": 385146, "default": {"kl": 0.037364061921834946, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.007628475781530142, "total_loss": 3.240182638168335, "entropy": 1.3197904825210571, "vf_explained_var": 0.9442719221115112, "vf_loss": 3.247577428817749, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16291.299, "grad_time_ms": 9946.105, "load_time_ms": 17.079}, "episodes_this_iter": 11, "time_this_iter_s": 20.702742099761963, "timesteps_total": 385146, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435334e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38302, "training_iteration": 9, "policy_reward_mean": {}, "episode_reward_min": 309.31401712577957, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 299.8316993605058, "outflow_rate_min": 185.13257142857142, "outflow_rate_max": 1032.5972051948052, "outflow_rate_mean": 664.5987157922078, "cost1_mean": 219.78193829037858, "system_level_velocity_mean": 8.39911804443941, "system_level_velocity_max": 11.318981906583117, "cost2_min": -147.62767739285937, "cost1_min": 88.17231369435471, "cost2_max": -64.12427313778167, "cost2_mean": -97.34741011407934, "system_level_velocity_min": 3.6327911022528263}, "episode_reward_max": 683.8634480928869, "episode_reward_mean": 485.35284701738493, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 424324, "timestamp": 1557254299, "time_since_restore": 262.88206338882446, "episodes_total": 147, "iterations_since_restore": 10, "episode_len_mean": 700.0, "time_total_s": 262.88206338882446, "date": "2019-05-07_18-38-19", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 424324, "update_time_ms": 244.75, "num_steps_trained": 424324, "default": {"kl": 0.017063850536942482, "cur_kl_coeff": 0.009374999441206455, "policy_loss": -0.002135146176442504, "total_loss": 6.688558578491211, "entropy": 1.287575364112854, "vf_explained_var": 0.8661725521087646, "vf_loss": 6.690533638000488, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16084.828, "grad_time_ms": 9861.192, "load_time_ms": 16.427}, "episodes_this_iter": 20, "time_this_iter_s": 23.41386103630066, "timesteps_total": 424324, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435332e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533588>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39178, "training_iteration": 10, "policy_reward_mean": {}, "episode_reward_min": 309.31401712577957, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 266.0204505207795, "outflow_rate_min": 230.844, "outflow_rate_max": 1165.8384259740258, "outflow_rate_mean": 764.9034970909091, "cost1_mean": 225.7558741918512, "system_level_velocity_mean": 8.588271268386038, "system_level_velocity_max": 10.290584076630983, "cost2_min": -163.32195662471668, "cost1_min": 158.4287585796613, "cost2_max": -64.12427313778167, "cost2_mean": -105.63721326155058, "system_level_velocity_min": 6.067658802923874}, "episode_reward_max": 739.2733606161325, "episode_reward_mean": 532.6192347833697, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 464743, "timestamp": 1557254321, "time_since_restore": 284.7618832588196, "episodes_total": 166, "iterations_since_restore": 11, "episode_len_mean": 700.0, "time_total_s": 284.7618832588196, "date": "2019-05-07_18-38-41", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 464743, "update_time_ms": 7.306, "num_steps_trained": 464743, "default": {"kl": 0.013805384747684002, "cur_kl_coeff": 0.009374999441206455, "policy_loss": -0.002359377685934305, "total_loss": 7.894201278686523, "entropy": 1.2857306003570557, "vf_explained_var": 0.8303604125976562, "vf_loss": 7.8964314460754395, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13244.673, "grad_time_ms": 9707.014, "load_time_ms": 11.539}, "episodes_this_iter": 19, "time_this_iter_s": 21.879819869995117, "timesteps_total": 464743, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc908>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 40419, "training_iteration": 11, "policy_reward_mean": {}, "episode_reward_min": 328.7774465564043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 291.88485680992807, "outflow_rate_min": 441.03522165586105, "outflow_rate_max": 1197.9297358641359, "outflow_rate_mean": 846.5275989777973, "cost1_mean": 227.4064800648513, "system_level_velocity_mean": 8.809684274050168, "system_level_velocity_max": 17.825145922317084, "cost2_min": -175.34101954945254, "cost1_min": 21.414084830924267, "cost2_max": -18.84880038875474, "cost2_mean": -112.05446140567729, "system_level_velocity_min": 6.686402910375785}, "episode_reward_max": 752.200075982736, "episode_reward_mean": 568.7279868720443, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 504276, "timestamp": 1557254344, "time_since_restore": 307.7810482978821, "episodes_total": 184, "iterations_since_restore": 12, "episode_len_mean": 693.32, "time_total_s": 307.7810482978821, "date": "2019-05-07_18-39-04", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 504276, "update_time_ms": 7.364, "num_steps_trained": 504276, "default": {"kl": 0.0069846780970692635, "cur_kl_coeff": 0.009374999441206455, "policy_loss": 0.0003068729711230844, "total_loss": 8.428093910217285, "entropy": 1.2859121561050415, "vf_explained_var": 0.8465598821640015, "vf_loss": 8.42772102355957, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13319.122, "grad_time_ms": 9655.992, "load_time_ms": 11.453}, "episodes_this_iter": 18, "time_this_iter_s": 23.0191650390625, "timesteps_total": 504276, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39533, "training_iteration": 12, "policy_reward_mean": {}, "episode_reward_min": 37.31609428581937, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 295.61234460911066, "outflow_rate_min": 441.03522165586105, "outflow_rate_max": 1197.9297358641359, "outflow_rate_mean": 908.3231712655097, "cost1_mean": 234.05358849384464, "system_level_velocity_mean": 9.061726272918749, "system_level_velocity_max": 17.825145922317084, "cost2_min": -175.34101954945254, "cost1_min": 21.414084830924267, "cost2_max": -18.84880038875474, "cost2_mean": -121.58967443709403, "system_level_velocity_min": 6.686402910375785}, "episode_reward_max": 800.9119752148301, "episode_reward_mean": 615.1686078960388, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 543423, "timestamp": 1557254366, "time_since_restore": 329.38393688201904, "episodes_total": 203, "iterations_since_restore": 13, "episode_len_mean": 693.32, "time_total_s": 329.38393688201904, "date": "2019-05-07_18-39-26", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 543423, "update_time_ms": 7.455, "num_steps_trained": 543423, "default": {"kl": 0.008888445794582367, "cur_kl_coeff": 0.009374999441206455, "policy_loss": -0.0011992183281108737, "total_loss": 7.889619827270508, "entropy": 1.2798618078231812, "vf_explained_var": 0.8497624397277832, "vf_loss": 7.890735626220703, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13130.668, "grad_time_ms": 9519.872, "load_time_ms": 11.283}, "episodes_this_iter": 19, "time_this_iter_s": 21.602888584136963, "timesteps_total": 543423, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cadd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caeb8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39147, "training_iteration": 13, "policy_reward_mean": {}, "episode_reward_min": 37.31609428581937, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 303.9556709206439, "outflow_rate_min": 441.03522165586105, "outflow_rate_max": 1199.8255576423576, "outflow_rate_mean": 961.3964711056697, "cost1_mean": 244.13220897390525, "system_level_velocity_mean": 9.43616217752068, "system_level_velocity_max": 17.825145922317084, "cost2_min": -175.34101954945254, "cost1_min": 21.414084830924267, "cost2_max": -18.84880038875474, "cost2_mean": -130.67156403976458, "system_level_velocity_min": 7.342036329386093}, "episode_reward_max": 802.5263343757158, "episode_reward_mean": 655.9794826026059, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 581946, "timestamp": 1557254388, "time_since_restore": 351.51066040992737, "episodes_total": 216, "iterations_since_restore": 14, "episode_len_mean": 693.32, "time_total_s": 351.51066040992737, "date": "2019-05-07_18-39-48", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 581946, "update_time_ms": 7.541, "num_steps_trained": 581946, "default": {"kl": 0.008496817201375961, "cur_kl_coeff": 0.009374999441206455, "policy_loss": -0.001520850113593042, "total_loss": 7.268056869506836, "entropy": 1.2916814088821411, "vf_explained_var": 0.8769930005073547, "vf_loss": 7.269497871398926, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13013.433, "grad_time_ms": 9386.215, "load_time_ms": 11.205}, "episodes_this_iter": 13, "time_this_iter_s": 22.126723527908325, "timesteps_total": 581946, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533c18>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38523, "training_iteration": 14, "policy_reward_mean": {}, "episode_reward_min": 37.31609428581937, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 306.5301887661654, "outflow_rate_min": 441.03522165586105, "outflow_rate_max": 1199.8255576423576, "outflow_rate_mean": 1001.2907032055696, "cost1_mean": 253.67307728338568, "system_level_velocity_mean": 9.814589337149807, "system_level_velocity_max": 17.825145922317084, "cost2_min": -175.34101954945254, "cost1_min": 21.414084830924267, "cost2_max": -18.84880038875474, "cost2_mean": -137.45136564126346, "system_level_velocity_min": 7.342036329386093}, "episode_reward_max": 802.5263343757158, "episode_reward_mean": 685.9115213788824, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 621018, "timestamp": 1557254410, "time_since_restore": 372.930011510849, "episodes_total": 235, "iterations_since_restore": 15, "episode_len_mean": 693.32, "time_total_s": 372.930011510849, "date": "2019-05-07_18-40-10", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 621018, "update_time_ms": 7.438, "num_steps_trained": 621018, "default": {"kl": 0.006575751584023237, "cur_kl_coeff": 0.009374999441206455, "policy_loss": -0.0011238850420340896, "total_loss": 9.207830429077148, "entropy": 1.280058741569519, "vf_explained_var": 0.8242181539535522, "vf_loss": 9.208891868591309, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 12885.276, "grad_time_ms": 9157.51, "load_time_ms": 10.813}, "episodes_this_iter": 19, "time_this_iter_s": 21.41935110092163, "timesteps_total": 621018, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab00>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39072, "training_iteration": 15, "policy_reward_mean": {}, "episode_reward_min": 37.31609428581937, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 306.5301887661654, "outflow_rate_min": 441.03522165586105, "outflow_rate_max": 1199.8255576423576, "outflow_rate_mean": 1019.5047347700051, "cost1_mean": 258.7677590174974, "system_level_velocity_mean": 10.033894224229174, "system_level_velocity_max": 17.825145922317084, "cost2_min": -175.34101954945254, "cost1_min": 21.414084830924267, "cost2_max": -18.84880038875474, "cost2_mean": -139.7568676818992, "system_level_velocity_min": 8.150037397330673}, "episode_reward_max": 802.5263343757158, "episode_reward_mean": 697.9672317594861, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 660034, "timestamp": 1557254432, "time_since_restore": 395.6139712333679, "episodes_total": 249, "iterations_since_restore": 16, "episode_len_mean": 693.32, "time_total_s": 395.6139712333679, "date": "2019-05-07_18-40-32", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 660034, "update_time_ms": 7.32, "num_steps_trained": 660034, "default": {"kl": 0.0130061786621809, "cur_kl_coeff": 0.009374999441206455, "policy_loss": -0.0023030147422105074, "total_loss": 8.143423080444336, "entropy": 1.2644122838974, "vf_explained_var": 0.8680397868156433, "vf_loss": 8.145604133605957, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 12941.243, "grad_time_ms": 9107.772, "load_time_ms": 11.269}, "episodes_this_iter": 14, "time_this_iter_s": 22.68395972251892, "timesteps_total": 660034, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435333c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39016, "training_iteration": 16, "policy_reward_mean": {}, "episode_reward_min": 37.31609428581937, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 306.5301887661654, "outflow_rate_min": 441.03522165586105, "outflow_rate_max": 1199.8255576423576, "outflow_rate_mean": 1014.0041752684671, "cost1_mean": 261.18502428913786, "system_level_velocity_mean": 10.361128293347196, "system_level_velocity_max": 19.16455034457667, "cost2_min": -173.51018410173364, "cost1_min": 21.414084830924267, "cost2_max": -18.84880038875474, "cost2_mean": -134.36409473448964, "system_level_velocity_min": 8.53737576091618}, "episode_reward_max": 802.5263343757158, "episode_reward_mean": 688.8088109193615, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 699064, "timestamp": 1557254456, "time_since_restore": 419.71796798706055, "episodes_total": 270, "iterations_since_restore": 17, "episode_len_mean": 686.79, "time_total_s": 419.71796798706055, "date": "2019-05-07_18-40-56", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 699064, "update_time_ms": 7.275, "num_steps_trained": 699064, "default": {"kl": 0.024202341213822365, "cur_kl_coeff": 0.009374999441206455, "policy_loss": -0.004645281936973333, "total_loss": 9.650376319885254, "entropy": 1.248408555984497, "vf_explained_var": 0.8525365591049194, "vf_loss": 9.654793739318848, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13135.053, "grad_time_ms": 9115.271, "load_time_ms": 11.471}, "episodes_this_iter": 21, "time_this_iter_s": 24.103996753692627, "timesteps_total": 699064, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 39030, "training_iteration": 17, "policy_reward_mean": {}, "episode_reward_min": 37.31609428581937, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 317.55191041552183, "outflow_rate_min": 490.33997711892596, "outflow_rate_max": 1199.8255576423576, "outflow_rate_mean": 1019.8653387201501, "cost1_mean": 265.53065586315046, "system_level_velocity_mean": 10.562687090787659, "system_level_velocity_max": 19.16455034457667, "cost2_min": -173.51018410173364, "cost1_min": 31.527413353873747, "cost2_max": -22.4440379535765, "cost2_mean": -130.40332971631756, "system_level_velocity_min": 8.576891111404713}, "episode_reward_max": 802.5263343757158, "episode_reward_mean": 681.2370953832731, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 737781, "timestamp": 1557254481, "time_since_restore": 444.1987226009369, "episodes_total": 291, "iterations_since_restore": 18, "episode_len_mean": 687.01, "time_total_s": 444.1987226009369, "date": "2019-05-07_18-41-21", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 737781, "update_time_ms": 7.205, "num_steps_trained": 737781, "default": {"kl": 0.010395178571343422, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.0023372999858111143, "total_loss": 10.347740173339844, "entropy": 1.2609766721725464, "vf_explained_var": 0.8563289046287537, "vf_loss": 10.349930763244629, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13396.396, "grad_time_ms": 9054.663, "load_time_ms": 11.504}, "episodes_this_iter": 21, "time_this_iter_s": 24.480754613876343, "timesteps_total": 737781, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38717, "training_iteration": 18, "policy_reward_mean": {}, "episode_reward_min": 46.42231916554918, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 337.6317445928936, "outflow_rate_min": 490.33997711892596, "outflow_rate_max": 1213.487174025974, "outflow_rate_mean": 1020.4506420528177, "cost1_mean": 268.06041684125427, "system_level_velocity_mean": 10.684523925406008, "system_level_velocity_max": 19.16455034457667, "cost2_min": -173.51018410173364, "cost1_min": 31.527413353873747, "cost2_max": -22.4440379535765, "cost2_mean": -124.58542737785434, "system_level_velocity_min": 8.576891111404713}, "episode_reward_max": 787.5304463596984, "episode_reward_mean": 671.0169691909692, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 774384, "timestamp": 1557254503, "time_since_restore": 466.3498616218567, "episodes_total": 310, "iterations_since_restore": 19, "episode_len_mean": 687.01, "time_total_s": 466.3498616218567, "date": "2019-05-07_18-41-43", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 774384, "update_time_ms": 6.997, "num_steps_trained": 774384, "default": {"kl": 0.01094216387718916, "cur_kl_coeff": 0.01406249962747097, "policy_loss": -0.001755186589434743, "total_loss": 10.603827476501465, "entropy": 1.241929054260254, "vf_explained_var": 0.8539372086524963, "vf_loss": 10.605427742004395, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13578.061, "grad_time_ms": 9018.089, "load_time_ms": 11.461}, "episodes_this_iter": 19, "time_this_iter_s": 22.1511390209198, "timesteps_total": 774384, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36603, "training_iteration": 19, "policy_reward_mean": {}, "episode_reward_min": 46.42231916554918, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 401.0847721343047, "outflow_rate_min": 473.8631573770345, "outflow_rate_max": 1451.0947344655344, "outflow_rate_mean": 1028.7438350491655, "cost1_mean": 270.7258936868217, "system_level_velocity_mean": 10.99539847038746, "system_level_velocity_max": 19.36740299854805, "cost2_min": -173.51018410173364, "cost1_min": 30.196850313897063, "cost2_max": -22.4440379535765, "cost2_mean": -119.97228607131963, "system_level_velocity_min": 8.576891111404713}, "episode_reward_max": 779.1427846356322, "episode_reward_mean": 656.4777821828561, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 809137, "timestamp": 1557254525, "time_since_restore": 487.8455491065979, "episodes_total": 330, "iterations_since_restore": 20, "episode_len_mean": 680.45, "time_total_s": 487.8455491065979, "date": "2019-05-07_18-42-05", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 809137, "update_time_ms": 7.059, "num_steps_trained": 809137, "default": {"kl": 0.009490356780588627, "cur_kl_coeff": 0.01406249962747097, "policy_loss": -0.0019104050006717443, "total_loss": 13.25899600982666, "entropy": 1.208211064338684, "vf_explained_var": 0.8383129239082336, "vf_loss": 13.260773658752441, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13489.514, "grad_time_ms": 8915.348, "load_time_ms": 11.502}, "episodes_this_iter": 20, "time_this_iter_s": 21.49568748474121, "timesteps_total": 809137, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533518>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34753, "training_iteration": 20, "policy_reward_mean": {}, "episode_reward_min": 46.42231916554918, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 401.0847721343047, "outflow_rate_min": 473.8631573770345, "outflow_rate_max": 1451.0947344655344, "outflow_rate_mean": 1042.8128211470673, "cost1_mean": 277.7782791971928, "system_level_velocity_mean": 11.288090682728683, "system_level_velocity_max": 19.36740299854805, "cost2_min": -156.97356777153635, "cost1_min": 30.196850313897063, "cost2_max": -22.4440379535765, "cost2_mean": -117.23786003961523, "system_level_velocity_min": 8.941632190518797}, "episode_reward_max": 777.9535491327655, "episode_reward_mean": 648.1141990057379, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 845275, "timestamp": 1557254546, "time_since_restore": 508.9547746181488, "episodes_total": 345, "iterations_since_restore": 21, "episode_len_mean": 680.45, "time_total_s": 508.9547746181488, "date": "2019-05-07_18-42-26", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 845275, "update_time_ms": 7.201, "num_steps_trained": 845275, "default": {"kl": 0.016051925718784332, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.004889690317213535, "total_loss": 8.140851974487305, "entropy": 1.176604151725769, "vf_explained_var": 0.9029866456985474, "vf_loss": 8.145514488220215, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13518.31, "grad_time_ms": 8810.713, "load_time_ms": 11.291}, "episodes_this_iter": 15, "time_this_iter_s": 21.109225511550903, "timesteps_total": 845275, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cac50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36138, "training_iteration": 21, "policy_reward_mean": {}, "episode_reward_min": 46.42231916554918, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 401.0847721343047, "outflow_rate_min": 473.8631573770345, "outflow_rate_max": 1451.0947344655344, "outflow_rate_mean": 1060.1139663628915, "cost1_mean": 283.8959109575307, "system_level_velocity_mean": 11.38790515751619, "system_level_velocity_max": 19.36740299854805, "cost2_min": -156.97356777153635, "cost1_min": 30.196850313897063, "cost2_max": -24.583070447641976, "cost2_mean": -117.91175814418808, "system_level_velocity_min": 8.941632190518797}, "episode_reward_max": 777.9535491327655, "episode_reward_mean": 648.1881295588967, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 881920, "timestamp": 1557254569, "time_since_restore": 531.683435678482, "episodes_total": 364, "iterations_since_restore": 22, "episode_len_mean": 686.98, "time_total_s": 531.683435678482, "date": "2019-05-07_18-42-49", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 881920, "update_time_ms": 7.257, "num_steps_trained": 881920, "default": {"kl": 0.010545901954174042, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.001996055245399475, "total_loss": 10.430708885192871, "entropy": 1.1639758348464966, "vf_explained_var": 0.8687726259231567, "vf_loss": 10.43255615234375, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13524.034, "grad_time_ms": 8776.548, "load_time_ms": 11.168}, "episodes_this_iter": 19, "time_this_iter_s": 22.728661060333252, "timesteps_total": 881920, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533128>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36645, "training_iteration": 22, "policy_reward_mean": {}, "episode_reward_min": 49.56433665674879, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 401.0847721343047, "outflow_rate_min": 473.8631573770345, "outflow_rate_max": 1451.0947344655344, "outflow_rate_mean": 1081.748837999345, "cost1_mean": 294.2675398424588, "system_level_velocity_mean": 11.629143871200075, "system_level_velocity_max": 19.36740299854805, "cost2_min": -144.90186688653353, "cost1_min": 30.196850313897063, "cost2_max": -24.583070447641976, "cost2_mean": -118.9980445990423, "system_level_velocity_min": 8.941632190518797}, "episode_reward_max": 777.9535491327655, "episode_reward_mean": 655.2702375601505, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 919692, "timestamp": 1557254591, "time_since_restore": 554.0394926071167, "episodes_total": 380, "iterations_since_restore": 23, "episode_len_mean": 693.44, "time_total_s": 554.0394926071167, "date": "2019-05-07_18-43-11", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 919692, "update_time_ms": 7.308, "num_steps_trained": 919692, "default": {"kl": 0.014954355545341969, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.005586210638284683, "total_loss": 10.893667221069336, "entropy": 1.1735535860061646, "vf_explained_var": 0.8922774195671082, "vf_loss": 10.899043083190918, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13645.165, "grad_time_ms": 8731.339, "load_time_ms": 10.714}, "episodes_this_iter": 16, "time_this_iter_s": 22.356056928634644, "timesteps_total": 919692, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7470>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37772, "training_iteration": 23, "policy_reward_mean": {}, "episode_reward_min": 49.56433665674879, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 401.0847721343047, "outflow_rate_min": 473.8631573770345, "outflow_rate_max": 1451.0947344655344, "outflow_rate_mean": 1098.8850509583856, "cost1_mean": 301.30126222111454, "system_level_velocity_mean": 11.933589932948168, "system_level_velocity_max": 19.36740299854805, "cost2_min": -142.23725860171484, "cost1_min": 30.196850313897063, "cost2_max": -24.583070447641976, "cost2_mean": -118.83036002837461, "system_level_velocity_min": 8.941632190518797}, "episode_reward_max": 777.9535491327655, "episode_reward_mean": 650.1253578188815, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 958087, "timestamp": 1557254614, "time_since_restore": 577.5853250026703, "episodes_total": 401, "iterations_since_restore": 24, "episode_len_mean": 693.44, "time_total_s": 577.5853250026703, "date": "2019-05-07_18-43-34", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 958087, "update_time_ms": 7.317, "num_steps_trained": 958087, "default": {"kl": 0.011989317834377289, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.0027536749839782715, "total_loss": 12.147384643554688, "entropy": 1.1587361097335815, "vf_explained_var": 0.868076503276825, "vf_loss": 12.149969100952148, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13801.593, "grad_time_ms": 8716.61, "load_time_ms": 10.597}, "episodes_this_iter": 21, "time_this_iter_s": 23.54583239555359, "timesteps_total": 958087, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bca58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533390>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38395, "training_iteration": 24, "policy_reward_mean": {}, "episode_reward_min": 49.56433665674879, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 401.0847721343047, "outflow_rate_min": 887.8751428571428, "outflow_rate_max": 1451.0947344655344, "outflow_rate_mean": 1102.8281275324675, "cost1_mean": 304.2490463919754, "system_level_velocity_mean": 11.899038851553339, "system_level_velocity_max": 15.27187757561158, "cost2_min": -141.70816753489305, "cost1_min": 224.74134346671985, "cost2_max": -90.51575654825612, "cost2_mean": -120.23993203326218, "system_level_velocity_min": 8.941632190518797}, "episode_reward_max": 777.9535491327655, "episode_reward_mean": 651.9662903090992, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 995446, "timestamp": 1557254637, "time_since_restore": 599.8932905197144, "episodes_total": 420, "iterations_since_restore": 25, "episode_len_mean": 700.0, "time_total_s": 599.8932905197144, "date": "2019-05-07_18-43-57", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 995446, "update_time_ms": 7.39, "num_steps_trained": 995446, "default": {"kl": 0.011334926821291447, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.00387404952198267, "total_loss": 12.396219253540039, "entropy": 1.1467033624649048, "vf_explained_var": 0.8800685405731201, "vf_loss": 12.399933815002441, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13913.733, "grad_time_ms": 8694.304, "load_time_ms": 10.079}, "episodes_this_iter": 19, "time_this_iter_s": 22.307965517044067, "timesteps_total": 995446, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab00>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37359, "training_iteration": 25, "policy_reward_mean": {}, "episode_reward_min": 538.546582371295, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 383.3491566647416, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1354.835607992008, "outflow_rate_mean": 1095.4306409927144, "cost1_mean": 299.88682390585285, "system_level_velocity_mean": 12.107881927214535, "system_level_velocity_max": 19.576734120700966, "cost2_min": -145.7313766871896, "cost1_min": 18.090767923169008, "cost2_max": -19.8524916902871, "cost2_mean": -119.80028368841056, "system_level_velocity_min": 9.544960019496482}, "episode_reward_max": 804.0812647858453, "episode_reward_mean": 644.836169858367, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1032392, "timestamp": 1557254659, "time_since_restore": 621.9604184627533, "episodes_total": 441, "iterations_since_restore": 26, "episode_len_mean": 686.68, "time_total_s": 621.9604184627533, "date": "2019-05-07_18-44-19", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1032392, "update_time_ms": 7.425, "num_steps_trained": 1032392, "default": {"kl": 0.00806833803653717, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.0020179497078061104, "total_loss": 14.927745819091797, "entropy": 1.1222959756851196, "vf_explained_var": 0.8573946356773376, "vf_loss": 14.92965030670166, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13904.834, "grad_time_ms": 8642.643, "load_time_ms": 9.459}, "episodes_this_iter": 21, "time_this_iter_s": 22.06712794303894, "timesteps_total": 1032392, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59435334e0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36946, "training_iteration": 26, "policy_reward_mean": {}, "episode_reward_min": 30.309943894324043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 412.2647507409413, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1487.759207992008, "outflow_rate_mean": 1097.5630022053801, "cost1_mean": 298.8513039577875, "system_level_velocity_mean": 12.260259462882328, "system_level_velocity_max": 19.576734120700966, "cost2_min": -145.7313766871896, "cost1_min": 18.090767923169008, "cost2_max": -19.8524916902871, "cost2_mean": -121.44346303281627, "system_level_velocity_min": 9.383254087686105}, "episode_reward_max": 804.0812647858453, "episode_reward_mean": 638.7013121196904, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1069540, "timestamp": 1557254682, "time_since_restore": 645.3861019611359, "episodes_total": 461, "iterations_since_restore": 27, "episode_len_mean": 680.08, "time_total_s": 645.3861019611359, "date": "2019-05-07_18-44-42", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1069540, "update_time_ms": 7.437, "num_steps_trained": 1069540, "default": {"kl": 0.01444797869771719, "cur_kl_coeff": 0.01406249962747097, "policy_loss": -0.005163864698261023, "total_loss": 13.139056205749512, "entropy": 1.1189792156219482, "vf_explained_var": 0.9034837484359741, "vf_loss": 13.14401626586914, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13792.53, "grad_time_ms": 8687.192, "load_time_ms": 9.313}, "episodes_this_iter": 20, "time_this_iter_s": 23.42568349838257, "timesteps_total": 1069540, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec128>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37148, "training_iteration": 27, "policy_reward_mean": {}, "episode_reward_min": 30.309943894324043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 412.2647507409413, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1487.759207992008, "outflow_rate_mean": 1104.7139837278578, "cost1_mean": 300.89446722919024, "system_level_velocity_mean": 12.349036725313503, "system_level_velocity_max": 19.576734120700966, "cost2_min": -145.7313766871896, "cost1_min": 18.090767923169008, "cost2_max": -19.8524916902871, "cost2_mean": -121.85128786767845, "system_level_velocity_min": 9.383254087686105}, "episode_reward_max": 804.0812647858453, "episode_reward_mean": 638.3464599732489, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1106161, "timestamp": 1557254705, "time_since_restore": 668.3419134616852, "episodes_total": 481, "iterations_since_restore": 28, "episode_len_mean": 680.08, "time_total_s": 668.3419134616852, "date": "2019-05-07_18-45-05", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1106161, "update_time_ms": 7.655, "num_steps_trained": 1106161, "default": {"kl": 0.012676192447543144, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.003346505807712674, "total_loss": 12.881473541259766, "entropy": 1.097538709640503, "vf_explained_var": 0.8891536593437195, "vf_loss": 12.88464069366455, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13684.911, "grad_time_ms": 8642.845, "load_time_ms": 9.293}, "episodes_this_iter": 20, "time_this_iter_s": 22.955811500549316, "timesteps_total": 1106161, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435334e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533160>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36621, "training_iteration": 28, "policy_reward_mean": {}, "episode_reward_min": 30.309943894324043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 455.68674344136025, "outflow_rate_min": 413.0701758737697, "outflow_rate_max": 1508.2004899100898, "outflow_rate_mean": 1112.0683089990828, "cost1_mean": 300.89497467137676, "system_level_velocity_mean": 12.532164976546769, "system_level_velocity_max": 19.576734120700966, "cost2_min": -157.40643953612062, "cost1_min": 18.090767923169008, "cost2_max": -19.8524916902871, "cost2_mean": -122.26049391574544, "system_level_velocity_min": 9.383254087686105}, "episode_reward_max": 833.0875592443265, "episode_reward_mean": 638.4753875345663, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1142846, "timestamp": 1557254728, "time_since_restore": 691.393138885498, "episodes_total": 502, "iterations_since_restore": 29, "episode_len_mean": 673.39, "time_total_s": 691.393138885498, "date": "2019-05-07_18-45-28", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1142846, "update_time_ms": 7.634, "num_steps_trained": 1142846, "default": {"kl": 0.01179360318928957, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.001934283645823598, "total_loss": 17.74371337890625, "entropy": 1.1225438117980957, "vf_explained_var": 0.8835862278938293, "vf_loss": 17.7454833984375, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13765.217, "grad_time_ms": 8653.204, "load_time_ms": 8.894}, "episodes_this_iter": 21, "time_this_iter_s": 23.051225423812866, "timesteps_total": 1142846, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ece80>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36685, "training_iteration": 29, "policy_reward_mean": {}, "episode_reward_min": 30.309943894324043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 455.68674344136025, "outflow_rate_min": 413.0701758737697, "outflow_rate_max": 1598.9285376623377, "outflow_rate_mean": 1132.8421629261393, "cost1_mean": 305.3351228216604, "system_level_velocity_mean": 12.882918112802336, "system_level_velocity_max": 19.65570249769544, "cost2_min": -157.40643953612062, "cost1_min": 18.090767923169008, "cost2_max": -19.8524916902871, "cost2_mean": -123.79438273219182, "system_level_velocity_min": 9.383254087686105}, "episode_reward_max": 881.6629691559032, "episode_reward_mean": 643.898604568695, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1178847, "timestamp": 1557254750, "time_since_restore": 713.0873086452484, "episodes_total": 523, "iterations_since_restore": 30, "episode_len_mean": 666.91, "time_total_s": 713.0873086452484, "date": "2019-05-07_18-45-50", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1178847, "update_time_ms": 7.505, "num_steps_trained": 1178847, "default": {"kl": 0.016036413609981537, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.003312264569103718, "total_loss": 13.919644355773926, "entropy": 1.119927167892456, "vf_explained_var": 0.8913283944129944, "vf_loss": 13.922731399536133, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13762.406, "grad_time_ms": 8676.091, "load_time_ms": 8.807}, "episodes_this_iter": 21, "time_this_iter_s": 21.694169759750366, "timesteps_total": 1178847, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435331d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533400>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36001, "training_iteration": 30, "policy_reward_mean": {}, "episode_reward_min": 30.309943894324043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 455.68674344136025, "outflow_rate_min": 413.0701758737697, "outflow_rate_max": 1598.9285376623377, "outflow_rate_mean": 1146.8722386910497, "cost1_mean": 307.74608276131266, "system_level_velocity_mean": 12.803458723992476, "system_level_velocity_max": 19.65570249769544, "cost2_min": -157.40643953612062, "cost1_min": 20.993613900952507, "cost2_max": -24.760714921922656, "cost2_mean": -126.22145189083356, "system_level_velocity_min": 9.383254087686105}, "episode_reward_max": 881.6629691559032, "episode_reward_mean": 652.2669140828292, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1213678, "timestamp": 1557254772, "time_since_restore": 734.7438676357269, "episodes_total": 543, "iterations_since_restore": 31, "episode_len_mean": 673.8, "time_total_s": 734.7438676357269, "date": "2019-05-07_18-46-12", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1213678, "update_time_ms": 7.464, "num_steps_trained": 1213678, "default": {"kl": 0.013408351689577103, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.0037215668708086014, "total_loss": 18.643661499023438, "entropy": 1.1148924827575684, "vf_explained_var": 0.8642127513885498, "vf_loss": 18.647197723388672, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13833.38, "grad_time_ms": 8658.821, "load_time_ms": 8.881}, "episodes_this_iter": 20, "time_this_iter_s": 21.656558990478516, "timesteps_total": 1213678, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec5c0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34831, "training_iteration": 31, "policy_reward_mean": {}, "episode_reward_min": 35.25527122890825, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 455.68674344136025, "outflow_rate_min": 413.0701758737697, "outflow_rate_max": 1606.8079594405594, "outflow_rate_mean": 1161.5571396520886, "cost1_mean": 312.051126409325, "system_level_velocity_mean": 12.947911384764254, "system_level_velocity_max": 19.65570249769544, "cost2_min": -168.18444121627186, "cost1_min": 20.993613900952507, "cost2_max": -24.760714921922656, "cost2_mean": -127.21077711279982, "system_level_velocity_min": 9.949405478922586}, "episode_reward_max": 906.5147271294863, "episode_reward_mean": 662.1834283293038, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1248931, "timestamp": 1557254793, "time_since_restore": 755.5755002498627, "episodes_total": 559, "iterations_since_restore": 32, "episode_len_mean": 673.8, "time_total_s": 755.5755002498627, "date": "2019-05-07_18-46-33", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1248931, "update_time_ms": 7.343, "num_steps_trained": 1248931, "default": {"kl": 0.015754466876387596, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.003535402938723564, "total_loss": 14.839406967163086, "entropy": 1.0938875675201416, "vf_explained_var": 0.8845755457878113, "vf_loss": 14.842720985412598, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13731.209, "grad_time_ms": 8571.329, "load_time_ms": 8.864}, "episodes_this_iter": 16, "time_this_iter_s": 20.831632614135742, "timesteps_total": 1248931, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59435332b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35253, "training_iteration": 32, "policy_reward_mean": {}, "episode_reward_min": 35.25527122890825, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 455.68674344136025, "outflow_rate_min": 413.0701758737697, "outflow_rate_max": 1606.8079594405594, "outflow_rate_mean": 1184.562338803059, "cost1_mean": 317.46125612376346, "system_level_velocity_mean": 12.96681708142836, "system_level_velocity_max": 19.65570249769544, "cost2_min": -168.18444121627186, "cost1_min": 20.993613900952507, "cost2_max": -24.760714921922656, "cost2_mean": -130.52279925469873, "system_level_velocity_min": 9.949405478922586}, "episode_reward_max": 906.5147271294863, "episode_reward_mean": 684.4176228888075, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1285666, "timestamp": 1557254814, "time_since_restore": 777.1249344348907, "episodes_total": 576, "iterations_since_restore": 33, "episode_len_mean": 680.4, "time_total_s": 777.1249344348907, "date": "2019-05-07_18-46-54", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1285666, "update_time_ms": 7.374, "num_steps_trained": 1285666, "default": {"kl": 0.014103162102401257, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.0037296598311513662, "total_loss": 17.080652236938477, "entropy": 1.0879063606262207, "vf_explained_var": 0.8708956837654114, "vf_loss": 17.084184646606445, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13684.525, "grad_time_ms": 8537.475, "load_time_ms": 8.813}, "episodes_this_iter": 17, "time_this_iter_s": 21.549434185028076, "timesteps_total": 1285666, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec3c8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36735, "training_iteration": 33, "policy_reward_mean": {}, "episode_reward_min": 35.25527122890825, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 443.4013244705545, "outflow_rate_min": 503.1919023959523, "outflow_rate_max": 1606.8079594405594, "outflow_rate_mean": 1198.4104314259396, "cost1_mean": 322.09217268365865, "system_level_velocity_mean": 12.983902980139538, "system_level_velocity_max": 19.65570249769544, "cost2_min": -168.18444121627186, "cost1_min": 35.88855375352479, "cost2_max": -28.38043770325045, "cost2_mean": -133.1928204940645, "system_level_velocity_min": 10.24014907075889}, "episode_reward_max": 906.5147271294863, "episode_reward_mean": 695.6859471410608, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1322302, "timestamp": 1557254836, "time_since_restore": 799.1440782546997, "episodes_total": 596, "iterations_since_restore": 34, "episode_len_mean": 687.09, "time_total_s": 799.1440782546997, "date": "2019-05-07_18-47-16", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1322302, "update_time_ms": 7.19, "num_steps_trained": 1322302, "default": {"kl": 0.012699390761554241, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.0033806643914431334, "total_loss": 18.398178100585938, "entropy": 1.0965027809143066, "vf_explained_var": 0.8603535294532776, "vf_loss": 18.40138053894043, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13562.208, "grad_time_ms": 8507.744, "load_time_ms": 7.996}, "episodes_this_iter": 20, "time_this_iter_s": 22.01914381980896, "timesteps_total": 1322302, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435331d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533278>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36636, "training_iteration": 34, "policy_reward_mean": {}, "episode_reward_min": 51.682597009637, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 438.4872193596843, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1606.8079594405594, "outflow_rate_mean": 1189.6160763197581, "cost1_mean": 317.7104467318347, "system_level_velocity_mean": 13.003880162644231, "system_level_velocity_max": 20.042749568568684, "cost2_min": -168.18444121627186, "cost1_min": 18.9126594563696, "cost2_max": -20.305558082190394, "cost2_mean": -133.36392456940425, "system_level_velocity_min": 10.182439574523572}, "episode_reward_max": 906.5147271294863, "episode_reward_mean": 687.9793026101136, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1359062, "timestamp": 1557254858, "time_since_restore": 821.3073663711548, "episodes_total": 617, "iterations_since_restore": 35, "episode_len_mean": 680.31, "time_total_s": 821.3073663711548, "date": "2019-05-07_18-47-38", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1359062, "update_time_ms": 7.198, "num_steps_trained": 1359062, "default": {"kl": 0.017282620072364807, "cur_kl_coeff": 0.014062502421438694, "policy_loss": -0.005596274044364691, "total_loss": 16.759645462036133, "entropy": 1.077768087387085, "vf_explained_var": 0.8753961324691772, "vf_loss": 16.764999389648438, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13574.535, "grad_time_ms": 8480.115, "load_time_ms": 8.499}, "episodes_this_iter": 21, "time_this_iter_s": 22.163288116455078, "timesteps_total": 1359062, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434de4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ece80>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36760, "training_iteration": 35, "policy_reward_mean": {}, "episode_reward_min": 29.355428104549738, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 438.4872193596843, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1606.8079594405594, "outflow_rate_mean": 1189.8307656123482, "cost1_mean": 319.050518782815, "system_level_velocity_mean": 13.069918757687814, "system_level_velocity_max": 20.042749568568684, "cost2_min": -168.18444121627186, "cost1_min": 18.221313033258863, "cost2_max": -19.958038961776907, "cost2_mean": -134.8896300819014, "system_level_velocity_min": 10.182439574523572}, "episode_reward_max": 906.5147271294863, "episode_reward_mean": 690.9131927207948, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1395923, "timestamp": 1557254881, "time_since_restore": 843.877429485321, "episodes_total": 638, "iterations_since_restore": 36, "episode_len_mean": 680.01, "time_total_s": 843.877429485321, "date": "2019-05-07_18-48-01", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1395923, "update_time_ms": 7.268, "num_steps_trained": 1395923, "default": {"kl": 0.015891220420598984, "cur_kl_coeff": 0.014062502421438694, "policy_loss": -0.004577191546559334, "total_loss": 20.24435806274414, "entropy": 1.0911691188812256, "vf_explained_var": 0.8459342122077942, "vf_loss": 20.24871253967285, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13635.946, "grad_time_ms": 8468.774, "load_time_ms": 8.649}, "episodes_this_iter": 21, "time_this_iter_s": 22.57006311416626, "timesteps_total": 1395923, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59435332b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36861, "training_iteration": 36, "policy_reward_mean": {}, "episode_reward_min": 29.355428104549738, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 426.1627870063694, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1525.601850949051, "outflow_rate_mean": 1189.4274375504099, "cost1_mean": 318.9634032288968, "system_level_velocity_mean": 13.081508734931756, "system_level_velocity_max": 20.042749568568684, "cost2_min": -169.58727367582367, "cost1_min": 18.221313033258863, "cost2_max": -19.958038961776907, "cost2_mean": -136.1545736801259, "system_level_velocity_min": 10.182439574523572}, "episode_reward_max": 874.6918532733439, "episode_reward_mean": 693.3196949142288, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1431532, "timestamp": 1557254903, "time_since_restore": 865.809624671936, "episodes_total": 657, "iterations_since_restore": 37, "episode_len_mean": 680.01, "time_total_s": 865.809624671936, "date": "2019-05-07_18-48-23", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1431532, "update_time_ms": 7.282, "num_steps_trained": 1431532, "default": {"kl": 0.015941398218274117, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.004654052667319775, "total_loss": 15.262080192565918, "entropy": 1.0648808479309082, "vf_explained_var": 0.8924416303634644, "vf_loss": 15.266510009765625, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13607.065, "grad_time_ms": 8347.811, "load_time_ms": 9.142}, "episodes_this_iter": 19, "time_this_iter_s": 21.93219518661499, "timesteps_total": 1431532, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eca58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ece10>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35609, "training_iteration": 37, "policy_reward_mean": {}, "episode_reward_min": 29.355428104549738, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 426.1627870063694, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1525.601850949051, "outflow_rate_mean": 1190.33820744052, "cost1_mean": 320.59922688678284, "system_level_velocity_mean": 13.159341995857874, "system_level_velocity_max": 20.042749568568684, "cost2_min": -178.48380542472353, "cost1_min": 18.221313033258863, "cost2_max": -19.958038961776907, "cost2_mean": -138.00246597699797, "system_level_velocity_min": 10.182439574523572}, "episode_reward_max": 865.3437489756357, "episode_reward_mean": 685.8253783706327, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1467083, "timestamp": 1557254925, "time_since_restore": 887.8018219470978, "episodes_total": 676, "iterations_since_restore": 38, "episode_len_mean": 680.01, "time_total_s": 887.8018219470978, "date": "2019-05-07_18-48-45", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1467083, "update_time_ms": 7.175, "num_steps_trained": 1467083, "default": {"kl": 0.015623037703335285, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.004801996983587742, "total_loss": 17.6043643951416, "entropy": 1.0736266374588013, "vf_explained_var": 0.8793114423751831, "vf_loss": 17.608945846557617, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13530.705, "grad_time_ms": 8327.142, "load_time_ms": 9.099}, "episodes_this_iter": 19, "time_this_iter_s": 21.992197275161743, "timesteps_total": 1467083, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435331d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533320>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35551, "training_iteration": 38, "policy_reward_mean": {}, "episode_reward_min": 29.355428104549738, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 474.0681839532074, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1685.1780215549156, "outflow_rate_mean": 1194.407375700025, "cost1_mean": 320.55739757902506, "system_level_velocity_mean": 13.162737655968497, "system_level_velocity_max": 20.042749568568684, "cost2_min": -178.48380542472353, "cost1_min": 18.221313033258863, "cost2_max": -19.958038961776907, "cost2_mean": -139.84332694848254, "system_level_velocity_min": 10.182439574523572}, "episode_reward_max": 875.2767026710362, "episode_reward_mean": 684.9163373157006, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1503111, "timestamp": 1557254947, "time_since_restore": 909.8969430923462, "episodes_total": 695, "iterations_since_restore": 39, "episode_len_mean": 680.01, "time_total_s": 909.8969430923462, "date": "2019-05-07_18-49-07", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1503111, "update_time_ms": 7.22, "num_steps_trained": 1503111, "default": {"kl": 0.01861032284796238, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.004683679435402155, "total_loss": 13.93501091003418, "entropy": 1.0704104900360107, "vf_explained_var": 0.896912693977356, "vf_loss": 13.939433097839355, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13449.659, "grad_time_ms": 8312.438, "load_time_ms": 9.388}, "episodes_this_iter": 19, "time_this_iter_s": 22.095121145248413, "timesteps_total": 1503111, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecf60>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36028, "training_iteration": 39, "policy_reward_mean": {}, "episode_reward_min": 29.355428104549738, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 474.0681839532074, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1685.1780215549156, "outflow_rate_mean": 1219.3280619184382, "cost1_mean": 329.8272086752185, "system_level_velocity_mean": 13.316581997092863, "system_level_velocity_max": 19.915414822531282, "cost2_min": -178.48380542472353, "cost1_min": 18.221313033258863, "cost2_max": -19.958038961776907, "cost2_mean": -143.1026039810071, "system_level_velocity_min": 10.248269593572175}, "episode_reward_max": 938.4119985676158, "episode_reward_mean": 699.4452537473803, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1539268, "timestamp": 1557254969, "time_since_restore": 931.6741454601288, "episodes_total": 715, "iterations_since_restore": 40, "episode_len_mean": 686.61, "time_total_s": 931.6741454601288, "date": "2019-05-07_18-49-29", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1539268, "update_time_ms": 7.259, "num_steps_trained": 1539268, "default": {"kl": 0.01955350488424301, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.00359348114579916, "total_loss": 20.571861267089844, "entropy": 1.0690556764602661, "vf_explained_var": 0.867295503616333, "vf_loss": 20.57518196105957, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13444.998, "grad_time_ms": 8324.562, "load_time_ms": 9.471}, "episodes_this_iter": 20, "time_this_iter_s": 21.777202367782593, "timesteps_total": 1539268, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533588>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36157, "training_iteration": 40, "policy_reward_mean": {}, "episode_reward_min": 30.531003085208475, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 474.0681839532074, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1685.1780215549156, "outflow_rate_mean": 1216.0997401002567, "cost1_mean": 326.6971381146548, "system_level_velocity_mean": 13.213779732394777, "system_level_velocity_max": 19.915414822531282, "cost2_min": -178.48380542472353, "cost1_min": 18.221313033258863, "cost2_max": -19.958038961776907, "cost2_mean": -142.80623461190896, "system_level_velocity_min": 10.248269593572175}, "episode_reward_max": 938.4119985676158, "episode_reward_mean": 698.8368363080056, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1574798, "timestamp": 1557254991, "time_since_restore": 953.8918240070343, "episodes_total": 733, "iterations_since_restore": 41, "episode_len_mean": 686.61, "time_total_s": 953.8918240070343, "date": "2019-05-07_18-49-51", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1574798, "update_time_ms": 7.238, "num_steps_trained": 1574798, "default": {"kl": 0.019948037341237068, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.00517679238691926, "total_loss": 17.719772338867188, "entropy": 1.0579171180725098, "vf_explained_var": 0.8688806295394897, "vf_loss": 17.724668502807617, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13442.199, "grad_time_ms": 8384.038, "load_time_ms": 9.424}, "episodes_this_iter": 18, "time_this_iter_s": 22.217678546905518, "timesteps_total": 1574798, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec048>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35530, "training_iteration": 41, "policy_reward_mean": {}, "episode_reward_min": 30.531003085208475, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 474.0681839532074, "outflow_rate_min": 450.1758507232212, "outflow_rate_max": 1685.1780215549156, "outflow_rate_mean": 1212.6256036117923, "cost1_mean": 322.1271551554579, "system_level_velocity_mean": 13.219619649429562, "system_level_velocity_max": 19.29996370068312, "cost2_min": -178.48380542472353, "cost1_min": 23.43227106517678, "cost2_max": -22.1537365361099, "cost2_mean": -142.40242860775447, "system_level_velocity_min": 10.248269593572175}, "episode_reward_max": 938.4119985676158, "episode_reward_mean": 693.5072777328429, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1610622, "timestamp": 1557255015, "time_since_restore": 977.7945899963379, "episodes_total": 755, "iterations_since_restore": 42, "episode_len_mean": 679.78, "time_total_s": 977.7945899963379, "date": "2019-05-07_18-50-15", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1610622, "update_time_ms": 7.365, "num_steps_trained": 1610622, "default": {"kl": 0.01668761856853962, "cur_kl_coeff": 0.01406250149011612, "policy_loss": -0.003768209833651781, "total_loss": 20.87957763671875, "entropy": 1.0725281238555908, "vf_explained_var": 0.8577293753623962, "vf_loss": 20.88311195373535, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13738.308, "grad_time_ms": 8395.066, "load_time_ms": 9.467}, "episodes_this_iter": 22, "time_this_iter_s": 23.90276598930359, "timesteps_total": 1610622, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435331d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533080>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35824, "training_iteration": 42, "policy_reward_mean": {}, "episode_reward_min": 40.18411688855339, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 474.0681839532074, "outflow_rate_min": 450.1758507232212, "outflow_rate_max": 1685.1780215549156, "outflow_rate_mean": 1218.7196586927112, "cost1_mean": 323.292302601805, "system_level_velocity_mean": 13.278865979286568, "system_level_velocity_max": 19.29996370068312, "cost2_min": -173.28107043617632, "cost1_min": 23.43227106517678, "cost2_max": -22.1537365361099, "cost2_mean": -140.27394526140301, "system_level_velocity_min": 10.248269593572175}, "episode_reward_max": 938.4119985676158, "episode_reward_mean": 692.9659655625252, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1645942, "timestamp": 1557255037, "time_since_restore": 999.1922972202301, "episodes_total": 769, "iterations_since_restore": 43, "episode_len_mean": 679.78, "time_total_s": 999.1922972202301, "date": "2019-05-07_18-50-37", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1645942, "update_time_ms": 7.288, "num_steps_trained": 1645942, "default": {"kl": 0.01745707169175148, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.0043318793177604675, "total_loss": 13.493928909301758, "entropy": 1.0616949796676636, "vf_explained_var": 0.9016743898391724, "vf_loss": 13.498014450073242, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13757.718, "grad_time_ms": 8360.437, "load_time_ms": 9.834}, "episodes_this_iter": 14, "time_this_iter_s": 21.397707223892212, "timesteps_total": 1645942, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec518>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35320, "training_iteration": 43, "policy_reward_mean": {}, "episode_reward_min": 40.18411688855339, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 458.4487014880735, "outflow_rate_min": 450.1758507232212, "outflow_rate_max": 1633.6352054533702, "outflow_rate_mean": 1216.3908053183209, "cost1_mean": 321.5285523043755, "system_level_velocity_mean": 13.226166140772037, "system_level_velocity_max": 19.29996370068312, "cost2_min": -173.28107043617632, "cost1_min": 23.43227106517678, "cost2_max": -22.1537365361099, "cost2_mean": -138.69397016928292, "system_level_velocity_min": 10.248269593572175}, "episode_reward_max": 938.4119985676158, "episode_reward_mean": 690.6370849750498, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1681179, "timestamp": 1557255059, "time_since_restore": 1021.5568430423737, "episodes_total": 790, "iterations_since_restore": 44, "episode_len_mean": 679.78, "time_total_s": 1021.5568430423737, "date": "2019-05-07_18-50-59", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1681179, "update_time_ms": 7.347, "num_steps_trained": 1681179, "default": {"kl": 0.02783866599202156, "cur_kl_coeff": 0.014062500558793545, "policy_loss": -0.0058023505844175816, "total_loss": 18.019779205322266, "entropy": 1.0748623609542847, "vf_explained_var": 0.8868126273155212, "vf_loss": 18.025192260742188, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13828.038, "grad_time_ms": 8324.639, "load_time_ms": 10.338}, "episodes_this_iter": 21, "time_this_iter_s": 22.364545822143555, "timesteps_total": 1681179, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435333c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533320>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35237, "training_iteration": 44, "policy_reward_mean": {}, "episode_reward_min": 40.18411688855339, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 481.62819655450596, "outflow_rate_min": 446.8118413934225, "outflow_rate_max": 1693.917554363284, "outflow_rate_mean": 1223.6972930025152, "cost1_mean": 323.28423674198405, "system_level_velocity_mean": 13.49253379228221, "system_level_velocity_max": 20.059658714486176, "cost2_min": -167.92430238594198, "cost1_min": 22.147339212957544, "cost2_max": -22.14358275018263, "cost2_mean": -136.07181786131966, "system_level_velocity_min": 10.53920604500586}, "episode_reward_max": 938.4119985676158, "episode_reward_mean": 692.5346675933948, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1717368, "timestamp": 1557255081, "time_since_restore": 1043.2770533561707, "episodes_total": 812, "iterations_since_restore": 45, "episode_len_mean": 673.09, "time_total_s": 1043.2770533561707, "date": "2019-05-07_18-51-21", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1717368, "update_time_ms": 7.316, "num_steps_trained": 1717368, "default": {"kl": 0.02647177129983902, "cur_kl_coeff": 0.02109375223517418, "policy_loss": -0.007211780641227961, "total_loss": 22.100133895874023, "entropy": 1.0647960901260376, "vf_explained_var": 0.8560073375701904, "vf_loss": 22.10678482055664, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13791.131, "grad_time_ms": 8317.679, "load_time_ms": 10.248}, "episodes_this_iter": 22, "time_this_iter_s": 21.720210313796997, "timesteps_total": 1717368, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec128>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36189, "training_iteration": 45, "policy_reward_mean": {}, "episode_reward_min": 40.59954318381087, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 491.10859253665495, "outflow_rate_min": 446.8118413934225, "outflow_rate_max": 1745.296617735206, "outflow_rate_mean": 1233.694854609849, "cost1_mean": 327.22599279162864, "system_level_velocity_mean": 13.664302451693363, "system_level_velocity_max": 20.059658714486176, "cost2_min": -167.92430238594198, "cost1_min": 22.147339212957544, "cost2_max": -22.14358275018263, "cost2_mean": -135.38692770215857, "system_level_velocity_min": 10.53920604500586}, "episode_reward_max": 1000.3613863327593, "episode_reward_mean": 692.1093660572375, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1752936, "timestamp": 1557255102, "time_since_restore": 1064.6393535137177, "episodes_total": 832, "iterations_since_restore": 46, "episode_len_mean": 673.09, "time_total_s": 1064.6393535137177, "date": "2019-05-07_18-51-42", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1752936, "update_time_ms": 7.21, "num_steps_trained": 1752936, "default": {"kl": 0.019468484446406364, "cur_kl_coeff": 0.03164061903953552, "policy_loss": -0.0052502877078950405, "total_loss": 20.278539657592773, "entropy": 1.0798817873001099, "vf_explained_var": 0.8661544322967529, "vf_loss": 20.283170700073242, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13698.205, "grad_time_ms": 8289.179, "load_time_ms": 10.75}, "episodes_this_iter": 20, "time_this_iter_s": 21.362300157546997, "timesteps_total": 1752936, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcb70>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35568, "training_iteration": 46, "policy_reward_mean": {}, "episode_reward_min": 40.59954318381087, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 491.10859253665495, "outflow_rate_min": 446.8118413934225, "outflow_rate_max": 1745.296617735206, "outflow_rate_mean": 1244.0072202453346, "cost1_mean": 332.9614493988543, "system_level_velocity_mean": 13.713267172455225, "system_level_velocity_max": 20.059658714486176, "cost2_min": -167.92430238594198, "cost1_min": 22.147339212957544, "cost2_max": -22.14358275018263, "cost2_mean": -135.40807522401855, "system_level_velocity_min": 10.338927640529906}, "episode_reward_max": 1000.3613863327593, "episode_reward_mean": 694.3325598915397, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1788587, "timestamp": 1557255124, "time_since_restore": 1086.7859559059143, "episodes_total": 852, "iterations_since_restore": 47, "episode_len_mean": 680.0, "time_total_s": 1086.7859559059143, "date": "2019-05-07_18-52-04", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1788587, "update_time_ms": 7.333, "num_steps_trained": 1788587, "default": {"kl": 0.023168668150901794, "cur_kl_coeff": 0.03164061903953552, "policy_loss": -0.005459518637508154, "total_loss": 21.117246627807617, "entropy": 1.0729724168777466, "vf_explained_var": 0.8428173661231995, "vf_loss": 21.121971130371094, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13731.407, "grad_time_ms": 8277.413, "load_time_ms": 10.707}, "episodes_this_iter": 20, "time_this_iter_s": 22.146602392196655, "timesteps_total": 1788587, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec3c8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35651, "training_iteration": 47, "policy_reward_mean": {}, "episode_reward_min": 40.59954318381087, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 491.10859253665495, "outflow_rate_min": 446.8118413934225, "outflow_rate_max": 1745.296617735206, "outflow_rate_mean": 1251.9754981669803, "cost1_mean": 335.42895657920945, "system_level_velocity_mean": 13.646348522111126, "system_level_velocity_max": 20.059658714486176, "cost2_min": -164.42623573309984, "cost1_min": 22.147339212957544, "cost2_max": -22.14358275018263, "cost2_mean": -135.85381106093197, "system_level_velocity_min": 10.338927640529906}, "episode_reward_max": 1000.3613863327593, "episode_reward_mean": 696.3461609096054, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1823354, "timestamp": 1557255146, "time_since_restore": 1108.3756830692291, "episodes_total": 872, "iterations_since_restore": 48, "episode_len_mean": 686.65, "time_total_s": 1108.3756830692291, "date": "2019-05-07_18-52-26", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1823354, "update_time_ms": 7.352, "num_steps_trained": 1823354, "default": {"kl": 0.017217617481946945, "cur_kl_coeff": 0.04746093600988388, "policy_loss": -0.003923529759049416, "total_loss": 21.888710021972656, "entropy": 1.0945416688919067, "vf_explained_var": 0.8347011208534241, "vf_loss": 21.891817092895508, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13709.417, "grad_time_ms": 8259.762, "load_time_ms": 10.654}, "episodes_this_iter": 20, "time_this_iter_s": 21.58972716331482, "timesteps_total": 1823354, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435333c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca390>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34767, "training_iteration": 48, "policy_reward_mean": {}, "episode_reward_min": 40.59954318381087, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 491.69333062257544, "outflow_rate_min": 442.21419545390603, "outflow_rate_max": 1745.296617735206, "outflow_rate_mean": 1253.835869572319, "cost1_mean": 333.1839590411361, "system_level_velocity_mean": 13.87123787137326, "system_level_velocity_max": 20.059658714486176, "cost2_min": -164.42623573309984, "cost1_min": 22.147339212957544, "cost2_max": -22.14358275018263, "cost2_mean": -135.78188384109612, "system_level_velocity_min": 10.145044512178847}, "episode_reward_max": 1000.3613863327593, "episode_reward_mean": 692.6153872422041, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1858109, "timestamp": 1557255167, "time_since_restore": 1129.3811707496643, "episodes_total": 892, "iterations_since_restore": 49, "episode_len_mean": 675.25, "time_total_s": 1129.3811707496643, "date": "2019-05-07_18-52-47", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1858109, "update_time_ms": 7.349, "num_steps_trained": 1858109, "default": {"kl": 0.01997988484799862, "cur_kl_coeff": 0.04746093600988388, "policy_loss": -0.005978308152407408, "total_loss": 21.06062889099121, "entropy": 1.0941201448440552, "vf_explained_var": 0.8611161708831787, "vf_loss": 21.065658569335938, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13625.975, "grad_time_ms": 8234.833, "load_time_ms": 10.253}, "episodes_this_iter": 20, "time_this_iter_s": 21.00548768043518, "timesteps_total": 1858109, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec160>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34755, "training_iteration": 49, "policy_reward_mean": {}, "episode_reward_min": 40.59954318381087, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 491.69333062257544, "outflow_rate_min": 442.21419545390603, "outflow_rate_max": 1745.296617735206, "outflow_rate_mean": 1241.0452976657841, "cost1_mean": 329.1650239680097, "system_level_velocity_mean": 13.88949558131858, "system_level_velocity_max": 20.059658714486176, "cost2_min": -164.42623573309984, "cost1_min": 22.147339212957544, "cost2_max": -22.14358275018263, "cost2_mean": -133.55238761230095, "system_level_velocity_min": 10.145044512178847}, "episode_reward_max": 1000.3613863327593, "episode_reward_mean": 682.3980269210489, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1893942, "timestamp": 1557255189, "time_since_restore": 1151.2024247646332, "episodes_total": 906, "iterations_since_restore": 50, "episode_len_mean": 669.28, "time_total_s": 1151.2024247646332, "date": "2019-05-07_18-53-09", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1893942, "update_time_ms": 7.355, "num_steps_trained": 1893942, "default": {"kl": 0.017548944801092148, "cur_kl_coeff": 0.04746094346046448, "policy_loss": -0.0059290979988873005, "total_loss": 13.380905151367188, "entropy": 1.0626498460769653, "vf_explained_var": 0.895791232585907, "vf_loss": 13.386001586914062, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13661.817, "grad_time_ms": 8204.169, "load_time_ms": 10.12}, "episodes_this_iter": 14, "time_this_iter_s": 21.821254014968872, "timesteps_total": 1893942, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533390>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35833, "training_iteration": 50, "policy_reward_mean": {}, "episode_reward_min": 40.59954318381087, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 494.3940734721523, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1778.2882029029793, "outflow_rate_mean": 1237.7914610561209, "cost1_mean": 326.1296390055562, "system_level_velocity_mean": 13.88921242090114, "system_level_velocity_max": 19.769003298195443, "cost2_min": -164.42623573309984, "cost1_min": 18.038743017254657, "cost2_max": -19.753507483142776, "cost2_mean": -133.13839832011146, "system_level_velocity_min": 10.145044512178847}, "episode_reward_max": 998.3227132608951, "episode_reward_mean": 667.9822858661811, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1930797, "timestamp": 1557255212, "time_since_restore": 1174.3528921604156, "episodes_total": 930, "iterations_since_restore": 51, "episode_len_mean": 663.78, "time_total_s": 1174.3528921604156, "date": "2019-05-07_18-53-32", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1930797, "update_time_ms": 7.232, "num_steps_trained": 1930797, "default": {"kl": 0.017765779048204422, "cur_kl_coeff": 0.04746093973517418, "policy_loss": -0.006428138352930546, "total_loss": 22.58492088317871, "entropy": 1.0842344760894775, "vf_explained_var": 0.8468379378318787, "vf_loss": 22.590505599975586, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13766.083, "grad_time_ms": 8193.409, "load_time_ms": 10.285}, "episodes_this_iter": 24, "time_this_iter_s": 23.15046739578247, "timesteps_total": 1930797, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435335f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daac8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36855, "training_iteration": 51, "policy_reward_mean": {}, "episode_reward_min": 33.332143560759086, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.00897429684113, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1778.2882029029793, "outflow_rate_mean": 1231.3641500179822, "cost1_mean": 322.18018097264553, "system_level_velocity_mean": 13.752185701331126, "system_level_velocity_max": 19.769003298195443, "cost2_min": -163.6423677897794, "cost1_min": 18.038743017254657, "cost2_max": -19.753507483142776, "cost2_mean": -131.8344556676062, "system_level_velocity_min": 10.145044512178847}, "episode_reward_max": 998.3227132608951, "episode_reward_mean": 669.8334508910166, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 1967531, "timestamp": 1557255234, "time_since_restore": 1196.2834842205048, "episodes_total": 950, "iterations_since_restore": 52, "episode_len_mean": 663.78, "time_total_s": 1196.2834842205048, "date": "2019-05-07_18-53-54", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 1967531, "update_time_ms": 7.343, "num_steps_trained": 1967531, "default": {"kl": 0.017766645178198814, "cur_kl_coeff": 0.04746094346046448, "policy_loss": -0.005829998292028904, "total_loss": 18.834489822387695, "entropy": 1.0905882120132446, "vf_explained_var": 0.8781607151031494, "vf_loss": 18.8394775390625, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13527.192, "grad_time_ms": 8234.859, "load_time_ms": 10.299}, "episodes_this_iter": 20, "time_this_iter_s": 21.93059206008911, "timesteps_total": 1967531, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ede80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed630>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36734, "training_iteration": 52, "policy_reward_mean": {}, "episode_reward_min": 33.332143560759086, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.00897429684113, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1778.2882029029793, "outflow_rate_mean": 1231.7463764825818, "cost1_mean": 321.28050998914773, "system_level_velocity_mean": 14.034857202615074, "system_level_velocity_max": 19.769003298195443, "cost2_min": -163.6423677897794, "cost1_min": 18.038743017254657, "cost2_max": -19.753507483142776, "cost2_mean": -130.1939625460776, "system_level_velocity_min": 10.145044512178847}, "episode_reward_max": 998.3227132608951, "episode_reward_mean": 666.8574134464084, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2004185, "timestamp": 1557255256, "time_since_restore": 1218.0868742465973, "episodes_total": 972, "iterations_since_restore": 53, "episode_len_mean": 651.7, "time_total_s": 1218.0868742465973, "date": "2019-05-07_18-54-16", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2004185, "update_time_ms": 7.292, "num_steps_trained": 2004185, "default": {"kl": 0.017710311338305473, "cur_kl_coeff": 0.04746094346046448, "policy_loss": -0.004494551569223404, "total_loss": 19.207191467285156, "entropy": 1.052291989326477, "vf_explained_var": 0.8827918171882629, "vf_loss": 19.210844039916992, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13521.301, "grad_time_ms": 8281.145, "load_time_ms": 9.921}, "episodes_this_iter": 22, "time_this_iter_s": 21.80339002609253, "timesteps_total": 2004185, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c70f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7048>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36654, "training_iteration": 53, "policy_reward_mean": {}, "episode_reward_min": 33.332143560759086, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.00897429684113, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1778.2882029029793, "outflow_rate_mean": 1227.8155819095698, "cost1_mean": 322.2656242259025, "system_level_velocity_mean": 13.926259571196276, "system_level_velocity_max": 19.691454004267793, "cost2_min": -163.16716413521283, "cost1_min": 18.038743017254657, "cost2_max": -19.753507483142776, "cost2_mean": -129.69422578170926, "system_level_velocity_min": 10.484822387606243}, "episode_reward_max": 992.1872143326757, "episode_reward_mean": 669.1673365378499, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2040335, "timestamp": 1557255279, "time_since_restore": 1241.092556476593, "episodes_total": 993, "iterations_since_restore": 54, "episode_len_mean": 656.65, "time_total_s": 1241.092556476593, "date": "2019-05-07_18-54-39", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2040335, "update_time_ms": 7.324, "num_steps_trained": 2040335, "default": {"kl": 0.016236694529652596, "cur_kl_coeff": 0.04746093973517418, "policy_loss": -0.004732120782136917, "total_loss": 21.370800018310547, "entropy": 1.042038083076477, "vf_explained_var": 0.8757644295692444, "vf_loss": 21.3747615814209, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13557.221, "grad_time_ms": 8308.943, "load_time_ms": 10.315}, "episodes_this_iter": 21, "time_this_iter_s": 23.005682229995728, "timesteps_total": 2040335, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec908>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36150, "training_iteration": 54, "policy_reward_mean": {}, "episode_reward_min": 33.332143560759086, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.00897429684113, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1778.2882029029793, "outflow_rate_mean": 1229.4976874222593, "cost1_mean": 322.8480083817627, "system_level_velocity_mean": 13.959440948649942, "system_level_velocity_max": 19.691454004267793, "cost2_min": -163.16716413521283, "cost1_min": 18.038743017254657, "cost2_max": -19.753507483142776, "cost2_mean": -129.39244794427438, "system_level_velocity_min": 10.484822387606243}, "episode_reward_max": 992.1872143326757, "episode_reward_mean": 670.0050802440604, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2076291, "timestamp": 1557255302, "time_since_restore": 1264.4532415866852, "episodes_total": 1015, "iterations_since_restore": 55, "episode_len_mean": 656.35, "time_total_s": 1264.4532415866852, "date": "2019-05-07_18-55-02", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2076291, "update_time_ms": 7.29, "num_steps_trained": 2076291, "default": {"kl": 0.0205544326454401, "cur_kl_coeff": 0.04746093973517418, "policy_loss": -0.006367520894855261, "total_loss": 21.216291427612305, "entropy": 1.0559394359588623, "vf_explained_var": 0.8731321692466736, "vf_loss": 21.2216854095459, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13673.708, "grad_time_ms": 8356.081, "load_time_ms": 10.355}, "episodes_this_iter": 22, "time_this_iter_s": 23.360685110092163, "timesteps_total": 2076291, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435335f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533550>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35956, "training_iteration": 55, "policy_reward_mean": {}, "episode_reward_min": 31.25799077521722, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 509.2422189336979, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1776.3567439384144, "outflow_rate_mean": 1240.0325145011461, "cost1_mean": 325.85759836392396, "system_level_velocity_mean": 14.098247069164042, "system_level_velocity_max": 19.760041891587896, "cost2_min": -167.44909675649572, "cost1_min": 18.28644464133805, "cost2_max": -20.10142396804932, "cost2_mean": -130.6913427026912, "system_level_velocity_min": 10.484822387606243}, "episode_reward_max": 992.1872143326757, "episode_reward_mean": 679.3643540461322, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2112536, "timestamp": 1557255325, "time_since_restore": 1287.2883610725403, "episodes_total": 1036, "iterations_since_restore": 56, "episode_len_mean": 655.99, "time_total_s": 1287.2883610725403, "date": "2019-05-07_18-55-25", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2112536, "update_time_ms": 7.483, "num_steps_trained": 2112536, "default": {"kl": 0.019023997709155083, "cur_kl_coeff": 0.07119140774011612, "policy_loss": -0.004720774479210377, "total_loss": 22.308273315429688, "entropy": 1.050400972366333, "vf_explained_var": 0.8631397485733032, "vf_loss": 22.311641693115234, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13791.775, "grad_time_ms": 8384.754, "load_time_ms": 10.268}, "episodes_this_iter": 21, "time_this_iter_s": 22.835119485855103, "timesteps_total": 2112536, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecf98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59435334a8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36245, "training_iteration": 56, "policy_reward_mean": {}, "episode_reward_min": 31.25799077521722, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 509.2422189336979, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1707.7674903096904, "outflow_rate_mean": 1246.3928088512514, "cost1_mean": 331.9636828594857, "system_level_velocity_mean": 14.18161489337351, "system_level_velocity_max": 19.760041891587896, "cost2_min": -168.90810548468534, "cost1_min": 18.28644464133805, "cost2_max": -20.10142396804932, "cost2_mean": -132.46780887468628, "system_level_velocity_min": 10.484822387606243}, "episode_reward_max": 947.2581516988596, "episode_reward_mean": 676.7203723317508, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2149192, "timestamp": 1557255348, "time_since_restore": 1309.9076495170593, "episodes_total": 1056, "iterations_since_restore": 57, "episode_len_mean": 661.56, "time_total_s": 1309.9076495170593, "date": "2019-05-07_18-55-48", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2149192, "update_time_ms": 7.456, "num_steps_trained": 2149192, "default": {"kl": 0.019838880747556686, "cur_kl_coeff": 0.07119140774011612, "policy_loss": -0.00692004757001996, "total_loss": 18.669105529785156, "entropy": 1.0361744165420532, "vf_explained_var": 0.87246173620224, "vf_loss": 18.674610137939453, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 13797.662, "grad_time_ms": 8426.01, "load_time_ms": 10.329}, "episodes_this_iter": 20, "time_this_iter_s": 22.619288444519043, "timesteps_total": 2149192, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c76d8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36656, "training_iteration": 57, "policy_reward_mean": {}, "episode_reward_min": 31.25799077521722, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 509.2422189336979, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1707.7674903096904, "outflow_rate_mean": 1238.1183653365965, "cost1_mean": 327.5436676694884, "system_level_velocity_mean": 14.140751251407682, "system_level_velocity_max": 19.991754615964577, "cost2_min": -168.90810548468534, "cost1_min": 18.28644464133805, "cost2_max": -20.10142396804932, "cost2_mean": -132.03065495225334, "system_level_velocity_min": 10.5228532570739}, "episode_reward_max": 947.2581516988596, "episode_reward_mean": 666.0689141859453, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2186445, "timestamp": 1557255374, "time_since_restore": 1335.759107351303, "episodes_total": 1079, "iterations_since_restore": 58, "episode_len_mean": 655.75, "time_total_s": 1335.759107351303, "date": "2019-05-07_18-56-14", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2186445, "update_time_ms": 7.391, "num_steps_trained": 2186445, "default": {"kl": 0.016251852735877037, "cur_kl_coeff": 0.07119141519069672, "policy_loss": -0.005660321097820997, "total_loss": 20.76584243774414, "entropy": 1.0438400506973267, "vf_explained_var": 0.8681183457374573, "vf_loss": 20.770347595214844, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14337.978, "grad_time_ms": 8311.812, "load_time_ms": 10.37}, "episodes_this_iter": 23, "time_this_iter_s": 25.851457834243774, "timesteps_total": 2186445, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecf98>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37253, "training_iteration": 58, "policy_reward_mean": {}, "episode_reward_min": 31.25799077521722, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 509.2422189336979, "outflow_rate_min": 434.8881083181304, "outflow_rate_max": 1691.3396527472528, "outflow_rate_mean": 1215.788739492088, "cost1_mean": 320.16764273957637, "system_level_velocity_mean": 13.878826198403726, "system_level_velocity_max": 19.991754615964577, "cost2_min": -168.90810548468534, "cost1_min": 18.28644464133805, "cost2_max": -20.10142396804932, "cost2_mean": -132.32564246344612, "system_level_velocity_min": 10.5228532570739}, "episode_reward_max": 908.9793912477996, "episode_reward_mean": 658.1286444500213, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2223181, "timestamp": 1557255405, "time_since_restore": 1367.133821964264, "episodes_total": 1099, "iterations_since_restore": 59, "episode_len_mean": 655.75, "time_total_s": 1367.133821964264, "date": "2019-05-07_18-56-45", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2223181, "update_time_ms": 7.342, "num_steps_trained": 2223181, "default": {"kl": 0.01815086416900158, "cur_kl_coeff": 0.07119140774011612, "policy_loss": -0.005194660276174545, "total_loss": 22.244770050048828, "entropy": 1.0172399282455444, "vf_explained_var": 0.863247811794281, "vf_loss": 22.248672485351562, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 14963.96, "grad_time_ms": 8720.039, "load_time_ms": 11.119}, "episodes_this_iter": 20, "time_this_iter_s": 31.374714612960815, "timesteps_total": 2223181, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c79e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36736, "training_iteration": 59, "policy_reward_mean": {}, "episode_reward_min": 31.25799077521722, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 509.2422189336979, "outflow_rate_min": 437.1293863021715, "outflow_rate_max": 1777.0803896103896, "outflow_rate_mean": 1254.1395785177444, "cost1_mean": 334.65915942405553, "system_level_velocity_mean": 14.09114762820668, "system_level_velocity_max": 19.991754615964577, "cost2_min": -168.90810548468534, "cost1_min": 26.274464573563385, "cost2_max": -24.390189843183855, "cost2_mean": -134.59569917582118, "system_level_velocity_min": 10.86686107594127}, "episode_reward_max": 908.9793912477996, "episode_reward_mean": 676.9390258511817, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2258787, "timestamp": 1557255435, "time_since_restore": 1397.3386273384094, "episodes_total": 1120, "iterations_since_restore": 60, "episode_len_mean": 669.07, "time_total_s": 1397.3386273384094, "date": "2019-05-07_18-57-15", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2258787, "update_time_ms": 7.382, "num_steps_trained": 2258787, "default": {"kl": 0.018629470840096474, "cur_kl_coeff": 0.07119140028953552, "policy_loss": -0.0058297403156757355, "total_loss": 23.678741455078125, "entropy": 1.0039631128311157, "vf_explained_var": 0.8507724404335022, "vf_loss": 23.683244705200195, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 15878.793, "grad_time_ms": 8641.699, "load_time_ms": 11.558}, "episodes_this_iter": 21, "time_this_iter_s": 30.204805374145508, "timesteps_total": 2258787, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec160>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35606, "training_iteration": 60, "policy_reward_mean": {}, "episode_reward_min": 43.520726642922455, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 497.33412493190065, "outflow_rate_min": 437.1293863021715, "outflow_rate_max": 1777.0803896103896, "outflow_rate_mean": 1251.3873748270935, "cost1_mean": 335.0971296715063, "system_level_velocity_mean": 13.77993341031678, "system_level_velocity_max": 19.991754615964577, "cost2_min": -168.90810548468534, "cost1_min": 26.274464573563385, "cost2_max": -24.390189843183855, "cost2_mean": -137.0854297425787, "system_level_velocity_min": 10.863375900489451}, "episode_reward_max": 901.2205018174817, "episode_reward_mean": 683.8401537515663, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2294338, "timestamp": 1557255464, "time_since_restore": 1426.1435375213623, "episodes_total": 1139, "iterations_since_restore": 61, "episode_len_mean": 681.23, "time_total_s": 1426.1435375213623, "date": "2019-05-07_18-57-44", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2294338, "update_time_ms": 7.704, "num_steps_trained": 2294338, "default": {"kl": 0.017919236794114113, "cur_kl_coeff": 0.07119140774011612, "policy_loss": -0.006596309598535299, "total_loss": 20.10718536376953, "entropy": 1.0083417892456055, "vf_explained_var": 0.8543319702148438, "vf_loss": 20.112506866455078, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16231.981, "grad_time_ms": 8852.592, "load_time_ms": 11.843}, "episodes_this_iter": 19, "time_this_iter_s": 28.80491018295288, "timesteps_total": 2294338, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eacf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ead30>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35551, "training_iteration": 61, "policy_reward_mean": {}, "episode_reward_min": 43.520726642922455, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 497.33412493190065, "outflow_rate_min": 453.81913402598826, "outflow_rate_max": 1777.0803896103896, "outflow_rate_mean": 1246.5400178611844, "cost1_mean": 328.2327134723706, "system_level_velocity_mean": 14.129809482071602, "system_level_velocity_max": 19.991754615964577, "cost2_min": -158.3209924193822, "cost1_min": 26.274464573563385, "cost2_max": -24.390189843183855, "cost2_mean": -134.5964187898955, "system_level_velocity_min": 10.863375900489451}, "episode_reward_max": 901.2205018174817, "episode_reward_mean": 669.5209140913657, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2329012, "timestamp": 1557255492, "time_since_restore": 1454.0354039669037, "episodes_total": 1163, "iterations_since_restore": 62, "episode_len_mean": 659.19, "time_total_s": 1454.0354039669037, "date": "2019-05-07_18-58-12", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2329012, "update_time_ms": 7.502, "num_steps_trained": 2329012, "default": {"kl": 0.014561627991497517, "cur_kl_coeff": 0.07119140774011612, "policy_loss": -0.003985331393778324, "total_loss": 29.329748153686523, "entropy": 0.986666738986969, "vf_explained_var": 0.8243747353553772, "vf_loss": 29.33269691467285, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 16659.047, "grad_time_ms": 9021.096, "load_time_ms": 12.015}, "episodes_this_iter": 24, "time_this_iter_s": 27.891866445541382, "timesteps_total": 2329012, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ecb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec470>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34674, "training_iteration": 62, "policy_reward_mean": {}, "episode_reward_min": 42.809686351657284, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 497.33412493190065, "outflow_rate_min": 453.81913402598826, "outflow_rate_max": 1777.0803896103896, "outflow_rate_mean": 1237.0448877402346, "cost1_mean": 325.89590975003523, "system_level_velocity_mean": 14.38947015299342, "system_level_velocity_max": 19.87469808959043, "cost2_min": -156.14221233281586, "cost1_min": 26.451878708262093, "cost2_max": -25.34649355230082, "cost2_mean": -132.93738085531905, "system_level_velocity_min": 10.293044785027451}, "episode_reward_max": 901.2205018174817, "episode_reward_mean": 654.7655804759555, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2364239, "timestamp": 1557255521, "time_since_restore": 1482.690687417984, "episodes_total": 1187, "iterations_since_restore": 63, "episode_len_mean": 647.04, "time_total_s": 1482.690687417984, "date": "2019-05-07_18-58-41", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2364239, "update_time_ms": 7.63, "num_steps_trained": 2364239, "default": {"kl": 0.02792365290224552, "cur_kl_coeff": 0.07119140774011612, "policy_loss": -0.004131052643060684, "total_loss": 28.010089874267578, "entropy": 0.9872328042984009, "vf_explained_var": 0.7857320308685303, "vf_loss": 28.01223373413086, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17110.76, "grad_time_ms": 9252.794, "load_time_ms": 12.922}, "episodes_this_iter": 24, "time_this_iter_s": 28.655283451080322, "timesteps_total": 2364239, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35227, "training_iteration": 63, "policy_reward_mean": {}, "episode_reward_min": 42.809686351657284, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 497.33412493190065, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1777.0803896103896, "outflow_rate_mean": 1221.8270388712326, "cost1_mean": 318.11851051237977, "system_level_velocity_mean": 14.299728176739102, "system_level_velocity_max": 19.87469808959043, "cost2_min": -156.14221233281586, "cost1_min": 18.803543608049036, "cost2_max": -20.331126906796346, "cost2_mean": -131.94270009196637, "system_level_velocity_min": 10.293044785027451}, "episode_reward_max": 901.2205018174817, "episode_reward_mean": 642.9543952490155, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2398861, "timestamp": 1557255550, "time_since_restore": 1511.7904448509216, "episodes_total": 1208, "iterations_since_restore": 64, "episode_len_mean": 638.76, "time_total_s": 1511.7904448509216, "date": "2019-05-07_18-59-10", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2398861, "update_time_ms": 7.582, "num_steps_trained": 2398861, "default": {"kl": 0.01637883670628071, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.006507623475044966, "total_loss": 25.021625518798828, "entropy": 0.9773613810539246, "vf_explained_var": 0.8191713690757751, "vf_loss": 25.026384353637695, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17421.313, "grad_time_ms": 9548.425, "load_time_ms": 13.112}, "episodes_this_iter": 21, "time_this_iter_s": 29.099757432937622, "timesteps_total": 2398861, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaf28>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34622, "training_iteration": 64, "policy_reward_mean": {}, "episode_reward_min": 34.79649638654672, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 494.6492950509411, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1631.4828823176822, "outflow_rate_mean": 1215.9297294852067, "cost1_mean": 314.8049418866502, "system_level_velocity_mean": 14.182961797233354, "system_level_velocity_max": 19.87469808959043, "cost2_min": -155.87281089444886, "cost1_min": 18.803543608049036, "cost2_max": -20.331126906796346, "cost2_mean": -131.99873129779456, "system_level_velocity_min": 10.293044785027451}, "episode_reward_max": 865.9620861445994, "episode_reward_mean": 638.5412002116723, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2433227, "timestamp": 1557255578, "time_since_restore": 1539.8780076503754, "episodes_total": 1225, "iterations_since_restore": 65, "episode_len_mean": 638.51, "time_total_s": 1539.8780076503754, "date": "2019-05-07_18-59-38", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2433227, "update_time_ms": 7.6, "num_steps_trained": 2433227, "default": {"kl": 0.015468309633433819, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.006122322753071785, "total_loss": 19.150611877441406, "entropy": 0.983060896396637, "vf_explained_var": 0.8513404726982117, "vf_loss": 19.15508270263672, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17542.762, "grad_time_ms": 9898.16, "load_time_ms": 13.388}, "episodes_this_iter": 17, "time_this_iter_s": 28.087562799453735, "timesteps_total": 2433227, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d27b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea588>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34366, "training_iteration": 65, "policy_reward_mean": {}, "episode_reward_min": 34.79649638654672, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.8531260373759, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1631.4828823176822, "outflow_rate_mean": 1224.266153355025, "cost1_mean": 318.4374583426117, "system_level_velocity_mean": 14.19091493031679, "system_level_velocity_max": 19.77806131090826, "cost2_min": -155.87281089444886, "cost1_min": 18.803543608049036, "cost2_max": -20.02537291578292, "cost2_mean": -131.69910715040243, "system_level_velocity_min": 10.293044785027451}, "episode_reward_max": 879.8005168508796, "episode_reward_mean": 642.0488083866262, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2468322, "timestamp": 1557255607, "time_since_restore": 1569.0960903167725, "episodes_total": 1246, "iterations_since_restore": 66, "episode_len_mean": 641.95, "time_total_s": 1569.0960903167725, "date": "2019-05-07_19-00-07", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2468322, "update_time_ms": 7.541, "num_steps_trained": 2468322, "default": {"kl": 0.01689455285668373, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.005612984299659729, "total_loss": 23.663681030273438, "entropy": 0.9732409715652466, "vf_explained_var": 0.8360690474510193, "vf_loss": 23.667491912841797, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17783.827, "grad_time_ms": 10294.41, "load_time_ms": 13.601}, "episodes_this_iter": 21, "time_this_iter_s": 29.218082666397095, "timesteps_total": 2468322, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c70f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc5f8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35095, "training_iteration": 66, "policy_reward_mean": {}, "episode_reward_min": 34.79649638654672, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.8531260373759, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1728.384727872128, "outflow_rate_mean": 1243.368751361865, "cost1_mean": 326.23852999534404, "system_level_velocity_mean": 14.03277528062676, "system_level_velocity_max": 19.752719120857897, "cost2_min": -155.87281089444886, "cost1_min": 18.803543608049036, "cost2_max": -20.02537291578292, "cost2_mean": -133.90001733593093, "system_level_velocity_min": 10.293044785027451}, "episode_reward_max": 879.8005168508796, "episode_reward_mean": 658.9954541665918, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2503963, "timestamp": 1557255637, "time_since_restore": 1598.6174874305725, "episodes_total": 1267, "iterations_since_restore": 67, "episode_len_mean": 657.51, "time_total_s": 1598.6174874305725, "date": "2019-05-07_19-00-37", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2503963, "update_time_ms": 7.734, "num_steps_trained": 2503963, "default": {"kl": 0.017966212704777718, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.006829291116446257, "total_loss": 23.829002380371094, "entropy": 0.985402524471283, "vf_explained_var": 0.8377591371536255, "vf_loss": 23.833913803100586, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18141.846, "grad_time_ms": 10625.271, "load_time_ms": 13.717}, "episodes_this_iter": 21, "time_this_iter_s": 29.52139711380005, "timesteps_total": 2503963, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea160>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35641, "training_iteration": 67, "policy_reward_mean": {}, "episode_reward_min": 34.79649638654672, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.8531260373759, "outflow_rate_min": 433.9557894378445, "outflow_rate_max": 1728.384727872128, "outflow_rate_mean": 1237.1659893433264, "cost1_mean": 324.96236440301686, "system_level_velocity_mean": 14.002468919697735, "system_level_velocity_max": 19.752719120857897, "cost2_min": -155.87281089444886, "cost1_min": 18.803543608049036, "cost2_max": -20.02537291578292, "cost2_mean": -133.26596328156538, "system_level_velocity_min": 11.036477232525124}, "episode_reward_max": 879.8005168508796, "episode_reward_mean": 656.106404749082, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2538880, "timestamp": 1557255666, "time_since_restore": 1627.4967465400696, "episodes_total": 1289, "iterations_since_restore": 68, "episode_len_mean": 656.9, "time_total_s": 1627.4967465400696, "date": "2019-05-07_19-01-06", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2538880, "update_time_ms": 7.964, "num_steps_trained": 2538880, "default": {"kl": 0.017277881503105164, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.005080650094896555, "total_loss": 25.83249282836914, "entropy": 0.9827625155448914, "vf_explained_var": 0.835742175579071, "vf_loss": 25.835725784301758, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18070.587, "grad_time_ms": 10996.535, "load_time_ms": 14.228}, "episodes_this_iter": 22, "time_this_iter_s": 28.87925910949707, "timesteps_total": 2538880, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eae80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da908>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34917, "training_iteration": 68, "policy_reward_mean": {}, "episode_reward_min": 34.79649638654672, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.8531260373759, "outflow_rate_min": 433.9557894378445, "outflow_rate_max": 1728.384727872128, "outflow_rate_mean": 1238.9553666392205, "cost1_mean": 323.8224281744841, "system_level_velocity_mean": 13.902390283347247, "system_level_velocity_max": 19.636445515351824, "cost2_min": -155.87281089444886, "cost1_min": 18.954041295734385, "cost2_max": -20.02537291578292, "cost2_mean": -133.6806393567408, "system_level_velocity_min": 10.990705900552603}, "episode_reward_max": 879.8005168508796, "episode_reward_mean": 656.0981671586507, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2574372, "timestamp": 1557255694, "time_since_restore": 1655.7696146965027, "episodes_total": 1307, "iterations_since_restore": 69, "episode_len_mean": 658.85, "time_total_s": 1655.7696146965027, "date": "2019-05-07_19-01-34", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2574372, "update_time_ms": 8.035, "num_steps_trained": 2574372, "default": {"kl": 0.01439424604177475, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.0052842446602880955, "total_loss": 19.074289321899414, "entropy": 0.9779034852981567, "vf_explained_var": 0.8710575103759766, "vf_loss": 19.078035354614258, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17924.347, "grad_time_ms": 10833.554, "load_time_ms": 14.023}, "episodes_this_iter": 18, "time_this_iter_s": 28.272868156433105, "timesteps_total": 2574372, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea518>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35492, "training_iteration": 69, "policy_reward_mean": {}, "episode_reward_min": 35.1588990848167, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.8531260373759, "outflow_rate_min": 433.9557894378445, "outflow_rate_max": 1728.384727872128, "outflow_rate_mean": 1217.1384301201283, "cost1_mean": 317.3505674358148, "system_level_velocity_mean": 14.039216645694294, "system_level_velocity_max": 19.636445515351824, "cost2_min": -154.36730642559104, "cost1_min": 18.954041295734385, "cost2_max": -20.02537291578292, "cost2_mean": -131.01260806983, "system_level_velocity_min": 10.990705900552603}, "episode_reward_max": 911.6814175876599, "episode_reward_mean": 642.1334102706378, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2610015, "timestamp": 1557255722, "time_since_restore": 1683.5100116729736, "episodes_total": 1327, "iterations_since_restore": 70, "episode_len_mean": 643.35, "time_total_s": 1683.5100116729736, "date": "2019-05-07_19-02-02", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2610015, "update_time_ms": 8.093, "num_steps_trained": 2610015, "default": {"kl": 0.01857036165893078, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.006316887214779854, "total_loss": 22.639328002929688, "entropy": 0.996030867099762, "vf_explained_var": 0.837475597858429, "vf_loss": 22.643661499023438, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17393.951, "grad_time_ms": 11114.262, "load_time_ms": 14.269}, "episodes_this_iter": 20, "time_this_iter_s": 27.740396976470947, "timesteps_total": 2610015, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca6d8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35643, "training_iteration": 70, "policy_reward_mean": {}, "episode_reward_min": 35.1588990848167, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 481.53315806289004, "outflow_rate_min": 433.9557894378445, "outflow_rate_max": 1728.384727872128, "outflow_rate_mean": 1221.929496944007, "cost1_mean": 318.80137522703166, "system_level_velocity_mean": 14.037533271935736, "system_level_velocity_max": 19.63798204796715, "cost2_min": -165.53617655135662, "cost1_min": 23.315321908266142, "cost2_max": -23.172304531235607, "cost2_mean": -132.42776263339363, "system_level_velocity_min": 10.990705900552603}, "episode_reward_max": 911.6814175876599, "episode_reward_mean": 649.2031474322013, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2645513, "timestamp": 1557255749, "time_since_restore": 1710.9400563240051, "episodes_total": 1349, "iterations_since_restore": 71, "episode_len_mean": 647.14, "time_total_s": 1710.9400563240051, "date": "2019-05-07_19-02-29", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2645513, "update_time_ms": 7.995, "num_steps_trained": 2645513, "default": {"kl": 0.014191252179443836, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.005404957570135593, "total_loss": 23.082460403442383, "entropy": 1.019533634185791, "vf_explained_var": 0.8475752472877502, "vf_loss": 23.086349487304688, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17336.545, "grad_time_ms": 11033.927, "load_time_ms": 14.133}, "episodes_this_iter": 22, "time_this_iter_s": 27.430044651031494, "timesteps_total": 2645513, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea320>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35498, "training_iteration": 71, "policy_reward_mean": {}, "episode_reward_min": 43.15958329056043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 469.95945822378906, "outflow_rate_min": 433.9557894378445, "outflow_rate_max": 1662.027495904096, "outflow_rate_mean": 1216.2047618329948, "cost1_mean": 319.43459618704736, "system_level_velocity_mean": 13.928622773219168, "system_level_velocity_max": 19.63798204796715, "cost2_min": -165.53617655135662, "cost1_min": 23.315321908266142, "cost2_max": -23.172304531235607, "cost2_mean": -132.94681721999547, "system_level_velocity_min": 10.990705900552603}, "episode_reward_max": 911.6814175876599, "episode_reward_mean": 652.8605242517266, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2681395, "timestamp": 1557255776, "time_since_restore": 1737.5266127586365, "episodes_total": 1367, "iterations_since_restore": 72, "episode_len_mean": 651.97, "time_total_s": 1737.5266127586365, "date": "2019-05-07_19-02-56", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2681395, "update_time_ms": 8.2, "num_steps_trained": 2681395, "default": {"kl": 0.017329232767224312, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.005849848967045546, "total_loss": 20.32932472229004, "entropy": 1.0201021432876587, "vf_explained_var": 0.860443115234375, "vf_loss": 20.333324432373047, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17343.423, "grad_time_ms": 10896.042, "load_time_ms": 14.033}, "episodes_this_iter": 18, "time_this_iter_s": 26.586556434631348, "timesteps_total": 2681395, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eae80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea6d8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35882, "training_iteration": 72, "policy_reward_mean": {}, "episode_reward_min": 43.15958329056043, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 473.513564172803, "outflow_rate_min": 461.69176729716725, "outflow_rate_max": 1686.4022773226775, "outflow_rate_mean": 1240.4276380577066, "cost1_mean": 330.4727164484086, "system_level_velocity_mean": 13.845283708832582, "system_level_velocity_max": 19.63798204796715, "cost2_min": -165.53617655135662, "cost1_min": 26.91769538173601, "cost2_max": -23.172304531235607, "cost2_mean": -135.18871605248313, "system_level_velocity_min": 10.990705900552603}, "episode_reward_max": 911.6814175876599, "episode_reward_mean": 674.1319157273263, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2716719, "timestamp": 1557255803, "time_since_restore": 1765.1858131885529, "episodes_total": 1385, "iterations_since_restore": 73, "episode_len_mean": 670.54, "time_total_s": 1765.1858131885529, "date": "2019-05-07_19-03-23", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2716719, "update_time_ms": 8.18, "num_steps_trained": 2716719, "default": {"kl": 0.01515138242393732, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.005086320452392101, "total_loss": 18.65680503845215, "entropy": 1.029757022857666, "vf_explained_var": 0.8641867637634277, "vf_loss": 18.6602725982666, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17421.588, "grad_time_ms": 10717.012, "load_time_ms": 13.79}, "episodes_this_iter": 18, "time_this_iter_s": 27.659200429916382, "timesteps_total": 2716719, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eaf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea978>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35324, "training_iteration": 73, "policy_reward_mean": {}, "episode_reward_min": 43.53305871513778, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.9432791495325, "outflow_rate_min": 461.69176729716725, "outflow_rate_max": 1686.4022773226775, "outflow_rate_mean": 1244.8526118497057, "cost1_mean": 332.63660106734574, "system_level_velocity_mean": 13.934957425539228, "system_level_velocity_max": 19.67913348127821, "cost2_min": -165.53617655135662, "cost1_min": 26.91769538173601, "cost2_max": -23.172304531235607, "cost2_mean": -135.16904016832962, "system_level_velocity_min": 10.801651555093255}, "episode_reward_max": 911.6814175876599, "episode_reward_mean": 679.0181959735669, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2753391, "timestamp": 1557255832, "time_since_restore": 1793.3293228149414, "episodes_total": 1405, "iterations_since_restore": 74, "episode_len_mean": 670.56, "time_total_s": 1793.3293228149414, "date": "2019-05-07_19-03-52", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2753391, "update_time_ms": 8.335, "num_steps_trained": 2753391, "default": {"kl": 0.015329917892813683, "cur_kl_coeff": 0.10678708553314209, "policy_loss": -0.00518321618437767, "total_loss": 22.517595291137695, "entropy": 1.026775598526001, "vf_explained_var": 0.8572668433189392, "vf_loss": 22.52113914489746, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17505.694, "grad_time_ms": 10538.685, "load_time_ms": 13.855}, "episodes_this_iter": 20, "time_this_iter_s": 28.14350962638855, "timesteps_total": 2753391, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eae80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea6d8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36672, "training_iteration": 74, "policy_reward_mean": {}, "episode_reward_min": 43.53305871513778, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.9432791495325, "outflow_rate_min": 429.9345155177994, "outflow_rate_max": 1686.4022773226775, "outflow_rate_mean": 1239.4814421690044, "cost1_mean": 331.6856472396633, "system_level_velocity_mean": 13.818770131122456, "system_level_velocity_max": 19.67913348127821, "cost2_min": -165.53617655135662, "cost1_min": 26.91769538173601, "cost2_max": -23.172304531235607, "cost2_mean": -135.84970722186802, "system_level_velocity_min": 10.801651555093255}, "episode_reward_max": 894.1516114833177, "episode_reward_mean": 677.6301812751391, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2790085, "timestamp": 1557255860, "time_since_restore": 1821.9140238761902, "episodes_total": 1426, "iterations_since_restore": 75, "episode_len_mean": 674.94, "time_total_s": 1821.9140238761902, "date": "2019-05-07_19-04-20", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2790085, "update_time_ms": 8.459, "num_steps_trained": 2790085, "default": {"kl": 0.01686352863907814, "cur_kl_coeff": 0.10678708553314209, "policy_loss": -0.007005157880485058, "total_loss": 22.429975509643555, "entropy": 1.0179436206817627, "vf_explained_var": 0.8466999530792236, "vf_loss": 22.4351806640625, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17811.895, "grad_time_ms": 10279.991, "load_time_ms": 13.507}, "episodes_this_iter": 21, "time_this_iter_s": 28.58470106124878, "timesteps_total": 2790085, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ea518>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36694, "training_iteration": 75, "policy_reward_mean": {}, "episode_reward_min": 43.53305871513778, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.9432791495325, "outflow_rate_min": 429.9345155177994, "outflow_rate_max": 1686.4022773226775, "outflow_rate_mean": 1243.0519001061446, "cost1_mean": 332.063043597758, "system_level_velocity_mean": 14.071245719765873, "system_level_velocity_max": 19.92892646420329, "cost2_min": -154.14530615090985, "cost1_min": 25.66421243274389, "cost2_max": -23.54897692330582, "cost2_mean": -134.198344865451, "system_level_velocity_min": 10.801651555093255}, "episode_reward_max": 894.1516114833177, "episode_reward_mean": 669.3296605594874, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2826864, "timestamp": 1557255889, "time_since_restore": 1850.5541982650757, "episodes_total": 1450, "iterations_since_restore": 76, "episode_len_mean": 665.77, "time_total_s": 1850.5541982650757, "date": "2019-05-07_19-04-49", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2826864, "update_time_ms": 8.474, "num_steps_trained": 2826864, "default": {"kl": 0.017071163281798363, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.006591539364308119, "total_loss": 27.52045440673828, "entropy": 1.0183008909225464, "vf_explained_var": 0.829247772693634, "vf_loss": 27.525224685668945, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18061.264, "grad_time_ms": 9972.268, "load_time_ms": 13.617}, "episodes_this_iter": 24, "time_this_iter_s": 28.640174388885498, "timesteps_total": 2826864, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36779, "training_iteration": 76, "policy_reward_mean": {}, "episode_reward_min": 42.28881425233167, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.9432791495325, "outflow_rate_min": 429.9345155177994, "outflow_rate_max": 1686.4022773226775, "outflow_rate_mean": 1236.1280378523984, "cost1_mean": 329.85249984252886, "system_level_velocity_mean": 13.976034517523843, "system_level_velocity_max": 19.92892646420329, "cost2_min": -161.0570613640528, "cost1_min": 25.66421243274389, "cost2_max": -23.54897692330582, "cost2_mean": -134.14435787656296, "system_level_velocity_min": 10.801651555093255}, "episode_reward_max": 894.1516114833177, "episode_reward_mean": 670.0074581680014, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2862245, "timestamp": 1557255915, "time_since_restore": 1876.9894473552704, "episodes_total": 1468, "iterations_since_restore": 77, "episode_len_mean": 666.54, "time_total_s": 1876.9894473552704, "date": "2019-05-07_19-05-15", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2862245, "update_time_ms": 8.377, "num_steps_trained": 2862245, "default": {"kl": 0.013842086307704449, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.0048391008749604225, "total_loss": 17.62485122680664, "entropy": 1.0188544988632202, "vf_explained_var": 0.8797250390052795, "vf_loss": 17.628210067749023, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18084.626, "grad_time_ms": 9641.711, "load_time_ms": 13.526}, "episodes_this_iter": 18, "time_this_iter_s": 26.435249090194702, "timesteps_total": 2862245, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ec9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ece80>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35381, "training_iteration": 77, "policy_reward_mean": {}, "episode_reward_min": 42.28881425233167, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 505.9432791495325, "outflow_rate_min": 429.9345155177994, "outflow_rate_max": 1643.244883387201, "outflow_rate_mean": 1237.617550885147, "cost1_mean": 331.0909220679789, "system_level_velocity_mean": 14.179312147224179, "system_level_velocity_max": 19.92892646420329, "cost2_min": -161.0570613640528, "cost1_min": 25.66421243274389, "cost2_max": -23.54897692330582, "cost2_mean": -133.79590698517114, "system_level_velocity_min": 10.885513229219267}, "episode_reward_max": 894.1516114833177, "episode_reward_mean": 664.795699388101, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2897241, "timestamp": 1557255943, "time_since_restore": 1904.6237711906433, "episodes_total": 1490, "iterations_since_restore": 78, "episode_len_mean": 660.86, "time_total_s": 1904.6237711906433, "date": "2019-05-07_19-05-43", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2897241, "update_time_ms": 8.174, "num_steps_trained": 2897241, "default": {"kl": 0.015868937596678734, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.005780335050076246, "total_loss": 23.218639373779297, "entropy": 1.0110630989074707, "vf_explained_var": 0.8513954877853394, "vf_loss": 23.22272491455078, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18185.337, "grad_time_ms": 9418.521, "load_time_ms": 12.985}, "episodes_this_iter": 22, "time_this_iter_s": 27.634323835372925, "timesteps_total": 2897241, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed390>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 34996, "training_iteration": 78, "policy_reward_mean": {}, "episode_reward_min": 42.28881425233167, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 489.40475709231055, "outflow_rate_min": 404.9109187750211, "outflow_rate_max": 1688.1993539166715, "outflow_rate_mean": 1228.8585571693914, "cost1_mean": 327.25940430498827, "system_level_velocity_mean": 14.193970098588204, "system_level_velocity_max": 19.92892646420329, "cost2_min": -161.0570613640528, "cost1_min": 18.330866035546588, "cost2_max": -19.96031584164505, "cost2_mean": -132.5492519543836, "system_level_velocity_min": 10.453008279550543}, "episode_reward_max": 925.719618732148, "episode_reward_mean": 659.0017959759792, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2933023, "timestamp": 1557255970, "time_since_restore": 1931.2867999076843, "episodes_total": 1511, "iterations_since_restore": 79, "episode_len_mean": 654.52, "time_total_s": 1931.2867999076843, "date": "2019-05-07_19-06-10", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2933023, "update_time_ms": 8.267, "num_steps_trained": 2933023, "default": {"kl": 0.01669926382601261, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.006661048159003258, "total_loss": 26.22245979309082, "entropy": 0.9971031546592712, "vf_explained_var": 0.8346265554428101, "vf_loss": 26.227336883544922, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18172.092, "grad_time_ms": 9270.762, "load_time_ms": 12.877}, "episodes_this_iter": 21, "time_this_iter_s": 26.663028717041016, "timesteps_total": 2933023, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bc9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434bcb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cacc0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35782, "training_iteration": 79, "policy_reward_mean": {}, "episode_reward_min": 33.80184553580931, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 489.40475709231055, "outflow_rate_min": 404.9109187750211, "outflow_rate_max": 1688.1993539166715, "outflow_rate_mean": 1254.9707208777515, "cost1_mean": 335.6938915248557, "system_level_velocity_mean": 14.349109114534032, "system_level_velocity_max": 19.61533123200283, "cost2_min": -161.0570613640528, "cost1_min": 18.330866035546588, "cost2_max": -19.96031584164505, "cost2_mean": -134.23021666442963, "system_level_velocity_min": 10.453008279550543}, "episode_reward_max": 925.719618732148, "episode_reward_mean": 672.083324371295, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 2968462, "timestamp": 1557255997, "time_since_restore": 1958.9228692054749, "episodes_total": 1529, "iterations_since_restore": 80, "episode_len_mean": 660.25, "time_total_s": 1958.9228692054749, "date": "2019-05-07_19-06-37", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 2968462, "update_time_ms": 8.269, "num_steps_trained": 2968462, "default": {"kl": 0.01675025001168251, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.006466166581958532, "total_loss": 19.430612564086914, "entropy": 0.9883803129196167, "vf_explained_var": 0.870485782623291, "vf_loss": 19.435291290283203, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18279.795, "grad_time_ms": 9155.122, "load_time_ms": 12.45}, "episodes_this_iter": 18, "time_this_iter_s": 27.636069297790527, "timesteps_total": 2968462, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda58>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35439, "training_iteration": 80, "policy_reward_mean": {}, "episode_reward_min": 33.80184553580931, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 481.7367260963355, "outflow_rate_min": 404.9109187750211, "outflow_rate_max": 1688.1993539166715, "outflow_rate_mean": 1247.553995812425, "cost1_mean": 334.20212745779594, "system_level_velocity_mean": 14.052023059241083, "system_level_velocity_max": 19.534441823557138, "cost2_min": -161.0570613640528, "cost1_min": 18.330866035546588, "cost2_max": -19.96031584164505, "cost2_mean": -135.56797803515295, "system_level_velocity_min": 10.453008279550543}, "episode_reward_max": 925.719618732148, "episode_reward_mean": 679.0194029827449, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3004247, "timestamp": 1557256025, "time_since_restore": 1986.2298154830933, "episodes_total": 1550, "iterations_since_restore": 81, "episode_len_mean": 670.32, "time_total_s": 1986.2298154830933, "date": "2019-05-07_19-07-05", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3004247, "update_time_ms": 8.453, "num_steps_trained": 3004247, "default": {"kl": 0.016978388652205467, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.006108628585934639, "total_loss": 24.43132781982422, "entropy": 0.9781752228736877, "vf_explained_var": 0.8338041305541992, "vf_loss": 24.435623168945312, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18367.595, "grad_time_ms": 9054.049, "load_time_ms": 12.235}, "episodes_this_iter": 21, "time_this_iter_s": 27.306946277618408, "timesteps_total": 3004247, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c7b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c74e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434c79e8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35785, "training_iteration": 81, "policy_reward_mean": {}, "episode_reward_min": 33.80184553580931, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 481.7367260963355, "outflow_rate_min": 404.9109187750211, "outflow_rate_max": 1688.1993539166715, "outflow_rate_mean": 1248.3853918683692, "cost1_mean": 332.6491994013076, "system_level_velocity_mean": 14.014650656197205, "system_level_velocity_max": 19.534441823557138, "cost2_min": -158.5120392964322, "cost1_min": 18.330866035546588, "cost2_max": -19.96031584164505, "cost2_mean": -135.3173143640902, "system_level_velocity_min": 10.453008279550543}, "episode_reward_max": 925.719618732148, "episode_reward_mean": 677.8272215926488, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3039850, "timestamp": 1557256052, "time_since_restore": 2013.2775695323944, "episodes_total": 1570, "iterations_since_restore": 82, "episode_len_mean": 670.32, "time_total_s": 2013.2775695323944, "date": "2019-05-07_19-07-32", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3039850, "update_time_ms": 8.25, "num_steps_trained": 3039850, "default": {"kl": 0.014766533859074116, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.004900856874883175, "total_loss": 23.188037872314453, "entropy": 0.9797003269195557, "vf_explained_var": 0.853545069694519, "vf_loss": 23.191362380981445, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18375.196, "grad_time_ms": 9093.209, "load_time_ms": 12.238}, "episodes_this_iter": 20, "time_this_iter_s": 27.047754049301147, "timesteps_total": 3039850, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35603, "training_iteration": 82, "policy_reward_mean": {}, "episode_reward_min": 33.80184553580931, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 481.7367260963355, "outflow_rate_min": 404.9109187750211, "outflow_rate_max": 1688.1993539166715, "outflow_rate_mean": 1236.9745676867437, "cost1_mean": 328.3666277390515, "system_level_velocity_mean": 14.028213659980045, "system_level_velocity_max": 19.764075190855742, "cost2_min": -156.73035648815778, "cost1_min": 18.330866035546588, "cost2_max": -19.96031584164505, "cost2_mean": -134.75958138040392, "system_level_velocity_min": 10.453008279550543}, "episode_reward_max": 925.719618732148, "episode_reward_mean": 665.704855633307, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3075568, "timestamp": 1557256079, "time_since_restore": 2040.832299232483, "episodes_total": 1593, "iterations_since_restore": 83, "episode_len_mean": 663.92, "time_total_s": 2040.832299232483, "date": "2019-05-07_19-07-59", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3075568, "update_time_ms": 8.378, "num_steps_trained": 3075568, "default": {"kl": 0.01657850481569767, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.0060699936002492905, "total_loss": 25.090740203857422, "entropy": 1.0054998397827148, "vf_explained_var": 0.8340966105461121, "vf_loss": 25.09503936767578, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18294.27, "grad_time_ms": 9163.565, "load_time_ms": 12.277}, "episodes_this_iter": 23, "time_this_iter_s": 27.5547297000885, "timesteps_total": 3075568, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eae80>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35718, "training_iteration": 83, "policy_reward_mean": {}, "episode_reward_min": 33.80184553580931, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 494.1975951611755, "outflow_rate_min": 441.79929748631736, "outflow_rate_max": 1709.2973963448317, "outflow_rate_mean": 1248.5303922792148, "cost1_mean": 332.6430478214323, "system_level_velocity_mean": 14.072542383185839, "system_level_velocity_max": 19.764075190855742, "cost2_min": -156.95092636299682, "cost1_min": 20.203470567638735, "cost2_max": -20.974134906643688, "cost2_mean": -135.79380116725125, "system_level_velocity_min": 10.19846827931729}, "episode_reward_max": 908.1554778642417, "episode_reward_mean": 677.4257117768346, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3110815, "timestamp": 1557256107, "time_since_restore": 2068.1197805404663, "episodes_total": 1612, "iterations_since_restore": 84, "episode_len_mean": 669.08, "time_total_s": 2068.1197805404663, "date": "2019-05-07_19-08-27", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3110815, "update_time_ms": 8.481, "num_steps_trained": 3110815, "default": {"kl": 0.015684252604842186, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.004594026133418083, "total_loss": 22.59586524963379, "entropy": 0.9978486895561218, "vf_explained_var": 0.8547603487968445, "vf_loss": 22.59878158569336, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18228.482, "grad_time_ms": 9144.648, "load_time_ms": 11.999}, "episodes_this_iter": 19, "time_this_iter_s": 27.2874813079834, "timesteps_total": 3110815, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ede48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda58>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35247, "training_iteration": 84, "policy_reward_mean": {}, "episode_reward_min": 37.56898367333606, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 494.1975951611755, "outflow_rate_min": 449.0313081385432, "outflow_rate_max": 1709.2973963448317, "outflow_rate_mean": 1235.256802201454, "cost1_mean": 328.55033728608237, "system_level_velocity_mean": 13.777076357798002, "system_level_velocity_max": 19.764075190855742, "cost2_min": -156.95092636299682, "cost1_min": 24.458143297645005, "cost2_max": -24.613135601211354, "cost2_mean": -135.8383890762821, "system_level_velocity_min": 10.19846827931729}, "episode_reward_max": 908.1554778642417, "episode_reward_mean": 673.6338962398029, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3146223, "timestamp": 1557256133, "time_since_restore": 2094.594853401184, "episodes_total": 1631, "iterations_since_restore": 85, "episode_len_mean": 674.56, "time_total_s": 2094.594853401184, "date": "2019-05-07_19-08-53", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3146223, "update_time_ms": 8.538, "num_steps_trained": 3146223, "default": {"kl": 0.01528302114456892, "cur_kl_coeff": 0.10678710043430328, "policy_loss": -0.006776051130145788, "total_loss": 21.882129669189453, "entropy": 1.0070546865463257, "vf_explained_var": 0.8436657786369324, "vf_loss": 21.88727569580078, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18062.805, "grad_time_ms": 9102.536, "load_time_ms": 12.184}, "episodes_this_iter": 19, "time_this_iter_s": 26.475072860717773, "timesteps_total": 3146223, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cabe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434cab70>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35408, "training_iteration": 85, "policy_reward_mean": {}, "episode_reward_min": 40.630429711084986, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 494.1975951611755, "outflow_rate_min": 449.0313081385432, "outflow_rate_max": 1709.2973963448317, "outflow_rate_mean": 1228.314030991124, "cost1_mean": 327.7284541078853, "system_level_velocity_mean": 13.752950458601395, "system_level_velocity_max": 19.764075190855742, "cost2_min": -156.95092636299682, "cost1_min": 24.458143297645005, "cost2_max": -24.613135601211354, "cost2_mean": -135.06538026333067, "system_level_velocity_min": 10.19846827931729}, "episode_reward_max": 908.1554778642417, "episode_reward_mean": 672.1216377987145, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3181692, "timestamp": 1557256160, "time_since_restore": 2121.568486213684, "episodes_total": 1649, "iterations_since_restore": 86, "episode_len_mean": 673.54, "time_total_s": 2121.568486213684, "date": "2019-05-07_19-09-20", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3181692, "update_time_ms": 8.602, "num_steps_trained": 3181692, "default": {"kl": 0.015559476800262928, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.0056955572217702866, "total_loss": 17.599809646606445, "entropy": 0.9865900874137878, "vf_explained_var": 0.8641670942306519, "vf_loss": 17.603843688964844, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17882.375, "grad_time_ms": 9117.177, "load_time_ms": 12.227}, "episodes_this_iter": 18, "time_this_iter_s": 26.9736328125, "timesteps_total": 3181692, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edc88>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35469, "training_iteration": 86, "policy_reward_mean": {}, "episode_reward_min": 40.630429711084986, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 494.1975951611755, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1709.2973963448317, "outflow_rate_mean": 1208.431381024216, "cost1_mean": 322.9166681548859, "system_level_velocity_mean": 13.75468167709752, "system_level_velocity_max": 19.927066149167583, "cost2_min": -156.95092636299682, "cost1_min": 22.537579956923356, "cost2_max": -22.43242892482892, "cost2_mean": -133.16712570011137, "system_level_velocity_min": 10.19846827931729}, "episode_reward_max": 908.1554778642417, "episode_reward_mean": 657.8662335615535, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3218225, "timestamp": 1557256189, "time_since_restore": 2149.9437177181244, "episodes_total": 1670, "iterations_since_restore": 87, "episode_len_mean": 666.87, "time_total_s": 2149.9437177181244, "date": "2019-05-07_19-09-49", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3218225, "update_time_ms": 8.634, "num_steps_trained": 3218225, "default": {"kl": 0.020817991346120834, "cur_kl_coeff": 0.10678709298372269, "policy_loss": -0.0082645108923316, "total_loss": 22.264480590820312, "entropy": 0.9945736527442932, "vf_explained_var": 0.8599584698677063, "vf_loss": 22.27052116394043, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17916.499, "grad_time_ms": 9276.321, "load_time_ms": 12.364}, "episodes_this_iter": 21, "time_this_iter_s": 28.375231504440308, "timesteps_total": 3218225, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da080>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36533, "training_iteration": 87, "policy_reward_mean": {}, "episode_reward_min": 38.993887694973346, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 494.1975951611755, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1709.2973963448317, "outflow_rate_mean": 1189.5033539006847, "cost1_mean": 315.42447099680606, "system_level_velocity_mean": 13.670631958186252, "system_level_velocity_max": 19.927066149167583, "cost2_min": -156.95092636299682, "cost1_min": 22.537579956923356, "cost2_max": -22.43242892482892, "cost2_mean": -130.88924245006123, "system_level_velocity_min": 10.19846827931729}, "episode_reward_max": 908.1554778642417, "episode_reward_mean": 650.1754137374286, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3254824, "timestamp": 1557256218, "time_since_restore": 2179.3378279209137, "episodes_total": 1693, "iterations_since_restore": 88, "episode_len_mean": 658.65, "time_total_s": 2179.3378279209137, "date": "2019-05-07_19-10-18", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3254824, "update_time_ms": 8.762, "num_steps_trained": 3254824, "default": {"kl": 0.01313321478664875, "cur_kl_coeff": 0.1601806879043579, "policy_loss": -0.0023189112544059753, "total_loss": 21.667831420898438, "entropy": 0.9760622382164001, "vf_explained_var": 0.8522138595581055, "vf_loss": 21.668046951293945, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17899.632, "grad_time_ms": 9468.09, "load_time_ms": 12.382}, "episodes_this_iter": 23, "time_this_iter_s": 29.394110202789307, "timesteps_total": 3254824, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36599, "training_iteration": 88, "policy_reward_mean": {}, "episode_reward_min": 38.993887694973346, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.6988222167296, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1679.831262419933, "outflow_rate_mean": 1175.7075053486478, "cost1_mean": 312.0719966807092, "system_level_velocity_mean": 13.60880483625245, "system_level_velocity_max": 19.927066149167583, "cost2_min": -155.00786742341853, "cost1_min": 22.537579956923356, "cost2_max": -22.43242892482892, "cost2_mean": -129.34855616273532, "system_level_velocity_min": 10.263897938352308}, "episode_reward_max": 902.1481993609242, "episode_reward_mean": 637.5639054050033, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3291439, "timestamp": 1557256248, "time_since_restore": 2208.804965019226, "episodes_total": 1714, "iterations_since_restore": 89, "episode_len_mean": 654.52, "time_total_s": 2208.804965019226, "date": "2019-05-07_19-10-48", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3291439, "update_time_ms": 8.746, "num_steps_trained": 3291439, "default": {"kl": 0.013645702041685581, "cur_kl_coeff": 0.1601806879043579, "policy_loss": -0.0053465464152395725, "total_loss": 21.526216506958008, "entropy": 0.9830051064491272, "vf_explained_var": 0.8720859885215759, "vf_loss": 21.529375076293945, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17863.807, "grad_time_ms": 9781.864, "load_time_ms": 12.483}, "episodes_this_iter": 21, "time_this_iter_s": 29.467137098312378, "timesteps_total": 3291439, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434da080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca390>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36615, "training_iteration": 89, "policy_reward_mean": {}, "episode_reward_min": 38.993887694973346, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.6988222167296, "outflow_rate_min": 447.45390680574303, "outflow_rate_max": 1679.831262419933, "outflow_rate_mean": 1176.2753705024131, "cost1_mean": 312.23919400630416, "system_level_velocity_mean": 13.708286236720523, "system_level_velocity_max": 19.927066149167583, "cost2_min": -155.00786742341853, "cost1_min": 22.537579956923356, "cost2_max": -22.43242892482892, "cost2_mean": -128.27204234841656, "system_level_velocity_min": 10.263897938352308}, "episode_reward_max": 902.1481993609242, "episode_reward_mean": 637.9950598116365, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3326683, "timestamp": 1557256274, "time_since_restore": 2234.7650306224823, "episodes_total": 1732, "iterations_since_restore": 90, "episode_len_mean": 651.32, "time_total_s": 2234.7650306224823, "date": "2019-05-07_19-11-14", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3326683, "update_time_ms": 8.844, "num_steps_trained": 3326683, "default": {"kl": 0.013664294965565205, "cur_kl_coeff": 0.16018067300319672, "policy_loss": -0.006968281697481871, "total_loss": 16.811338424682617, "entropy": 0.9799225330352783, "vf_explained_var": 0.8944534063339233, "vf_loss": 16.816118240356445, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17622.191, "grad_time_ms": 9855.905, "load_time_ms": 12.759}, "episodes_this_iter": 18, "time_this_iter_s": 25.960065603256226, "timesteps_total": 3326683, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed668>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35244, "training_iteration": 90, "policy_reward_mean": {}, "episode_reward_min": 38.993887694973346, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.6988222167296, "outflow_rate_min": 437.35639016391144, "outflow_rate_max": 1679.831262419933, "outflow_rate_mean": 1185.7896115009285, "cost1_mean": 315.1623562331603, "system_level_velocity_mean": 13.80863725458571, "system_level_velocity_max": 19.927066149167583, "cost2_min": -150.10217253815483, "cost1_min": 18.574864577082597, "cost2_max": -20.239219547808652, "cost2_mean": -127.29416629577621, "system_level_velocity_min": 10.263897938352308}, "episode_reward_max": 902.1481993609242, "episode_reward_mean": 638.9857514213286, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3363356, "timestamp": 1557256301, "time_since_restore": 2262.620465040207, "episodes_total": 1750, "iterations_since_restore": 91, "episode_len_mean": 651.12, "time_total_s": 2262.620465040207, "date": "2019-05-07_19-11-41", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3363356, "update_time_ms": 8.617, "num_steps_trained": 3363356, "default": {"kl": 0.01452498696744442, "cur_kl_coeff": 0.1601806879043579, "policy_loss": -0.005425298120826483, "total_loss": 18.137388229370117, "entropy": 0.9576621055603027, "vf_explained_var": 0.8956394791603088, "vf_loss": 18.140485763549805, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17515.665, "grad_time_ms": 10017.895, "load_time_ms": 13.006}, "episodes_this_iter": 18, "time_this_iter_s": 27.85543441772461, "timesteps_total": 3363356, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533748>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36673, "training_iteration": 91, "policy_reward_mean": {}, "episode_reward_min": 33.75542765183478, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.6988222167296, "outflow_rate_min": 437.1293863021715, "outflow_rate_max": 1699.8182585414586, "outflow_rate_mean": 1180.6051288049694, "cost1_mean": 312.4379326356147, "system_level_velocity_mean": 13.90618282603876, "system_level_velocity_max": 19.75337488916065, "cost2_min": -150.10217253815483, "cost1_min": 18.574864577082597, "cost2_max": -20.239219547808652, "cost2_mean": -125.84476392673, "system_level_velocity_min": 10.216435161230168}, "episode_reward_max": 902.1481993609242, "episode_reward_mean": 628.8104852160344, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3400862, "timestamp": 1557256330, "time_since_restore": 2291.2825174331665, "episodes_total": 1770, "iterations_since_restore": 92, "episode_len_mean": 640.65, "time_total_s": 2291.2825174331665, "date": "2019-05-07_19-12-10", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3400862, "update_time_ms": 8.876, "num_steps_trained": 3400862, "default": {"kl": 0.01613452658057213, "cur_kl_coeff": 0.16018067300319672, "policy_loss": -0.006198987830430269, "total_loss": 15.944275856018066, "entropy": 0.9694477319717407, "vf_explained_var": 0.9056769609451294, "vf_loss": 15.94788932800293, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17528.977, "grad_time_ms": 10165.18, "load_time_ms": 12.659}, "episodes_this_iter": 20, "time_this_iter_s": 28.662052392959595, "timesteps_total": 3400862, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed470>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37506, "training_iteration": 92, "policy_reward_mean": {}, "episode_reward_min": 33.75542765183478, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.6988222167296, "outflow_rate_min": 437.1293863021715, "outflow_rate_max": 1704.7838933066935, "outflow_rate_mean": 1195.9550572911637, "cost1_mean": 319.7840494575132, "system_level_velocity_mean": 13.684517195856527, "system_level_velocity_max": 19.65163368951997, "cost2_min": -150.10217253815483, "cost1_min": 18.574864577082597, "cost2_max": -20.239219547808652, "cost2_mean": -127.7130435803345, "system_level_velocity_min": 9.530271621046772}, "episode_reward_max": 902.1481993609242, "episode_reward_mean": 641.0042275871274, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3438241, "timestamp": 1557256358, "time_since_restore": 2319.1310205459595, "episodes_total": 1790, "iterations_since_restore": 93, "episode_len_mean": 659.37, "time_total_s": 2319.1310205459595, "date": "2019-05-07_19-12-38", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3438241, "update_time_ms": 8.652, "num_steps_trained": 3438241, "default": {"kl": 0.015054460614919662, "cur_kl_coeff": 0.16018067300319672, "policy_loss": -0.007933166809380054, "total_loss": 16.85958480834961, "entropy": 1.011897087097168, "vf_explained_var": 0.8933092951774597, "vf_loss": 16.86510467529297, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17489.393, "grad_time_ms": 10235.891, "load_time_ms": 12.666}, "episodes_this_iter": 20, "time_this_iter_s": 27.84850311279297, "timesteps_total": 3438241, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eacf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eac88>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37379, "training_iteration": 93, "policy_reward_mean": {}, "episode_reward_min": 33.75542765183478, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.2109208978529, "outflow_rate_min": 437.1293863021715, "outflow_rate_max": 1704.7838933066935, "outflow_rate_mean": 1192.0027104762685, "cost1_mean": 319.2454734870786, "system_level_velocity_mean": 13.618357451782465, "system_level_velocity_max": 20.023671186658508, "cost2_min": -149.7058013530198, "cost1_min": 18.574864577082597, "cost2_max": -20.239219547808652, "cost2_mean": -126.79272630058273, "system_level_velocity_min": 9.493276862428557}, "episode_reward_max": 839.6466091682558, "episode_reward_mean": 639.7763116790984, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3475689, "timestamp": 1557256387, "time_since_restore": 2348.008610725403, "episodes_total": 1812, "iterations_since_restore": 94, "episode_len_mean": 662.69, "time_total_s": 2348.008610725403, "date": "2019-05-07_19-13-07", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3475689, "update_time_ms": 8.427, "num_steps_trained": 3475689, "default": {"kl": 0.01622486300766468, "cur_kl_coeff": 0.16018067300319672, "policy_loss": -0.005567159503698349, "total_loss": 20.36448097229004, "entropy": 1.0042834281921387, "vf_explained_var": 0.8899458646774292, "vf_loss": 20.367448806762695, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17582.153, "grad_time_ms": 10301.238, "load_time_ms": 12.434}, "episodes_this_iter": 22, "time_this_iter_s": 28.87759017944336, "timesteps_total": 3475689, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d2278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434d27b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed7b8>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37448, "training_iteration": 94, "policy_reward_mean": {}, "episode_reward_min": 33.75542765183478, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.2109208978529, "outflow_rate_min": 437.1293863021715, "outflow_rate_max": 1704.7838933066935, "outflow_rate_mean": 1203.3857229983932, "cost1_mean": 325.2558685311832, "system_level_velocity_mean": 14.06360562338112, "system_level_velocity_max": 20.023671186658508, "cost2_min": -151.15260304538953, "cost1_min": 18.574864577082597, "cost2_max": -20.239219547808652, "cost2_mean": -125.30334774148311, "system_level_velocity_min": 9.493276862428557}, "episode_reward_max": 898.235867212763, "episode_reward_mean": 633.3898509400201, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3512562, "timestamp": 1557256417, "time_since_restore": 2378.080143928528, "episodes_total": 1835, "iterations_since_restore": 95, "episode_len_mean": 653.99, "time_total_s": 2378.080143928528, "date": "2019-05-07_19-13-37", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3512562, "update_time_ms": 8.431, "num_steps_trained": 3512562, "default": {"kl": 0.017749933525919914, "cur_kl_coeff": 0.16018067300319672, "policy_loss": -0.009053224697709084, "total_loss": 18.30662727355957, "entropy": 0.9954144954681396, "vf_explained_var": 0.9092356562614441, "vf_loss": 18.312835693359375, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 17983.744, "grad_time_ms": 10258.618, "load_time_ms": 12.022}, "episodes_this_iter": 23, "time_this_iter_s": 30.071533203125, "timesteps_total": 3512562, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ede80>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36873, "training_iteration": 95, "policy_reward_mean": {}, "episode_reward_min": 33.75542765183478, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 495.2109208978529, "outflow_rate_min": 460.3778087726898, "outflow_rate_max": 1704.7838933066935, "outflow_rate_mean": 1201.5197824478603, "cost1_mean": 326.0719489759258, "system_level_velocity_mean": 13.745581357471703, "system_level_velocity_max": 20.023671186658508, "cost2_min": -151.15260304538953, "cost1_min": 25.614271575515115, "cost2_max": -23.866142288515864, "cost2_mean": -127.1397438470809, "system_level_velocity_min": 9.493276862428557}, "episode_reward_max": 898.235867212763, "episode_reward_mean": 643.6993621070455, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3548536, "timestamp": 1557256445, "time_since_restore": 2406.104864358902, "episodes_total": 1857, "iterations_since_restore": 96, "episode_len_mean": 668.67, "time_total_s": 2406.104864358902, "date": "2019-05-07_19-14-05", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3548536, "update_time_ms": 8.255, "num_steps_trained": 3548536, "default": {"kl": 0.017585691064596176, "cur_kl_coeff": 0.1601806879043579, "policy_loss": -0.007322682999074459, "total_loss": 19.533571243286133, "entropy": 1.0248379707336426, "vf_explained_var": 0.8816571235656738, "vf_loss": 19.538076400756836, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18151.044, "grad_time_ms": 10195.523, "load_time_ms": 11.683}, "episodes_this_iter": 22, "time_this_iter_s": 28.024720430374146, "timesteps_total": 3548536, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5943533198>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 35974, "training_iteration": 96, "policy_reward_mean": {}, "episode_reward_min": 38.107298917721415, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 499.34222396609573, "outflow_rate_min": 460.3778087726898, "outflow_rate_max": 1781.1108352823649, "outflow_rate_mean": 1213.0395847116379, "cost1_mean": 328.36979400926447, "system_level_velocity_mean": 13.948235169097133, "system_level_velocity_max": 20.023671186658508, "cost2_min": -151.15260304538953, "cost1_min": 25.614271575515115, "cost2_max": -23.866142288515864, "cost2_mean": -126.66268271884462, "system_level_velocity_min": 9.493276862428557}, "episode_reward_max": 916.4917445397385, "episode_reward_mean": 644.3722847582122, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3584646, "timestamp": 1557256473, "time_since_restore": 2433.826984167099, "episodes_total": 1873, "iterations_since_restore": 97, "episode_len_mean": 665.44, "time_total_s": 2433.826984167099, "date": "2019-05-07_19-14-33", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3584646, "update_time_ms": 8.227, "num_steps_trained": 3584646, "default": {"kl": 0.014935286715626717, "cur_kl_coeff": 0.16018067300319672, "policy_loss": -0.007236018311232328, "total_loss": 15.170378684997559, "entropy": 0.9942458271980286, "vf_explained_var": 0.922753095626831, "vf_loss": 15.175222396850586, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18253.875, "grad_time_ms": 10028.303, "load_time_ms": 11.468}, "episodes_this_iter": 16, "time_this_iter_s": 27.72211980819702, "timesteps_total": 3584646, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434caf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ca9b0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36110, "training_iteration": 97, "policy_reward_mean": {}, "episode_reward_min": 38.107298917721415, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 499.34222396609573, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1781.1108352823649, "outflow_rate_mean": 1192.7670433130663, "cost1_mean": 320.1111062279639, "system_level_velocity_mean": 13.95490322112423, "system_level_velocity_max": 20.023671186658508, "cost2_min": -151.15260304538953, "cost1_min": 20.965745795011944, "cost2_max": -21.34216041553086, "cost2_mean": -124.23170618849153, "system_level_velocity_min": 9.493276862428557}, "episode_reward_max": 916.4917445397385, "episode_reward_mean": 628.6229604914098, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3622953, "timestamp": 1557256502, "time_since_restore": 2462.8221759796143, "episodes_total": 1895, "iterations_since_restore": 98, "episode_len_mean": 652.87, "time_total_s": 2462.8221759796143, "date": "2019-05-07_19-15-02", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3622953, "update_time_ms": 8.319, "num_steps_trained": 3622953, "default": {"kl": 0.015843741595745087, "cur_kl_coeff": 0.1601806879043579, "policy_loss": -0.008305068127810955, "total_loss": 19.499608993530273, "entropy": 1.003539800643921, "vf_explained_var": 0.8684263825416565, "vf_loss": 19.5053768157959, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18334.899, "grad_time_ms": 9907.432, "load_time_ms": 11.674}, "episodes_this_iter": 22, "time_this_iter_s": 28.99519181251526, "timesteps_total": 3622953, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434edfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434eda58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed240>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 38307, "training_iteration": 98, "policy_reward_mean": {}, "episode_reward_min": 35.97339919903978, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 499.34222396609573, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1781.1108352823649, "outflow_rate_mean": 1167.4461478649862, "cost1_mean": 311.8878385345448, "system_level_velocity_mean": 13.665499753393705, "system_level_velocity_max": 19.70523493354799, "cost2_min": -151.15260304538953, "cost1_min": 20.965745795011944, "cost2_max": -21.34216041553086, "cost2_mean": -123.31415489909739, "system_level_velocity_min": 9.762078547923236}, "episode_reward_max": 916.4917445397385, "episode_reward_mean": 621.9994933044712, "done": false, "node_ip": "10.138.0.2", "timesteps_since_restore": 3659798, "timestamp": 1557256530, "time_since_restore": 2490.541094303131, "episodes_total": 1915, "iterations_since_restore": 99, "episode_len_mean": 651.59, "time_total_s": 2490.541094303131, "date": "2019-05-07_19-15-30", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3659798, "update_time_ms": 8.623, "num_steps_trained": 3659798, "default": {"kl": 0.022272633388638496, "cur_kl_coeff": 0.16018067300319672, "policy_loss": -0.0030574193224310875, "total_loss": 18.974775314331055, "entropy": 1.0448760986328125, "vf_explained_var": 0.8850079774856567, "vf_loss": 18.974266052246094, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18513.368, "grad_time_ms": 9553.619, "load_time_ms": 11.503}, "episodes_this_iter": 20, "time_this_iter_s": 27.718918323516846, "timesteps_total": 3659798, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ede80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434ed828>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 36845, "training_iteration": 99, "policy_reward_mean": {}, "episode_reward_min": 35.97339919903978, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
{"custom_metrics": {"cost1_max": 499.34222396609573, "outflow_rate_min": 443.80577176095227, "outflow_rate_max": 1781.1108352823649, "outflow_rate_mean": 1172.6369955452003, "cost1_mean": 312.1845462890129, "system_level_velocity_mean": 13.39968159482193, "system_level_velocity_max": 19.70523493354799, "cost2_min": -150.33050638802814, "cost1_min": 20.965745795011944, "cost2_max": -21.34216041553086, "cost2_mean": -124.79219921233093, "system_level_velocity_min": 9.557065818276724}, "episode_reward_max": 916.4917445397385, "episode_reward_mean": 632.6385743332808, "done": true, "node_ip": "10.138.0.2", "timesteps_since_restore": 3696886, "timestamp": 1557256559, "time_since_restore": 2520.3591525554657, "episodes_total": 1934, "iterations_since_restore": 100, "episode_len_mean": 661.77, "time_total_s": 2520.3591525554657, "date": "2019-05-07_19-15-59", "pid": 10579, "num_metric_batches_dropped": 0, "info": {"num_steps_sampled": 3696886, "update_time_ms": 8.705, "num_steps_trained": 3696886, "default": {"kl": 0.010812534019351006, "cur_kl_coeff": 0.24027098715305328, "policy_loss": -0.006339598912745714, "total_loss": 17.2163028717041, "entropy": 1.0226874351501465, "vf_explained_var": 0.8980298042297363, "vf_loss": 17.22004508972168, "cur_lr": 0.0005000000237487257}, "sample_time_ms": 18828.493, "grad_time_ms": 9624.295, "load_time_ms": 11.359}, "episodes_this_iter": 19, "time_this_iter_s": 29.818058252334595, "timesteps_total": 3696886, "config": {"sample_batch_size": 200, "num_cpus_per_worker": 1, "horizon": 1500, "gamma": 0.99, "kl_target": 0.01, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "optimizer": {}, "num_cpus_for_driver": 1, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "clip_rewards": null, "kl_coeff": 0.2, "lr_schedule": null, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f59435335c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f59435330f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f59434daef0>", "on_sample_end": null, "on_train_result": null}, "model": {"free_log_std": false, "lstm_cell_size": 256, "conv_activation": "relu", "grayscale": false, "zero_mean": true, "squash_to_range": false, "custom_model": null, "channel_major": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25], "framestack": true, "use_lstm": false, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "dim": 84}, "observation_filter": "NoFilter", "num_gpus_per_worker": 0, "vf_loss_coeff": 1.0, "clip_actions": false, "num_sgd_iter": 10, "compress_observations": false, "monitor": false, "collect_metrics_timeout": 180, "train_batch_size": 30000, "num_gpus": 0, "input_evaluation": null, "simple_optimizer": false, "output_max_file_size": 67108864, "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "custom_resources_per_worker": {}, "straggler_mitigation": false, "sample_async": false, "lambda": 0.97, "synchronize_filters": true, "num_workers": 20, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_envs_per_worker": 1, "use_gae": true, "clip_param": 0.3, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "vf_share_layers": false, "log_level": "INFO", "output": null, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "input": "sampler", "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "batch_mode": "truncate_episodes", "preprocessor_pref": "deepmind"}, "timesteps_this_iter": 37088, "training_iteration": 100, "policy_reward_mean": {}, "episode_reward_min": 35.97339919903978, "hostname": "flow-main", "experiment_id": "efd2b513f7be44fea1baf4c83c0c9a79"}
