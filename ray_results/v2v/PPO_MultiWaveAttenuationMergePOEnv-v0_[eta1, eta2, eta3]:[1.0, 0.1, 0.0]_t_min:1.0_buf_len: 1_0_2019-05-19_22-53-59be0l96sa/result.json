{"hostname": "flow-main", "episode_reward_mean": 307.4432966459171, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47e10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.5197172164917, "timesteps_since_restore": 64523, "info": {"num_steps_trained": 64523, "default": {"entropy": 1.4094462394714355, "kl": 0.004287953022867441, "vf_loss": 1.0324187278747559, "vf_explained_var": 0.8929957747459412, "policy_loss": -0.002137702191248536, "total_loss": 1.03113853931427, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.20000003278255463}, "load_time_ms": 50.263, "sample_time_ms": 30619.668, "grad_time_ms": 16863.807, "update_time_ms": 811.726, "num_steps_sampled": 64523}, "time_total_s": 48.5197172164917, "num_metric_batches_dropped": 0, "timestamp": 1558306541, "episode_reward_max": 407.4452996944806, "timesteps_this_iter": 64523, "episode_reward_min": 171.6155320977372, "date": "2019-05-19_22-55-41", "policy_reward_mean": {}, "time_since_restore": 48.5197172164917, "episodes_total": 27, "iterations_since_restore": 1, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 1, "custom_metrics": {"cost2_mean": -0.008554969269737983, "outflow_rate_mean": 619.076921991391, "system_level_velocity_mean": 7.582950838318063, "cost2_min": -0.23098417028292553, "cost1_min": 76.67360570737328, "cost1_mean": 196.49607814540485, "cost1_max": 231.15288794110728, "outflow_rate_max": 763.7438688085349, "system_level_velocity_max": 9.165507805173265, "outflow_rate_min": 320.0910399240117, "cost2_max": 0.0, "system_level_velocity_min": 2.9747071345404317}, "node_ip": "10.138.0.2", "timesteps_total": 64523}
{"hostname": "flow-main", "episode_reward_mean": 315.390333710318, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce85f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce86a0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.37646961212158, "timesteps_since_restore": 128892, "info": {"num_steps_trained": 128892, "default": {"entropy": 1.4000636339187622, "kl": 0.010919669643044472, "vf_loss": 0.9865977168083191, "vf_explained_var": 0.940973162651062, "policy_loss": -0.004697574768215418, "total_loss": 0.9829921126365662, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "load_time_ms": 27.747, "sample_time_ms": 32190.484, "grad_time_ms": 16680.571, "update_time_ms": 409.118, "num_steps_sampled": 128892}, "time_total_s": 98.89618682861328, "num_metric_batches_dropped": 0, "timestamp": 1558306592, "episode_reward_max": 444.28103351448, "timesteps_this_iter": 64369, "episode_reward_min": 50.00783228116137, "date": "2019-05-19_22-56-32", "policy_reward_mean": {}, "time_since_restore": 98.89618682861328, "episodes_total": 55, "iterations_since_restore": 2, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 687.8909090909091, "done": false, "training_iteration": 2, "custom_metrics": {"cost2_mean": -0.014802559803170773, "outflow_rate_mean": 628.1409121733084, "system_level_velocity_mean": 7.939017387554582, "cost2_min": -0.583156618891467, "cost1_min": 22.26094795333052, "cost1_mean": 197.49443249587145, "cost1_max": 240.80567090020315, "outflow_rate_max": 793.7272282530491, "system_level_velocity_max": 17.915507492415816, "outflow_rate_min": 320.0910399240117, "cost2_max": 0.0, "system_level_velocity_min": 2.9747071345404317}, "node_ip": "10.138.0.2", "timesteps_total": 128892}
{"hostname": "flow-main", "episode_reward_mean": 357.9830791915668, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.36071014404297, "timesteps_since_restore": 199066, "info": {"num_steps_trained": 199066, "default": {"entropy": 1.4008793830871582, "kl": 0.02262299694120884, "vf_loss": 1.7017016410827637, "vf_explained_var": 0.9449942111968994, "policy_loss": -0.008029050193727016, "total_loss": 1.6959350109100342, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "load_time_ms": 21.029, "sample_time_ms": 32551.976, "grad_time_ms": 17100.778, "update_time_ms": 275.158, "num_steps_sampled": 199066}, "time_total_s": 150.25689697265625, "num_metric_batches_dropped": 0, "timestamp": 1558306643, "episode_reward_max": 580.5793528727279, "timesteps_this_iter": 70174, "episode_reward_min": 50.00783228116137, "date": "2019-05-19_22-57-23", "policy_reward_mean": {}, "time_since_restore": 150.25689697265625, "episodes_total": 83, "iterations_since_restore": 3, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 691.9759036144578, "done": false, "training_iteration": 3, "custom_metrics": {"cost2_mean": -0.022401792486872515, "outflow_rate_mean": 641.8031066326065, "system_level_velocity_mean": 8.172611371785038, "cost2_min": -0.9047619047619047, "cost1_min": 22.26094795333052, "cost1_mean": 206.14330636544278, "cost1_max": 281.2122468628883, "outflow_rate_max": 806.2960960280674, "system_level_velocity_max": 17.915507492415816, "outflow_rate_min": 156.53328055141625, "cost2_max": 0.0, "system_level_velocity_min": 2.487804782674474}, "node_ip": "10.138.0.2", "timesteps_total": 199066}
{"hostname": "flow-main", "episode_reward_mean": 420.1008970777441, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.68895363807678, "timesteps_since_restore": 270482, "info": {"num_steps_trained": 270482, "default": {"entropy": 1.3712882995605469, "kl": 0.007262630388140678, "vf_loss": 3.17974853515625, "vf_explained_var": 0.9404980540275574, "policy_loss": -0.0034145424142479897, "total_loss": 3.1774232387542725, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "load_time_ms": 17.996, "sample_time_ms": 32765.884, "grad_time_ms": 17359.84, "update_time_ms": 208.966, "num_steps_sampled": 270482}, "time_total_s": 201.94585061073303, "num_metric_batches_dropped": 0, "timestamp": 1558306695, "episode_reward_max": 802.6806156631357, "timesteps_this_iter": 71416, "episode_reward_min": 50.00783228116137, "date": "2019-05-19_22-58-15", "policy_reward_mean": {}, "time_since_restore": 201.94585061073303, "episodes_total": 109, "iterations_since_restore": 4, "pid": 46909, "episodes_this_iter": 26, "episode_len_mean": 693.34, "done": false, "training_iteration": 4, "custom_metrics": {"cost2_mean": -0.023057657314905552, "outflow_rate_mean": 672.7455837311713, "system_level_velocity_mean": 8.492390816841743, "cost2_min": -0.9047619047619047, "cost1_min": 22.26094795333052, "cost1_mean": 215.7042328511997, "cost1_max": 296.1208086605692, "outflow_rate_max": 946.3036478717002, "system_level_velocity_max": 17.915507492415816, "outflow_rate_min": 156.53328055141625, "cost2_max": 0.0, "system_level_velocity_min": 2.487804782674474}, "node_ip": "10.138.0.2", "timesteps_total": 270482}
{"hostname": "flow-main", "episode_reward_mean": 527.014505498374, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce86a0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.99691152572632, "timesteps_since_restore": 339936, "info": {"num_steps_trained": 339936, "default": {"entropy": 1.340857744216919, "kl": 0.007628328166902065, "vf_loss": 5.281732559204102, "vf_explained_var": 0.9237026572227478, "policy_loss": -0.003953443840146065, "total_loss": 5.278923511505127, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "load_time_ms": 16.388, "sample_time_ms": 33008.029, "grad_time_ms": 17466.211, "update_time_ms": 168.976, "num_steps_sampled": 339936}, "time_total_s": 253.94276213645935, "num_metric_batches_dropped": 0, "timestamp": 1558306747, "episode_reward_max": 880.9067446978252, "timesteps_this_iter": 69454, "episode_reward_min": 50.00783228116137, "date": "2019-05-19_22-59-07", "policy_reward_mean": {}, "time_since_restore": 253.94276213645935, "episodes_total": 135, "iterations_since_restore": 5, "pid": 46909, "episodes_this_iter": 26, "episode_len_mean": 693.34, "done": false, "training_iteration": 5, "custom_metrics": {"cost2_mean": -0.02012596836475741, "outflow_rate_mean": 741.0900427805234, "system_level_velocity_mean": 9.245502557963915, "cost2_min": -0.9047619047619047, "cost1_min": 22.26094795333052, "cost1_mean": 236.48991040736507, "cost1_max": 328.59128521161153, "outflow_rate_max": 992.2132833035749, "system_level_velocity_max": 17.915507492415816, "outflow_rate_min": 156.53328055141625, "cost2_max": 0.0, "system_level_velocity_min": 2.487804782674474}, "node_ip": "10.138.0.2", "timesteps_total": 339936}
{"hostname": "flow-main", "episode_reward_mean": 643.316848751572, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceca58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.42329263687134, "timesteps_since_restore": 410796, "info": {"num_steps_trained": 410796, "default": {"entropy": 1.3298721313476562, "kl": 0.0071486905217170715, "vf_loss": 7.0784196853637695, "vf_explained_var": 0.9185712933540344, "policy_loss": -0.0033604842610657215, "total_loss": 7.076132297515869, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "load_time_ms": 14.941, "sample_time_ms": 33296.052, "grad_time_ms": 17314.376, "update_time_ms": 141.996, "num_steps_sampled": 410796}, "time_total_s": 305.3660547733307, "num_metric_batches_dropped": 0, "timestamp": 1558306798, "episode_reward_max": 950.7377237284637, "timesteps_this_iter": 70860, "episode_reward_min": 270.37280452731443, "date": "2019-05-19_22-59-58", "policy_reward_mean": {}, "time_since_restore": 305.3660547733307, "episodes_total": 161, "iterations_since_restore": 6, "pid": 46909, "episodes_this_iter": 26, "episode_len_mean": 700.0, "done": false, "training_iteration": 6, "custom_metrics": {"cost2_mean": -0.02147699481060583, "outflow_rate_mean": 815.5086741576204, "system_level_velocity_mean": 9.866487925915251, "cost2_min": -0.9047619047619047, "cost1_min": 63.9893070249084, "cost1_mean": 258.46421527225687, "cost1_max": 357.08110953082803, "outflow_rate_max": 1075.9446729124816, "system_level_velocity_max": 13.368181558650221, "outflow_rate_min": 156.53328055141625, "cost2_max": 0.0, "system_level_velocity_min": 2.487804782674474}, "node_ip": "10.138.0.2", "timesteps_total": 410796}
{"hostname": "flow-main", "episode_reward_mean": 736.9454187474539, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec710>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.969953298568726, "timesteps_since_restore": 480947, "info": {"num_steps_trained": 480947, "default": {"entropy": 1.3449933528900146, "kl": 0.007969473488628864, "vf_loss": 8.357501983642578, "vf_explained_var": 0.9152734875679016, "policy_loss": -0.004407892003655434, "total_loss": 8.354289054870605, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "load_time_ms": 14.073, "sample_time_ms": 33644.683, "grad_time_ms": 17141.392, "update_time_ms": 122.688, "num_steps_sampled": 480947}, "time_total_s": 357.3360080718994, "num_metric_batches_dropped": 0, "timestamp": 1558306850, "episode_reward_max": 1060.7856908528831, "timesteps_this_iter": 70151, "episode_reward_min": 289.276259678374, "date": "2019-05-19_23-00-50", "policy_reward_mean": {}, "time_since_restore": 357.3360080718994, "episodes_total": 188, "iterations_since_restore": 7, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 7, "custom_metrics": {"cost2_mean": -0.016305147497944258, "outflow_rate_mean": 908.7124006529739, "system_level_velocity_mean": 10.747127746844786, "cost2_min": -0.3418446575254134, "cost1_min": 75.66679253783691, "cost1_mean": 283.37166074579494, "cost1_max": 393.4738306362271, "outflow_rate_max": 1160.2900712517173, "system_level_velocity_max": 14.755357880690374, "outflow_rate_min": 253.54716969520186, "cost2_max": 0.0, "system_level_velocity_min": 2.9903072075155444}, "node_ip": "10.138.0.2", "timesteps_total": 480947}
{"hostname": "flow-main", "episode_reward_mean": 786.921401219787, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.51962065696716, "timesteps_since_restore": 548035, "info": {"num_steps_trained": 548035, "default": {"entropy": 1.334337830543518, "kl": 0.008748674765229225, "vf_loss": 8.531214714050293, "vf_explained_var": 0.8979074954986572, "policy_loss": -0.005145206581801176, "total_loss": 8.527381896972656, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 13.195, "sample_time_ms": 33678.036, "grad_time_ms": 16934.938, "update_time_ms": 108.257, "num_steps_sampled": 548035}, "time_total_s": 406.8556287288666, "num_metric_batches_dropped": 0, "timestamp": 1558306900, "episode_reward_max": 1060.7856908528831, "timesteps_this_iter": 67088, "episode_reward_min": 21.344849952935547, "date": "2019-05-19_23-01-40", "policy_reward_mean": {}, "time_since_restore": 406.8556287288666, "episodes_total": 215, "iterations_since_restore": 8, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 693.16, "done": false, "training_iteration": 8, "custom_metrics": {"cost2_mean": -0.01652608292438055, "outflow_rate_mean": 972.3107634742645, "system_level_velocity_mean": 11.577784742739537, "cost2_min": -0.3418446575254134, "cost1_min": 10.329665825079227, "cost1_mean": 301.8323140334386, "cost1_max": 420.51872474031427, "outflow_rate_max": 1208.990333279835, "system_level_velocity_max": 16.22847418110351, "outflow_rate_min": 265.52872636742296, "cost2_max": 0.0, "system_level_velocity_min": 2.9903072075155444}, "node_ip": "10.138.0.2", "timesteps_total": 548035}
{"hostname": "flow-main", "episode_reward_mean": 815.3869381607307, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8358>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.78233289718628, "timesteps_since_restore": 618208, "info": {"num_steps_trained": 618208, "default": {"entropy": 1.3284878730773926, "kl": 0.00801855605095625, "vf_loss": 8.836310386657715, "vf_explained_var": 0.8897331357002258, "policy_loss": -0.004091458395123482, "total_loss": 8.83342170715332, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "load_time_ms": 12.358, "sample_time_ms": 33779.999, "grad_time_ms": 16837.324, "update_time_ms": 97.094, "num_steps_sampled": 618208}, "time_total_s": 457.63796162605286, "num_metric_batches_dropped": 0, "timestamp": 1558306951, "episode_reward_max": 1060.7856908528831, "timesteps_this_iter": 70173, "episode_reward_min": 21.344849952935547, "date": "2019-05-19_23-02-31", "policy_reward_mean": {}, "time_since_restore": 457.63796162605286, "episodes_total": 241, "iterations_since_restore": 9, "pid": 46909, "episodes_this_iter": 26, "episode_len_mean": 693.16, "done": false, "training_iteration": 9, "custom_metrics": {"cost2_mean": -0.034004990315021605, "outflow_rate_mean": 1016.5804858238748, "system_level_velocity_mean": 12.034357810184085, "cost2_min": -0.528089810180866, "cost1_min": 10.329665825079227, "cost1_mean": 314.2499187084505, "cost1_max": 420.51872474031427, "outflow_rate_max": 1208.990333279835, "system_level_velocity_max": 16.22847418110351, "outflow_rate_min": 267.79964859777573, "cost2_max": 0.0, "system_level_velocity_min": 3.192233449688816}, "node_ip": "10.138.0.2", "timesteps_total": 618208}
{"hostname": "flow-main", "episode_reward_mean": 824.0826545876506, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.61385631561279, "timesteps_since_restore": 684780, "info": {"num_steps_trained": 684780, "default": {"entropy": 1.315277338027954, "kl": 0.0070121618919074535, "vf_loss": 11.37993335723877, "vf_explained_var": 0.8789898753166199, "policy_loss": -0.0036521339789032936, "total_loss": 11.37733268737793, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 11.702, "sample_time_ms": 33884.911, "grad_time_ms": 16620.632, "update_time_ms": 88.121, "num_steps_sampled": 684780}, "time_total_s": 507.25181794166565, "num_metric_batches_dropped": 0, "timestamp": 1558307000, "episode_reward_max": 1069.6527163060482, "timesteps_this_iter": 66572, "episode_reward_min": 21.344849952935547, "date": "2019-05-19_23-03-20", "policy_reward_mean": {}, "time_since_restore": 507.25181794166565, "episodes_total": 273, "iterations_since_restore": 10, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 693.16, "done": false, "training_iteration": 10, "custom_metrics": {"cost2_mean": -0.04280131592663424, "outflow_rate_mean": 1035.1093139928664, "system_level_velocity_mean": 12.264561351689814, "cost2_min": -0.528089810180866, "cost1_min": 10.329665825079227, "cost1_mean": 319.73194989786805, "cost1_max": 420.51872474031427, "outflow_rate_max": 1234.2634176553725, "system_level_velocity_max": 16.22847418110351, "outflow_rate_min": 430.1722815424815, "cost2_max": 0.0, "system_level_velocity_min": 8.082162594116747}, "node_ip": "10.138.0.2", "timesteps_total": 684780}
{"hostname": "flow-main", "episode_reward_mean": 836.2186833603243, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecc18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.9663188457489, "timesteps_since_restore": 750416, "info": {"num_steps_trained": 750416, "default": {"entropy": 1.312087059020996, "kl": 0.0074929967522621155, "vf_loss": 10.588153839111328, "vf_explained_var": 0.8825101256370544, "policy_loss": -0.004120617639273405, "total_loss": 10.58515739440918, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.476, "sample_time_ms": 34218.178, "grad_time_ms": 16522.809, "update_time_ms": 7.811, "num_steps_sampled": 750416}, "time_total_s": 557.2181367874146, "num_metric_batches_dropped": 0, "timestamp": 1558307050, "episode_reward_max": 1069.6527163060482, "timesteps_this_iter": 65636, "episode_reward_min": 21.344849952935547, "date": "2019-05-19_23-04-10", "policy_reward_mean": {}, "time_since_restore": 557.2181367874146, "episodes_total": 306, "iterations_since_restore": 11, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 693.16, "done": false, "training_iteration": 11, "custom_metrics": {"cost2_mean": -0.04093062198853382, "outflow_rate_mean": 1041.4734189424992, "system_level_velocity_mean": 12.392388232869157, "cost2_min": -0.528089810180866, "cost1_min": 10.329665825079227, "cost1_mean": 322.29578864630344, "cost1_max": 419.4610969794875, "outflow_rate_max": 1234.2634176553725, "system_level_velocity_max": 16.22847418110351, "outflow_rate_min": 430.1722815424815, "cost2_max": 0.0, "system_level_velocity_min": 7.102429324642321}, "node_ip": "10.138.0.2", "timesteps_total": 750416}
{"hostname": "flow-main", "episode_reward_mean": 842.4105846799457, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.63512897491455, "timesteps_since_restore": 817025, "info": {"num_steps_trained": 817025, "default": {"entropy": 1.310227632522583, "kl": 0.008477283641695976, "vf_loss": 11.198365211486816, "vf_explained_var": 0.8649521470069885, "policy_loss": -0.005075869150459766, "total_loss": 11.194561004638672, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.801, "sample_time_ms": 34444.557, "grad_time_ms": 16521.27, "update_time_ms": 7.984, "num_steps_sampled": 817025}, "time_total_s": 609.8532657623291, "num_metric_batches_dropped": 0, "timestamp": 1558307103, "episode_reward_max": 1069.6527163060482, "timesteps_this_iter": 66609, "episode_reward_min": 47.37299129320739, "date": "2019-05-19_23-05-03", "policy_reward_mean": {}, "time_since_restore": 609.8532657623291, "episodes_total": 337, "iterations_since_restore": 12, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 693.35, "done": false, "training_iteration": 12, "custom_metrics": {"cost2_mean": -0.03407702398533316, "outflow_rate_mean": 1044.8268799982661, "system_level_velocity_mean": 12.467761441495446, "cost2_min": -0.30000000000000004, "cost1_min": 22.812458282133374, "cost1_mean": 323.29113737708246, "cost1_max": 419.4610969794875, "outflow_rate_max": 1234.2634176553725, "system_level_velocity_max": 18.35040256150899, "outflow_rate_min": 507.23250335882517, "cost2_max": 0.0, "system_level_velocity_min": 7.102429324642321}, "node_ip": "10.138.0.2", "timesteps_total": 817025}
{"hostname": "flow-main", "episode_reward_mean": 843.4865350123866, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8198>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.0518581867218, "timesteps_since_restore": 884476, "info": {"num_steps_trained": 884476, "default": {"entropy": 1.2970569133758545, "kl": 0.008993914350867271, "vf_loss": 10.641703605651855, "vf_explained_var": 0.8641327023506165, "policy_loss": -0.005558312404900789, "total_loss": 10.637494087219238, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.724, "sample_time_ms": 34518.796, "grad_time_ms": 16317.073, "update_time_ms": 7.966, "num_steps_sampled": 884476}, "time_total_s": 659.9051239490509, "num_metric_batches_dropped": 0, "timestamp": 1558307153, "episode_reward_max": 1061.151079547761, "timesteps_this_iter": 67451, "episode_reward_min": 47.37299129320739, "date": "2019-05-19_23-05-53", "policy_reward_mean": {}, "time_since_restore": 659.9051239490509, "episodes_total": 366, "iterations_since_restore": 13, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 693.35, "done": false, "training_iteration": 13, "custom_metrics": {"cost2_mean": -0.030403129072499237, "outflow_rate_mean": 1052.094824329281, "system_level_velocity_mean": 12.574025267242659, "cost2_min": -0.30000000000000004, "cost1_min": 22.812458282133374, "cost1_mean": 325.2779899627117, "cost1_max": 426.22356301659204, "outflow_rate_max": 1234.2634176553725, "system_level_velocity_max": 18.35040256150899, "outflow_rate_min": 507.23250335882517, "cost2_max": 0.0, "system_level_velocity_min": 7.102429324642321}, "node_ip": "10.138.0.2", "timesteps_total": 884476}
{"hostname": "flow-main", "episode_reward_mean": 852.6360535472095, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5ef0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.492751598358154, "timesteps_since_restore": 950368, "info": {"num_steps_trained": 950368, "default": {"entropy": 1.2823090553283691, "kl": 0.009383037686347961, "vf_loss": 11.42979621887207, "vf_explained_var": 0.8702073097229004, "policy_loss": -0.005780491977930069, "total_loss": 11.425422668457031, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.401, "sample_time_ms": 34390.852, "grad_time_ms": 16128.159, "update_time_ms": 7.671, "num_steps_sampled": 950368}, "time_total_s": 708.3978755474091, "num_metric_batches_dropped": 0, "timestamp": 1558307202, "episode_reward_max": 1126.4349556396194, "timesteps_this_iter": 65892, "episode_reward_min": 47.37299129320739, "date": "2019-05-19_23-06-42", "policy_reward_mean": {}, "time_since_restore": 708.3978755474091, "episodes_total": 392, "iterations_since_restore": 14, "pid": 46909, "episodes_this_iter": 26, "episode_len_mean": 693.35, "done": false, "training_iteration": 14, "custom_metrics": {"cost2_mean": -0.04009947783476599, "outflow_rate_mean": 1060.5708412971467, "system_level_velocity_mean": 12.725290871646353, "cost2_min": -0.5028956846184296, "cost1_min": 22.812458282133374, "cost1_mean": 328.5861812303228, "cost1_max": 446.40445143320625, "outflow_rate_max": 1251.2707893306808, "system_level_velocity_max": 18.35040256150899, "outflow_rate_min": 507.23250335882517, "cost2_max": 0.0, "system_level_velocity_min": 8.33228171958829}, "node_ip": "10.138.0.2", "timesteps_total": 950368}
{"hostname": "flow-main", "episode_reward_mean": 844.5448540683325, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec710>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.93037033081055, "timesteps_since_restore": 1016497, "info": {"num_steps_trained": 1016497, "default": {"entropy": 1.27668035030365, "kl": 0.00916718877851963, "vf_loss": 12.83938980102539, "vf_explained_var": 0.8557363152503967, "policy_loss": -0.005139473360031843, "total_loss": 12.835626602172852, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.277, "sample_time_ms": 34254.12, "grad_time_ms": 15956.741, "update_time_ms": 7.595, "num_steps_sampled": 1016497}, "time_total_s": 757.3282458782196, "num_metric_batches_dropped": 0, "timestamp": 1558307251, "episode_reward_max": 1159.6814929039722, "timesteps_this_iter": 66129, "episode_reward_min": 47.37299129320739, "date": "2019-05-19_23-07-31", "policy_reward_mean": {}, "time_since_restore": 757.3282458782196, "episodes_total": 419, "iterations_since_restore": 15, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 686.84, "done": false, "training_iteration": 15, "custom_metrics": {"cost2_mean": -0.0351451470772593, "outflow_rate_mean": 1055.383132211778, "system_level_velocity_mean": 12.784402836467622, "cost2_min": -0.5028956846184296, "cost1_min": 22.812458282133374, "cost1_mean": 324.5785683243581, "cost1_max": 451.0504132324288, "outflow_rate_max": 1288.07610663507, "system_level_velocity_max": 18.372786880736314, "outflow_rate_min": 507.23250335882517, "cost2_max": 0.0, "system_level_velocity_min": 8.33228171958829}, "node_ip": "10.138.0.2", "timesteps_total": 1016497}
{"hostname": "flow-main", "episode_reward_mean": 855.3563837427413, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf58d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5a20>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.873064279556274, "timesteps_since_restore": 1083958, "info": {"num_steps_trained": 1083958, "default": {"entropy": 1.2910915613174438, "kl": 0.010350584052503109, "vf_loss": 11.507156372070312, "vf_explained_var": 0.8538220524787903, "policy_loss": -0.006011835299432278, "total_loss": 11.502696990966797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.387, "sample_time_ms": 34110.185, "grad_time_ms": 16041.706, "update_time_ms": 7.651, "num_steps_sampled": 1083958}, "time_total_s": 808.2013101577759, "num_metric_batches_dropped": 0, "timestamp": 1558307302, "episode_reward_max": 1159.6814929039722, "timesteps_this_iter": 67461, "episode_reward_min": 73.00774105082952, "date": "2019-05-19_23-08-22", "policy_reward_mean": {}, "time_since_restore": 808.2013101577759, "episodes_total": 446, "iterations_since_restore": 16, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 687.97, "done": false, "training_iteration": 16, "custom_metrics": {"cost2_mean": -0.04685683686972748, "outflow_rate_mean": 1068.526683777714, "system_level_velocity_mean": 12.942937915065675, "cost2_min": -0.5028956846184296, "cost1_min": 31.711894279252903, "cost1_mean": 329.2216349259511, "cost1_max": 451.0504132324288, "outflow_rate_max": 1288.07610663507, "system_level_velocity_max": 18.372786880736314, "outflow_rate_min": 547.2587771509549, "cost2_max": 0.0, "system_level_velocity_min": 8.33228171958829}, "node_ip": "10.138.0.2", "timesteps_total": 1083958}
{"hostname": "flow-main", "episode_reward_mean": 851.6658525005984, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5128>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.806421756744385, "timesteps_since_restore": 1152536, "info": {"num_steps_trained": 1152536, "default": {"entropy": 1.2961381673812866, "kl": 0.01039921399205923, "vf_loss": 10.569458961486816, "vf_explained_var": 0.8593737483024597, "policy_loss": -0.006335209123790264, "total_loss": 10.56468391418457, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.356, "sample_time_ms": 33818.432, "grad_time_ms": 16217.056, "update_time_ms": 7.992, "num_steps_sampled": 1152536}, "time_total_s": 859.0077319145203, "num_metric_batches_dropped": 0, "timestamp": 1558307353, "episode_reward_max": 1159.6814929039722, "timesteps_this_iter": 68578, "episode_reward_min": 73.00774105082952, "date": "2019-05-19_23-09-13", "policy_reward_mean": {}, "time_since_restore": 859.0077319145203, "episodes_total": 472, "iterations_since_restore": 17, "pid": 46909, "episodes_this_iter": 26, "episode_len_mean": 687.97, "done": false, "training_iteration": 17, "custom_metrics": {"cost2_mean": -0.05443100207804614, "outflow_rate_mean": 1067.686924048274, "system_level_velocity_mean": 12.93478698248691, "cost2_min": -0.5028956846184296, "cost1_min": 31.711894279252903, "cost1_mean": 328.4839628568881, "cost1_max": 451.0504132324288, "outflow_rate_max": 1288.07610663507, "system_level_velocity_max": 18.372786880736314, "outflow_rate_min": 547.2587771509549, "cost2_max": 0.0, "system_level_velocity_min": 9.100353486140282}, "node_ip": "10.138.0.2", "timesteps_total": 1152536}
{"hostname": "flow-main", "episode_reward_mean": 850.2231573566709, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec0b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.141523361206055, "timesteps_since_restore": 1220361, "info": {"num_steps_trained": 1220361, "default": {"entropy": 1.2997087240219116, "kl": 0.010466375388205051, "vf_loss": 12.068684577941895, "vf_explained_var": 0.8425182104110718, "policy_loss": -0.006519628688693047, "total_loss": 12.063735008239746, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.476, "sample_time_ms": 33627.201, "grad_time_ms": 16369.623, "update_time_ms": 8.252, "num_steps_sampled": 1220361}, "time_total_s": 908.1492552757263, "num_metric_batches_dropped": 0, "timestamp": 1558307402, "episode_reward_max": 1159.6814929039722, "timesteps_this_iter": 67825, "episode_reward_min": 73.00774105082952, "date": "2019-05-19_23-10-02", "policy_reward_mean": {}, "time_since_restore": 908.1492552757263, "episodes_total": 499, "iterations_since_restore": 18, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 687.97, "done": false, "training_iteration": 18, "custom_metrics": {"cost2_mean": -0.052678568470843894, "outflow_rate_mean": 1070.1927156546374, "system_level_velocity_mean": 12.981676078141819, "cost2_min": -0.44259587322023275, "cost1_min": 31.711894279252903, "cost1_mean": 329.41950492710845, "cost1_max": 461.67589672551566, "outflow_rate_max": 1288.07610663507, "system_level_velocity_max": 18.372786880736314, "outflow_rate_min": 547.2587771509549, "cost2_max": 0.0, "system_level_velocity_min": 9.712167081333721}, "node_ip": "10.138.0.2", "timesteps_total": 1220361}
{"hostname": "flow-main", "episode_reward_mean": 856.9108055309754, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceca90>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.147396087646484, "timesteps_since_restore": 1286564, "info": {"num_steps_trained": 1286564, "default": {"entropy": 1.2951242923736572, "kl": 0.010051454417407513, "vf_loss": 11.842873573303223, "vf_explained_var": 0.8545042276382446, "policy_loss": -0.006509574595838785, "total_loss": 11.837871551513672, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.902, "sample_time_ms": 33326.985, "grad_time_ms": 16406.603, "update_time_ms": 8.126, "num_steps_sampled": 1286564}, "time_total_s": 956.2966513633728, "num_metric_batches_dropped": 0, "timestamp": 1558307450, "episode_reward_max": 1067.4013241763998, "timesteps_this_iter": 66203, "episode_reward_min": 218.7314183475457, "date": "2019-05-19_23-10-50", "policy_reward_mean": {}, "time_since_restore": 956.2966513633728, "episodes_total": 526, "iterations_since_restore": 19, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 694.48, "done": false, "training_iteration": 19, "custom_metrics": {"cost2_mean": -0.0556521215106583, "outflow_rate_mean": 1082.7542284319723, "system_level_velocity_mean": 13.029776886018825, "cost2_min": -0.3505126419281315, "cost1_min": 97.31411488589511, "cost1_mean": 335.2040936923519, "cost1_max": 461.67589672551566, "outflow_rate_max": 1285.2474308342037, "system_level_velocity_max": 17.835885337720427, "outflow_rate_min": 743.7308712731282, "cost2_max": 0.0, "system_level_velocity_min": 9.712167081333721}, "node_ip": "10.138.0.2", "timesteps_total": 1286564}
{"hostname": "flow-main", "episode_reward_mean": 861.9572349280068, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf57b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.947895765304565, "timesteps_since_restore": 1352335, "info": {"num_steps_trained": 1352335, "default": {"entropy": 1.287676215171814, "kl": 0.010891587473452091, "vf_loss": 14.2577543258667, "vf_explained_var": 0.8569503426551819, "policy_loss": -0.006664136424660683, "total_loss": 14.252723693847656, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.869, "sample_time_ms": 33057.332, "grad_time_ms": 16509.368, "update_time_ms": 8.065, "num_steps_sampled": 1352335}, "time_total_s": 1004.2445471286774, "num_metric_batches_dropped": 0, "timestamp": 1558307498, "episode_reward_max": 1118.360032221608, "timesteps_this_iter": 65771, "episode_reward_min": 679.4474458755013, "date": "2019-05-19_23-11-38", "policy_reward_mean": {}, "time_since_restore": 1004.2445471286774, "episodes_total": 556, "iterations_since_restore": 20, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 700.0, "done": false, "training_iteration": 20, "custom_metrics": {"cost2_mean": -0.06087274079484665, "outflow_rate_mean": 1081.22459547247, "system_level_velocity_mean": 12.918974898267264, "cost2_min": -0.3505126419281315, "cost1_min": 237.49290062480532, "cost1_mean": 336.01826247656254, "cost1_max": 474.6836827068853, "outflow_rate_max": 1334.6172043922934, "system_level_velocity_max": 18.21080366743559, "outflow_rate_min": 899.3730925251361, "cost2_max": 0.0, "system_level_velocity_min": 9.110297124829945}, "node_ip": "10.138.0.2", "timesteps_total": 1352335}
{"hostname": "flow-main", "episode_reward_mean": 852.6554242829894, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8c50>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.967225313186646, "timesteps_since_restore": 1420099, "info": {"num_steps_trained": 1420099, "default": {"entropy": 1.3017555475234985, "kl": 0.010675628669559956, "vf_loss": 14.567587852478027, "vf_explained_var": 0.8424734473228455, "policy_loss": -0.006210989784449339, "total_loss": 14.56297779083252, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.574, "sample_time_ms": 32951.362, "grad_time_ms": 16515.691, "update_time_ms": 7.938, "num_steps_sampled": 1420099}, "time_total_s": 1053.211772441864, "num_metric_batches_dropped": 0, "timestamp": 1558307547, "episode_reward_max": 1163.0713992623512, "timesteps_this_iter": 67764, "episode_reward_min": 49.21632389556612, "date": "2019-05-19_23-12-27", "policy_reward_mean": {}, "time_since_restore": 1053.211772441864, "episodes_total": 587, "iterations_since_restore": 21, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 686.58, "done": false, "training_iteration": 21, "custom_metrics": {"cost2_mean": -0.051206616933027346, "outflow_rate_mean": 1083.6550394918447, "system_level_velocity_mean": 13.310777814532493, "cost2_min": -0.3505126419281315, "cost1_min": 19.40868802464732, "cost1_mean": 337.5340683766398, "cost1_max": 474.6836827068853, "outflow_rate_max": 1334.6172043922934, "system_level_velocity_max": 18.242472487471936, "outflow_rate_min": 471.5618022451357, "cost2_max": 0.0, "system_level_velocity_min": 9.110297124829945}, "node_ip": "10.138.0.2", "timesteps_total": 1420099}
{"hostname": "flow-main", "episode_reward_mean": 853.8443165141823, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5a90>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.66854500770569, "timesteps_since_restore": 1485639, "info": {"num_steps_trained": 1485639, "default": {"entropy": 1.2887861728668213, "kl": 0.01162642426788807, "vf_loss": 15.251225471496582, "vf_explained_var": 0.8439300060272217, "policy_loss": -0.007654658518731594, "total_loss": 15.245315551757812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.56, "sample_time_ms": 32689.458, "grad_time_ms": 16679.744, "update_time_ms": 8.057, "num_steps_sampled": 1485639}, "time_total_s": 1104.8803174495697, "num_metric_batches_dropped": 0, "timestamp": 1558307599, "episode_reward_max": 1163.0713992623512, "timesteps_this_iter": 65540, "episode_reward_min": 49.21632389556612, "date": "2019-05-19_23-13-19", "policy_reward_mean": {}, "time_since_restore": 1104.8803174495697, "episodes_total": 619, "iterations_since_restore": 22, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 686.58, "done": false, "training_iteration": 22, "custom_metrics": {"cost2_mean": -0.050968447313036076, "outflow_rate_mean": 1081.4249472073557, "system_level_velocity_mean": 13.266743225599203, "cost2_min": -0.75821774890825, "cost1_min": 19.40868802464732, "cost1_mean": 336.33523997985526, "cost1_max": 474.6836827068853, "outflow_rate_max": 1334.6172043922934, "system_level_velocity_max": 18.242472487471936, "outflow_rate_min": 471.5618022451357, "cost2_max": 0.0, "system_level_velocity_min": 9.110297124829945}, "node_ip": "10.138.0.2", "timesteps_total": 1485639}
{"hostname": "flow-main", "episode_reward_mean": 854.5043634982212, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce88d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.97417068481445, "timesteps_since_restore": 1552877, "info": {"num_steps_trained": 1552877, "default": {"entropy": 1.2975302934646606, "kl": 0.010090555064380169, "vf_loss": 14.658439636230469, "vf_explained_var": 0.8414714932441711, "policy_loss": -0.0062959869392216206, "total_loss": 14.653656959533691, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.534, "sample_time_ms": 32615.482, "grad_time_ms": 16646.692, "update_time_ms": 8.345, "num_steps_sampled": 1552877}, "time_total_s": 1153.8544881343842, "num_metric_batches_dropped": 0, "timestamp": 1558307648, "episode_reward_max": 1163.0713992623512, "timesteps_this_iter": 67238, "episode_reward_min": 49.21632389556612, "date": "2019-05-19_23-14-08", "policy_reward_mean": {}, "time_since_restore": 1153.8544881343842, "episodes_total": 650, "iterations_since_restore": 23, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 686.58, "done": false, "training_iteration": 23, "custom_metrics": {"cost2_mean": -0.045254836056080536, "outflow_rate_mean": 1080.1520429479017, "system_level_velocity_mean": 13.162017448618949, "cost2_min": -0.75821774890825, "cost1_min": 19.40868802464732, "cost1_mean": 333.82683935964343, "cost1_max": 474.6836827068853, "outflow_rate_max": 1309.0099061705287, "system_level_velocity_max": 18.242472487471936, "outflow_rate_min": 471.5618022451357, "cost2_max": 0.0, "system_level_velocity_min": 9.318548098008693}, "node_ip": "10.138.0.2", "timesteps_total": 1552877}
{"hostname": "flow-main", "episode_reward_mean": 869.350345783099, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8550>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.28055119514465, "timesteps_since_restore": 1617401, "info": {"num_steps_trained": 1617401, "default": {"entropy": 1.2938307523727417, "kl": 0.01141694001853466, "vf_loss": 14.226162910461426, "vf_explained_var": 0.8554511666297913, "policy_loss": -0.007185747846961021, "total_loss": 14.220691680908203, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.787, "sample_time_ms": 32688.587, "grad_time_ms": 16551.712, "update_time_ms": 8.231, "num_steps_sampled": 1617401}, "time_total_s": 1202.1350393295288, "num_metric_batches_dropped": 0, "timestamp": 1558307696, "episode_reward_max": 1163.0713992623512, "timesteps_this_iter": 64524, "episode_reward_min": 150.4954060951869, "date": "2019-05-19_23-14-56", "policy_reward_mean": {}, "time_since_restore": 1202.1350393295288, "episodes_total": 677, "iterations_since_restore": 24, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 694.03, "done": false, "training_iteration": 24, "custom_metrics": {"cost2_mean": -0.04208067142860896, "outflow_rate_mean": 1090.379940831777, "system_level_velocity_mean": 13.132813859186198, "cost2_min": -0.75821774890825, "cost1_min": 68.73212239410701, "cost1_mean": 337.98802660311117, "cost1_max": 450.6820347117009, "outflow_rate_max": 1309.0099061705287, "system_level_velocity_max": 18.192551141491652, "outflow_rate_min": 691.8448738163589, "cost2_max": 0.0, "system_level_velocity_min": 9.318548098008693}, "node_ip": "10.138.0.2", "timesteps_total": 1617401}
{"hostname": "flow-main", "episode_reward_mean": 835.3818660383951, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecd30>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.390807151794434, "timesteps_since_restore": 1683034, "info": {"num_steps_trained": 1683034, "default": {"entropy": 1.2912447452545166, "kl": 0.012348287738859653, "vf_loss": 15.508920669555664, "vf_explained_var": 0.8366504907608032, "policy_loss": -0.0069721657782793045, "total_loss": 15.503801345825195, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.66, "sample_time_ms": 32845.336, "grad_time_ms": 16641.378, "update_time_ms": 8.083, "num_steps_sampled": 1683034}, "time_total_s": 1253.5258464813232, "num_metric_batches_dropped": 0, "timestamp": 1558307747, "episode_reward_max": 1140.4289968626251, "timesteps_this_iter": 65633, "episode_reward_min": 62.61472871721214, "date": "2019-05-19_23-15-47", "policy_reward_mean": {}, "time_since_restore": 1253.5258464813232, "episodes_total": 707, "iterations_since_restore": 25, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 676.4, "done": false, "training_iteration": 25, "custom_metrics": {"cost2_mean": -0.04108872768990249, "outflow_rate_mean": 1069.094962406397, "system_level_velocity_mean": 13.05476385433219, "cost2_min": -0.75821774890825, "cost1_min": 26.06862378246873, "cost1_mean": 323.8892996131249, "cost1_max": 450.6820347117009, "outflow_rate_max": 1309.0099061705287, "system_level_velocity_max": 18.35613586489731, "outflow_rate_min": 514.5279805840466, "cost2_max": 0.0, "system_level_velocity_min": 9.318548098008693}, "node_ip": "10.138.0.2", "timesteps_total": 1683034}
{"hostname": "flow-main", "episode_reward_mean": 839.7581616384526, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfefd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfef98>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.270352602005005, "timesteps_since_restore": 1751249, "info": {"num_steps_trained": 1751249, "default": {"entropy": 1.2828902006149292, "kl": 0.012280943803489208, "vf_loss": 15.591150283813477, "vf_explained_var": 0.8461325168609619, "policy_loss": -0.007437859196215868, "total_loss": 15.585556030273438, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.739, "sample_time_ms": 32811.118, "grad_time_ms": 16519.127, "update_time_ms": 8.32, "num_steps_sampled": 1751249}, "time_total_s": 1302.7961990833282, "num_metric_batches_dropped": 0, "timestamp": 1558307797, "episode_reward_max": 1123.5233522550338, "timesteps_this_iter": 68215, "episode_reward_min": 62.61472871721214, "date": "2019-05-19_23-16-37", "policy_reward_mean": {}, "time_since_restore": 1302.7961990833282, "episodes_total": 735, "iterations_since_restore": 26, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 670.87, "done": false, "training_iteration": 26, "custom_metrics": {"cost2_mean": -0.030607118673246506, "outflow_rate_mean": 1078.264028239051, "system_level_velocity_mean": 13.36121654653632, "cost2_min": -0.30000000000000004, "cost1_min": 26.06862378246873, "cost1_mean": 327.94009935003965, "cost1_max": 459.28837599108556, "outflow_rate_max": 1331.0205160313099, "system_level_velocity_max": 18.35613586489731, "outflow_rate_min": 514.5279805840466, "cost2_max": 0.0, "system_level_velocity_min": 9.426197041358789}, "node_ip": "10.138.0.2", "timesteps_total": 1751249}
{"hostname": "flow-main", "episode_reward_mean": 820.8761802254476, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d025c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02828>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.051790714263916, "timesteps_since_restore": 1816713, "info": {"num_steps_trained": 1816713, "default": {"entropy": 1.2918455600738525, "kl": 0.013391338288784027, "vf_loss": 15.614294052124023, "vf_explained_var": 0.8447362780570984, "policy_loss": -0.008053266443312168, "total_loss": 15.608250617980957, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.883, "sample_time_ms": 32858.804, "grad_time_ms": 16196.627, "update_time_ms": 8.003, "num_steps_sampled": 1816713}, "time_total_s": 1350.8479897975922, "num_metric_batches_dropped": 0, "timestamp": 1558307845, "episode_reward_max": 1089.3712692561148, "timesteps_this_iter": 65464, "episode_reward_min": 32.07963949337177, "date": "2019-05-19_23-17-25", "policy_reward_mean": {}, "time_since_restore": 1350.8479897975922, "episodes_total": 763, "iterations_since_restore": 27, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 657.45, "done": false, "training_iteration": 27, "custom_metrics": {"cost2_mean": -0.028901183376328233, "outflow_rate_mean": 1064.0996628208966, "system_level_velocity_mean": 13.421523272011889, "cost2_min": -0.25782901840653594, "cost1_min": 11.830642851657707, "cost1_mean": 320.2743837660952, "cost1_max": 459.28837599108556, "outflow_rate_max": 1331.0205160313099, "system_level_velocity_max": 18.514221095633125, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.426197041358789}, "node_ip": "10.138.0.2", "timesteps_total": 1816713}
{"hostname": "flow-main", "episode_reward_mean": 842.748950241293, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e2b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.44737696647644, "timesteps_since_restore": 1883915, "info": {"num_steps_trained": 1883915, "default": {"entropy": 1.2902909517288208, "kl": 0.013173879124224186, "vf_loss": 14.154999732971191, "vf_explained_var": 0.8503875136375427, "policy_loss": -0.007703580427914858, "total_loss": 14.149271965026855, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 8.024, "sample_time_ms": 33097.498, "grad_time_ms": 16188.875, "update_time_ms": 7.7, "num_steps_sampled": 1883915}, "time_total_s": 1402.2953667640686, "num_metric_batches_dropped": 0, "timestamp": 1558307896, "episode_reward_max": 1089.3712692561148, "timesteps_this_iter": 67202, "episode_reward_min": 32.07963949337177, "date": "2019-05-19_23-18-16", "policy_reward_mean": {}, "time_since_restore": 1402.2953667640686, "episodes_total": 790, "iterations_since_restore": 28, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 674.44, "done": false, "training_iteration": 28, "custom_metrics": {"cost2_mean": -0.031690152818697734, "outflow_rate_mean": 1072.8445208595847, "system_level_velocity_mean": 13.210661695209067, "cost2_min": -0.34273700166476895, "cost1_min": 11.830642851657707, "cost1_mean": 326.18767551010666, "cost1_max": 459.28837599108556, "outflow_rate_max": 1331.0205160313099, "system_level_velocity_max": 18.514221095633125, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.426197041358789}, "node_ip": "10.138.0.2", "timesteps_total": 1883915}
{"hostname": "flow-main", "episode_reward_mean": 853.8898044475167, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe860>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.47601914405823, "timesteps_since_restore": 1948690, "info": {"num_steps_trained": 1948690, "default": {"entropy": 1.2849582433700562, "kl": 0.01319588627666235, "vf_loss": 15.179110527038574, "vf_explained_var": 0.8626936674118042, "policy_loss": -0.007816552184522152, "total_loss": 15.173272132873535, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.92, "sample_time_ms": 33290.362, "grad_time_ms": 16028.256, "update_time_ms": 7.859, "num_steps_sampled": 1948690}, "time_total_s": 1450.7713859081268, "num_metric_batches_dropped": 0, "timestamp": 1558307945, "episode_reward_max": 1170.1961626775949, "timesteps_this_iter": 64775, "episode_reward_min": 32.07963949337177, "date": "2019-05-19_23-19-05", "policy_reward_mean": {}, "time_since_restore": 1450.7713859081268, "episodes_total": 818, "iterations_since_restore": 29, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 681.05, "done": false, "training_iteration": 29, "custom_metrics": {"cost2_mean": -0.039808555134908545, "outflow_rate_mean": 1086.806057190452, "system_level_velocity_mean": 13.302124482728408, "cost2_min": -0.3828263036285701, "cost1_min": 11.830642851657707, "cost1_mean": 332.9996157818395, "cost1_max": 458.5701786940712, "outflow_rate_max": 1299.205627918188, "system_level_velocity_max": 18.514221095633125, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.591576859418549}, "node_ip": "10.138.0.2", "timesteps_total": 1948690}
{"hostname": "flow-main", "episode_reward_mean": 868.6981861887148, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e198>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.77425956726074, "timesteps_since_restore": 2013556, "info": {"num_steps_trained": 2013556, "default": {"entropy": 1.2824913263320923, "kl": 0.012943216599524021, "vf_loss": 16.003633499145508, "vf_explained_var": 0.8471512198448181, "policy_loss": -0.007505923043936491, "total_loss": 15.998071670532227, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 8.001, "sample_time_ms": 33524.375, "grad_time_ms": 16276.018, "update_time_ms": 8.071, "num_steps_sampled": 2013556}, "time_total_s": 1503.5456454753876, "num_metric_batches_dropped": 0, "timestamp": 1558307998, "episode_reward_max": 1170.1961626775949, "timesteps_this_iter": 64866, "episode_reward_min": 32.07963949337177, "date": "2019-05-19_23-19-58", "policy_reward_mean": {}, "time_since_restore": 1503.5456454753876, "episodes_total": 845, "iterations_since_restore": 30, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 688.05, "done": false, "training_iteration": 30, "custom_metrics": {"cost2_mean": -0.041323219876334034, "outflow_rate_mean": 1100.792625925575, "system_level_velocity_mean": 13.419241726069107, "cost2_min": -0.3828263036285701, "cost1_min": 11.830642851657707, "cost1_mean": 341.37574565847433, "cost1_max": 455.14057326014506, "outflow_rate_max": 1292.5746808731506, "system_level_velocity_max": 17.98568457975553, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.591576859418549}, "node_ip": "10.138.0.2", "timesteps_total": 2013556}
{"hostname": "flow-main", "episode_reward_mean": 861.0491905992594, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.62414288520813, "timesteps_since_restore": 2078462, "info": {"num_steps_trained": 2078462, "default": {"entropy": 1.2919312715530396, "kl": 0.014182757586240768, "vf_loss": 16.47120475769043, "vf_explained_var": 0.8656952381134033, "policy_loss": -0.0075171333737671375, "total_loss": 16.4658145904541, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 8.299, "sample_time_ms": 33585.911, "grad_time_ms": 16180.069, "update_time_ms": 8.085, "num_steps_sampled": 2078462}, "time_total_s": 1552.1697883605957, "num_metric_batches_dropped": 0, "timestamp": 1558308046, "episode_reward_max": 1170.1961626775949, "timesteps_this_iter": 64906, "episode_reward_min": 158.26632947776875, "date": "2019-05-19_23-20-46", "policy_reward_mean": {}, "time_since_restore": 1552.1697883605957, "episodes_total": 875, "iterations_since_restore": 31, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 689.0, "done": false, "training_iteration": 31, "custom_metrics": {"cost2_mean": -0.05444047300709716, "outflow_rate_mean": 1098.1005693435611, "system_level_velocity_mean": 13.347213915173112, "cost2_min": -0.5, "cost1_min": 76.83007355465611, "cost1_mean": 340.259791308791, "cost1_max": 458.2354475242786, "outflow_rate_max": 1297.0599067944809, "system_level_velocity_max": 18.509465903738256, "outflow_rate_min": 714.9410668046146, "cost2_max": 0.0, "system_level_velocity_min": 9.000549699978706}, "node_ip": "10.138.0.2", "timesteps_total": 2078462}
{"hostname": "flow-main", "episode_reward_mean": 856.3275945172619, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288edd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.35357475280762, "timesteps_since_restore": 2142619, "info": {"num_steps_trained": 2142619, "default": {"entropy": 1.2833987474441528, "kl": 0.01496949978172779, "vf_loss": 16.403230667114258, "vf_explained_var": 0.8556758761405945, "policy_loss": -0.008681196719408035, "total_loss": 16.396791458129883, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 8.369, "sample_time_ms": 33595.344, "grad_time_ms": 16040.038, "update_time_ms": 7.875, "num_steps_sampled": 2142619}, "time_total_s": 1602.5233631134033, "num_metric_batches_dropped": 0, "timestamp": 1558308097, "episode_reward_max": 1140.3824312659035, "timesteps_this_iter": 64157, "episode_reward_min": 41.6349744983312, "date": "2019-05-19_23-21-37", "policy_reward_mean": {}, "time_since_restore": 1602.5233631134033, "episodes_total": 905, "iterations_since_restore": 32, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 682.23, "done": false, "training_iteration": 32, "custom_metrics": {"cost2_mean": -0.06927643066607032, "outflow_rate_mean": 1090.9428320662046, "system_level_velocity_mean": 13.466839585572048, "cost2_min": -0.5, "cost1_min": 15.226342546791212, "cost1_mean": 338.7081321790041, "cost1_max": 458.2354475242786, "outflow_rate_max": 1297.0599067944809, "system_level_velocity_max": 19.174043930902073, "outflow_rate_min": 471.7409567042159, "cost2_max": 0.0, "system_level_velocity_min": 9.000549699978706}, "node_ip": "10.138.0.2", "timesteps_total": 2142619}
{"hostname": "flow-main", "episode_reward_mean": 847.2717051897511, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eb70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.81231331825256, "timesteps_since_restore": 2204219, "info": {"num_steps_trained": 2204219, "default": {"entropy": 1.2936623096466064, "kl": 0.01520961057394743, "vf_loss": 15.577081680297852, "vf_explained_var": 0.8588902950286865, "policy_loss": -0.009573813527822495, "total_loss": 15.56978988647461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 8.228, "sample_time_ms": 33599.434, "grad_time_ms": 15820.375, "update_time_ms": 7.599, "num_steps_sampled": 2204219}, "time_total_s": 1649.3356764316559, "num_metric_batches_dropped": 0, "timestamp": 1558308144, "episode_reward_max": 1066.527516040838, "timesteps_this_iter": 61600, "episode_reward_min": 41.6349744983312, "date": "2019-05-19_23-22-24", "policy_reward_mean": {}, "time_since_restore": 1649.3356764316559, "episodes_total": 934, "iterations_since_restore": 33, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 687.36, "done": false, "training_iteration": 33, "custom_metrics": {"cost2_mean": -0.06722181459428138, "outflow_rate_mean": 1090.819053455161, "system_level_velocity_mean": 13.411485224271342, "cost2_min": -0.5213675213675213, "cost1_min": 15.226342546791212, "cost1_mean": 340.78447743354786, "cost1_max": 466.36077391486134, "outflow_rate_max": 1298.486304731593, "system_level_velocity_max": 19.174043930902073, "outflow_rate_min": 471.7409567042159, "cost2_max": 0.0, "system_level_velocity_min": 9.000549699978706}, "node_ip": "10.138.0.2", "timesteps_total": 2204219}
{"hostname": "flow-main", "episode_reward_mean": 838.0342754576054, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e978>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.08331489562988, "timesteps_since_restore": 2266968, "info": {"num_steps_trained": 2266968, "default": {"entropy": 1.2951529026031494, "kl": 0.015262209810316563, "vf_loss": 18.06288719177246, "vf_explained_var": 0.8500840067863464, "policy_loss": -0.009185794740915298, "total_loss": 18.05599021911621, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 8.118, "sample_time_ms": 33742.738, "grad_time_ms": 15857.201, "update_time_ms": 7.736, "num_steps_sampled": 2266968}, "time_total_s": 1699.4189913272858, "num_metric_batches_dropped": 0, "timestamp": 1558308194, "episode_reward_max": 1096.1644397219443, "timesteps_this_iter": 62749, "episode_reward_min": 41.6349744983312, "date": "2019-05-19_23-23-14", "policy_reward_mean": {}, "time_since_restore": 1699.4189913272858, "episodes_total": 964, "iterations_since_restore": 34, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 680.65, "done": false, "training_iteration": 34, "custom_metrics": {"cost2_mean": -0.06636811119829032, "outflow_rate_mean": 1076.8747781900086, "system_level_velocity_mean": 13.333216005147406, "cost2_min": -0.5213675213675213, "cost1_min": 15.226342546791212, "cost1_mean": 333.8925651699342, "cost1_max": 466.36077391486134, "outflow_rate_max": 1298.486304731593, "system_level_velocity_max": 19.174043930902073, "outflow_rate_min": 471.7409567042159, "cost2_max": 0.0, "system_level_velocity_min": 10.5113714130985}, "node_ip": "10.138.0.2", "timesteps_total": 2266968}
{"hostname": "flow-main", "episode_reward_mean": 822.5363609289727, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d023c8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.73798990249634, "timesteps_since_restore": 2331195, "info": {"num_steps_trained": 2331195, "default": {"entropy": 1.299670934677124, "kl": 0.016506792977452278, "vf_loss": 18.10466194152832, "vf_explained_var": 0.8345760107040405, "policy_loss": -0.009611250832676888, "total_loss": 18.097524642944336, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 8.041, "sample_time_ms": 33677.645, "grad_time_ms": 15657.21, "update_time_ms": 7.983, "num_steps_sampled": 2331195}, "time_total_s": 1748.156981229782, "num_metric_batches_dropped": 0, "timestamp": 1558308243, "episode_reward_max": 1096.1644397219443, "timesteps_this_iter": 64227, "episode_reward_min": 41.6349744983312, "date": "2019-05-19_23-24-03", "policy_reward_mean": {}, "time_since_restore": 1748.156981229782, "episodes_total": 996, "iterations_since_restore": 35, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 668.11, "done": false, "training_iteration": 35, "custom_metrics": {"cost2_mean": -0.056578426344266235, "outflow_rate_mean": 1068.090415913317, "system_level_velocity_mean": 13.473121855352119, "cost2_min": -0.6038916086556954, "cost1_min": 15.226342546791212, "cost1_mean": 329.0373654519171, "cost1_max": 466.36077391486134, "outflow_rate_max": 1298.486304731593, "system_level_velocity_max": 19.174043930902073, "outflow_rate_min": 450.8799222272646, "cost2_max": 0.0, "system_level_velocity_min": 10.5113714130985}, "node_ip": "10.138.0.2", "timesteps_total": 2331195}
{"hostname": "flow-main", "episode_reward_mean": 821.7486525069804, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe5c0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.72471809387207, "timesteps_since_restore": 2394160, "info": {"num_steps_trained": 2394160, "default": {"entropy": 1.292670726776123, "kl": 0.015253367833793163, "vf_loss": 18.57798194885254, "vf_explained_var": 0.8461429476737976, "policy_loss": -0.009349098429083824, "total_loss": 18.570920944213867, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.914, "sample_time_ms": 33582.918, "grad_time_ms": 15598.564, "update_time_ms": 7.733, "num_steps_sampled": 2394160}, "time_total_s": 1795.8816993236542, "num_metric_batches_dropped": 0, "timestamp": 1558308290, "episode_reward_max": 1159.767134874307, "timesteps_this_iter": 62965, "episode_reward_min": 50.443629240918, "date": "2019-05-19_23-24-50", "policy_reward_mean": {}, "time_since_restore": 1795.8816993236542, "episodes_total": 1025, "iterations_since_restore": 36, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 663.51, "done": false, "training_iteration": 36, "custom_metrics": {"cost2_mean": -0.05173020466651816, "outflow_rate_mean": 1065.862902001641, "system_level_velocity_mean": 13.528373997876828, "cost2_min": -0.6038916086556954, "cost1_min": 18.72184523610739, "cost1_mean": 327.48023758456554, "cost1_max": 466.36077391486134, "outflow_rate_max": 1298.486304731593, "system_level_velocity_max": 18.590516259414134, "outflow_rate_min": 450.8799222272646, "cost2_max": 0.0, "system_level_velocity_min": 10.526839490520647}, "node_ip": "10.138.0.2", "timesteps_total": 2394160}
{"hostname": "flow-main", "episode_reward_mean": 830.894967640758, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfeba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfee80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.0150043964386, "timesteps_since_restore": 2459671, "info": {"num_steps_trained": 2459671, "default": {"entropy": 1.3009088039398193, "kl": 0.01531775202602148, "vf_loss": 17.799413681030273, "vf_explained_var": 0.8375970125198364, "policy_loss": -0.008453958667814732, "total_loss": 17.793258666992188, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.916, "sample_time_ms": 33696.613, "grad_time_ms": 15580.335, "update_time_ms": 8.128, "num_steps_sampled": 2459671}, "time_total_s": 1844.8967037200928, "num_metric_batches_dropped": 0, "timestamp": 1558308339, "episode_reward_max": 1159.767134874307, "timesteps_this_iter": 65511, "episode_reward_min": 50.443629240918, "date": "2019-05-19_23-25-39", "policy_reward_mean": {}, "time_since_restore": 1844.8967037200928, "episodes_total": 1053, "iterations_since_restore": 37, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 663.51, "done": false, "training_iteration": 37, "custom_metrics": {"cost2_mean": -0.05151931586535923, "outflow_rate_mean": 1069.4182199087256, "system_level_velocity_mean": 13.675512410992772, "cost2_min": -0.6038916086556954, "cost1_min": 18.72184523610739, "cost1_mean": 331.15215711814744, "cost1_max": 466.27583047760436, "outflow_rate_max": 1304.911931035768, "system_level_velocity_max": 18.590516259414134, "outflow_rate_min": 450.8799222272646, "cost2_max": 0.0, "system_level_velocity_min": 10.526839490520647}, "node_ip": "10.138.0.2", "timesteps_total": 2459671}
{"hostname": "flow-main", "episode_reward_mean": 848.580394453668, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ef98>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.81480550765991, "timesteps_since_restore": 2523514, "info": {"num_steps_trained": 2523514, "default": {"entropy": 1.3081079721450806, "kl": 0.018880164250731468, "vf_loss": 15.620317459106445, "vf_explained_var": 0.8611043095588684, "policy_loss": -0.01189742423593998, "total_loss": 15.611251831054688, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.524, "sample_time_ms": 33402.275, "grad_time_ms": 15611.157, "update_time_ms": 8.123, "num_steps_sampled": 2523514}, "time_total_s": 1893.7115092277527, "num_metric_batches_dropped": 0, "timestamp": 1558308388, "episode_reward_max": 1159.767134874307, "timesteps_this_iter": 63843, "episode_reward_min": 206.92446353558532, "date": "2019-05-19_23-26-28", "policy_reward_mean": {}, "time_since_restore": 1893.7115092277527, "episodes_total": 1081, "iterations_since_restore": 38, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 688.63, "done": false, "training_iteration": 38, "custom_metrics": {"cost2_mean": -0.052599722035280155, "outflow_rate_mean": 1087.0684117121446, "system_level_velocity_mean": 13.444971192717059, "cost2_min": -0.6038916086556954, "cost1_min": 85.45252181719485, "cost1_mean": 341.9485736417406, "cost1_max": 466.27583047760436, "outflow_rate_max": 1304.911931035768, "system_level_velocity_max": 18.46056042675845, "outflow_rate_min": 733.9637135151539, "cost2_max": 0.0, "system_level_velocity_min": 10.526839490520647}, "node_ip": "10.138.0.2", "timesteps_total": 2523514}
{"hostname": "flow-main", "episode_reward_mean": 838.878474532986, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e908>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.74936532974243, "timesteps_since_restore": 2587699, "info": {"num_steps_trained": 2587699, "default": {"entropy": 1.289298176765442, "kl": 0.017266245558857918, "vf_loss": 20.55852508544922, "vf_explained_var": 0.843251645565033, "policy_loss": -0.00967855378985405, "total_loss": 20.551437377929688, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.484, "sample_time_ms": 33287.44, "grad_time_ms": 15554.311, "update_time_ms": 8.088, "num_steps_sampled": 2587699}, "time_total_s": 1940.4608745574951, "num_metric_batches_dropped": 0, "timestamp": 1558308435, "episode_reward_max": 1091.6372931297678, "timesteps_this_iter": 64185, "episode_reward_min": 38.627385664766194, "date": "2019-05-19_23-27-15", "policy_reward_mean": {}, "time_since_restore": 1940.4608745574951, "episodes_total": 1110, "iterations_since_restore": 39, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 681.86, "done": false, "training_iteration": 39, "custom_metrics": {"cost2_mean": -0.04746556383925621, "outflow_rate_mean": 1077.354699851458, "system_level_velocity_mean": 13.507388503620502, "cost2_min": -0.5431256035453949, "cost1_min": 15.392158925738848, "cost1_mean": 338.69936187221833, "cost1_max": 466.27583047760436, "outflow_rate_max": 1304.911931035768, "system_level_velocity_max": 18.46056042675845, "outflow_rate_min": 480.93355929196133, "cost2_max": 0.0, "system_level_velocity_min": 10.30439512059815}, "node_ip": "10.138.0.2", "timesteps_total": 2587699}
{"hostname": "flow-main", "episode_reward_mean": 836.1469139273629, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ea58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e7f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.379465103149414, "timesteps_since_restore": 2650100, "info": {"num_steps_trained": 2650100, "default": {"entropy": 1.290008306503296, "kl": 0.01645880751311779, "vf_loss": 19.18974494934082, "vf_explained_var": 0.8509206771850586, "policy_loss": -0.009210859425365925, "total_loss": 19.18300437927246, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.385, "sample_time_ms": 33019.58, "grad_time_ms": 15383.879, "update_time_ms": 7.952, "num_steps_sampled": 2650100}, "time_total_s": 1988.8403396606445, "num_metric_batches_dropped": 0, "timestamp": 1558308483, "episode_reward_max": 1072.2873709003593, "timesteps_this_iter": 62401, "episode_reward_min": 30.07697740154074, "date": "2019-05-19_23-28-03", "policy_reward_mean": {}, "time_since_restore": 1988.8403396606445, "episodes_total": 1138, "iterations_since_restore": 40, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 679.83, "done": false, "training_iteration": 40, "custom_metrics": {"cost2_mean": -0.04583271833472078, "outflow_rate_mean": 1071.6824523619262, "system_level_velocity_mean": 13.47399485811067, "cost2_min": -0.7750968159735006, "cost1_min": 15.3860598146182, "cost1_mean": 336.39866424715365, "cost1_max": 465.39874634588375, "outflow_rate_max": 1287.905207094307, "system_level_velocity_max": 18.74573477341706, "outflow_rate_min": 478.1717822205406, "cost2_max": 0.0, "system_level_velocity_min": 10.30439512059815}, "node_ip": "10.138.0.2", "timesteps_total": 2650100}
{"hostname": "flow-main", "episode_reward_mean": 836.7350203136734, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c88>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.83356475830078, "timesteps_since_restore": 2714080, "info": {"num_steps_trained": 2714080, "default": {"entropy": 1.3019375801086426, "kl": 0.017135003581643105, "vf_loss": 20.269697189331055, "vf_explained_var": 0.8314986824989319, "policy_loss": -0.009047135710716248, "total_loss": 20.263221740722656, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.201, "sample_time_ms": 32951.811, "grad_time_ms": 15472.608, "update_time_ms": 7.939, "num_steps_sampled": 2714080}, "time_total_s": 2037.6739044189453, "num_metric_batches_dropped": 0, "timestamp": 1558308532, "episode_reward_max": 1098.631465936605, "timesteps_this_iter": 63980, "episode_reward_min": 29.0540967767722, "date": "2019-05-19_23-28-52", "policy_reward_mean": {}, "time_since_restore": 2037.6739044189453, "episodes_total": 1169, "iterations_since_restore": 41, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 673.01, "done": false, "training_iteration": 41, "custom_metrics": {"cost2_mean": -0.04533469409202398, "outflow_rate_mean": 1072.0527720425523, "system_level_velocity_mean": 13.662301999532893, "cost2_min": -0.7750968159735006, "cost1_min": 11.742221682905061, "cost1_mean": 337.04204272878707, "cost1_max": 465.39874634588375, "outflow_rate_max": 1287.905207094307, "system_level_velocity_max": 18.74573477341706, "outflow_rate_min": 455.34447721462936, "cost2_max": 0.0, "system_level_velocity_min": 10.093154727095456}, "node_ip": "10.138.0.2", "timesteps_total": 2714080}
{"hostname": "flow-main", "episode_reward_mean": 843.9924886717364, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.75843572616577, "timesteps_since_restore": 2777319, "info": {"num_steps_trained": 2777319, "default": {"entropy": 1.2931932210922241, "kl": 0.015811756253242493, "vf_loss": 20.056549072265625, "vf_explained_var": 0.8487043976783752, "policy_loss": -0.008191538974642754, "total_loss": 20.05072784423828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.079, "sample_time_ms": 32725.633, "grad_time_ms": 15440.048, "update_time_ms": 8.029, "num_steps_sampled": 2777319}, "time_total_s": 2085.432340145111, "num_metric_batches_dropped": 0, "timestamp": 1558308580, "episode_reward_max": 1098.631465936605, "timesteps_this_iter": 63239, "episode_reward_min": 29.0540967767722, "date": "2019-05-19_23-29-40", "policy_reward_mean": {}, "time_since_restore": 2085.432340145111, "episodes_total": 1198, "iterations_since_restore": 42, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 673.2, "done": false, "training_iteration": 42, "custom_metrics": {"cost2_mean": -0.045002298630199104, "outflow_rate_mean": 1078.2666375935455, "system_level_velocity_mean": 13.750201384924633, "cost2_min": -0.7750968159735006, "cost1_min": 11.742221682905061, "cost1_mean": 339.2215490437274, "cost1_max": 473.3936182391334, "outflow_rate_max": 1319.4841323272713, "system_level_velocity_max": 18.74573477341706, "outflow_rate_min": 455.34447721462936, "cost2_max": 0.0, "system_level_velocity_min": 9.231449289723187}, "node_ip": "10.138.0.2", "timesteps_total": 2777319}
{"hostname": "flow-main", "episode_reward_mean": 835.4331113012375, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf54a8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.95672869682312, "timesteps_since_restore": 2840737, "info": {"num_steps_trained": 2840737, "default": {"entropy": 1.2931455373764038, "kl": 0.017350345849990845, "vf_loss": 18.705644607543945, "vf_explained_var": 0.8541905283927917, "policy_loss": -0.009688078425824642, "total_loss": 18.69855499267578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.384, "sample_time_ms": 32528.296, "grad_time_ms": 15851.183, "update_time_ms": 7.972, "num_steps_sampled": 2840737}, "time_total_s": 2134.389068841934, "num_metric_batches_dropped": 0, "timestamp": 1558308629, "episode_reward_max": 1115.7310922647437, "timesteps_this_iter": 63418, "episode_reward_min": 29.0540967767722, "date": "2019-05-19_23-30-29", "policy_reward_mean": {}, "time_since_restore": 2134.389068841934, "episodes_total": 1228, "iterations_since_restore": 43, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 679.83, "done": false, "training_iteration": 43, "custom_metrics": {"cost2_mean": -0.06569506318291025, "outflow_rate_mean": 1077.794243054877, "system_level_velocity_mean": 13.609820478123982, "cost2_min": -0.7928409264568119, "cost1_min": 11.742221682905061, "cost1_mean": 339.45547968253845, "cost1_max": 473.3936182391334, "outflow_rate_max": 1319.4841323272713, "system_level_velocity_max": 18.493047074092424, "outflow_rate_min": 455.34447721462936, "cost2_max": 0.0, "system_level_velocity_min": 9.231449289723187}, "node_ip": "10.138.0.2", "timesteps_total": 2840737}
{"hostname": "flow-main", "episode_reward_mean": 848.6157532506352, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028981d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.09204578399658, "timesteps_since_restore": 2905195, "info": {"num_steps_trained": 2905195, "default": {"entropy": 1.2929686307907104, "kl": 0.016379330307245255, "vf_loss": 20.455472946166992, "vf_explained_var": 0.8542801737785339, "policy_loss": -0.00792231597006321, "total_loss": 20.45000648498535, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.534, "sample_time_ms": 32335.901, "grad_time_ms": 15944.289, "update_time_ms": 7.96, "num_steps_sampled": 2905195}, "time_total_s": 2183.481114625931, "num_metric_batches_dropped": 0, "timestamp": 1558308678, "episode_reward_max": 1115.7310922647437, "timesteps_this_iter": 64458, "episode_reward_min": 59.74338615996068, "date": "2019-05-19_23-31-18", "policy_reward_mean": {}, "time_since_restore": 2183.481114625931, "episodes_total": 1259, "iterations_since_restore": 44, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 693.42, "done": false, "training_iteration": 44, "custom_metrics": {"cost2_mean": -0.061795049028266, "outflow_rate_mean": 1098.228996532115, "system_level_velocity_mean": 13.604537124093786, "cost2_min": -0.7928409264568119, "cost1_min": 27.593016132053943, "cost1_mean": 347.7509376478286, "cost1_max": 502.9857846794948, "outflow_rate_max": 1319.4841323272713, "system_level_velocity_max": 19.489310383782833, "outflow_rate_min": 516.2489754499148, "cost2_max": 0.0, "system_level_velocity_min": 9.231449289723187}, "node_ip": "10.138.0.2", "timesteps_total": 2905195}
{"hostname": "flow-main", "episode_reward_mean": 857.0124196238427, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eb70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.700984477996826, "timesteps_since_restore": 2967208, "info": {"num_steps_trained": 2967208, "default": {"entropy": 1.2809733152389526, "kl": 0.01715574972331524, "vf_loss": 21.629623413085938, "vf_explained_var": 0.862132728099823, "policy_loss": -0.00981723703444004, "total_loss": 21.622379302978516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.688, "sample_time_ms": 32106.29, "grad_time_ms": 16172.019, "update_time_ms": 7.7, "num_steps_sampled": 2967208}, "time_total_s": 2232.1820991039276, "num_metric_batches_dropped": 0, "timestamp": 1558308727, "episode_reward_max": 1115.7310922647437, "timesteps_this_iter": 62013, "episode_reward_min": 292.15034417531365, "date": "2019-05-19_23-32-07", "policy_reward_mean": {}, "time_since_restore": 2232.1820991039276, "episodes_total": 1288, "iterations_since_restore": 45, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 694.98, "done": false, "training_iteration": 45, "custom_metrics": {"cost2_mean": -0.0767322283782276, "outflow_rate_mean": 1105.0282971619931, "system_level_velocity_mean": 13.596237825241124, "cost2_min": -0.7928409264568119, "cost1_min": 135.36507958010264, "cost1_mean": 348.27999723336075, "cost1_max": 502.9857846794948, "outflow_rate_max": 1313.9563415591363, "system_level_velocity_max": 19.489310383782833, "outflow_rate_min": 853.1550440394027, "cost2_max": 0.0, "system_level_velocity_min": 9.231449289723187}, "node_ip": "10.138.0.2", "timesteps_total": 2967208}
{"hostname": "flow-main", "episode_reward_mean": 860.6934127995306, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.52802300453186, "timesteps_since_restore": 3030920, "info": {"num_steps_trained": 3030920, "default": {"entropy": 1.287703037261963, "kl": 0.015940584242343903, "vf_loss": 20.29584503173828, "vf_explained_var": 0.8582886457443237, "policy_loss": -0.008003809489309788, "total_loss": 20.290233612060547, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.71, "sample_time_ms": 32143.094, "grad_time_ms": 16215.487, "update_time_ms": 7.779, "num_steps_sampled": 3030920}, "time_total_s": 2280.7101221084595, "num_metric_batches_dropped": 0, "timestamp": 1558308776, "episode_reward_max": 1133.617591142295, "timesteps_this_iter": 63712, "episode_reward_min": 292.15034417531365, "date": "2019-05-19_23-32-56", "policy_reward_mean": {}, "time_since_restore": 2280.7101221084595, "episodes_total": 1318, "iterations_since_restore": 46, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 694.98, "done": false, "training_iteration": 46, "custom_metrics": {"cost2_mean": -0.07143055517900437, "outflow_rate_mean": 1114.3561027790329, "system_level_velocity_mean": 13.661155982254575, "cost2_min": -0.6666666666666666, "cost1_min": 135.36507958010264, "cost1_mean": 349.9412111873487, "cost1_max": 502.9857846794948, "outflow_rate_max": 1334.769188813778, "system_level_velocity_max": 19.489310383782833, "outflow_rate_min": 853.1550440394027, "cost2_max": 0.0, "system_level_velocity_min": 10.231623305286377}, "node_ip": "10.138.0.2", "timesteps_total": 3030920}
{"hostname": "flow-main", "episode_reward_mean": 862.3967542695069, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf57f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5128>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.97654366493225, "timesteps_since_restore": 3095330, "info": {"num_steps_trained": 3095330, "default": {"entropy": 1.2980629205703735, "kl": 0.017882656306028366, "vf_loss": 18.945480346679688, "vf_explained_var": 0.85591721534729, "policy_loss": -0.010544921271502972, "total_loss": 18.9376163482666, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.525, "sample_time_ms": 31931.396, "grad_time_ms": 16523.959, "update_time_ms": 7.387, "num_steps_sampled": 3095330}, "time_total_s": 2330.6866657733917, "num_metric_batches_dropped": 0, "timestamp": 1558308826, "episode_reward_max": 1133.617591142295, "timesteps_this_iter": 64410, "episode_reward_min": 292.15034417531365, "date": "2019-05-19_23-33-46", "policy_reward_mean": {}, "time_since_restore": 2330.6866657733917, "episodes_total": 1345, "iterations_since_restore": 47, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 694.98, "done": false, "training_iteration": 47, "custom_metrics": {"cost2_mean": -0.06980106778373157, "outflow_rate_mean": 1112.7739122674836, "system_level_velocity_mean": 13.568348131640377, "cost2_min": -0.7011665576965889, "cost1_min": 135.36507958010264, "cost1_mean": 347.60608845144304, "cost1_max": 502.9857846794948, "outflow_rate_max": 1334.769188813778, "system_level_velocity_max": 19.489310383782833, "outflow_rate_min": 853.1550440394027, "cost2_max": 0.0, "system_level_velocity_min": 9.934743867217561}, "node_ip": "10.138.0.2", "timesteps_total": 3095330}
{"hostname": "flow-main", "episode_reward_mean": 862.2768557649922, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.69027042388916, "timesteps_since_restore": 3158733, "info": {"num_steps_trained": 3158733, "default": {"entropy": 1.2871514558792114, "kl": 0.016065042465925217, "vf_loss": 20.80613899230957, "vf_explained_var": 0.8363081216812134, "policy_loss": -0.008288607932627201, "total_loss": 20.800260543823242, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.96, "sample_time_ms": 31909.458, "grad_time_ms": 16531.913, "update_time_ms": 7.561, "num_steps_sampled": 3158733}, "time_total_s": 2379.376936197281, "num_metric_batches_dropped": 0, "timestamp": 1558308874, "episode_reward_max": 1133.617591142295, "timesteps_this_iter": 63403, "episode_reward_min": 421.89169293746846, "date": "2019-05-19_23-34-34", "policy_reward_mean": {}, "time_since_restore": 2379.376936197281, "episodes_total": 1372, "iterations_since_restore": 48, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 695.98, "done": false, "training_iteration": 48, "custom_metrics": {"cost2_mean": -0.076854154635937, "outflow_rate_mean": 1105.4878617925608, "system_level_velocity_mean": 13.395770034908482, "cost2_min": -0.7011665576965889, "cost1_min": 204.48029886280244, "cost1_mean": 343.6390916898425, "cost1_max": 482.23070947262136, "outflow_rate_max": 1350.9067518549682, "system_level_velocity_max": 18.944962247142403, "outflow_rate_min": 956.8774589300796, "cost2_max": 0.0, "system_level_velocity_min": 9.934743867217561}, "node_ip": "10.138.0.2", "timesteps_total": 3158733}
{"hostname": "flow-main", "episode_reward_mean": 851.1423170176407, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.71578860282898, "timesteps_since_restore": 3222858, "info": {"num_steps_trained": 3222858, "default": {"entropy": 1.2934885025024414, "kl": 0.01772441528737545, "vf_loss": 20.315706253051758, "vf_explained_var": 0.845708966255188, "policy_loss": -0.009084630757570267, "total_loss": 20.309280395507812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.946, "sample_time_ms": 31903.594, "grad_time_ms": 16932.606, "update_time_ms": 7.76, "num_steps_sampled": 3222858}, "time_total_s": 2430.09272480011, "num_metric_batches_dropped": 0, "timestamp": 1558308925, "episode_reward_max": 1133.617591142295, "timesteps_this_iter": 64125, "episode_reward_min": 60.62346509909913, "date": "2019-05-19_23-35-25", "policy_reward_mean": {}, "time_since_restore": 2430.09272480011, "episodes_total": 1401, "iterations_since_restore": 49, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 689.35, "done": false, "training_iteration": 49, "custom_metrics": {"cost2_mean": -0.07033676998428877, "outflow_rate_mean": 1088.9300015393583, "system_level_velocity_mean": 13.251718193048516, "cost2_min": -0.7046963958452832, "cost1_min": 24.750140305568564, "cost1_mean": 335.20938922831346, "cost1_max": 482.23070947262136, "outflow_rate_max": 1350.9067518549682, "system_level_velocity_max": 18.944962247142403, "outflow_rate_min": 522.653232013965, "cost2_max": 0.0, "system_level_velocity_min": 9.934743867217561}, "node_ip": "10.138.0.2", "timesteps_total": 3222858}
{"hostname": "flow-main", "episode_reward_mean": 847.6713640798023, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce86a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce83c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce88d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.679198026657104, "timesteps_since_restore": 3288013, "info": {"num_steps_trained": 3288013, "default": {"entropy": 1.2922816276550293, "kl": 0.017651202157139778, "vf_loss": 19.714984893798828, "vf_explained_var": 0.8526492118835449, "policy_loss": -0.009784288704395294, "total_loss": 19.707849502563477, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 8.061, "sample_time_ms": 31915.093, "grad_time_ms": 17049.503, "update_time_ms": 7.769, "num_steps_sampled": 3288013}, "time_total_s": 2479.771922826767, "num_metric_batches_dropped": 0, "timestamp": 1558308975, "episode_reward_max": 1107.9578814277766, "timesteps_this_iter": 65155, "episode_reward_min": 60.62346509909913, "date": "2019-05-19_23-36-15", "policy_reward_mean": {}, "time_since_restore": 2479.771922826767, "episodes_total": 1428, "iterations_since_restore": 50, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 689.35, "done": false, "training_iteration": 50, "custom_metrics": {"cost2_mean": -0.07494984340414293, "outflow_rate_mean": 1091.9838244676807, "system_level_velocity_mean": 13.333661807642946, "cost2_min": -0.7394323775226359, "cost1_min": 24.750140305568564, "cost1_mean": 337.0580740509386, "cost1_max": 482.23070947262136, "outflow_rate_max": 1350.9067518549682, "system_level_velocity_max": 18.944962247142403, "outflow_rate_min": 522.653232013965, "cost2_max": 0.0, "system_level_velocity_min": 9.934743867217561}, "node_ip": "10.138.0.2", "timesteps_total": 3288013}
{"hostname": "flow-main", "episode_reward_mean": 845.8964864893617, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8a20>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.50677847862244, "timesteps_since_restore": 3353248, "info": {"num_steps_trained": 3353248, "default": {"entropy": 1.2925167083740234, "kl": 0.01541907899081707, "vf_loss": 19.647539138793945, "vf_explained_var": 0.8452109098434448, "policy_loss": -0.007783989887684584, "total_loss": 19.64206886291504, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 8.004, "sample_time_ms": 31850.924, "grad_time_ms": 17182.109, "update_time_ms": 7.929, "num_steps_sampled": 3353248}, "time_total_s": 2529.2787013053894, "num_metric_batches_dropped": 0, "timestamp": 1558309024, "episode_reward_max": 1107.9578814277766, "timesteps_this_iter": 65235, "episode_reward_min": 60.62346509909913, "date": "2019-05-19_23-37-04", "policy_reward_mean": {}, "time_since_restore": 2529.2787013053894, "episodes_total": 1456, "iterations_since_restore": 51, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 693.37, "done": false, "training_iteration": 51, "custom_metrics": {"cost2_mean": -0.06569122385957774, "outflow_rate_mean": 1094.4854617508652, "system_level_velocity_mean": 13.301196650040561, "cost2_min": -0.7394323775226359, "cost1_min": 24.750140305568564, "cost1_mean": 338.7374678137445, "cost1_max": 482.23070947262136, "outflow_rate_max": 1350.9067518549682, "system_level_velocity_max": 18.728460265571265, "outflow_rate_min": 522.653232013965, "cost2_max": 0.0, "system_level_velocity_min": 9.138430228136643}, "node_ip": "10.138.0.2", "timesteps_total": 3353248}
{"hostname": "flow-main", "episode_reward_mean": 848.3359455528432, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028980b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.221320152282715, "timesteps_since_restore": 3418367, "info": {"num_steps_trained": 3418367, "default": {"entropy": 1.2902082204818726, "kl": 0.018288221210241318, "vf_loss": 20.925342559814453, "vf_explained_var": 0.8330674171447754, "policy_loss": -0.008521241135895252, "total_loss": 20.919565200805664, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.859, "sample_time_ms": 31963.542, "grad_time_ms": 17313.128, "update_time_ms": 7.848, "num_steps_sampled": 3418367}, "time_total_s": 2579.500021457672, "num_metric_batches_dropped": 0, "timestamp": 1558309075, "episode_reward_max": 1107.9578814277766, "timesteps_this_iter": 65119, "episode_reward_min": 60.62346509909913, "date": "2019-05-19_23-37-55", "policy_reward_mean": {}, "time_since_restore": 2579.500021457672, "episodes_total": 1483, "iterations_since_restore": 52, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 693.37, "done": false, "training_iteration": 52, "custom_metrics": {"cost2_mean": -0.07176094741417291, "outflow_rate_mean": 1088.2978297201273, "system_level_velocity_mean": 13.182590990670786, "cost2_min": -0.7394323775226359, "cost1_min": 24.750140305568564, "cost1_mean": 336.1617405761018, "cost1_max": 461.0959948753624, "outflow_rate_max": 1317.302517525441, "system_level_velocity_max": 18.47179774258479, "outflow_rate_min": 522.653232013965, "cost2_max": 0.0, "system_level_velocity_min": 9.138430228136643}, "node_ip": "10.138.0.2", "timesteps_total": 3418367}
{"hostname": "flow-main", "episode_reward_mean": 843.9840855247119, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecf28>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.05050873756409, "timesteps_since_restore": 3483904, "info": {"num_steps_trained": 3483904, "default": {"entropy": 1.303486943244934, "kl": 0.01863148994743824, "vf_loss": 19.376983642578125, "vf_explained_var": 0.8449686765670776, "policy_loss": -0.009557568468153477, "total_loss": 19.370220184326172, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.967, "sample_time_ms": 32326.805, "grad_time_ms": 17258.597, "update_time_ms": 7.933, "num_steps_sampled": 3483904}, "time_total_s": 2631.550530195236, "num_metric_batches_dropped": 0, "timestamp": 1558309127, "episode_reward_max": 1127.7371751781818, "timesteps_this_iter": 65537, "episode_reward_min": 182.87845567244275, "date": "2019-05-19_23-38-47", "policy_reward_mean": {}, "time_since_restore": 2631.550530195236, "episodes_total": 1511, "iterations_since_restore": 53, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 694.3, "done": false, "training_iteration": 53, "custom_metrics": {"cost2_mean": -0.07762698187853605, "outflow_rate_mean": 1078.0832223449856, "system_level_velocity_mean": 12.980774592288917, "cost2_min": -0.7394323775226359, "cost1_min": 90.30458586624383, "cost1_mean": 331.4611754096518, "cost1_max": 456.8985595796746, "outflow_rate_max": 1269.8269101601595, "system_level_velocity_max": 19.1243611626307, "outflow_rate_min": 751.59293597478, "cost2_max": 0.0, "system_level_velocity_min": 9.138430228136643}, "node_ip": "10.138.0.2", "timesteps_total": 3483904}
{"hostname": "flow-main", "episode_reward_mean": 853.8346595832132, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce82e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8710>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.10531044006348, "timesteps_since_restore": 3548096, "info": {"num_steps_trained": 3548096, "default": {"entropy": 1.3000617027282715, "kl": 0.01911192387342453, "vf_loss": 21.39796257019043, "vf_explained_var": 0.8437641859054565, "policy_loss": -0.00995087344199419, "total_loss": 21.390878677368164, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.874, "sample_time_ms": 32387.824, "grad_time_ms": 17294.625, "update_time_ms": 8.15, "num_steps_sampled": 3548096}, "time_total_s": 2681.6558406352997, "num_metric_batches_dropped": 0, "timestamp": 1558309177, "episode_reward_max": 1127.7371751781818, "timesteps_this_iter": 64192, "episode_reward_min": 182.87845567244275, "date": "2019-05-19_23-39-37", "policy_reward_mean": {}, "time_since_restore": 2681.6558406352997, "episodes_total": 1539, "iterations_since_restore": 54, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 694.3, "done": false, "training_iteration": 54, "custom_metrics": {"cost2_mean": -0.07246640675172826, "outflow_rate_mean": 1083.5788404419884, "system_level_velocity_mean": 13.120434369632124, "cost2_min": -0.6609085366065721, "cost1_min": 90.30458586624383, "cost1_mean": 335.13228111981766, "cost1_max": 470.871876105415, "outflow_rate_max": 1322.5972445257516, "system_level_velocity_max": 19.1243611626307, "outflow_rate_min": 751.59293597478, "cost2_max": 0.0, "system_level_velocity_min": 9.138430228136643}, "node_ip": "10.138.0.2", "timesteps_total": 3548096}
{"hostname": "flow-main", "episode_reward_mean": 856.6781711969768, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5d68>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.45169711112976, "timesteps_since_restore": 3611783, "info": {"num_steps_trained": 3611783, "default": {"entropy": 1.2967160940170288, "kl": 0.018267463892698288, "vf_loss": 22.013172149658203, "vf_explained_var": 0.8501381278038025, "policy_loss": -0.009581342339515686, "total_loss": 22.006330490112305, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "load_time_ms": 7.859, "sample_time_ms": 32483.728, "grad_time_ms": 17372.806, "update_time_ms": 8.514, "num_steps_sampled": 3611783}, "time_total_s": 2732.1075377464294, "num_metric_batches_dropped": 0, "timestamp": 1558309227, "episode_reward_max": 1127.7371751781818, "timesteps_this_iter": 63687, "episode_reward_min": 182.87845567244275, "date": "2019-05-19_23-40-27", "policy_reward_mean": {}, "time_since_restore": 2732.1075377464294, "episodes_total": 1569, "iterations_since_restore": 55, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 694.3, "done": false, "training_iteration": 55, "custom_metrics": {"cost2_mean": -0.07080497781859538, "outflow_rate_mean": 1089.8928951345981, "system_level_velocity_mean": 13.300213628371587, "cost2_min": -0.5604722027737771, "cost1_min": 90.30458586624383, "cost1_mean": 339.6902151207362, "cost1_max": 473.3990755812049, "outflow_rate_max": 1322.5972445257516, "system_level_velocity_max": 19.1243611626307, "outflow_rate_min": 751.59293597478, "cost2_max": 0.0, "system_level_velocity_min": 9.39774851242361}, "node_ip": "10.138.0.2", "timesteps_total": 3611783}
{"hostname": "flow-main", "episode_reward_mean": 857.2623896483223, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecc88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb2b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.40554976463318, "timesteps_since_restore": 3674667, "info": {"num_steps_trained": 3674667, "default": {"entropy": 1.3156431913375854, "kl": 0.020640721544623375, "vf_loss": 21.58368682861328, "vf_explained_var": 0.8399403095245361, "policy_loss": -0.011133771389722824, "total_loss": 21.575645446777344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "load_time_ms": 7.979, "sample_time_ms": 32564.216, "grad_time_ms": 17379.127, "update_time_ms": 8.751, "num_steps_sampled": 3674667}, "time_total_s": 2781.5130875110626, "num_metric_batches_dropped": 0, "timestamp": 1558309277, "episode_reward_max": 1013.1547150209168, "timesteps_this_iter": 62884, "episode_reward_min": 688.2055287346255, "date": "2019-05-19_23-41-17", "policy_reward_mean": {}, "time_since_restore": 2781.5130875110626, "episodes_total": 1598, "iterations_since_restore": 56, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 700.0, "done": false, "training_iteration": 56, "custom_metrics": {"cost2_mean": -0.07898124621397319, "outflow_rate_mean": 1095.8081817032148, "system_level_velocity_mean": 13.308362121389816, "cost2_min": -0.8956390483919504, "cost1_min": 253.53613012556497, "cost1_mean": 343.7298797642225, "cost1_max": 473.3990755812049, "outflow_rate_max": 1322.5972445257516, "system_level_velocity_max": 18.323149632092143, "outflow_rate_min": 946.5715639107476, "cost2_max": 0.0, "system_level_velocity_min": 9.804897761735301}, "node_ip": "10.138.0.2", "timesteps_total": 3674667}
{"hostname": "flow-main", "episode_reward_mean": 858.6489751940443, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02dd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.392024755477905, "timesteps_since_restore": 3738460, "info": {"num_steps_trained": 3738460, "default": {"entropy": 1.3153330087661743, "kl": 0.01668211631476879, "vf_loss": 22.65168571472168, "vf_explained_var": 0.8537172079086304, "policy_loss": -0.00982071366161108, "total_loss": 22.645618438720703, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 7.751, "sample_time_ms": 32647.976, "grad_time_ms": 17336.743, "update_time_ms": 8.761, "num_steps_sampled": 3738460}, "time_total_s": 2831.9051122665405, "num_metric_batches_dropped": 0, "timestamp": 1558309327, "episode_reward_max": 1062.4384340895995, "timesteps_this_iter": 63793, "episode_reward_min": 688.2055287346255, "date": "2019-05-19_23-42-07", "policy_reward_mean": {}, "time_since_restore": 2831.9051122665405, "episodes_total": 1628, "iterations_since_restore": 57, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 700.0, "done": false, "training_iteration": 57, "custom_metrics": {"cost2_mean": -0.06549328747040327, "outflow_rate_mean": 1095.9493790519089, "system_level_velocity_mean": 13.403275082700866, "cost2_min": -0.8956390483919504, "cost1_min": 253.53613012556497, "cost1_mean": 346.25988303079174, "cost1_max": 476.1743628500781, "outflow_rate_max": 1322.5972445257516, "system_level_velocity_max": 18.581396166222373, "outflow_rate_min": 934.9454986621619, "cost2_max": 0.0, "system_level_velocity_min": 9.804897761735301}, "node_ip": "10.138.0.2", "timesteps_total": 3738460}
{"hostname": "flow-main", "episode_reward_mean": 829.0612140662874, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed30>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.512122631073, "timesteps_since_restore": 3802216, "info": {"num_steps_trained": 3802216, "default": {"entropy": 1.3216922283172607, "kl": 0.015730302780866623, "vf_loss": 25.362218856811523, "vf_explained_var": 0.8216450214385986, "policy_loss": -0.009712828323245049, "total_loss": 25.35604476928711, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 7.022, "sample_time_ms": 32874.491, "grad_time_ms": 17190.072, "update_time_ms": 8.957, "num_steps_sampled": 3802216}, "time_total_s": 2881.4172348976135, "num_metric_batches_dropped": 0, "timestamp": 1558309377, "episode_reward_max": 1062.4384340895995, "timesteps_this_iter": 63756, "episode_reward_min": 204.80602916984898, "date": "2019-05-19_23-42-57", "policy_reward_mean": {}, "time_since_restore": 2881.4172348976135, "episodes_total": 1660, "iterations_since_restore": 58, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 678.02, "done": false, "training_iteration": 58, "custom_metrics": {"cost2_mean": -0.047059097399060584, "outflow_rate_mean": 1074.5772821984997, "system_level_velocity_mean": 13.551919775299782, "cost2_min": -0.8956390483919504, "cost1_min": 87.76258299861075, "cost1_mean": 334.68789134897787, "cost1_max": 476.1743628500781, "outflow_rate_max": 1308.2388499170472, "system_level_velocity_max": 18.813039574887764, "outflow_rate_min": 754.0620380971841, "cost2_max": 0.0, "system_level_velocity_min": 10.1625984780981}, "node_ip": "10.138.0.2", "timesteps_total": 3802216}
{"hostname": "flow-main", "episode_reward_mean": 829.5368380080289, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4a8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.053834438323975, "timesteps_since_restore": 3865431, "info": {"num_steps_trained": 3865431, "default": {"entropy": 1.320345163345337, "kl": 0.015492460690438747, "vf_loss": 23.465003967285156, "vf_explained_var": 0.8464793562889099, "policy_loss": -0.009592719376087189, "total_loss": 23.45889663696289, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 6.805, "sample_time_ms": 33294.962, "grad_time_ms": 17005.813, "update_time_ms": 9.117, "num_steps_sampled": 3865431}, "time_total_s": 2934.4710693359375, "num_metric_batches_dropped": 0, "timestamp": 1558309430, "episode_reward_max": 1062.4384340895995, "timesteps_this_iter": 63215, "episode_reward_min": 23.365782972492887, "date": "2019-05-19_23-43-50", "policy_reward_mean": {}, "time_since_restore": 2934.4710693359375, "episodes_total": 1691, "iterations_since_restore": 59, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 671.2, "done": false, "training_iteration": 59, "custom_metrics": {"cost2_mean": -0.03511763110960677, "outflow_rate_mean": 1065.0168058974366, "system_level_velocity_mean": 13.623460859379174, "cost2_min": -0.375, "cost1_min": 11.68289148624644, "cost1_mean": 332.5824039813764, "cost1_max": 476.1743628500781, "outflow_rate_max": 1308.2388499170472, "system_level_velocity_max": 18.813039574887764, "outflow_rate_min": 455.34447721462936, "cost2_max": 0.0, "system_level_velocity_min": 10.1625984780981}, "node_ip": "10.138.0.2", "timesteps_total": 3865431}
{"hostname": "flow-main", "episode_reward_mean": 821.6316432144583, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce87f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce84e0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.42672824859619, "timesteps_since_restore": 3926872, "info": {"num_steps_trained": 3926872, "default": {"entropy": 1.3200241327285767, "kl": 0.015895480290055275, "vf_loss": 22.972841262817383, "vf_explained_var": 0.8420203924179077, "policy_loss": -0.009729443117976189, "total_loss": 22.96668815612793, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 6.598, "sample_time_ms": 33404.96, "grad_time_ms": 16871.288, "update_time_ms": 9.11, "num_steps_sampled": 3926872}, "time_total_s": 2983.8977975845337, "num_metric_batches_dropped": 0, "timestamp": 1558309479, "episode_reward_max": 1070.6699418993808, "timesteps_this_iter": 61441, "episode_reward_min": 23.365782972492887, "date": "2019-05-19_23-44-39", "policy_reward_mean": {}, "time_since_restore": 2983.8977975845337, "episodes_total": 1718, "iterations_since_restore": 60, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 659.26, "done": false, "training_iteration": 60, "custom_metrics": {"cost2_mean": -0.042623772479364844, "outflow_rate_mean": 1054.7846519622806, "system_level_velocity_mean": 13.740100111036995, "cost2_min": -0.8244570237967715, "cost1_min": 11.68289148624644, "cost1_mean": 327.8645080454589, "cost1_max": 470.2601306231429, "outflow_rate_max": 1280.4238329229931, "system_level_velocity_max": 18.813039574887764, "outflow_rate_min": 455.34447721462936, "cost2_max": 0.0, "system_level_velocity_min": 10.1625984780981}, "node_ip": "10.138.0.2", "timesteps_total": 3926872}
{"hostname": "flow-main", "episode_reward_mean": 833.181159126055, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.579710960388184, "timesteps_since_restore": 3990261, "info": {"num_steps_trained": 3990261, "default": {"entropy": 1.3129446506500244, "kl": 0.01571577973663807, "vf_loss": 24.152034759521484, "vf_explained_var": 0.8358476161956787, "policy_loss": -0.00990187469869852, "total_loss": 24.145668029785156, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 6.776, "sample_time_ms": 33539.343, "grad_time_ms": 16543.306, "update_time_ms": 9.024, "num_steps_sampled": 3990261}, "time_total_s": 3031.477508544922, "num_metric_batches_dropped": 0, "timestamp": 1558309527, "episode_reward_max": 1070.6699418993808, "timesteps_this_iter": 63389, "episode_reward_min": 23.365782972492887, "date": "2019-05-19_23-45-27", "policy_reward_mean": {}, "time_since_restore": 3031.477508544922, "episodes_total": 1747, "iterations_since_restore": 61, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 670.52, "done": false, "training_iteration": 61, "custom_metrics": {"cost2_mean": -0.05389502073887992, "outflow_rate_mean": 1063.0706760379032, "system_level_velocity_mean": 13.654176761380775, "cost2_min": -0.8244570237967715, "cost1_min": 11.68289148624644, "cost1_mean": 333.43202938305336, "cost1_max": 470.2601306231429, "outflow_rate_max": 1280.4238329229931, "system_level_velocity_max": 18.813039574887764, "outflow_rate_min": 455.34447721462936, "cost2_max": 0.0, "system_level_velocity_min": 10.26949482601928}, "node_ip": "10.138.0.2", "timesteps_total": 3990261}
{"hostname": "flow-main", "episode_reward_mean": 814.5429007896316, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ed68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e748>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.39110016822815, "timesteps_since_restore": 4054757, "info": {"num_steps_trained": 4054757, "default": {"entropy": 1.3251489400863647, "kl": 0.015881793573498726, "vf_loss": 26.488906860351562, "vf_explained_var": 0.8219142556190491, "policy_loss": -0.009219618514180183, "total_loss": 26.483259201049805, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 7.14, "sample_time_ms": 33740.654, "grad_time_ms": 16459.033, "update_time_ms": 9.004, "num_steps_sampled": 4054757}, "time_total_s": 3082.86860871315, "num_metric_batches_dropped": 0, "timestamp": 1558309579, "episode_reward_max": 1070.6699418993808, "timesteps_this_iter": 64496, "episode_reward_min": 23.365782972492887, "date": "2019-05-19_23-46-19", "policy_reward_mean": {}, "time_since_restore": 3082.86860871315, "episodes_total": 1780, "iterations_since_restore": 62, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 656.61, "done": false, "training_iteration": 62, "custom_metrics": {"cost2_mean": -0.04780595310190258, "outflow_rate_mean": 1051.9490507425571, "system_level_velocity_mean": 13.767813019952449, "cost2_min": -0.8244570237967715, "cost1_min": 11.68289148624644, "cost1_mean": 327.2320345348778, "cost1_max": 470.2601306231429, "outflow_rate_max": 1280.4238329229931, "system_level_velocity_max": 18.805707307809513, "outflow_rate_min": 455.34447721462936, "cost2_max": 0.0, "system_level_velocity_min": 10.302683130010237}, "node_ip": "10.138.0.2", "timesteps_total": 4054757}
{"hostname": "flow-main", "episode_reward_mean": 834.0909195226085, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.699557065963745, "timesteps_since_restore": 4118065, "info": {"num_steps_trained": 4118065, "default": {"entropy": 1.324819803237915, "kl": 0.016936156898736954, "vf_loss": 23.106504440307617, "vf_explained_var": 0.862377941608429, "policy_loss": -0.009987368248403072, "total_loss": 23.10032844543457, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "load_time_ms": 6.711, "sample_time_ms": 33557.348, "grad_time_ms": 16309.303, "update_time_ms": 8.954, "num_steps_sampled": 4118065}, "time_total_s": 3131.5681657791138, "num_metric_batches_dropped": 0, "timestamp": 1558309627, "episode_reward_max": 1073.5971268137491, "timesteps_this_iter": 63308, "episode_reward_min": 37.125463230849405, "date": "2019-05-19_23-47-07", "policy_reward_mean": {}, "time_since_restore": 3131.5681657791138, "episodes_total": 1809, "iterations_since_restore": 63, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 670.18, "done": false, "training_iteration": 63, "custom_metrics": {"cost2_mean": -0.03904206166774456, "outflow_rate_mean": 1067.4129130289077, "system_level_velocity_mean": 13.758189956658693, "cost2_min": -0.8, "cost1_min": 16.476797973346223, "cost1_mean": 335.5328684523733, "cost1_max": 470.2601306231429, "outflow_rate_max": 1280.4238329229931, "system_level_velocity_max": 18.805707307809513, "outflow_rate_min": 478.9342030958992, "cost2_max": 0.0, "system_level_velocity_min": 8.998702607882107}, "node_ip": "10.138.0.2", "timesteps_total": 4118065}
{"hostname": "flow-main", "episode_reward_mean": 823.8759639041074, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ef0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.9254252910614, "timesteps_since_restore": 4181827, "info": {"num_steps_trained": 4181827, "default": {"entropy": 1.3452515602111816, "kl": 0.01698315143585205, "vf_loss": 23.511274337768555, "vf_explained_var": 0.860750138759613, "policy_loss": -0.011351795867085457, "total_loss": 23.50374412536621, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 6.866, "sample_time_ms": 33560.747, "grad_time_ms": 16192.212, "update_time_ms": 8.78, "num_steps_sampled": 4181827}, "time_total_s": 3180.493591070175, "num_metric_batches_dropped": 0, "timestamp": 1558309676, "episode_reward_max": 1074.1239769854974, "timesteps_this_iter": 63762, "episode_reward_min": 28.960958913874673, "date": "2019-05-19_23-47-56", "policy_reward_mean": {}, "time_since_restore": 3180.493591070175, "episodes_total": 1839, "iterations_since_restore": 64, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 661.78, "done": false, "training_iteration": 64, "custom_metrics": {"cost2_mean": -0.021053863293874438, "outflow_rate_mean": 1069.2161431856155, "system_level_velocity_mean": 14.055381315963736, "cost2_min": -0.3261498402144729, "cost1_min": 11.705998768369382, "cost1_mean": 337.2191841131651, "cost1_max": 458.9915126759163, "outflow_rate_max": 1267.8643160227691, "system_level_velocity_max": 19.4778290482928, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 8.998702607882107}, "node_ip": "10.138.0.2", "timesteps_total": 4181827}
{"hostname": "flow-main", "episode_reward_mean": 835.085719707085, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028986d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898048>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.884506940841675, "timesteps_since_restore": 4246754, "info": {"num_steps_trained": 4246754, "default": {"entropy": 1.3536301851272583, "kl": 0.01719013974070549, "vf_loss": 22.29079818725586, "vf_explained_var": 0.864265501499176, "policy_loss": -0.009986413642764091, "total_loss": 22.284679412841797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 7.028, "sample_time_ms": 33672.658, "grad_time_ms": 16023.815, "update_time_ms": 8.436, "num_steps_sampled": 4246754}, "time_total_s": 3230.378098011017, "num_metric_batches_dropped": 0, "timestamp": 1558309726, "episode_reward_max": 1074.1239769854974, "timesteps_this_iter": 64927, "episode_reward_min": 28.960958913874673, "date": "2019-05-19_23-48-46", "policy_reward_mean": {}, "time_since_restore": 3230.378098011017, "episodes_total": 1868, "iterations_since_restore": 65, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 667.35, "done": false, "training_iteration": 65, "custom_metrics": {"cost2_mean": -0.028675338155604177, "outflow_rate_mean": 1064.870181291919, "system_level_velocity_mean": 13.85455420149897, "cost2_min": -0.5310616086135843, "cost1_min": 11.705998768369382, "cost1_mean": 335.22579251365715, "cost1_max": 458.9915126759163, "outflow_rate_max": 1267.0008073344877, "system_level_velocity_max": 19.4778290482928, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 8.998702607882107}, "node_ip": "10.138.0.2", "timesteps_total": 4246754}
{"hostname": "flow-main", "episode_reward_mean": 850.8025720635322, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf57b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55f8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.093438148498535, "timesteps_since_restore": 4308045, "info": {"num_steps_trained": 4308045, "default": {"entropy": 1.3506182432174683, "kl": 0.017143752425909042, "vf_loss": 26.474973678588867, "vf_explained_var": 0.8382247090339661, "policy_loss": -0.011608153581619263, "total_loss": 26.467222213745117, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 6.86, "sample_time_ms": 33619.826, "grad_time_ms": 15846.96, "update_time_ms": 8.132, "num_steps_sampled": 4308045}, "time_total_s": 3277.4715361595154, "num_metric_batches_dropped": 0, "timestamp": 1558309773, "episode_reward_max": 1074.1239769854974, "timesteps_this_iter": 61291, "episode_reward_min": 28.960958913874673, "date": "2019-05-19_23-49-33", "policy_reward_mean": {}, "time_since_restore": 3277.4715361595154, "episodes_total": 1897, "iterations_since_restore": 66, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 679.72, "done": false, "training_iteration": 66, "custom_metrics": {"cost2_mean": -0.03964265330056971, "outflow_rate_mean": 1071.8585291452532, "system_level_velocity_mean": 13.715204443358736, "cost2_min": -0.8712053481160177, "cost1_min": 11.705998768369382, "cost1_mean": 340.0655415362385, "cost1_max": 475.97165414612664, "outflow_rate_max": 1284.0637089510303, "system_level_velocity_max": 19.4778290482928, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 8.998702607882107}, "node_ip": "10.138.0.2", "timesteps_total": 4308045}
{"hostname": "flow-main", "episode_reward_mean": 863.4135280966527, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbf28>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.893455028533936, "timesteps_since_restore": 4368795, "info": {"num_steps_trained": 4368795, "default": {"entropy": 1.338832139968872, "kl": 0.01611616462469101, "vf_loss": 23.765039443969727, "vf_explained_var": 0.8717369437217712, "policy_loss": -0.009931078180670738, "total_loss": 23.75873565673828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 7.324, "sample_time_ms": 33542.833, "grad_time_ms": 15674.722, "update_time_ms": 8.093, "num_steps_sampled": 4368795}, "time_total_s": 3325.3649911880493, "num_metric_batches_dropped": 0, "timestamp": 1558309821, "episode_reward_max": 1051.4171323270073, "timesteps_this_iter": 60750, "episode_reward_min": 28.960958913874673, "date": "2019-05-19_23-50-21", "policy_reward_mean": {}, "time_since_restore": 3325.3649911880493, "episodes_total": 1926, "iterations_since_restore": 67, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 686.49, "done": false, "training_iteration": 67, "custom_metrics": {"cost2_mean": -0.05525295604741612, "outflow_rate_mean": 1086.2669576256908, "system_level_velocity_mean": 13.953315366370314, "cost2_min": -0.8712053481160177, "cost1_min": 11.705998768369382, "cost1_mean": 350.1299812354675, "cost1_max": 475.97165414612664, "outflow_rate_max": 1284.0637089510303, "system_level_velocity_max": 19.4778290482928, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 9.57593619090783}, "node_ip": "10.138.0.2", "timesteps_total": 4368795}
{"hostname": "flow-main", "episode_reward_mean": 857.7501140044558, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.7200927734375, "timesteps_since_restore": 4430443, "info": {"num_steps_trained": 4430443, "default": {"entropy": 1.3376741409301758, "kl": 0.015515710227191448, "vf_loss": 25.151750564575195, "vf_explained_var": 0.8684107661247253, "policy_loss": -0.008931200951337814, "total_loss": 25.146312713623047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 7.51, "sample_time_ms": 33395.151, "grad_time_ms": 15548.485, "update_time_ms": 7.775, "num_steps_sampled": 4430443}, "time_total_s": 3372.085083961487, "num_metric_batches_dropped": 0, "timestamp": 1558309868, "episode_reward_max": 1051.4171323270073, "timesteps_this_iter": 61648, "episode_reward_min": 25.556592650139415, "date": "2019-05-19_23-51-08", "policy_reward_mean": {}, "time_since_restore": 3372.085083961487, "episodes_total": 1957, "iterations_since_restore": 68, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 687.59, "done": false, "training_iteration": 68, "custom_metrics": {"cost2_mean": -0.055174758954314604, "outflow_rate_mean": 1094.605393335274, "system_level_velocity_mean": 14.036852280806881, "cost2_min": -0.8712053481160177, "cost1_min": 11.737284696169034, "cost1_mean": 353.6712435758298, "cost1_max": 475.97165414612664, "outflow_rate_max": 1284.0637089510303, "system_level_velocity_max": 19.05654512826749, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.57593619090783}, "node_ip": "10.138.0.2", "timesteps_total": 4430443}
{"hostname": "flow-main", "episode_reward_mean": 859.1838611691102, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d68>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.00517559051514, "timesteps_since_restore": 4493008, "info": {"num_steps_trained": 4493008, "default": {"entropy": 1.3449441194534302, "kl": 0.015181565657258034, "vf_loss": 26.560518264770508, "vf_explained_var": 0.8549751043319702, "policy_loss": -0.008959122933447361, "total_loss": 26.554975509643555, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 7.88, "sample_time_ms": 32992.906, "grad_time_ms": 15545.383, "update_time_ms": 7.431, "num_steps_sampled": 4493008}, "time_total_s": 3421.090259552002, "num_metric_batches_dropped": 0, "timestamp": 1558309917, "episode_reward_max": 1052.0798729527316, "timesteps_this_iter": 62565, "episode_reward_min": 25.556592650139415, "date": "2019-05-19_23-51-57", "policy_reward_mean": {}, "time_since_restore": 3421.090259552002, "episodes_total": 1987, "iterations_since_restore": 69, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 687.59, "done": false, "training_iteration": 69, "custom_metrics": {"cost2_mean": -0.05659941178005154, "outflow_rate_mean": 1099.3445990196362, "system_level_velocity_mean": 14.193549999354808, "cost2_min": -0.543440398493381, "cost1_min": 11.737284696169034, "cost1_mean": 357.2344540804388, "cost1_max": 459.6618758139301, "outflow_rate_max": 1267.9880234595678, "system_level_velocity_max": 19.05654512826749, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.69882376883031}, "node_ip": "10.138.0.2", "timesteps_total": 4493008}
{"hostname": "flow-main", "episode_reward_mean": 858.4141449706462, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897550>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.324841260910034, "timesteps_since_restore": 4556915, "info": {"num_steps_trained": 4556915, "default": {"entropy": 1.3509575128555298, "kl": 0.016049373894929886, "vf_loss": 22.668378829956055, "vf_explained_var": 0.8623566031455994, "policy_loss": -0.009549622423946857, "total_loss": 22.66244125366211, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "load_time_ms": 8.628, "sample_time_ms": 32770.994, "grad_time_ms": 15552.34, "update_time_ms": 7.385, "num_steps_sampled": 4556915}, "time_total_s": 3468.415100812912, "num_metric_batches_dropped": 0, "timestamp": 1558309964, "episode_reward_max": 1052.0798729527316, "timesteps_this_iter": 63907, "episode_reward_min": 25.556592650139415, "date": "2019-05-19_23-52-44", "policy_reward_mean": {}, "time_since_restore": 3468.415100812912, "episodes_total": 2016, "iterations_since_restore": 70, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 687.59, "done": false, "training_iteration": 70, "custom_metrics": {"cost2_mean": -0.046574112710899465, "outflow_rate_mean": 1102.0083888803908, "system_level_velocity_mean": 14.181692263722452, "cost2_min": -0.543440398493381, "cost1_min": 11.737284696169034, "cost1_mean": 357.26451262855534, "cost1_max": 476.2188840461529, "outflow_rate_max": 1311.6818832098475, "system_level_velocity_max": 19.05654512826749, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.69882376883031}, "node_ip": "10.138.0.2", "timesteps_total": 4556915}
{"hostname": "flow-main", "episode_reward_mean": 836.6977982891872, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028970b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.40449523925781, "timesteps_since_restore": 4621706, "info": {"num_steps_trained": 4621706, "default": {"entropy": 1.3465473651885986, "kl": 0.017932111397385597, "vf_loss": 24.135334014892578, "vf_explained_var": 0.8594072461128235, "policy_loss": -0.01022957544773817, "total_loss": 24.129140853881836, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 9.004, "sample_time_ms": 32644.884, "grad_time_ms": 15859.945, "update_time_ms": 7.584, "num_steps_sampled": 4621706}, "time_total_s": 3517.81959605217, "num_metric_batches_dropped": 0, "timestamp": 1558310014, "episode_reward_max": 1076.0346631950974, "timesteps_this_iter": 64791, "episode_reward_min": 25.556592650139415, "date": "2019-05-19_23-53-34", "policy_reward_mean": {}, "time_since_restore": 3517.81959605217, "episodes_total": 2045, "iterations_since_restore": 71, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 682.21, "done": false, "training_iteration": 71, "custom_metrics": {"cost2_mean": -0.04614667936365341, "outflow_rate_mean": 1081.2749954856322, "system_level_velocity_mean": 13.748626569711059, "cost2_min": -0.6915020600924798, "cost1_min": 11.737284696169034, "cost1_mean": 342.8560553873204, "cost1_max": 476.2188840461529, "outflow_rate_max": 1311.6818832098475, "system_level_velocity_max": 18.68679298300685, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.774114275718413}, "node_ip": "10.138.0.2", "timesteps_total": 4621706}
{"hostname": "flow-main", "episode_reward_mean": 843.7404117430061, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028985f8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.78707194328308, "timesteps_since_restore": 4686582, "info": {"num_steps_trained": 4686582, "default": {"entropy": 1.3546934127807617, "kl": 0.017147716134786606, "vf_loss": 24.436800003051758, "vf_explained_var": 0.8550986647605896, "policy_loss": -0.009603164158761501, "total_loss": 24.431053161621094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.667, "sample_time_ms": 32248.756, "grad_time_ms": 15995.135, "update_time_ms": 7.516, "num_steps_sampled": 4686582}, "time_total_s": 3566.606667995453, "num_metric_batches_dropped": 0, "timestamp": 1558310063, "episode_reward_max": 1076.0346631950974, "timesteps_this_iter": 64876, "episode_reward_min": 185.2610392255903, "date": "2019-05-19_23-54-23", "policy_reward_mean": {}, "time_since_restore": 3566.606667995453, "episodes_total": 2073, "iterations_since_restore": 72, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 689.03, "done": false, "training_iteration": 72, "custom_metrics": {"cost2_mean": -0.04190299543304095, "outflow_rate_mean": 1083.893984167679, "system_level_velocity_mean": 13.614084416809256, "cost2_min": -0.6915020600924798, "cost1_min": 75.96132049303196, "cost1_mean": 343.64936910388104, "cost1_max": 476.2188840461529, "outflow_rate_max": 1311.6818832098475, "system_level_velocity_max": 18.68679298300685, "outflow_rate_min": 716.8012076563947, "cost2_max": 0.0, "system_level_velocity_min": 9.774114275718413}, "node_ip": "10.138.0.2", "timesteps_total": 4686582}
{"hostname": "flow-main", "episode_reward_mean": 836.4735705117524, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.02456998825073, "timesteps_since_restore": 4752162, "info": {"num_steps_trained": 4752162, "default": {"entropy": 1.359609842300415, "kl": 0.016965672373771667, "vf_loss": 23.661502838134766, "vf_explained_var": 0.8593065738677979, "policy_loss": -0.009064091369509697, "total_loss": 23.6562557220459, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.69, "sample_time_ms": 32076.167, "grad_time_ms": 16098.615, "update_time_ms": 7.797, "num_steps_sampled": 4752162}, "time_total_s": 3614.6312379837036, "num_metric_batches_dropped": 0, "timestamp": 1558310111, "episode_reward_max": 1076.0346631950974, "timesteps_this_iter": 65580, "episode_reward_min": 185.2610392255903, "date": "2019-05-19_23-55-11", "policy_reward_mean": {}, "time_since_restore": 3614.6312379837036, "episodes_total": 2101, "iterations_since_restore": 73, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 681.68, "done": false, "training_iteration": 73, "custom_metrics": {"cost2_mean": -0.04364505225452811, "outflow_rate_mean": 1075.3886786210046, "system_level_velocity_mean": 13.544408720473022, "cost2_min": -0.6915020600924798, "cost1_min": 75.96132049303196, "cost1_mean": 337.28861962909724, "cost1_max": 451.74085110261115, "outflow_rate_max": 1284.1112246481157, "system_level_velocity_max": 18.68679298300685, "outflow_rate_min": 716.8012076563947, "cost2_max": 0.0, "system_level_velocity_min": 9.10415026560515}, "node_ip": "10.138.0.2", "timesteps_total": 4752162}
{"hostname": "flow-main", "episode_reward_mean": 852.313325437702, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028974a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028978d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.75686979293823, "timesteps_since_restore": 4816760, "info": {"num_steps_trained": 4816760, "default": {"entropy": 1.3528892993927002, "kl": 0.016318002715706825, "vf_loss": 23.979001998901367, "vf_explained_var": 0.8558354377746582, "policy_loss": -0.010088132694363594, "total_loss": 23.972583770751953, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.833, "sample_time_ms": 31860.272, "grad_time_ms": 16396.439, "update_time_ms": 7.759, "num_steps_sampled": 4816760}, "time_total_s": 3664.388107776642, "num_metric_batches_dropped": 0, "timestamp": 1558310161, "episode_reward_max": 1076.0346631950974, "timesteps_this_iter": 64598, "episode_reward_min": 185.2610392255903, "date": "2019-05-19_23-56-01", "policy_reward_mean": {}, "time_since_restore": 3664.388107776642, "episodes_total": 2130, "iterations_since_restore": 74, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 686.8, "done": false, "training_iteration": 74, "custom_metrics": {"cost2_mean": -0.06295786881548145, "outflow_rate_mean": 1081.6441681351785, "system_level_velocity_mean": 13.647891777572097, "cost2_min": -0.7595612594082655, "cost1_min": 75.96132049303196, "cost1_mean": 342.9973279210051, "cost1_max": 462.882223455847, "outflow_rate_max": 1284.1112246481157, "system_level_velocity_max": 18.655538631833537, "outflow_rate_min": 716.8012076563947, "cost2_max": 0.0, "system_level_velocity_min": 9.070770072759798}, "node_ip": "10.138.0.2", "timesteps_total": 4816760}
{"hostname": "flow-main", "episode_reward_mean": 866.8037936562091, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897358>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.84262228012085, "timesteps_since_restore": 4880886, "info": {"num_steps_trained": 4880886, "default": {"entropy": 1.3633136749267578, "kl": 0.017528846859931946, "vf_loss": 23.668638229370117, "vf_explained_var": 0.8622031211853027, "policy_loss": -0.010457688942551613, "total_loss": 23.662124633789062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.5, "sample_time_ms": 31710.292, "grad_time_ms": 16439.946, "update_time_ms": 8.005, "num_steps_sampled": 4880886}, "time_total_s": 3713.2307300567627, "num_metric_batches_dropped": 0, "timestamp": 1558310209, "episode_reward_max": 1047.3528592509772, "timesteps_this_iter": 64126, "episode_reward_min": 202.66349470137283, "date": "2019-05-19_23-56-49", "policy_reward_mean": {}, "time_since_restore": 3713.2307300567627, "episodes_total": 2159, "iterations_since_restore": 75, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 692.65, "done": false, "training_iteration": 75, "custom_metrics": {"cost2_mean": -0.053729347592025176, "outflow_rate_mean": 1087.0708888958798, "system_level_velocity_mean": 13.696550954388993, "cost2_min": -0.7595612594082655, "cost1_min": 87.70826640291016, "cost1_mean": 348.0988742928997, "cost1_max": 462.882223455847, "outflow_rate_max": 1284.1112246481157, "system_level_velocity_max": 18.655538631833537, "outflow_rate_min": 750.5689953587665, "cost2_max": 0.0, "system_level_velocity_min": 9.070770072759798}, "node_ip": "10.138.0.2", "timesteps_total": 4880886}
{"hostname": "flow-main", "episode_reward_mean": 862.2488464462268, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028988d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.50776529312134, "timesteps_since_restore": 4944217, "info": {"num_steps_trained": 4944217, "default": {"entropy": 1.3659863471984863, "kl": 0.016678720712661743, "vf_loss": 25.995729446411133, "vf_explained_var": 0.8428057432174683, "policy_loss": -0.009966563433408737, "total_loss": 25.989517211914062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "load_time_ms": 8.428, "sample_time_ms": 31598.183, "grad_time_ms": 16689.962, "update_time_ms": 8.183, "num_steps_sampled": 4944217}, "time_total_s": 3761.738495349884, "num_metric_batches_dropped": 0, "timestamp": 1558310258, "episode_reward_max": 1047.3528592509772, "timesteps_this_iter": 63331, "episode_reward_min": 679.2589384581516, "date": "2019-05-19_23-57-38", "policy_reward_mean": {}, "time_since_restore": 3761.738495349884, "episodes_total": 2190, "iterations_since_restore": 76, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 698.35, "done": false, "training_iteration": 76, "custom_metrics": {"cost2_mean": -0.056576715665426575, "outflow_rate_mean": 1085.1802560895883, "system_level_velocity_mean": 13.53950399887158, "cost2_min": -0.7595612594082655, "cost1_min": 231.5289958796719, "cost1_mean": 347.63358604558687, "cost1_max": 475.77771911013315, "outflow_rate_max": 1298.9246656330088, "system_level_velocity_max": 18.476819864392567, "outflow_rate_min": 878.5680976162981, "cost2_max": 0.0, "system_level_velocity_min": 8.974527440422134}, "node_ip": "10.138.0.2", "timesteps_total": 4944217}
{"hostname": "flow-main", "episode_reward_mean": 850.2455417975212, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ea58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.20214247703552, "timesteps_since_restore": 5005390, "info": {"num_steps_trained": 5005390, "default": {"entropy": 1.3583518266677856, "kl": 0.01790747605264187, "vf_loss": 26.386747360229492, "vf_explained_var": 0.8491332530975342, "policy_loss": -0.011353091336786747, "total_loss": 26.379426956176758, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.272, "sample_time_ms": 31606.455, "grad_time_ms": 16812.46, "update_time_ms": 8.241, "num_steps_sampled": 5005390}, "time_total_s": 3810.9406378269196, "num_metric_batches_dropped": 0, "timestamp": 1558310307, "episode_reward_max": 1047.3528592509772, "timesteps_this_iter": 61173, "episode_reward_min": 679.2589384581516, "date": "2019-05-19_23-58-27", "policy_reward_mean": {}, "time_since_restore": 3810.9406378269196, "episodes_total": 2222, "iterations_since_restore": 77, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 700.0, "done": false, "training_iteration": 77, "custom_metrics": {"cost2_mean": -0.033058126667662835, "outflow_rate_mean": 1080.179598490348, "system_level_velocity_mean": 13.42629772293972, "cost2_min": -0.6428571428571428, "cost1_min": 231.5289958796719, "cost1_mean": 345.7017752530299, "cost1_max": 475.77771911013315, "outflow_rate_max": 1298.9246656330088, "system_level_velocity_max": 18.476819864392567, "outflow_rate_min": 896.7041990561765, "cost2_max": 0.0, "system_level_velocity_min": 8.974527440422134}, "node_ip": "10.138.0.2", "timesteps_total": 5005390}
{"hostname": "flow-main", "episode_reward_mean": 853.8059849313157, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898da0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.108243465423584, "timesteps_since_restore": 5066652, "info": {"num_steps_trained": 5066652, "default": {"entropy": 1.366913914680481, "kl": 0.017864717170596123, "vf_loss": 24.65925407409668, "vf_explained_var": 0.8584797978401184, "policy_loss": -0.010517939925193787, "total_loss": 24.652751922607422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.412, "sample_time_ms": 31561.876, "grad_time_ms": 16895.566, "update_time_ms": 8.53, "num_steps_sampled": 5066652}, "time_total_s": 3858.048881292343, "num_metric_batches_dropped": 0, "timestamp": 1558310354, "episode_reward_max": 1045.8585891787216, "timesteps_this_iter": 61262, "episode_reward_min": 683.6085643251728, "date": "2019-05-19_23-59-14", "policy_reward_mean": {}, "time_since_restore": 3858.048881292343, "episodes_total": 2250, "iterations_since_restore": 78, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 78, "custom_metrics": {"cost2_mean": -0.03305794413715685, "outflow_rate_mean": 1087.6221178264648, "system_level_velocity_mean": 13.661512437572323, "cost2_min": -0.6428571428571428, "cost1_min": 231.5289958796719, "cost1_mean": 351.6157764618984, "cost1_max": 476.2017668968998, "outflow_rate_max": 1313.5559084193053, "system_level_velocity_max": 18.47826437362967, "outflow_rate_min": 896.7041990561765, "cost2_max": 0.0, "system_level_velocity_min": 8.974527440422134}, "node_ip": "10.138.0.2", "timesteps_total": 5066652}
{"hostname": "flow-main", "episode_reward_mean": 855.464351516272, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ec50>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.679038763046265, "timesteps_since_restore": 5129566, "info": {"num_steps_trained": 5129566, "default": {"entropy": 1.3762401342391968, "kl": 0.017466651275753975, "vf_loss": 26.491544723510742, "vf_explained_var": 0.8530168533325195, "policy_loss": -0.011330180801451206, "total_loss": 26.48414421081543, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.359, "sample_time_ms": 31666.2, "grad_time_ms": 16958.643, "update_time_ms": 8.502, "num_steps_sampled": 5129566}, "time_total_s": 3908.7279200553894, "num_metric_batches_dropped": 0, "timestamp": 1558310405, "episode_reward_max": 1054.270123612997, "timesteps_this_iter": 62914, "episode_reward_min": 646.1769072357664, "date": "2019-05-20_00-00-05", "policy_reward_mean": {}, "time_since_restore": 3908.7279200553894, "episodes_total": 2282, "iterations_since_restore": 79, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 696.02, "done": false, "training_iteration": 79, "custom_metrics": {"cost2_mean": -0.03595294329721496, "outflow_rate_mean": 1086.6254289156343, "system_level_velocity_mean": 13.745623584877695, "cost2_min": -0.5, "cost1_min": 255.85439994413744, "cost1_mean": 351.115951240176, "cost1_max": 476.2017668968998, "outflow_rate_max": 1313.5559084193053, "system_level_velocity_max": 18.851122295720867, "outflow_rate_min": 940.2257337977181, "cost2_max": 0.0, "system_level_velocity_min": 9.89600944675003}, "node_ip": "10.138.0.2", "timesteps_total": 5129566}
{"hostname": "flow-main", "episode_reward_mean": 857.0275684457172, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028981d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898be0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.350746631622314, "timesteps_since_restore": 5191925, "info": {"num_steps_trained": 5191925, "default": {"entropy": 1.3765406608581543, "kl": 0.01765834353864193, "vf_loss": 23.822242736816406, "vf_explained_var": 0.8647405505180359, "policy_loss": -0.010802658274769783, "total_loss": 23.81541633605957, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.273, "sample_time_ms": 31830.738, "grad_time_ms": 16801.755, "update_time_ms": 8.716, "num_steps_sampled": 5191925}, "time_total_s": 3956.0786666870117, "num_metric_batches_dropped": 0, "timestamp": 1558310453, "episode_reward_max": 1054.270123612997, "timesteps_this_iter": 62359, "episode_reward_min": 646.1769072357664, "date": "2019-05-20_00-00-53", "policy_reward_mean": {}, "time_since_restore": 3956.0786666870117, "episodes_total": 2309, "iterations_since_restore": 80, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 696.02, "done": false, "training_iteration": 80, "custom_metrics": {"cost2_mean": -0.03461943573560301, "outflow_rate_mean": 1085.7645047111273, "system_level_velocity_mean": 13.771781543012985, "cost2_min": -0.5, "cost1_min": 235.15186835884128, "cost1_mean": 351.65857548441005, "cost1_max": 476.2017668968998, "outflow_rate_max": 1313.5559084193053, "system_level_velocity_max": 18.851122295720867, "outflow_rate_min": 877.7956599574916, "cost2_max": 0.0, "system_level_velocity_min": 9.0756840450879}, "node_ip": "10.138.0.2", "timesteps_total": 5191925}
{"hostname": "flow-main", "episode_reward_mean": 861.3537874815561, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897b38>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.93256497383118, "timesteps_since_restore": 5253684, "info": {"num_steps_trained": 5253684, "default": {"entropy": 1.3791896104812622, "kl": 0.015978820621967316, "vf_loss": 24.456016540527344, "vf_explained_var": 0.8531759977340698, "policy_loss": -0.009016573429107666, "total_loss": 24.450592041015625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.462, "sample_time_ms": 31928.446, "grad_time_ms": 16758.085, "update_time_ms": 8.473, "num_steps_sampled": 5253684}, "time_total_s": 4006.011231660843, "num_metric_batches_dropped": 0, "timestamp": 1558310503, "episode_reward_max": 1054.270123612997, "timesteps_this_iter": 61759, "episode_reward_min": 646.1769072357664, "date": "2019-05-20_00-01-43", "policy_reward_mean": {}, "time_since_restore": 4006.011231660843, "episodes_total": 2337, "iterations_since_restore": 81, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 696.02, "done": false, "training_iteration": 81, "custom_metrics": {"cost2_mean": -0.04333163003067003, "outflow_rate_mean": 1094.3682759757482, "system_level_velocity_mean": 13.917252679592595, "cost2_min": -0.6363700498102182, "cost1_min": 235.15186835884128, "cost1_mean": 355.4822333363013, "cost1_max": 477.64723280513533, "outflow_rate_max": 1313.5559084193053, "system_level_velocity_max": 18.851122295720867, "outflow_rate_min": 877.7956599574916, "cost2_max": 0.0, "system_level_velocity_min": 9.0756840450879}, "node_ip": "10.138.0.2", "timesteps_total": 5253684}
{"hostname": "flow-main", "episode_reward_mean": 830.5937860113686, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.976473331451416, "timesteps_since_restore": 5314051, "info": {"num_steps_trained": 5314051, "default": {"entropy": 1.379082202911377, "kl": 0.01879279688000679, "vf_loss": 25.799909591674805, "vf_explained_var": 0.8538999557495117, "policy_loss": -0.010328796692192554, "total_loss": 25.79380989074707, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.466, "sample_time_ms": 32099.787, "grad_time_ms": 16408.055, "update_time_ms": 8.692, "num_steps_sampled": 5314051}, "time_total_s": 4052.9877049922943, "num_metric_batches_dropped": 0, "timestamp": 1558310550, "episode_reward_max": 1047.3680462298967, "timesteps_this_iter": 60367, "episode_reward_min": 57.412451651152885, "date": "2019-05-20_00-02-30", "policy_reward_mean": {}, "time_since_restore": 4052.9877049922943, "episodes_total": 2367, "iterations_since_restore": 82, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 677.21, "done": false, "training_iteration": 82, "custom_metrics": {"cost2_mean": -0.04234717196972687, "outflow_rate_mean": 1080.338251369457, "system_level_velocity_mean": 14.040171379090141, "cost2_min": -0.6363700498102182, "cost1_min": 24.116648524837252, "cost1_mean": 345.5743444479766, "cost1_max": 480.7563120031662, "outflow_rate_max": 1347.9153078386462, "system_level_velocity_max": 19.191657019162125, "outflow_rate_min": 458.17964708924984, "cost2_max": 0.0, "system_level_velocity_min": 9.0756840450879}, "node_ip": "10.138.0.2", "timesteps_total": 5314051}
{"hostname": "flow-main", "episode_reward_mean": 836.5659896735725, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eba8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.3746702671051, "timesteps_since_restore": 5374929, "info": {"num_steps_trained": 5374929, "default": {"entropy": 1.3872939348220825, "kl": 0.017244216054677963, "vf_loss": 27.274568557739258, "vf_explained_var": 0.8409561514854431, "policy_loss": -0.009952472522854805, "total_loss": 27.268497467041016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.44, "sample_time_ms": 32207.657, "grad_time_ms": 16237.171, "update_time_ms": 8.464, "num_steps_sampled": 5374929}, "time_total_s": 4100.362375259399, "num_metric_batches_dropped": 0, "timestamp": 1558310597, "episode_reward_max": 1047.3680462298967, "timesteps_this_iter": 60878, "episode_reward_min": 37.53500775003796, "date": "2019-05-20_00-03-17", "policy_reward_mean": {}, "time_since_restore": 4100.362375259399, "episodes_total": 2396, "iterations_since_restore": 83, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 674.48, "done": false, "training_iteration": 83, "custom_metrics": {"cost2_mean": -0.046423933738497375, "outflow_rate_mean": 1087.8350783642304, "system_level_velocity_mean": 14.37925197171698, "cost2_min": -0.8524796167179701, "cost1_min": 19.363655622668677, "cost1_mean": 352.2684920499534, "cost1_max": 480.7563120031662, "outflow_rate_max": 1347.9153078386462, "system_level_velocity_max": 19.191657019162125, "outflow_rate_min": 458.17964708924984, "cost2_max": 0.0, "system_level_velocity_min": 9.614405626314877}, "node_ip": "10.138.0.2", "timesteps_total": 5374929}
{"hostname": "flow-main", "episode_reward_mean": 840.26727634699, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.553582191467285, "timesteps_since_restore": 5435227, "info": {"num_steps_trained": 5435227, "default": {"entropy": 1.3827751874923706, "kl": 0.017633745446801186, "vf_loss": 25.72113800048828, "vf_explained_var": 0.8486534953117371, "policy_loss": -0.011080499738454819, "total_loss": 25.714027404785156, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.522, "sample_time_ms": 32215.646, "grad_time_ms": 15707.119, "update_time_ms": 8.368, "num_steps_sampled": 5435227}, "time_total_s": 4144.915957450867, "num_metric_batches_dropped": 0, "timestamp": 1558310642, "episode_reward_max": 1071.9910010640317, "timesteps_this_iter": 60298, "episode_reward_min": 37.53500775003796, "date": "2019-05-20_00-04-02", "policy_reward_mean": {}, "time_since_restore": 4144.915957450867, "episodes_total": 2424, "iterations_since_restore": 84, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 674.48, "done": false, "training_iteration": 84, "custom_metrics": {"cost2_mean": -0.047114437527924595, "outflow_rate_mean": 1083.7469133090908, "system_level_velocity_mean": 14.419714919793025, "cost2_min": -0.8524796167179701, "cost1_min": 19.363655622668677, "cost1_mean": 353.13863764379386, "cost1_max": 480.7563120031662, "outflow_rate_max": 1347.9153078386462, "system_level_velocity_max": 19.191657019162125, "outflow_rate_min": 458.17964708924984, "cost2_max": 0.0, "system_level_velocity_min": 9.614405626314877}, "node_ip": "10.138.0.2", "timesteps_total": 5435227}
{"hostname": "flow-main", "episode_reward_mean": 822.3293398130264, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ec18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e550>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.82746410369873, "timesteps_since_restore": 5498607, "info": {"num_steps_trained": 5498607, "default": {"entropy": 1.4009038209915161, "kl": 0.017699217423796654, "vf_loss": 26.17514991760254, "vf_explained_var": 0.8258984088897705, "policy_loss": -0.010976525954902172, "total_loss": 26.168153762817383, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.503, "sample_time_ms": 32407.838, "grad_time_ms": 15615.921, "update_time_ms": 8.395, "num_steps_sampled": 5498607}, "time_total_s": 4194.743421554565, "num_metric_batches_dropped": 0, "timestamp": 1558310691, "episode_reward_max": 1071.9910010640317, "timesteps_this_iter": 63380, "episode_reward_min": 37.45726682967243, "date": "2019-05-20_00-04-51", "policy_reward_mean": {}, "time_since_restore": 4194.743421554565, "episodes_total": 2456, "iterations_since_restore": 85, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 661.12, "done": false, "training_iteration": 85, "custom_metrics": {"cost2_mean": -0.02664102358962138, "outflow_rate_mean": 1063.717553850879, "system_level_velocity_mean": 14.35719158760906, "cost2_min": -0.8524796167179701, "cost1_min": 16.16349086579168, "cost1_mean": 343.02178981284953, "cost1_max": 467.6834479495954, "outflow_rate_max": 1280.1385675013291, "system_level_velocity_max": 18.754948766680236, "outflow_rate_min": 458.17964708924984, "cost2_max": 0.0, "system_level_velocity_min": 9.563027748028139}, "node_ip": "10.138.0.2", "timesteps_total": 5498607}
{"hostname": "flow-main", "episode_reward_mean": 832.9342432590148, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5fd0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.03805088996887, "timesteps_since_restore": 5561193, "info": {"num_steps_trained": 5561193, "default": {"entropy": 1.4049174785614014, "kl": 0.01698365807533264, "vf_loss": 25.549762725830078, "vf_explained_var": 0.8400971293449402, "policy_loss": -0.009921255521476269, "total_loss": 25.543663024902344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.714, "sample_time_ms": 32228.411, "grad_time_ms": 15450.669, "update_time_ms": 8.08, "num_steps_sampled": 5561193}, "time_total_s": 4239.781472444534, "num_metric_batches_dropped": 0, "timestamp": 1558310737, "episode_reward_max": 1071.9910010640317, "timesteps_this_iter": 62586, "episode_reward_min": 37.45726682967243, "date": "2019-05-20_00-05-37", "policy_reward_mean": {}, "time_since_restore": 4239.781472444534, "episodes_total": 2485, "iterations_since_restore": 86, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 673.41, "done": false, "training_iteration": 86, "custom_metrics": {"cost2_mean": -0.020069827600116382, "outflow_rate_mean": 1075.3248121934128, "system_level_velocity_mean": 14.275808921051258, "cost2_min": -0.28497539949557604, "cost1_min": 16.16349086579168, "cost1_mean": 349.532946642853, "cost1_max": 457.87820621526896, "outflow_rate_max": 1280.1385675013291, "system_level_velocity_max": 18.754948766680236, "outflow_rate_min": 468.8680400560468, "cost2_max": 0.0, "system_level_velocity_min": 9.563027748028139}, "node_ip": "10.138.0.2", "timesteps_total": 5561193}
{"hostname": "flow-main", "episode_reward_mean": 820.1956630728844, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897d68>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.98895859718323, "timesteps_since_restore": 5625681, "info": {"num_steps_trained": 5625681, "default": {"entropy": 1.3958899974822998, "kl": 0.016332853585481644, "vf_loss": 23.58087158203125, "vf_explained_var": 0.8523904085159302, "policy_loss": -0.00956826563924551, "total_loss": 23.57497787475586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 9.044, "sample_time_ms": 32113.725, "grad_time_ms": 15643.041, "update_time_ms": 8.258, "num_steps_sampled": 5625681}, "time_total_s": 4289.7704310417175, "num_metric_batches_dropped": 0, "timestamp": 1558310787, "episode_reward_max": 1015.5712713786459, "timesteps_this_iter": 64488, "episode_reward_min": 37.45726682967243, "date": "2019-05-20_00-06-27", "policy_reward_mean": {}, "time_since_restore": 4289.7704310417175, "episodes_total": 2515, "iterations_since_restore": 87, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 674.45, "done": false, "training_iteration": 87, "custom_metrics": {"cost2_mean": -0.02987580389645905, "outflow_rate_mean": 1062.7357140228748, "system_level_velocity_mean": 13.82704221900647, "cost2_min": -0.8, "cost1_min": 16.16349086579168, "cost1_mean": 338.7097745422887, "cost1_max": 450.419251691607, "outflow_rate_max": 1274.5003574589985, "system_level_velocity_max": 18.754948766680236, "outflow_rate_min": 468.8680400560468, "cost2_max": 0.0, "system_level_velocity_min": 9.343594651718398}, "node_ip": "10.138.0.2", "timesteps_total": 5625681}
{"hostname": "flow-main", "episode_reward_mean": 836.967183059753, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.20760679244995, "timesteps_since_restore": 5689544, "info": {"num_steps_trained": 5689544, "default": {"entropy": 1.386304497718811, "kl": 0.017926549538969994, "vf_loss": 27.791994094848633, "vf_explained_var": 0.8297752737998962, "policy_loss": -0.01086913887411356, "total_loss": 27.785160064697266, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 9.584, "sample_time_ms": 32002.273, "grad_time_ms": 15862.232, "update_time_ms": 7.904, "num_steps_sampled": 5689544}, "time_total_s": 4337.9780378341675, "num_metric_batches_dropped": 0, "timestamp": 1558310835, "episode_reward_max": 1018.3156752608232, "timesteps_this_iter": 63863, "episode_reward_min": 191.35019162018835, "date": "2019-05-20_00-07-15", "policy_reward_mean": {}, "time_since_restore": 4337.9780378341675, "episodes_total": 2547, "iterations_since_restore": 88, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 688.79, "done": false, "training_iteration": 88, "custom_metrics": {"cost2_mean": -0.040814440372228616, "outflow_rate_mean": 1071.4518595377588, "system_level_velocity_mean": 13.583570682547656, "cost2_min": -0.8, "cost1_min": 88.25932823193659, "cost1_mean": 342.0786907469568, "cost1_max": 450.419251691607, "outflow_rate_max": 1274.5003574589985, "system_level_velocity_max": 18.556262075170462, "outflow_rate_min": 754.9717203526201, "cost2_max": 0.0, "system_level_velocity_min": 9.14862155697216}, "node_ip": "10.138.0.2", "timesteps_total": 5689544}
{"hostname": "flow-main", "episode_reward_mean": 800.7569089729021, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028978d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897208>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.90372061729431, "timesteps_since_restore": 5752021, "info": {"num_steps_trained": 5752021, "default": {"entropy": 1.4088667631149292, "kl": 0.01700936071574688, "vf_loss": 28.52350616455078, "vf_explained_var": 0.8152218461036682, "policy_loss": -0.010001813061535358, "total_loss": 28.517333984375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 9.614, "sample_time_ms": 31928.965, "grad_time_ms": 15757.408, "update_time_ms": 8.077, "num_steps_sampled": 5752021}, "time_total_s": 4386.881758451462, "num_metric_batches_dropped": 0, "timestamp": 1558310884, "episode_reward_max": 1033.6264281930628, "timesteps_this_iter": 62477, "episode_reward_min": 33.47561474188901, "date": "2019-05-20_00-08-04", "policy_reward_mean": {}, "time_since_restore": 4386.881758451462, "episodes_total": 2581, "iterations_since_restore": 89, "pid": 46909, "episodes_this_iter": 34, "episode_len_mean": 657.85, "done": false, "training_iteration": 89, "custom_metrics": {"cost2_mean": -0.05238715122789252, "outflow_rate_mean": 1035.1833219012399, "system_level_velocity_mean": 13.50883686386651, "cost2_min": -0.8, "cost1_min": 12.27915043833179, "cost1_mean": 319.49996908870116, "cost1_max": 448.5838737233454, "outflow_rate_max": 1274.5003574589985, "system_level_velocity_max": 19.208071549647638, "outflow_rate_min": 467.63246017283916, "cost2_max": 0.0, "system_level_velocity_min": 9.14862155697216}, "node_ip": "10.138.0.2", "timesteps_total": 5752021}
{"hostname": "flow-main", "episode_reward_mean": 796.4784162070547, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.5110399723053, "timesteps_since_restore": 5813543, "info": {"num_steps_trained": 5813543, "default": {"entropy": 1.3954565525054932, "kl": 0.017861561849713326, "vf_loss": 26.70029640197754, "vf_explained_var": 0.84400475025177, "policy_loss": -0.010283947922289371, "total_loss": 26.69403076171875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 9.118, "sample_time_ms": 31776.981, "grad_time_ms": 16022.51, "update_time_ms": 7.759, "num_steps_sampled": 5813543}, "time_total_s": 4435.392798423767, "num_metric_batches_dropped": 0, "timestamp": 1558310932, "episode_reward_max": 1059.432989273012, "timesteps_this_iter": 61522, "episode_reward_min": 33.47561474188901, "date": "2019-05-20_00-08-52", "policy_reward_mean": {}, "time_since_restore": 4435.392798423767, "episodes_total": 2611, "iterations_since_restore": 90, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 651.28, "done": false, "training_iteration": 90, "custom_metrics": {"cost2_mean": -0.04713906117335096, "outflow_rate_mean": 1034.3580655778437, "system_level_velocity_mean": 13.643482342173638, "cost2_min": -0.46419513477403707, "cost1_min": 12.27915043833179, "cost1_mean": 318.6916339772252, "cost1_max": 464.3614560425947, "outflow_rate_max": 1241.072098253169, "system_level_velocity_max": 19.208071549647638, "outflow_rate_min": 467.63246017283916, "cost2_max": 0.0, "system_level_velocity_min": 9.14862155697216}, "node_ip": "10.138.0.2", "timesteps_total": 5813543}
{"hostname": "flow-main", "episode_reward_mean": 816.2979223684271, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e518>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.96510171890259, "timesteps_since_restore": 5874815, "info": {"num_steps_trained": 5874815, "default": {"entropy": 1.4040790796279907, "kl": 0.01702728495001793, "vf_loss": 23.670873641967773, "vf_explained_var": 0.8570611476898193, "policy_loss": -0.010395361110568047, "total_loss": 23.664310455322266, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.309, "sample_time_ms": 31429.573, "grad_time_ms": 15972.964, "update_time_ms": 7.793, "num_steps_sampled": 5874815}, "time_total_s": 4481.35790014267, "num_metric_batches_dropped": 0, "timestamp": 1558310978, "episode_reward_max": 1075.286949414963, "timesteps_this_iter": 61272, "episode_reward_min": 33.47561474188901, "date": "2019-05-20_00-09-38", "policy_reward_mean": {}, "time_since_restore": 4481.35790014267, "episodes_total": 2638, "iterations_since_restore": 91, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 656.95, "done": false, "training_iteration": 91, "custom_metrics": {"cost2_mean": -0.04626869923743764, "outflow_rate_mean": 1048.9734699461887, "system_level_velocity_mean": 13.902362664865587, "cost2_min": -0.46419513477403707, "cost1_min": 12.27915043833179, "cost1_mean": 329.6267171564668, "cost1_max": 464.3614560425947, "outflow_rate_max": 1252.999969315114, "system_level_velocity_max": 19.208071549647638, "outflow_rate_min": 467.63246017283916, "cost2_max": 0.0, "system_level_velocity_min": 9.9498771784698}, "node_ip": "10.138.0.2", "timesteps_total": 5874815}
{"hostname": "flow-main", "episode_reward_mean": 850.0520242121489, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce89e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.50412058830261, "timesteps_since_restore": 5936167, "info": {"num_steps_trained": 5936167, "default": {"entropy": 1.4029737710952759, "kl": 0.018139170482754707, "vf_loss": 29.228904724121094, "vf_explained_var": 0.837135910987854, "policy_loss": -0.01113411970436573, "total_loss": 29.221853256225586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "load_time_ms": 8.573, "sample_time_ms": 31302.385, "grad_time_ms": 16150.521, "update_time_ms": 7.639, "num_steps_sampled": 5936167}, "time_total_s": 4528.862020730972, "num_metric_batches_dropped": 0, "timestamp": 1558311026, "episode_reward_max": 1075.286949414963, "timesteps_this_iter": 61352, "episode_reward_min": 31.962022809015103, "date": "2019-05-20_00-10-26", "policy_reward_mean": {}, "time_since_restore": 4528.862020730972, "episodes_total": 2669, "iterations_since_restore": 92, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 681.17, "done": false, "training_iteration": 92, "custom_metrics": {"cost2_mean": -0.04492026262785662, "outflow_rate_mean": 1072.1626694832887, "system_level_velocity_mean": 13.862783557610463, "cost2_min": -0.46419513477403707, "cost1_min": 13.877492889839365, "cost1_mean": 345.22473284927287, "cost1_max": 464.3614560425947, "outflow_rate_max": 1259.4419403595748, "system_level_velocity_max": 18.736124993709204, "outflow_rate_min": 432.04939146579807, "cost2_max": 0.0, "system_level_velocity_min": 9.9498771784698}, "node_ip": "10.138.0.2", "timesteps_total": 5936167}
{"hostname": "flow-main", "episode_reward_mean": 852.327420684803, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85c0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.14480757713318, "timesteps_since_restore": 5997474, "info": {"num_steps_trained": 5997474, "default": {"entropy": 1.3923903703689575, "kl": 0.016509324312210083, "vf_loss": 25.573345184326172, "vf_explained_var": 0.8454426527023315, "policy_loss": -0.010639181360602379, "total_loss": 25.566423416137695, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.961, "sample_time_ms": 31124.599, "grad_time_ms": 16304.637, "update_time_ms": 7.89, "num_steps_sampled": 5997474}, "time_total_s": 4576.0068283081055, "num_metric_batches_dropped": 0, "timestamp": 1558311073, "episode_reward_max": 1075.286949414963, "timesteps_this_iter": 61307, "episode_reward_min": 31.962022809015103, "date": "2019-05-20_00-11-13", "policy_reward_mean": {}, "time_since_restore": 4576.0068283081055, "episodes_total": 2697, "iterations_since_restore": 93, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 681.24, "done": false, "training_iteration": 93, "custom_metrics": {"cost2_mean": -0.03445930823168817, "outflow_rate_mean": 1088.867346312857, "system_level_velocity_mean": 14.241546109454475, "cost2_min": -0.42039616387047885, "cost1_min": 13.877492889839365, "cost1_mean": 354.6449580794703, "cost1_max": 479.2475340275813, "outflow_rate_max": 1303.0384489900741, "system_level_velocity_max": 19.094160664249788, "outflow_rate_min": 432.04939146579807, "cost2_max": 0.0, "system_level_velocity_min": 9.9498771784698}, "node_ip": "10.138.0.2", "timesteps_total": 5997474}
{"hostname": "flow-main", "episode_reward_mean": 836.0231587506632, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e898>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.680379152297974, "timesteps_since_restore": 6059716, "info": {"num_steps_trained": 6059716, "default": {"entropy": 1.4004228115081787, "kl": 0.017406633123755455, "vf_loss": 27.602325439453125, "vf_explained_var": 0.8398747444152832, "policy_loss": -0.010392963886260986, "total_loss": 27.595848083496094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.354, "sample_time_ms": 31331.853, "grad_time_ms": 16613.623, "update_time_ms": 7.947, "num_steps_sampled": 6059716}, "time_total_s": 4625.687207460403, "num_metric_batches_dropped": 0, "timestamp": 1558311123, "episode_reward_max": 1057.5089990382107, "timesteps_this_iter": 62242, "episode_reward_min": 31.962022809015103, "date": "2019-05-20_00-12-03", "policy_reward_mean": {}, "time_since_restore": 4625.687207460403, "episodes_total": 2726, "iterations_since_restore": 94, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 674.57, "done": false, "training_iteration": 94, "custom_metrics": {"cost2_mean": -0.03742021662248836, "outflow_rate_mean": 1077.3964319680072, "system_level_velocity_mean": 14.153058679633551, "cost2_min": -0.6661010043196467, "cost1_min": 13.877492889839365, "cost1_mean": 347.64176063721607, "cost1_max": 479.2475340275813, "outflow_rate_max": 1303.0384489900741, "system_level_velocity_max": 19.094160664249788, "outflow_rate_min": 432.04939146579807, "cost2_max": 0.0, "system_level_velocity_min": 10.76356432153676}, "node_ip": "10.138.0.2", "timesteps_total": 6059716}
{"hostname": "flow-main", "episode_reward_mean": 842.5896901262975, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a88d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.31308841705322, "timesteps_since_restore": 6123341, "info": {"num_steps_trained": 6123341, "default": {"entropy": 1.410500168800354, "kl": 0.01835589110851288, "vf_loss": 27.606107711791992, "vf_explained_var": 0.8301824927330017, "policy_loss": -0.010895777493715286, "total_loss": 27.59934425354004, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.235, "sample_time_ms": 31251.549, "grad_time_ms": 16443.722, "update_time_ms": 7.973, "num_steps_sampled": 6123341}, "time_total_s": 4673.000295877457, "num_metric_batches_dropped": 0, "timestamp": 1558311170, "episode_reward_max": 1087.6152598784913, "timesteps_this_iter": 63625, "episode_reward_min": 31.962022809015103, "date": "2019-05-20_00-12-50", "policy_reward_mean": {}, "time_since_restore": 4673.000295877457, "episodes_total": 2757, "iterations_since_restore": 95, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 680.04, "done": false, "training_iteration": 95, "custom_metrics": {"cost2_mean": -0.045185061955027396, "outflow_rate_mean": 1080.6471146467943, "system_level_velocity_mean": 14.116274753090499, "cost2_min": -0.6661010043196467, "cost1_min": 13.877492889839365, "cost1_mean": 350.1739702269763, "cost1_max": 479.2475340275813, "outflow_rate_max": 1303.0384489900741, "system_level_velocity_max": 19.094160664249788, "outflow_rate_min": 432.04939146579807, "cost2_max": 0.0, "system_level_velocity_min": 9.506347228501108}, "node_ip": "10.138.0.2", "timesteps_total": 6123341}
{"hostname": "flow-main", "episode_reward_mean": 856.5964391736213, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.41013240814209, "timesteps_since_restore": 6187544, "info": {"num_steps_trained": 6187544, "default": {"entropy": 1.4109545946121216, "kl": 0.017673270776867867, "vf_loss": 27.840116500854492, "vf_explained_var": 0.832882821559906, "policy_loss": -0.009159550070762634, "total_loss": 27.834932327270508, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.356, "sample_time_ms": 31598.489, "grad_time_ms": 16633.681, "update_time_ms": 8.066, "num_steps_sampled": 6187544}, "time_total_s": 4723.410428285599, "num_metric_batches_dropped": 0, "timestamp": 1558311221, "episode_reward_max": 1087.6152598784913, "timesteps_this_iter": 64203, "episode_reward_min": 52.976387414195564, "date": "2019-05-20_00-13-41", "policy_reward_mean": {}, "time_since_restore": 4723.410428285599, "episodes_total": 2785, "iterations_since_restore": 96, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 686.83, "done": false, "training_iteration": 96, "custom_metrics": {"cost2_mean": -0.044288795637882614, "outflow_rate_mean": 1076.6789175637862, "system_level_velocity_mean": 13.873773731384125, "cost2_min": -0.6661010043196467, "cost1_min": 22.24647129690515, "cost1_mean": 348.5712797131985, "cost1_max": 479.2475340275813, "outflow_rate_max": 1303.0384489900741, "system_level_velocity_max": 19.094160664249788, "outflow_rate_min": 503.9804392555701, "cost2_max": 0.0, "system_level_velocity_min": 9.506347228501108}, "node_ip": "10.138.0.2", "timesteps_total": 6187544}
{"hostname": "flow-main", "episode_reward_mean": 862.7840222589693, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8550>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.59618306159973, "timesteps_since_restore": 6250005, "info": {"num_steps_trained": 6250005, "default": {"entropy": 1.4183266162872314, "kl": 0.018598176538944244, "vf_loss": 31.452392578125, "vf_explained_var": 0.8245602250099182, "policy_loss": -0.01082866545766592, "total_loss": 31.445749282836914, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.301, "sample_time_ms": 31851.776, "grad_time_ms": 16241.608, "update_time_ms": 7.998, "num_steps_sampled": 6250005}, "time_total_s": 4772.0066113471985, "num_metric_batches_dropped": 0, "timestamp": 1558311269, "episode_reward_max": 1087.6152598784913, "timesteps_this_iter": 62461, "episode_reward_min": 45.26589122941403, "date": "2019-05-20_00-14-29", "policy_reward_mean": {}, "time_since_restore": 4772.0066113471985, "episodes_total": 2818, "iterations_since_restore": 97, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 686.64, "done": false, "training_iteration": 97, "custom_metrics": {"cost2_mean": -0.03665008343845331, "outflow_rate_mean": 1074.8977415016438, "system_level_velocity_mean": 13.934448798417787, "cost2_min": -0.6117845467651166, "cost1_min": 20.105327605723446, "cost1_mean": 350.1718288223809, "cost1_max": 463.8271997997669, "outflow_rate_max": 1256.7394683552825, "system_level_velocity_max": 18.256098628784386, "outflow_rate_min": 496.8947991796817, "cost2_max": 0.0, "system_level_velocity_min": 9.506347228501108}, "node_ip": "10.138.0.2", "timesteps_total": 6250005}
{"hostname": "flow-main", "episode_reward_mean": 859.5688099216469, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8c18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.826409101486206, "timesteps_since_restore": 6312877, "info": {"num_steps_trained": 6312877, "default": {"entropy": 1.4189825057983398, "kl": 0.018158946186304092, "vf_loss": 24.324560165405273, "vf_explained_var": 0.8530272841453552, "policy_loss": -0.01005850825458765, "total_loss": 24.31859016418457, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.035, "sample_time_ms": 32094.568, "grad_time_ms": 16163.236, "update_time_ms": 8.013, "num_steps_sampled": 6312877}, "time_total_s": 4821.833020448685, "num_metric_batches_dropped": 0, "timestamp": 1558311319, "episode_reward_max": 1068.9801329207087, "timesteps_this_iter": 62872, "episode_reward_min": 45.26589122941403, "date": "2019-05-20_00-15-19", "policy_reward_mean": {}, "time_since_restore": 4821.833020448685, "episodes_total": 2847, "iterations_since_restore": 98, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 686.64, "done": false, "training_iteration": 98, "custom_metrics": {"cost2_mean": -0.02861199357789636, "outflow_rate_mean": 1075.6090867399064, "system_level_velocity_mean": 13.948630721075446, "cost2_min": -0.36363636363636365, "cost1_min": 20.105327605723446, "cost1_mean": 350.76603190988783, "cost1_max": 463.8271997997669, "outflow_rate_max": 1256.7394683552825, "system_level_velocity_max": 18.256098628784386, "outflow_rate_min": 496.8947991796817, "cost2_max": 0.0, "system_level_velocity_min": 9.506347228501108}, "node_ip": "10.138.0.2", "timesteps_total": 6312877}
{"hostname": "flow-main", "episode_reward_mean": 848.0025314709695, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eb70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.04390788078308, "timesteps_since_restore": 6375521, "info": {"num_steps_trained": 6375521, "default": {"entropy": 1.422620177268982, "kl": 0.01873335801064968, "vf_loss": 28.701196670532227, "vf_explained_var": 0.8345069885253906, "policy_loss": -0.011609426699578762, "total_loss": 28.693801879882812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "load_time_ms": 7.644, "sample_time_ms": 32116.259, "grad_time_ms": 16057.187, "update_time_ms": 7.768, "num_steps_sampled": 6375521}, "time_total_s": 4869.876928329468, "num_metric_batches_dropped": 0, "timestamp": 1558311367, "episode_reward_max": 1059.1683452062023, "timesteps_this_iter": 62644, "episode_reward_min": 45.26589122941403, "date": "2019-05-20_00-16-07", "policy_reward_mean": {}, "time_since_restore": 4869.876928329468, "episodes_total": 2877, "iterations_since_restore": 99, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 681.68, "done": false, "training_iteration": 99, "custom_metrics": {"cost2_mean": -0.03777440478995324, "outflow_rate_mean": 1073.765931804292, "system_level_velocity_mean": 14.001996724596983, "cost2_min": -0.45640474244739865, "cost1_min": 20.105327605723446, "cost1_mean": 348.9140493446596, "cost1_max": 463.8271997997669, "outflow_rate_max": 1256.7394683552825, "system_level_velocity_max": 18.256098628784386, "outflow_rate_min": 496.8947991796817, "cost2_max": 0.0, "system_level_velocity_min": 9.639312080133301}, "node_ip": "10.138.0.2", "timesteps_total": 6375521}
{"hostname": "flow-main", "episode_reward_mean": 840.5741540338687, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.42923545837402, "timesteps_since_restore": 6439186, "info": {"num_steps_trained": 6439186, "default": {"entropy": 1.4187254905700684, "kl": 0.0175812765955925, "vf_loss": 24.70089340209961, "vf_explained_var": 0.8493813276290894, "policy_loss": -0.010806874372065067, "total_loss": 24.69404411315918, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.233, "sample_time_ms": 32373.569, "grad_time_ms": 15893.782, "update_time_ms": 7.911, "num_steps_sampled": 6439186}, "time_total_s": 4919.306163787842, "num_metric_batches_dropped": 0, "timestamp": 1558311417, "episode_reward_max": 1041.1475062679706, "timesteps_this_iter": 63665, "episode_reward_min": 45.26589122941403, "date": "2019-05-20_00-16-57", "policy_reward_mean": {}, "time_since_restore": 4919.306163787842, "episodes_total": 2906, "iterations_since_restore": 100, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 681.68, "done": false, "training_iteration": 100, "custom_metrics": {"cost2_mean": -0.05011024133731163, "outflow_rate_mean": 1064.1761316432599, "system_level_velocity_mean": 13.744877817806282, "cost2_min": -0.6708144938140871, "cost1_min": 20.105327605723446, "cost1_mean": 342.55980649335964, "cost1_max": 461.08282267394503, "outflow_rate_max": 1256.3731933984966, "system_level_velocity_max": 18.16468450094808, "outflow_rate_min": 496.8947991796817, "cost2_max": 0.0, "system_level_velocity_min": 9.07107676613981}, "node_ip": "10.138.0.2", "timesteps_total": 6439186}
{"hostname": "flow-main", "episode_reward_mean": 859.2493653380611, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ecf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e898>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.14218854904175, "timesteps_since_restore": 6500643, "info": {"num_steps_trained": 6500643, "default": {"entropy": 1.428697109222412, "kl": 0.0179870817810297, "vf_loss": 29.987348556518555, "vf_explained_var": 0.831339418888092, "policy_loss": -0.011681592091917992, "total_loss": 29.979713439941406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.901, "sample_time_ms": 32584.777, "grad_time_ms": 15800.5, "update_time_ms": 7.75, "num_steps_sampled": 6500643}, "time_total_s": 4966.4483523368835, "num_metric_batches_dropped": 0, "timestamp": 1558311464, "episode_reward_max": 1052.0438744399273, "timesteps_this_iter": 61457, "episode_reward_min": 304.6538168831375, "date": "2019-05-20_00-17-44", "policy_reward_mean": {}, "time_since_restore": 4966.4483523368835, "episodes_total": 2937, "iterations_since_restore": 101, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 690.64, "done": false, "training_iteration": 101, "custom_metrics": {"cost2_mean": -0.05560331455627713, "outflow_rate_mean": 1077.6238056887607, "system_level_velocity_mean": 13.803432244372525, "cost2_min": -0.6708144938140871, "cost1_min": 128.95757531399641, "cost1_mean": 350.1525589904385, "cost1_max": 463.14176052226946, "outflow_rate_max": 1253.2160815137265, "system_level_velocity_max": 18.41783184119863, "outflow_rate_min": 812.1883415698942, "cost2_max": 0.0, "system_level_velocity_min": 9.07107676613981}, "node_ip": "10.138.0.2", "timesteps_total": 6500643}
{"hostname": "flow-main", "episode_reward_mean": 863.9968597637945, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfee10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.638819217681885, "timesteps_since_restore": 6563580, "info": {"num_steps_trained": 6563580, "default": {"entropy": 1.439189076423645, "kl": 0.017065802589058876, "vf_loss": 23.527040481567383, "vf_explained_var": 0.8590641617774963, "policy_loss": -0.00998925231397152, "total_loss": 23.520893096923828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.854, "sample_time_ms": 32788.301, "grad_time_ms": 15613.446, "update_time_ms": 7.765, "num_steps_sampled": 6563580}, "time_total_s": 5014.087171554565, "num_metric_batches_dropped": 0, "timestamp": 1558311512, "episode_reward_max": 1052.0438744399273, "timesteps_this_iter": 62937, "episode_reward_min": 362.9059874135667, "date": "2019-05-20_00-18-32", "policy_reward_mean": {}, "time_since_restore": 5014.087171554565, "episodes_total": 2965, "iterations_since_restore": 102, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 695.6, "done": false, "training_iteration": 102, "custom_metrics": {"cost2_mean": -0.05188262563945993, "outflow_rate_mean": 1083.0906852011324, "system_level_velocity_mean": 13.796798032475635, "cost2_min": -0.6708144938140871, "cost1_min": 176.00311305850926, "cost1_mean": 353.24510559315945, "cost1_max": 463.14176052226946, "outflow_rate_max": 1254.9326287887238, "system_level_velocity_max": 18.41783184119863, "outflow_rate_min": 878.6802035047733, "cost2_max": 0.0, "system_level_velocity_min": 9.07107676613981}, "node_ip": "10.138.0.2", "timesteps_total": 6563580}
{"hostname": "flow-main", "episode_reward_mean": 852.1722792139904, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ed68>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.42316746711731, "timesteps_since_restore": 6627441, "info": {"num_steps_trained": 6627441, "default": {"entropy": 1.4490289688110352, "kl": 0.01791088655591011, "vf_loss": 25.604942321777344, "vf_explained_var": 0.8604563474655151, "policy_loss": -0.010313858278095722, "total_loss": 25.598657608032227, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.619, "sample_time_ms": 32943.44, "grad_time_ms": 15584.822, "update_time_ms": 7.54, "num_steps_sampled": 6627441}, "time_total_s": 5062.510339021683, "num_metric_batches_dropped": 0, "timestamp": 1558311560, "episode_reward_max": 1072.7288681446364, "timesteps_this_iter": 63861, "episode_reward_min": 357.1515847491254, "date": "2019-05-20_00-19-20", "policy_reward_mean": {}, "time_since_restore": 5062.510339021683, "episodes_total": 2993, "iterations_since_restore": 103, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 691.07, "done": false, "training_iteration": 103, "custom_metrics": {"cost2_mean": -0.049471685538227825, "outflow_rate_mean": 1076.951448340752, "system_level_velocity_mean": 13.72526702389628, "cost2_min": -0.6708144938140871, "cost1_min": 165.70695871673448, "cost1_mean": 348.5552990038361, "cost1_max": 466.4794452835515, "outflow_rate_max": 1254.9326287887238, "system_level_velocity_max": 18.41783184119863, "outflow_rate_min": 878.6802035047733, "cost2_max": 0.0, "system_level_velocity_min": 9.564110089180925}, "node_ip": "10.138.0.2", "timesteps_total": 6627441}
{"hostname": "flow-main", "episode_reward_mean": 849.1387713672417, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8a20>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.43121600151062, "timesteps_since_restore": 6688508, "info": {"num_steps_trained": 6688508, "default": {"entropy": 1.4534052610397339, "kl": 0.01945662871003151, "vf_loss": 25.275747299194336, "vf_explained_var": 0.8605484366416931, "policy_loss": -0.01123245619237423, "total_loss": 25.268892288208008, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 8.702, "sample_time_ms": 32783.874, "grad_time_ms": 15318.224, "update_time_ms": 7.855, "num_steps_sampled": 6688508}, "time_total_s": 5107.941555023193, "num_metric_batches_dropped": 0, "timestamp": 1558311606, "episode_reward_max": 1088.57109565529, "timesteps_this_iter": 61067, "episode_reward_min": 337.4126609003254, "date": "2019-05-20_00-20-06", "policy_reward_mean": {}, "time_since_restore": 5107.941555023193, "episodes_total": 3023, "iterations_since_restore": 104, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 686.38, "done": false, "training_iteration": 104, "custom_metrics": {"cost2_mean": -0.049927081347090584, "outflow_rate_mean": 1080.6756461625437, "system_level_velocity_mean": 13.876296322072974, "cost2_min": -0.7690757430809798, "cost1_min": 155.4281968784284, "cost1_mean": 349.6748258052905, "cost1_max": 468.8988481309003, "outflow_rate_max": 1270.2276853621772, "system_level_velocity_max": 18.41783184119863, "outflow_rate_min": 870.2933413380315, "cost2_max": 0.0, "system_level_velocity_min": 9.692567123398899}, "node_ip": "10.138.0.2", "timesteps_total": 6688508}
{"hostname": "flow-main", "episode_reward_mean": 846.5269290606002, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8f28>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.181426763534546, "timesteps_since_restore": 6750132, "info": {"num_steps_trained": 6750132, "default": {"entropy": 1.4563227891921997, "kl": 0.018671749159693718, "vf_loss": 25.441335678100586, "vf_explained_var": 0.8474339842796326, "policy_loss": -0.010365012101829052, "total_loss": 25.435171127319336, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "load_time_ms": 9.164, "sample_time_ms": 32576.426, "grad_time_ms": 15511.246, "update_time_ms": 7.614, "num_steps_sampled": 6750132}, "time_total_s": 5155.122981786728, "num_metric_batches_dropped": 0, "timestamp": 1558311653, "episode_reward_max": 1088.57109565529, "timesteps_this_iter": 61624, "episode_reward_min": 337.4126609003254, "date": "2019-05-20_00-20-53", "policy_reward_mean": {}, "time_since_restore": 5155.122981786728, "episodes_total": 3050, "iterations_since_restore": 105, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 690.78, "done": false, "training_iteration": 105, "custom_metrics": {"cost2_mean": -0.045589716779766414, "outflow_rate_mean": 1082.0881728459076, "system_level_velocity_mean": 13.791889757964059, "cost2_min": -0.7690757430809798, "cost1_min": 155.4281968784284, "cost1_mean": 350.770195551583, "cost1_max": 468.8988481309003, "outflow_rate_max": 1270.2276853621772, "system_level_velocity_max": 18.373012039041825, "outflow_rate_min": 870.2933413380315, "cost2_max": 0.0, "system_level_velocity_min": 9.692567123398899}, "node_ip": "10.138.0.2", "timesteps_total": 6750132}
{"hostname": "flow-main", "episode_reward_mean": 859.0653387178919, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8550>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.43850040435791, "timesteps_since_restore": 6814555, "info": {"num_steps_trained": 6814555, "default": {"entropy": 1.4580886363983154, "kl": 0.016457995399832726, "vf_loss": 25.46551513671875, "vf_explained_var": 0.848638653755188, "policy_loss": -0.009510071016848087, "total_loss": 25.4597110748291, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.704, "sample_time_ms": 32280.926, "grad_time_ms": 15410.356, "update_time_ms": 7.587, "num_steps_sampled": 6814555}, "time_total_s": 5201.561482191086, "num_metric_batches_dropped": 0, "timestamp": 1558311699, "episode_reward_max": 1088.57109565529, "timesteps_this_iter": 64423, "episode_reward_min": 337.4126609003254, "date": "2019-05-20_00-21-39", "policy_reward_mean": {}, "time_since_restore": 5201.561482191086, "episodes_total": 3079, "iterations_since_restore": 106, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 690.78, "done": false, "training_iteration": 106, "custom_metrics": {"cost2_mean": -0.03906589040229829, "outflow_rate_mean": 1082.4438995171433, "system_level_velocity_mean": 13.803834373612982, "cost2_min": -0.7690757430809798, "cost1_min": 155.4281968784284, "cost1_mean": 351.3662983509701, "cost1_max": 474.1417230395817, "outflow_rate_max": 1270.2276853621772, "system_level_velocity_max": 18.373012039041825, "outflow_rate_min": 870.2933413380315, "cost2_max": 0.0, "system_level_velocity_min": 9.692567123398899}, "node_ip": "10.138.0.2", "timesteps_total": 6814555}
{"hostname": "flow-main", "episode_reward_mean": 872.1113398300818, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028977b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028979b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028976a0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.61853313446045, "timesteps_since_restore": 6878372, "info": {"num_steps_trained": 6878372, "default": {"entropy": 1.4514775276184082, "kl": 0.019005127251148224, "vf_loss": 24.59905242919922, "vf_explained_var": 0.8502218723297119, "policy_loss": -0.009333540685474873, "total_loss": 24.593996047973633, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.488, "sample_time_ms": 32271.793, "grad_time_ms": 15622.226, "update_time_ms": 7.462, "num_steps_sampled": 6878372}, "time_total_s": 5252.180015325546, "num_metric_batches_dropped": 0, "timestamp": 1558311750, "episode_reward_max": 1084.0399260732624, "timesteps_this_iter": 63817, "episode_reward_min": 671.7385638845715, "date": "2019-05-20_00-22-30", "policy_reward_mean": {}, "time_since_restore": 5252.180015325546, "episodes_total": 3108, "iterations_since_restore": 107, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 700.0, "done": false, "training_iteration": 107, "custom_metrics": {"cost2_mean": -0.04163251131148109, "outflow_rate_mean": 1088.0591770264955, "system_level_velocity_mean": 13.701333698195526, "cost2_min": -0.7690757430809798, "cost1_min": 237.03836139776274, "cost1_mean": 354.8138796215676, "cost1_max": 474.1417230395817, "outflow_rate_max": 1263.0873881813498, "system_level_velocity_max": 18.192768112849357, "outflow_rate_min": 902.8022785449062, "cost2_max": 0.0, "system_level_velocity_min": 9.236911174983167}, "node_ip": "10.138.0.2", "timesteps_total": 6878372}
{"hostname": "flow-main", "episode_reward_mean": 858.3764556404471, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897d30>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.28177881240845, "timesteps_since_restore": 6943292, "info": {"num_steps_trained": 6943292, "default": {"entropy": 1.4524692296981812, "kl": 0.017834488302469254, "vf_loss": 26.2113037109375, "vf_explained_var": 0.8402139544487, "policy_loss": -0.010601666755974293, "total_loss": 26.204715728759766, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.45, "sample_time_ms": 32125.957, "grad_time_ms": 15711.274, "update_time_ms": 7.441, "num_steps_sampled": 6943292}, "time_total_s": 5301.461794137955, "num_metric_batches_dropped": 0, "timestamp": 1558311799, "episode_reward_max": 1084.0399260732624, "timesteps_this_iter": 64920, "episode_reward_min": 130.5621364138585, "date": "2019-05-20_00-23-19", "policy_reward_mean": {}, "time_since_restore": 5301.461794137955, "episodes_total": 3138, "iterations_since_restore": 108, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 693.95, "done": false, "training_iteration": 108, "custom_metrics": {"cost2_mean": -0.02550754319910824, "outflow_rate_mean": 1074.4917127254896, "system_level_velocity_mean": 13.481048709654, "cost2_min": -0.3156277320691968, "cost1_min": 65.47531217037088, "cost1_mean": 344.6531339621833, "cost1_max": 474.1417230395817, "outflow_rate_max": 1263.0873881813498, "system_level_velocity_max": 18.90405510565543, "outflow_rate_min": 691.1232124942657, "cost2_max": 0.0, "system_level_velocity_min": 9.236911174983167}, "node_ip": "10.138.0.2", "timesteps_total": 6943292}
{"hostname": "flow-main", "episode_reward_mean": 858.5946717263055, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a90f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9048>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.31686496734619, "timesteps_since_restore": 7005516, "info": {"num_steps_trained": 7005516, "default": {"entropy": 1.468042016029358, "kl": 0.019785448908805847, "vf_loss": 23.87242889404297, "vf_explained_var": 0.8592255711555481, "policy_loss": -0.011662873439490795, "total_loss": 23.86521339416504, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 9.131, "sample_time_ms": 31921.91, "grad_time_ms": 15841.667, "update_time_ms": 7.597, "num_steps_sampled": 7005516}, "time_total_s": 5348.778659105301, "num_metric_batches_dropped": 0, "timestamp": 1558311847, "episode_reward_max": 1084.0399260732624, "timesteps_this_iter": 62224, "episode_reward_min": 130.5621364138585, "date": "2019-05-20_00-24-07", "policy_reward_mean": {}, "time_since_restore": 5348.778659105301, "episodes_total": 3167, "iterations_since_restore": 109, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 693.95, "done": false, "training_iteration": 109, "custom_metrics": {"cost2_mean": -0.031933258587587755, "outflow_rate_mean": 1070.6318553970973, "system_level_velocity_mean": 13.371069907457962, "cost2_min": -0.35163914511653643, "cost1_min": 65.47531217037088, "cost1_mean": 342.09904759190744, "cost1_max": 474.1417230395817, "outflow_rate_max": 1263.0873881813498, "system_level_velocity_max": 18.90405510565543, "outflow_rate_min": 691.1232124942657, "cost2_max": 0.0, "system_level_velocity_min": 9.236911174983167}, "node_ip": "10.138.0.2", "timesteps_total": 7005516}
{"hostname": "flow-main", "episode_reward_mean": 850.7174228063959, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.04241132736206, "timesteps_since_restore": 7069214, "info": {"num_steps_trained": 7069214, "default": {"entropy": 1.4652777910232544, "kl": 0.018197165802121162, "vf_loss": 24.781381607055664, "vf_explained_var": 0.8557354807853699, "policy_loss": -0.01087603997439146, "total_loss": 24.774600982666016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.582, "sample_time_ms": 31578.155, "grad_time_ms": 16044.38, "update_time_ms": 7.74, "num_steps_sampled": 7069214}, "time_total_s": 5396.821070432663, "num_metric_batches_dropped": 0, "timestamp": 1558311895, "episode_reward_max": 1033.114246907638, "timesteps_this_iter": 63698, "episode_reward_min": 130.5621364138585, "date": "2019-05-20_00-24-55", "policy_reward_mean": {}, "time_since_restore": 5396.821070432663, "episodes_total": 3196, "iterations_since_restore": 110, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 688.47, "done": false, "training_iteration": 110, "custom_metrics": {"cost2_mean": -0.03544629749823028, "outflow_rate_mean": 1068.1908182781642, "system_level_velocity_mean": 13.393518201570103, "cost2_min": -0.5991883299907195, "cost1_min": 65.47531217037088, "cost1_mean": 339.17478606686416, "cost1_max": 462.95837502154086, "outflow_rate_max": 1254.611093043336, "system_level_velocity_max": 18.90405510565543, "outflow_rate_min": 691.1232124942657, "cost2_max": 0.0, "system_level_velocity_min": 9.253697916800768}, "node_ip": "10.138.0.2", "timesteps_total": 7069214}
{"hostname": "flow-main", "episode_reward_mean": 863.4390695033395, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028979b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028976d8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.00545406341553, "timesteps_since_restore": 7131071, "info": {"num_steps_trained": 7131071, "default": {"entropy": 1.4850809574127197, "kl": 0.02050594426691532, "vf_loss": 27.383949279785156, "vf_explained_var": 0.8541887402534485, "policy_loss": -0.01300898939371109, "total_loss": 27.375553131103516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "load_time_ms": 8.273, "sample_time_ms": 31400.554, "grad_time_ms": 16107.704, "update_time_ms": 8.046, "num_steps_sampled": 7131071}, "time_total_s": 5442.8265244960785, "num_metric_batches_dropped": 0, "timestamp": 1558311941, "episode_reward_max": 1089.9696033868752, "timesteps_this_iter": 61857, "episode_reward_min": 213.3609621184936, "date": "2019-05-20_00-25-41", "policy_reward_mean": {}, "time_since_restore": 5442.8265244960785, "episodes_total": 3226, "iterations_since_restore": 111, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 694.52, "done": false, "training_iteration": 111, "custom_metrics": {"cost2_mean": -0.03481877910667185, "outflow_rate_mean": 1072.5151782297692, "system_level_velocity_mean": 13.434675603531526, "cost2_min": -0.651235282009472, "cost1_min": 101.71392282989473, "cost1_mean": 344.725076110025, "cost1_max": 460.13567330892283, "outflow_rate_max": 1250.3502209356427, "system_level_velocity_max": 18.429552449492153, "outflow_rate_min": 769.9291672913969, "cost2_max": 0.0, "system_level_velocity_min": 10.299100518943032}, "node_ip": "10.138.0.2", "timesteps_total": 7131071}
{"hostname": "flow-main", "episode_reward_mean": 870.6974277216584, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.6667685508728, "timesteps_since_restore": 7190409, "info": {"num_steps_trained": 7190409, "default": {"entropy": 1.4722192287445068, "kl": 0.014869525097310543, "vf_loss": 27.20067596435547, "vf_explained_var": 0.8589033484458923, "policy_loss": -0.01168773788958788, "total_loss": 27.19400405883789, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.032, "sample_time_ms": 31085.29, "grad_time_ms": 16225.923, "update_time_ms": 8.242, "num_steps_sampled": 7190409}, "time_total_s": 5488.493293046951, "num_metric_batches_dropped": 0, "timestamp": 1558311986, "episode_reward_max": 1097.1478111159465, "timesteps_this_iter": 59338, "episode_reward_min": 213.3609621184936, "date": "2019-05-20_00-26-26", "policy_reward_mean": {}, "time_since_restore": 5488.493293046951, "episodes_total": 3256, "iterations_since_restore": 112, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 688.86, "done": false, "training_iteration": 112, "custom_metrics": {"cost2_mean": -0.04924165397142755, "outflow_rate_mean": 1092.6895056551543, "system_level_velocity_mean": 14.028134967909976, "cost2_min": -0.651235282009472, "cost1_min": 88.63864629245342, "cost1_mean": 356.3746064385283, "cost1_max": 460.13567330892283, "outflow_rate_max": 1255.1084387220824, "system_level_velocity_max": 18.429552449492153, "outflow_rate_min": 747.9495049432626, "cost2_max": 0.0, "system_level_velocity_min": 10.299100518943032}, "node_ip": "10.138.0.2", "timesteps_total": 7190409}
{"hostname": "flow-main", "episode_reward_mean": 879.4908350405709, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898240>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.18503427505493, "timesteps_since_restore": 7251803, "info": {"num_steps_trained": 7251803, "default": {"entropy": 1.4875091314315796, "kl": 0.01447180937975645, "vf_loss": 24.757291793823242, "vf_explained_var": 0.8535610437393188, "policy_loss": -0.012371174991130829, "total_loss": 24.74980354309082, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.277, "sample_time_ms": 30968.572, "grad_time_ms": 16218.856, "update_time_ms": 8.377, "num_steps_sampled": 7251803}, "time_total_s": 5535.678327322006, "num_metric_batches_dropped": 0, "timestamp": 1558312034, "episode_reward_max": 1097.1478111159465, "timesteps_this_iter": 61394, "episode_reward_min": 213.5170187268836, "date": "2019-05-20_00-27-14", "policy_reward_mean": {}, "time_since_restore": 5535.678327322006, "episodes_total": 3284, "iterations_since_restore": 113, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 694.34, "done": false, "training_iteration": 113, "custom_metrics": {"cost2_mean": -0.0423960237451183, "outflow_rate_mean": 1102.106715305466, "system_level_velocity_mean": 14.157285534542087, "cost2_min": -0.651235282009472, "cost1_min": 88.63864629245342, "cost1_mean": 363.3176574043443, "cost1_max": 460.9948161672196, "outflow_rate_max": 1255.1084387220824, "system_level_velocity_max": 18.31003012890712, "outflow_rate_min": 747.9495049432626, "cost2_max": 0.0, "system_level_velocity_min": 10.299100518943032}, "node_ip": "10.138.0.2", "timesteps_total": 7251803}
{"hostname": "flow-main", "episode_reward_mean": 872.6649430081842, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9dd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.158196687698364, "timesteps_since_restore": 7314214, "info": {"num_steps_trained": 7314214, "default": {"entropy": 1.48421311378479, "kl": 0.014590643346309662, "vf_loss": 23.500520706176758, "vf_explained_var": 0.86831134557724, "policy_loss": -0.01101020909845829, "total_loss": 23.49443817138672, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.294, "sample_time_ms": 30987.816, "grad_time_ms": 16472.394, "update_time_ms": 8.151, "num_steps_sampled": 7314214}, "time_total_s": 5583.836524009705, "num_metric_batches_dropped": 0, "timestamp": 1558312082, "episode_reward_max": 1097.1478111159465, "timesteps_this_iter": 62411, "episode_reward_min": 213.5170187268836, "date": "2019-05-20_00-28-02", "policy_reward_mean": {}, "time_since_restore": 5583.836524009705, "episodes_total": 3313, "iterations_since_restore": 114, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 694.34, "done": false, "training_iteration": 114, "custom_metrics": {"cost2_mean": -0.039113715510884633, "outflow_rate_mean": 1101.4877327886788, "system_level_velocity_mean": 14.11645838674465, "cost2_min": -0.560511834533974, "cost1_min": 88.63864629245342, "cost1_mean": 361.82020990000905, "cost1_max": 460.9948161672196, "outflow_rate_max": 1255.1084387220824, "system_level_velocity_max": 18.31003012890712, "outflow_rate_min": 747.9495049432626, "cost2_max": 0.0, "system_level_velocity_min": 10.498111684035017}, "node_ip": "10.138.0.2", "timesteps_total": 7314214}
{"hostname": "flow-main", "episode_reward_mean": 865.7954682053627, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a98d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a95c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.69262456893921, "timesteps_since_restore": 7376176, "info": {"num_steps_trained": 7376176, "default": {"entropy": 1.4893183708190918, "kl": 0.014445730485022068, "vf_loss": 24.45729637145996, "vf_explained_var": 0.8703300356864929, "policy_loss": -0.011402973905205727, "total_loss": 24.450767517089844, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.152, "sample_time_ms": 31103.149, "grad_time_ms": 16208.236, "update_time_ms": 8.256, "num_steps_sampled": 7376176}, "time_total_s": 5629.529148578644, "num_metric_batches_dropped": 0, "timestamp": 1558312128, "episode_reward_max": 1097.1478111159465, "timesteps_this_iter": 61962, "episode_reward_min": 190.11375671579924, "date": "2019-05-20_00-28-48", "policy_reward_mean": {}, "time_since_restore": 5629.529148578644, "episodes_total": 3342, "iterations_since_restore": 115, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 694.16, "done": false, "training_iteration": 115, "custom_metrics": {"cost2_mean": -0.04159695839797428, "outflow_rate_mean": 1102.8976551284861, "system_level_velocity_mean": 14.106656142263995, "cost2_min": -0.4271731840901591, "cost1_min": 76.80042668767106, "cost1_mean": 361.326882303906, "cost1_max": 467.3051841741995, "outflow_rate_max": 1258.786177153137, "system_level_velocity_max": 18.103022125645417, "outflow_rate_min": 705.7549684348805, "cost2_max": 0.0, "system_level_velocity_min": 10.498111684035017}, "node_ip": "10.138.0.2", "timesteps_total": 7376176}
{"hostname": "flow-main", "episode_reward_mean": 855.1465965489168, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9c50>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.371302127838135, "timesteps_since_restore": 7438399, "info": {"num_steps_trained": 7438399, "default": {"entropy": 1.5070723295211792, "kl": 0.015160036273300648, "vf_loss": 26.789030075073242, "vf_explained_var": 0.8451849818229675, "policy_loss": -0.011890464462339878, "total_loss": 26.782257080078125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.425, "sample_time_ms": 31260.508, "grad_time_ms": 16145.242, "update_time_ms": 8.29, "num_steps_sampled": 7438399}, "time_total_s": 5676.900450706482, "num_metric_batches_dropped": 0, "timestamp": 1558312175, "episode_reward_max": 1037.821966661608, "timesteps_this_iter": 62223, "episode_reward_min": 151.55574128476482, "date": "2019-05-20_00-29-35", "policy_reward_mean": {}, "time_since_restore": 5676.900450706482, "episodes_total": 3371, "iterations_since_restore": 116, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 688.21, "done": false, "training_iteration": 116, "custom_metrics": {"cost2_mean": -0.04406325860949826, "outflow_rate_mean": 1091.380619344155, "system_level_velocity_mean": 13.996573915839432, "cost2_min": -0.6000000000000001, "cost1_min": 72.73474783480772, "cost1_mean": 354.09782753228797, "cost1_max": 467.3051841741995, "outflow_rate_max": 1258.786177153137, "system_level_velocity_max": 18.937314109443818, "outflow_rate_min": 704.3719451689477, "cost2_max": 0.0, "system_level_velocity_min": 10.498111684035017}, "node_ip": "10.138.0.2", "timesteps_total": 7438399}
{"hostname": "flow-main", "episode_reward_mean": 857.1434886914645, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9898>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.030972957611084, "timesteps_since_restore": 7501681, "info": {"num_steps_trained": 7501681, "default": {"entropy": 1.515297532081604, "kl": 0.013990667648613453, "vf_loss": 25.77805519104004, "vf_explained_var": 0.8482890725135803, "policy_loss": -0.01047535054385662, "total_loss": 25.772302627563477, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.524, "sample_time_ms": 31187.72, "grad_time_ms": 15958.53, "update_time_ms": 8.222, "num_steps_sampled": 7501681}, "time_total_s": 5724.931423664093, "num_metric_batches_dropped": 0, "timestamp": 1558312223, "episode_reward_max": 1044.6893019388785, "timesteps_this_iter": 63282, "episode_reward_min": 151.55574128476482, "date": "2019-05-20_00-30-23", "policy_reward_mean": {}, "time_since_restore": 5724.931423664093, "episodes_total": 3400, "iterations_since_restore": 117, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 688.21, "done": false, "training_iteration": 117, "custom_metrics": {"cost2_mean": -0.04867782359117251, "outflow_rate_mean": 1083.441333310461, "system_level_velocity_mean": 13.838755442917515, "cost2_min": -0.6000000000000001, "cost1_min": 72.73474783480772, "cost1_mean": 350.0152538578264, "cost1_max": 468.6884640991692, "outflow_rate_max": 1269.9821745820777, "system_level_velocity_max": 18.937314109443818, "outflow_rate_min": 704.3719451689477, "cost2_max": 0.0, "system_level_velocity_min": 9.819432101534263}, "node_ip": "10.138.0.2", "timesteps_total": 7501681}
{"hostname": "flow-main", "episode_reward_mean": 848.5315842689987, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9080>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.53252935409546, "timesteps_since_restore": 7563693, "info": {"num_steps_trained": 7563693, "default": {"entropy": 1.5306217670440674, "kl": 0.01513016689568758, "vf_loss": 24.60009002685547, "vf_explained_var": 0.8613238334655762, "policy_loss": -0.013344925828278065, "total_loss": 24.59185218811035, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.428, "sample_time_ms": 31358.213, "grad_time_ms": 15813.99, "update_time_ms": 8.398, "num_steps_sampled": 7563693}, "time_total_s": 5774.4639530181885, "num_metric_batches_dropped": 0, "timestamp": 1558312273, "episode_reward_max": 1044.6893019388785, "timesteps_this_iter": 62012, "episode_reward_min": 151.55574128476482, "date": "2019-05-20_00-31-13", "policy_reward_mean": {}, "time_since_restore": 5774.4639530181885, "episodes_total": 3430, "iterations_since_restore": 118, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 688.21, "done": false, "training_iteration": 118, "custom_metrics": {"cost2_mean": -0.03737004059344496, "outflow_rate_mean": 1072.0885635335292, "system_level_velocity_mean": 13.60008861370212, "cost2_min": -0.6000000000000001, "cost1_min": 72.73474783480772, "cost1_mean": 343.5521347061498, "cost1_max": 468.6884640991692, "outflow_rate_max": 1269.9821745820777, "system_level_velocity_max": 18.937314109443818, "outflow_rate_min": 704.3719451689477, "cost2_max": 0.0, "system_level_velocity_min": 9.819432101534263}, "node_ip": "10.138.0.2", "timesteps_total": 7563693}
{"hostname": "flow-main", "episode_reward_mean": 861.3764252414501, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.72338342666626, "timesteps_since_restore": 7626670, "info": {"num_steps_trained": 7626670, "default": {"entropy": 1.5309743881225586, "kl": 0.015340879559516907, "vf_loss": 25.94358253479004, "vf_explained_var": 0.8371142745018005, "policy_loss": -0.012218989431858063, "total_loss": 25.936538696289062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.013, "sample_time_ms": 31461.052, "grad_time_ms": 15651.232, "update_time_ms": 8.273, "num_steps_sampled": 7626670}, "time_total_s": 5821.187336444855, "num_metric_batches_dropped": 0, "timestamp": 1558312319, "episode_reward_max": 1044.6893019388785, "timesteps_this_iter": 62977, "episode_reward_min": 197.3303969386394, "date": "2019-05-20_00-31-59", "policy_reward_mean": {}, "time_since_restore": 5821.187336444855, "episodes_total": 3458, "iterations_since_restore": 119, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 694.37, "done": false, "training_iteration": 119, "custom_metrics": {"cost2_mean": -0.030676981379035073, "outflow_rate_mean": 1073.0189156990675, "system_level_velocity_mean": 13.56554224569519, "cost2_min": -0.616344600969861, "cost1_min": 92.03734409721666, "cost1_mean": 346.62130212300394, "cost1_max": 468.6884640991692, "outflow_rate_max": 1269.9821745820777, "system_level_velocity_max": 18.397711891852666, "outflow_rate_min": 746.6938559036172, "cost2_max": 0.0, "system_level_velocity_min": 9.819432101534263}, "node_ip": "10.138.0.2", "timesteps_total": 7626670}
{"hostname": "flow-main", "episode_reward_mean": 854.5592919025803, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8518>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.327462673187256, "timesteps_since_restore": 7690078, "info": {"num_steps_trained": 7690078, "default": {"entropy": 1.5419068336486816, "kl": 0.015053152106702328, "vf_loss": 28.241212844848633, "vf_explained_var": 0.832189679145813, "policy_loss": -0.011466238647699356, "total_loss": 28.234830856323242, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.155, "sample_time_ms": 31725.12, "grad_time_ms": 15417.824, "update_time_ms": 8.231, "num_steps_sampled": 7690078}, "time_total_s": 5869.514799118042, "num_metric_batches_dropped": 0, "timestamp": 1558312368, "episode_reward_max": 1044.6893019388785, "timesteps_this_iter": 63408, "episode_reward_min": 197.3303969386394, "date": "2019-05-20_00-32-48", "policy_reward_mean": {}, "time_since_restore": 5869.514799118042, "episodes_total": 3488, "iterations_since_restore": 120, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 689.26, "done": false, "training_iteration": 120, "custom_metrics": {"cost2_mean": -0.019649410336633734, "outflow_rate_mean": 1066.640085069892, "system_level_velocity_mean": 13.52592127805522, "cost2_min": -0.616344600969861, "cost1_min": 92.03734409721666, "cost1_mean": 342.5224866751325, "cost1_max": 458.14863256836, "outflow_rate_max": 1240.3451247051396, "system_level_velocity_max": 18.397711891852666, "outflow_rate_min": 746.6938559036172, "cost2_max": 0.0, "system_level_velocity_min": 9.82407885197812}, "node_ip": "10.138.0.2", "timesteps_total": 7690078}
{"hostname": "flow-main", "episode_reward_mean": 863.7424333318936, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a92b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.554150104522705, "timesteps_since_restore": 7750201, "info": {"num_steps_trained": 7750201, "default": {"entropy": 1.532470941543579, "kl": 0.01484995149075985, "vf_loss": 28.245492935180664, "vf_explained_var": 0.8512687087059021, "policy_loss": -0.011155429296195507, "total_loss": 28.239347457885742, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.893, "sample_time_ms": 31733.052, "grad_time_ms": 15264.142, "update_time_ms": 8.078, "num_steps_sampled": 7750201}, "time_total_s": 5914.068949222565, "num_metric_batches_dropped": 0, "timestamp": 1558312412, "episode_reward_max": 1020.4414693929954, "timesteps_this_iter": 60123, "episode_reward_min": 197.3303969386394, "date": "2019-05-20_00-33-32", "policy_reward_mean": {}, "time_since_restore": 5914.068949222565, "episodes_total": 3518, "iterations_since_restore": 121, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 689.26, "done": false, "training_iteration": 121, "custom_metrics": {"cost2_mean": -0.017674604852679802, "outflow_rate_mean": 1076.1332407077712, "system_level_velocity_mean": 13.73861322525949, "cost2_min": -0.616344600969861, "cost1_min": 92.03734409721666, "cost1_mean": 348.37209743582025, "cost1_max": 461.3614889786868, "outflow_rate_max": 1256.1317399635145, "system_level_velocity_max": 18.397711891852666, "outflow_rate_min": 746.6938559036172, "cost2_max": 0.0, "system_level_velocity_min": 9.82407885197812}, "node_ip": "10.138.0.2", "timesteps_total": 7750201}
{"hostname": "flow-main", "episode_reward_mean": 864.3635663057477, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85c0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.56612205505371, "timesteps_since_restore": 7810374, "info": {"num_steps_trained": 7810374, "default": {"entropy": 1.5540121793746948, "kl": 0.015029039233922958, "vf_loss": 25.68791961669922, "vf_explained_var": 0.86009281873703, "policy_loss": -0.012301921844482422, "total_loss": 25.680692672729492, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.456, "sample_time_ms": 31767.117, "grad_time_ms": 15319.738, "update_time_ms": 8.128, "num_steps_sampled": 7810374}, "time_total_s": 5960.635071277618, "num_metric_batches_dropped": 0, "timestamp": 1558312459, "episode_reward_max": 1034.196278129266, "timesteps_this_iter": 60173, "episode_reward_min": 283.5521056845363, "date": "2019-05-20_00-34-19", "policy_reward_mean": {}, "time_since_restore": 5960.635071277618, "episodes_total": 3548, "iterations_since_restore": 122, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 694.89, "done": false, "training_iteration": 122, "custom_metrics": {"cost2_mean": -0.012649612142429267, "outflow_rate_mean": 1085.3398920995292, "system_level_velocity_mean": 13.798099728642473, "cost2_min": -0.31385855987388633, "cost1_min": 125.76741981159341, "cost1_mean": 354.19276399949223, "cost1_max": 461.3614889786868, "outflow_rate_max": 1256.1317399635145, "system_level_velocity_max": 18.073891270550718, "outflow_rate_min": 825.3569504148712, "cost2_max": 0.0, "system_level_velocity_min": 9.82407885197812}, "node_ip": "10.138.0.2", "timesteps_total": 7810374}
{"hostname": "flow-main", "episode_reward_mean": 861.8370246264727, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a91d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9208>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.76435446739197, "timesteps_since_restore": 7871450, "info": {"num_steps_trained": 7871450, "default": {"entropy": 1.5496500730514526, "kl": 0.01448846235871315, "vf_loss": 28.4605770111084, "vf_explained_var": 0.8455563187599182, "policy_loss": -0.010059552267193794, "total_loss": 28.45541000366211, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.214, "sample_time_ms": 31609.224, "grad_time_ms": 15236.827, "update_time_ms": 7.941, "num_steps_sampled": 7871450}, "time_total_s": 6005.39942574501, "num_metric_batches_dropped": 0, "timestamp": 1558312504, "episode_reward_max": 1054.2561968286789, "timesteps_this_iter": 61076, "episode_reward_min": 283.5521056845363, "date": "2019-05-20_00-35-04", "policy_reward_mean": {}, "time_since_restore": 6005.39942574501, "episodes_total": 3579, "iterations_since_restore": 123, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 694.89, "done": false, "training_iteration": 123, "custom_metrics": {"cost2_mean": -0.01352202190174602, "outflow_rate_mean": 1089.0673053343007, "system_level_velocity_mean": 13.875624609233263, "cost2_min": -0.31385855987388633, "cost1_min": 125.76741981159341, "cost1_mean": 355.9666850871536, "cost1_max": 464.1216901709076, "outflow_rate_max": 1259.576254889058, "system_level_velocity_max": 18.073891270550718, "outflow_rate_min": 825.3569504148712, "cost2_max": 0.0, "system_level_velocity_min": 9.154590444314653}, "node_ip": "10.138.0.2", "timesteps_total": 7871450}
{"hostname": "flow-main", "episode_reward_mean": 855.7030656069101, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8dd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.82283067703247, "timesteps_since_restore": 7931938, "info": {"num_steps_trained": 7931938, "default": {"entropy": 1.553623914718628, "kl": 0.01498187892138958, "vf_loss": 25.25783348083496, "vf_explained_var": 0.8661492466926575, "policy_loss": -0.011423983611166477, "total_loss": 25.25146484375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.345, "sample_time_ms": 31369.349, "grad_time_ms": 15244.071, "update_time_ms": 7.789, "num_steps_sampled": 7931938}, "time_total_s": 6051.222256422043, "num_metric_batches_dropped": 0, "timestamp": 1558312550, "episode_reward_max": 1054.2561968286789, "timesteps_this_iter": 60488, "episode_reward_min": 45.67655479493271, "date": "2019-05-20_00-35-50", "policy_reward_mean": {}, "time_since_restore": 6051.222256422043, "episodes_total": 3608, "iterations_since_restore": 124, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 693.27, "done": false, "training_iteration": 124, "custom_metrics": {"cost2_mean": -0.015088958558951093, "outflow_rate_mean": 1087.5429938013062, "system_level_velocity_mean": 13.9473450629765, "cost2_min": -0.3333333333333333, "cost1_min": 17.93693362437214, "cost1_mean": 356.4746504489126, "cost1_max": 464.1216901709076, "outflow_rate_max": 1259.576254889058, "system_level_velocity_max": 18.033012302813333, "outflow_rate_min": 474.1624433959506, "cost2_max": 0.0, "system_level_velocity_min": 9.154590444314653}, "node_ip": "10.138.0.2", "timesteps_total": 7931938}
{"hostname": "flow-main", "episode_reward_mean": 860.628187080734, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9cc0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.56899905204773, "timesteps_since_restore": 7993354, "info": {"num_steps_trained": 7993354, "default": {"entropy": 1.554643154144287, "kl": 0.015199256129562855, "vf_loss": 30.393585205078125, "vf_explained_var": 0.841652512550354, "policy_loss": -0.011162333190441132, "total_loss": 30.38755226135254, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.531, "sample_time_ms": 31094.537, "grad_time_ms": 15507.14, "update_time_ms": 7.617, "num_steps_sampled": 7993354}, "time_total_s": 6096.791255474091, "num_metric_batches_dropped": 0, "timestamp": 1558312595, "episode_reward_max": 1054.2561968286789, "timesteps_this_iter": 61416, "episode_reward_min": 45.67655479493271, "date": "2019-05-20_00-36-35", "policy_reward_mean": {}, "time_since_restore": 6096.791255474091, "episodes_total": 3638, "iterations_since_restore": 125, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 686.81, "done": false, "training_iteration": 125, "custom_metrics": {"cost2_mean": -0.024857417056011407, "outflow_rate_mean": 1084.471314764366, "system_level_velocity_mean": 14.072398528509844, "cost2_min": -0.8333333333333333, "cost1_min": 17.93693362437214, "cost1_mean": 355.4784059929256, "cost1_max": 470.08001830485335, "outflow_rate_max": 1264.5855771884003, "system_level_velocity_max": 18.553533136630524, "outflow_rate_min": 474.1624433959506, "cost2_max": 0.0, "system_level_velocity_min": 9.154590444314653}, "node_ip": "10.138.0.2", "timesteps_total": 7993354}
{"hostname": "flow-main", "episode_reward_mean": 865.2172705224802, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.85069298744202, "timesteps_since_restore": 8055047, "info": {"num_steps_trained": 8055047, "default": {"entropy": 1.57941472530365, "kl": 0.014671914279460907, "vf_loss": 27.774883270263672, "vf_explained_var": 0.8226263523101807, "policy_loss": -0.01162705197930336, "total_loss": 27.768205642700195, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.191, "sample_time_ms": 31081.083, "grad_time_ms": 15767.825, "update_time_ms": 7.606, "num_steps_sampled": 8055047}, "time_total_s": 6146.641948461533, "num_metric_batches_dropped": 0, "timestamp": 1558312645, "episode_reward_max": 1045.2232848457818, "timesteps_this_iter": 61693, "episode_reward_min": 45.67655479493271, "date": "2019-05-20_00-37-25", "policy_reward_mean": {}, "time_since_restore": 6146.641948461533, "episodes_total": 3666, "iterations_since_restore": 126, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 686.81, "done": false, "training_iteration": 126, "custom_metrics": {"cost2_mean": -0.02933034592839567, "outflow_rate_mean": 1081.3566865281593, "system_level_velocity_mean": 14.058656193464175, "cost2_min": -0.8333333333333333, "cost1_min": 17.93693362437214, "cost1_mean": 354.9981656955265, "cost1_max": 470.08001830485335, "outflow_rate_max": 1264.5855771884003, "system_level_velocity_max": 18.553533136630524, "outflow_rate_min": 474.1624433959506, "cost2_max": 0.0, "system_level_velocity_min": 9.154590444314653}, "node_ip": "10.138.0.2", "timesteps_total": 8055047}
{"hostname": "flow-main", "episode_reward_mean": 854.4906638161999, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ef60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.042893171310425, "timesteps_since_restore": 8113829, "info": {"num_steps_trained": 8113829, "default": {"entropy": 1.6042333841323853, "kl": 0.014941803179681301, "vf_loss": 26.687334060668945, "vf_explained_var": 0.8394572138786316, "policy_loss": -0.01126155536621809, "total_loss": 26.68111801147461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.622, "sample_time_ms": 30804.235, "grad_time_ms": 15746.181, "update_time_ms": 7.841, "num_steps_sampled": 8113829}, "time_total_s": 6191.684841632843, "num_metric_batches_dropped": 0, "timestamp": 1558312690, "episode_reward_max": 1045.2232848457818, "timesteps_this_iter": 58782, "episode_reward_min": 45.67655479493271, "date": "2019-05-20_00-38-10", "policy_reward_mean": {}, "time_since_restore": 6191.684841632843, "episodes_total": 3695, "iterations_since_restore": 127, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 681.66, "done": false, "training_iteration": 127, "custom_metrics": {"cost2_mean": -0.02653665650499547, "outflow_rate_mean": 1070.9984043324162, "system_level_velocity_mean": 13.960110545583374, "cost2_min": -0.8333333333333333, "cost1_min": 17.93693362437214, "cost1_mean": 349.3993352657473, "cost1_max": 470.08001830485335, "outflow_rate_max": 1264.5855771884003, "system_level_velocity_max": 18.553533136630524, "outflow_rate_min": 474.1624433959506, "cost2_max": 0.0, "system_level_velocity_min": 9.327198331377978}, "node_ip": "10.138.0.2", "timesteps_total": 8113829}
{"hostname": "flow-main", "episode_reward_mean": 863.6632644071769, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8be0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.155617475509644, "timesteps_since_restore": 8172046, "info": {"num_steps_trained": 8172046, "default": {"entropy": 1.6056550741195679, "kl": 0.014596554450690746, "vf_loss": 30.73346519470215, "vf_explained_var": 0.8233198523521423, "policy_loss": -0.011031814850866795, "total_loss": 30.727357864379883, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.438, "sample_time_ms": 30650.225, "grad_time_ms": 15664.386, "update_time_ms": 7.787, "num_steps_sampled": 8172046}, "time_total_s": 6238.840459108353, "num_metric_batches_dropped": 0, "timestamp": 1558312738, "episode_reward_max": 1045.2232848457818, "timesteps_this_iter": 58217, "episode_reward_min": 257.2542003219194, "date": "2019-05-20_00-38-58", "policy_reward_mean": {}, "time_since_restore": 6238.840459108353, "episodes_total": 3724, "iterations_since_restore": 128, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 686.07, "done": false, "training_iteration": 128, "custom_metrics": {"cost2_mean": -0.02470453489543889, "outflow_rate_mean": 1077.4468567284866, "system_level_velocity_mean": 13.968575134864274, "cost2_min": -0.8333333333333333, "cost1_min": 123.8449832751425, "cost1_mean": 352.92691527182666, "cost1_max": 465.31725646144673, "outflow_rate_max": 1257.480360503667, "system_level_velocity_max": 18.3188672305877, "outflow_rate_min": 819.4638867887027, "cost2_max": 0.0, "system_level_velocity_min": 9.327198331377978}, "node_ip": "10.138.0.2", "timesteps_total": 8172046}
{"hostname": "flow-main", "episode_reward_mean": 855.4437106564983, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b27b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2fd0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.04318690299988, "timesteps_since_restore": 8233998, "info": {"num_steps_trained": 8233998, "default": {"entropy": 1.591141939163208, "kl": 0.015254611149430275, "vf_loss": 26.061721801757812, "vf_explained_var": 0.8337675333023071, "policy_loss": -0.010827594436705112, "total_loss": 26.056041717529297, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.181, "sample_time_ms": 30869.504, "grad_time_ms": 15576.842, "update_time_ms": 7.826, "num_steps_sampled": 8233998}, "time_total_s": 6286.8836460113525, "num_metric_batches_dropped": 0, "timestamp": 1558312786, "episode_reward_max": 1031.6575043560738, "timesteps_this_iter": 61952, "episode_reward_min": 257.2542003219194, "date": "2019-05-20_00-39-46", "policy_reward_mean": {}, "time_since_restore": 6286.8836460113525, "episodes_total": 3752, "iterations_since_restore": 129, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 686.07, "done": false, "training_iteration": 129, "custom_metrics": {"cost2_mean": -0.02598416018756202, "outflow_rate_mean": 1079.4863960873058, "system_level_velocity_mean": 13.986624100022375, "cost2_min": -0.4567999199321432, "cost1_min": 123.8449832751425, "cost1_mean": 353.6467801775045, "cost1_max": 451.2896036530212, "outflow_rate_max": 1234.358019686384, "system_level_velocity_max": 18.3188672305877, "outflow_rate_min": 819.4638867887027, "cost2_max": 0.0, "system_level_velocity_min": 9.790338487098134}, "node_ip": "10.138.0.2", "timesteps_total": 8233998}
{"hostname": "flow-main", "episode_reward_mean": 855.0507392294764, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.8997015953064, "timesteps_since_restore": 8294060, "info": {"num_steps_trained": 8294060, "default": {"entropy": 1.6048476696014404, "kl": 0.014494949020445347, "vf_loss": 30.37308692932129, "vf_explained_var": 0.8205579519271851, "policy_loss": -0.010530521161854267, "total_loss": 30.367446899414062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.097, "sample_time_ms": 30856.885, "grad_time_ms": 15646.922, "update_time_ms": 7.705, "num_steps_sampled": 8294060}, "time_total_s": 6335.783347606659, "num_metric_batches_dropped": 0, "timestamp": 1558312835, "episode_reward_max": 1031.6575043560738, "timesteps_this_iter": 60062, "episode_reward_min": 257.2542003219194, "date": "2019-05-20_00-40-35", "policy_reward_mean": {}, "time_since_restore": 6335.783347606659, "episodes_total": 3783, "iterations_since_restore": 130, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 686.07, "done": false, "training_iteration": 130, "custom_metrics": {"cost2_mean": -0.03909255593643822, "outflow_rate_mean": 1081.2065972766127, "system_level_velocity_mean": 13.954933614569915, "cost2_min": -0.5625417272419723, "cost1_min": 123.8449832751425, "cost1_mean": 353.24381916317196, "cost1_max": 451.2896036530212, "outflow_rate_max": 1238.959495656755, "system_level_velocity_max": 18.3188672305877, "outflow_rate_min": 819.4638867887027, "cost2_max": 0.0, "system_level_velocity_min": 9.790338487098134}, "node_ip": "10.138.0.2", "timesteps_total": 8294060}
{"hostname": "flow-main", "episode_reward_mean": 867.6964690114287, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8a90>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.40914535522461, "timesteps_since_restore": 8355177, "info": {"num_steps_trained": 8355177, "default": {"entropy": 1.5818840265274048, "kl": 0.015211138874292374, "vf_loss": 30.228208541870117, "vf_explained_var": 0.8322721719741821, "policy_loss": -0.011464012786746025, "total_loss": 30.221878051757812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.552, "sample_time_ms": 31021.833, "grad_time_ms": 15665.896, "update_time_ms": 7.845, "num_steps_sampled": 8355177}, "time_total_s": 6382.1924929618835, "num_metric_batches_dropped": 0, "timestamp": 1558312881, "episode_reward_max": 1031.6575043560738, "timesteps_this_iter": 61117, "episode_reward_min": 183.03073635430476, "date": "2019-05-20_00-41-21", "policy_reward_mean": {}, "time_since_restore": 6382.1924929618835, "episodes_total": 3813, "iterations_since_restore": 131, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 690.2, "done": false, "training_iteration": 131, "custom_metrics": {"cost2_mean": -0.04660989599782784, "outflow_rate_mean": 1089.9434060705166, "system_level_velocity_mean": 14.03941033476703, "cost2_min": -0.5625417272419723, "cost1_min": 77.72714905651453, "cost1_mean": 358.50905754311697, "cost1_max": 452.42452701044897, "outflow_rate_max": 1238.959495656755, "system_level_velocity_max": 18.57098736405911, "outflow_rate_min": 717.5806249666396, "cost2_max": 0.0, "system_level_velocity_min": 9.637461650411202}, "node_ip": "10.138.0.2", "timesteps_total": 8355177}
{"hostname": "flow-main", "episode_reward_mean": 873.8936282374781, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a90b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a97b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.337890625, "timesteps_since_restore": 8416054, "info": {"num_steps_trained": 8416054, "default": {"entropy": 1.588051676750183, "kl": 0.015483921393752098, "vf_loss": 29.36656951904297, "vf_explained_var": 0.8359602689743042, "policy_loss": -0.010068172588944435, "total_loss": 29.361726760864258, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.408, "sample_time_ms": 31167.233, "grad_time_ms": 15499.384, "update_time_ms": 7.595, "num_steps_sampled": 8416054}, "time_total_s": 6428.5303835868835, "num_metric_batches_dropped": 0, "timestamp": 1558312927, "episode_reward_max": 1025.5125156032695, "timesteps_this_iter": 60877, "episode_reward_min": 183.03073635430476, "date": "2019-05-20_00-42-07", "policy_reward_mean": {}, "time_since_restore": 6428.5303835868835, "episodes_total": 3842, "iterations_since_restore": 132, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 694.16, "done": false, "training_iteration": 132, "custom_metrics": {"cost2_mean": -0.0441075447049095, "outflow_rate_mean": 1089.2078817957192, "system_level_velocity_mean": 13.939835921329513, "cost2_min": -0.5625417272419723, "cost1_min": 77.72714905651453, "cost1_mean": 358.25072169142584, "cost1_max": 456.7312186183865, "outflow_rate_max": 1240.12256485109, "system_level_velocity_max": 18.57098736405911, "outflow_rate_min": 717.5806249666396, "cost2_max": 0.0, "system_level_velocity_min": 9.637461650411202}, "node_ip": "10.138.0.2", "timesteps_total": 8416054}
{"hostname": "flow-main", "episode_reward_mean": 851.8083925821903, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8a90>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.536303997039795, "timesteps_since_restore": 8478082, "info": {"num_steps_trained": 8478082, "default": {"entropy": 1.594046950340271, "kl": 0.015567366033792496, "vf_loss": 31.00999641418457, "vf_explained_var": 0.8212472200393677, "policy_loss": -0.012064478360116482, "total_loss": 31.003185272216797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.456, "sample_time_ms": 31533.667, "grad_time_ms": 15408.674, "update_time_ms": 7.59, "num_steps_sampled": 8478082}, "time_total_s": 6476.066687583923, "num_metric_batches_dropped": 0, "timestamp": 1558312975, "episode_reward_max": 1025.5125156032695, "timesteps_this_iter": 62028, "episode_reward_min": 60.20778177766297, "date": "2019-05-20_00-42-55", "policy_reward_mean": {}, "time_since_restore": 6476.066687583923, "episodes_total": 3875, "iterations_since_restore": 133, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 682.1, "done": false, "training_iteration": 133, "custom_metrics": {"cost2_mean": -0.03324209152488298, "outflow_rate_mean": 1070.467190348033, "system_level_velocity_mean": 13.831184403298858, "cost2_min": -0.5625417272419723, "cost1_min": 26.262652616869154, "cost1_mean": 347.1005447331946, "cost1_max": 457.9422192438874, "outflow_rate_max": 1269.6648210402375, "system_level_velocity_max": 18.57098736405911, "outflow_rate_min": 501.55056279945364, "cost2_max": 0.0, "system_level_velocity_min": 9.637461650411202}, "node_ip": "10.138.0.2", "timesteps_total": 8478082}
{"hostname": "flow-main", "episode_reward_mean": 847.6070202530938, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b26d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2a58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.345460653305054, "timesteps_since_restore": 8540306, "info": {"num_steps_trained": 8540306, "default": {"entropy": 1.6047688722610474, "kl": 0.014579330570995808, "vf_loss": 28.56826400756836, "vf_explained_var": 0.8213789463043213, "policy_loss": -0.01185507234185934, "total_loss": 28.561330795288086, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.255, "sample_time_ms": 31693.231, "grad_time_ms": 15301.782, "update_time_ms": 7.951, "num_steps_sampled": 8540306}, "time_total_s": 6522.412148237228, "num_metric_batches_dropped": 0, "timestamp": 1558313021, "episode_reward_max": 1025.5125156032695, "timesteps_this_iter": 62224, "episode_reward_min": 60.20778177766297, "date": "2019-05-20_00-43-41", "policy_reward_mean": {}, "time_since_restore": 6522.412148237228, "episodes_total": 3904, "iterations_since_restore": 134, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 682.1, "done": false, "training_iteration": 134, "custom_metrics": {"cost2_mean": -0.025420628928447007, "outflow_rate_mean": 1059.4917649697113, "system_level_velocity_mean": 13.616643155201977, "cost2_min": -0.38461538461538464, "cost1_min": 26.262652616869154, "cost1_mean": 341.5171533932984, "cost1_max": 457.9422192438874, "outflow_rate_max": 1269.6648210402375, "system_level_velocity_max": 18.57098736405911, "outflow_rate_min": 501.55056279945364, "cost2_max": 0.0, "system_level_velocity_min": 9.637461650411202}, "node_ip": "10.138.0.2", "timesteps_total": 8540306}
{"hostname": "flow-main", "episode_reward_mean": 846.9338283272297, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe080>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.17727327346802, "timesteps_since_restore": 8601091, "info": {"num_steps_trained": 8601091, "default": {"entropy": 1.5964945554733276, "kl": 0.014559059403836727, "vf_loss": 26.97039031982422, "vf_explained_var": 0.8465482592582703, "policy_loss": -0.01236159261316061, "total_loss": 26.962940216064453, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.271, "sample_time_ms": 31857.095, "grad_time_ms": 15298.515, "update_time_ms": 8.055, "num_steps_sampled": 8601091}, "time_total_s": 6569.589421510696, "num_metric_batches_dropped": 0, "timestamp": 1558313069, "episode_reward_max": 1028.4823501001215, "timesteps_this_iter": 60785, "episode_reward_min": 60.20778177766297, "date": "2019-05-20_00-44-29", "policy_reward_mean": {}, "time_since_restore": 6569.589421510696, "episodes_total": 3932, "iterations_since_restore": 135, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 687.94, "done": false, "training_iteration": 135, "custom_metrics": {"cost2_mean": -0.03020484127514882, "outflow_rate_mean": 1061.7608108427164, "system_level_velocity_mean": 13.500274652552427, "cost2_min": -0.38461538461538464, "cost1_min": 26.262652616869154, "cost1_mean": 342.7991971158463, "cost1_max": 457.9422192438874, "outflow_rate_max": 1269.6648210402375, "system_level_velocity_max": 18.437092499659293, "outflow_rate_min": 501.55056279945364, "cost2_max": 0.0, "system_level_velocity_min": 9.882718922876352}, "node_ip": "10.138.0.2", "timesteps_total": 8601091}
{"hostname": "flow-main", "episode_reward_mean": 853.0434202827871, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a81d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.417970180511475, "timesteps_since_restore": 8662153, "info": {"num_steps_trained": 8662153, "default": {"entropy": 1.6115773916244507, "kl": 0.015003460459411144, "vf_loss": 27.400602340698242, "vf_explained_var": 0.8367687463760376, "policy_loss": -0.011144552379846573, "total_loss": 27.394519805908203, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.449, "sample_time_ms": 31725.066, "grad_time_ms": 14986.681, "update_time_ms": 8.116, "num_steps_sampled": 8662153}, "time_total_s": 6615.007391691208, "num_metric_batches_dropped": 0, "timestamp": 1558313114, "episode_reward_max": 1064.4785644504113, "timesteps_this_iter": 61062, "episode_reward_min": 60.20778177766297, "date": "2019-05-20_00-45-14", "policy_reward_mean": {}, "time_since_restore": 6615.007391691208, "episodes_total": 3960, "iterations_since_restore": 136, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 687.94, "done": false, "training_iteration": 136, "custom_metrics": {"cost2_mean": -0.02641748099132165, "outflow_rate_mean": 1060.8473109991337, "system_level_velocity_mean": 13.525912632541317, "cost2_min": -0.38461538461538464, "cost1_min": 26.262652616869154, "cost1_mean": 343.80368518536454, "cost1_max": 457.9422192438874, "outflow_rate_max": 1269.6648210402375, "system_level_velocity_max": 18.437092499659293, "outflow_rate_min": 501.55056279945364, "cost2_max": 0.0, "system_level_velocity_min": 10.479467548226106}, "node_ip": "10.138.0.2", "timesteps_total": 8662153}
{"hostname": "flow-main", "episode_reward_mean": 875.2116011495948, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d339b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d335f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33a58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.89194369316101, "timesteps_since_restore": 8723326, "info": {"num_steps_trained": 8723326, "default": {"entropy": 1.5910307168960571, "kl": 0.01462036743760109, "vf_loss": 28.143089294433594, "vf_explained_var": 0.8512099385261536, "policy_loss": -0.011018880642950535, "total_loss": 28.13700294494629, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.596, "sample_time_ms": 31690.751, "grad_time_ms": 15292.198, "update_time_ms": 7.865, "num_steps_sampled": 8723326}, "time_total_s": 6662.899335384369, "num_metric_batches_dropped": 0, "timestamp": 1558313162, "episode_reward_max": 1064.4785644504113, "timesteps_this_iter": 61173, "episode_reward_min": 708.8941636599809, "date": "2019-05-20_00-46-02", "policy_reward_mean": {}, "time_since_restore": 6662.899335384369, "episodes_total": 3988, "iterations_since_restore": 137, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 137, "custom_metrics": {"cost2_mean": -0.02608365486134228, "outflow_rate_mean": 1080.7287125727794, "system_level_velocity_mean": 13.634974300817637, "cost2_min": -0.35904213647356176, "cost1_min": 266.63581849122636, "cost1_mean": 355.00797572386256, "cost1_max": 455.7606171654044, "outflow_rate_max": 1239.2214529180503, "system_level_velocity_max": 17.647167090019938, "outflow_rate_min": 933.1135414239077, "cost2_max": 0.0, "system_level_velocity_min": 10.233792588916284}, "node_ip": "10.138.0.2", "timesteps_total": 8723326}
{"hostname": "flow-main", "episode_reward_mean": 864.4297031136871, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 67.74121356010437, "timesteps_since_restore": 8783649, "info": {"num_steps_trained": 8783649, "default": {"entropy": 1.6030691862106323, "kl": 0.015426144935190678, "vf_loss": 25.521297454833984, "vf_explained_var": 0.8592554330825806, "policy_loss": -0.01207561045885086, "total_loss": 25.51443099975586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.925, "sample_time_ms": 33647.905, "grad_time_ms": 15389.621, "update_time_ms": 10.845, "num_steps_sampled": 8783649}, "time_total_s": 6730.640548944473, "num_metric_batches_dropped": 0, "timestamp": 1558313230, "episode_reward_max": 1064.4785644504113, "timesteps_this_iter": 60323, "episode_reward_min": 293.01572330803816, "date": "2019-05-20_00-47-10", "policy_reward_mean": {}, "time_since_restore": 6730.640548944473, "episodes_total": 4017, "iterations_since_restore": 138, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 695.09, "done": false, "training_iteration": 138, "custom_metrics": {"cost2_mean": -0.027065622514142615, "outflow_rate_mean": 1083.4635671203314, "system_level_velocity_mean": 13.688695853299594, "cost2_min": -0.4, "cost1_min": 140.57081587553873, "cost1_mean": 352.8680703305252, "cost1_max": 455.7606171654044, "outflow_rate_max": 1239.2214529180503, "system_level_velocity_max": 18.11170367648581, "outflow_rate_min": 841.5524326650498, "cost2_max": 0.0, "system_level_velocity_min": 10.146229266950947}, "node_ip": "10.138.0.2", "timesteps_total": 8783649}
{"hostname": "flow-main", "episode_reward_mean": 861.3111433778191, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897048>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.266443967819214, "timesteps_since_restore": 8843132, "info": {"num_steps_trained": 8843132, "default": {"entropy": 1.6045292615890503, "kl": 0.016571518033742905, "vf_loss": 28.78131675720215, "vf_explained_var": 0.8522807359695435, "policy_loss": -0.012335557490587234, "total_loss": 28.774574279785156, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.396, "sample_time_ms": 32940.363, "grad_time_ms": 15819.716, "update_time_ms": 10.778, "num_steps_sampled": 8843132}, "time_total_s": 6775.9069929122925, "num_metric_batches_dropped": 0, "timestamp": 1558313275, "episode_reward_max": 1041.3772088123492, "timesteps_this_iter": 59483, "episode_reward_min": 293.01572330803816, "date": "2019-05-20_00-47-55", "policy_reward_mean": {}, "time_since_restore": 6775.9069929122925, "episodes_total": 4045, "iterations_since_restore": 139, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 695.09, "done": false, "training_iteration": 139, "custom_metrics": {"cost2_mean": -0.03462789539734124, "outflow_rate_mean": 1088.159008484589, "system_level_velocity_mean": 13.763003729079955, "cost2_min": -0.4, "cost1_min": 140.57081587553873, "cost1_mean": 354.7164595087007, "cost1_max": 465.06207195087836, "outflow_rate_max": 1262.8164381952142, "system_level_velocity_max": 18.11170367648581, "outflow_rate_min": 841.5524326650498, "cost2_max": 0.0, "system_level_velocity_min": 9.908840674162176}, "node_ip": "10.138.0.2", "timesteps_total": 8843132}
{"hostname": "flow-main", "episode_reward_mean": 849.2776811396303, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d335c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.58210897445679, "timesteps_since_restore": 8903791, "info": {"num_steps_trained": 8903791, "default": {"entropy": 1.6117980480194092, "kl": 0.015222404152154922, "vf_loss": 32.8689079284668, "vf_explained_var": 0.8213660717010498, "policy_loss": -0.010793830268085003, "total_loss": 32.863250732421875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.325, "sample_time_ms": 32463.352, "grad_time_ms": 15865.994, "update_time_ms": 11.092, "num_steps_sampled": 8903791}, "time_total_s": 6820.489101886749, "num_metric_batches_dropped": 0, "timestamp": 1558313320, "episode_reward_max": 1041.3772088123492, "timesteps_this_iter": 60659, "episode_reward_min": 25.502248488588283, "date": "2019-05-20_00-48-40", "policy_reward_mean": {}, "time_since_restore": 6820.489101886749, "episodes_total": 4074, "iterations_since_restore": 140, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 688.27, "done": false, "training_iteration": 140, "custom_metrics": {"cost2_mean": -0.0380444666821112, "outflow_rate_mean": 1077.171700991677, "system_level_velocity_mean": 13.730451383568916, "cost2_min": -0.4, "cost1_min": 11.711066653666883, "cost1_mean": 349.00587871889394, "cost1_max": 465.06207195087836, "outflow_rate_max": 1262.8164381952142, "system_level_velocity_max": 18.11170367648581, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.908840674162176}, "node_ip": "10.138.0.2", "timesteps_total": 8903791}
{"hostname": "flow-main", "episode_reward_mean": 840.404215780558, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2748>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.80851674079895, "timesteps_since_restore": 8966195, "info": {"num_steps_trained": 8966195, "default": {"entropy": 1.6234303712844849, "kl": 0.015173284336924553, "vf_loss": 29.711381912231445, "vf_explained_var": 0.828147292137146, "policy_loss": -0.01184725109487772, "total_loss": 29.70465850830078, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.86, "sample_time_ms": 32368.798, "grad_time_ms": 16003.429, "update_time_ms": 10.933, "num_steps_sampled": 8966195}, "time_total_s": 6867.297618627548, "num_metric_batches_dropped": 0, "timestamp": 1558313367, "episode_reward_max": 1041.3772088123492, "timesteps_this_iter": 62404, "episode_reward_min": 25.502248488588283, "date": "2019-05-20_00-49-27", "policy_reward_mean": {}, "time_since_restore": 6867.297618627548, "episodes_total": 4104, "iterations_since_restore": 141, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 674.5, "done": false, "training_iteration": 141, "custom_metrics": {"cost2_mean": -0.04052249115248365, "outflow_rate_mean": 1069.9463778954516, "system_level_velocity_mean": 13.920022479930845, "cost2_min": -0.4, "cost1_min": 11.711066653666883, "cost1_mean": 344.49116783912075, "cost1_max": 465.06207195087836, "outflow_rate_max": 1262.8164381952142, "system_level_velocity_max": 18.824741492801028, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.908840674162176}, "node_ip": "10.138.0.2", "timesteps_total": 8966195}
{"hostname": "flow-main", "episode_reward_mean": 840.8529313064744, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a80b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a83c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8c18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.80942702293396, "timesteps_since_restore": 9026236, "info": {"num_steps_trained": 9026236, "default": {"entropy": 1.6433626413345337, "kl": 0.015462289564311504, "vf_loss": 30.040374755859375, "vf_explained_var": 0.8279045224189758, "policy_loss": -0.011539541184902191, "total_loss": 30.0340518951416, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.489, "sample_time_ms": 32379.343, "grad_time_ms": 16039.13, "update_time_ms": 10.897, "num_steps_sampled": 9026236}, "time_total_s": 6914.107045650482, "num_metric_batches_dropped": 0, "timestamp": 1558313414, "episode_reward_max": 1041.3772088123492, "timesteps_this_iter": 60041, "episode_reward_min": 25.502248488588283, "date": "2019-05-20_00-50-14", "policy_reward_mean": {}, "time_since_restore": 6914.107045650482, "episodes_total": 4133, "iterations_since_restore": 142, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 667.78, "done": false, "training_iteration": 142, "custom_metrics": {"cost2_mean": -0.028157743851388167, "outflow_rate_mean": 1066.8801433277567, "system_level_velocity_mean": 14.068548463098313, "cost2_min": -0.28387983284676377, "cost1_min": 11.711066653666883, "cost1_mean": 343.48526815469575, "cost1_max": 465.06207195087836, "outflow_rate_max": 1262.8164381952142, "system_level_velocity_max": 18.824741492801028, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 10.157126870639415}, "node_ip": "10.138.0.2", "timesteps_total": 9026236}
{"hostname": "flow-main", "episode_reward_mean": 850.1597821851203, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d333c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33438>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.340333700180054, "timesteps_since_restore": 9087319, "info": {"num_steps_trained": 9087319, "default": {"entropy": 1.6319541931152344, "kl": 0.016074782237410545, "vf_loss": 33.442481994628906, "vf_explained_var": 0.8120037913322449, "policy_loss": -0.013148771598935127, "total_loss": 33.434757232666016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.674, "sample_time_ms": 32260.704, "grad_time_ms": 16137.948, "update_time_ms": 10.958, "num_steps_sampled": 9087319}, "time_total_s": 6961.447379350662, "num_metric_batches_dropped": 0, "timestamp": 1558313461, "episode_reward_max": 1057.4828751049727, "timesteps_this_iter": 61083, "episode_reward_min": 45.93384780962396, "date": "2019-05-20_00-51-01", "policy_reward_mean": {}, "time_since_restore": 6961.447379350662, "episodes_total": 4168, "iterations_since_restore": 143, "pid": 46909, "episodes_this_iter": 35, "episode_len_mean": 674.6, "done": false, "training_iteration": 143, "custom_metrics": {"cost2_mean": -0.029172124697407095, "outflow_rate_mean": 1071.7865676938686, "system_level_velocity_mean": 13.940539517983687, "cost2_min": -0.5928382311821904, "cost1_min": 18.72099647662963, "cost1_mean": 344.94247671585765, "cost1_max": 461.0884728379857, "outflow_rate_max": 1254.526161943484, "system_level_velocity_max": 18.824741492801028, "outflow_rate_min": 493.7011947654558, "cost2_max": 0.0, "system_level_velocity_min": 10.157126870639415}, "node_ip": "10.138.0.2", "timesteps_total": 9087319}
{"hostname": "flow-main", "episode_reward_mean": 858.056365767114, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2940>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.35976004600525, "timesteps_since_restore": 9149017, "info": {"num_steps_trained": 9149017, "default": {"entropy": 1.6366503238677979, "kl": 0.01697039045393467, "vf_loss": 27.261642456054688, "vf_explained_var": 0.8463593125343323, "policy_loss": -0.011055639944970608, "total_loss": 27.25631332397461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.157, "sample_time_ms": 32551.275, "grad_time_ms": 15948.937, "update_time_ms": 10.643, "num_steps_sampled": 9149017}, "time_total_s": 7008.8071393966675, "num_metric_batches_dropped": 0, "timestamp": 1558313508, "episode_reward_max": 1057.4828751049727, "timesteps_this_iter": 61698, "episode_reward_min": 45.93384780962396, "date": "2019-05-20_00-51-48", "policy_reward_mean": {}, "time_since_restore": 7008.8071393966675, "episodes_total": 4199, "iterations_since_restore": 144, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 686.77, "done": false, "training_iteration": 144, "custom_metrics": {"cost2_mean": -0.04078958747638303, "outflow_rate_mean": 1074.2030089822872, "system_level_velocity_mean": 13.68074268010329, "cost2_min": -0.5928382311821904, "cost1_min": 18.72099647662963, "cost1_mean": 346.89332223078776, "cost1_max": 458.1990388791428, "outflow_rate_max": 1252.2162413996919, "system_level_velocity_max": 18.529461578482675, "outflow_rate_min": 493.7011947654558, "cost2_max": 0.0, "system_level_velocity_min": 10.38100361339135}, "node_ip": "10.138.0.2", "timesteps_total": 9149017}
{"hostname": "flow-main", "episode_reward_mean": 881.4373761801368, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028977f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028976d8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.28473496437073, "timesteps_since_restore": 9210016, "info": {"num_steps_trained": 9210016, "default": {"entropy": 1.642040729522705, "kl": 0.016344435513019562, "vf_loss": 26.95585823059082, "vf_explained_var": 0.8437126874923706, "policy_loss": -0.013786965049803257, "total_loss": 26.947586059570312, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.137, "sample_time_ms": 32630.538, "grad_time_ms": 15880.468, "update_time_ms": 10.541, "num_steps_sampled": 9210016}, "time_total_s": 7056.091874361038, "num_metric_batches_dropped": 0, "timestamp": 1558313556, "episode_reward_max": 1057.4828751049727, "timesteps_this_iter": 60999, "episode_reward_min": 717.8056787835012, "date": "2019-05-20_00-52-36", "policy_reward_mean": {}, "time_since_restore": 7056.091874361038, "episodes_total": 4228, "iterations_since_restore": 145, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 700.0, "done": false, "training_iteration": 145, "custom_metrics": {"cost2_mean": -0.03810701200329239, "outflow_rate_mean": 1093.3359269263076, "system_level_velocity_mean": 13.763470923748216, "cost2_min": -0.5928382311821904, "cost1_min": 274.3115368420347, "cost1_mean": 358.1646023238077, "cost1_max": 454.3909620708056, "outflow_rate_max": 1252.2162413996919, "system_level_velocity_max": 17.54229800722054, "outflow_rate_min": 940.7860128718183, "cost2_max": 0.0, "system_level_velocity_min": 10.38100361339135}, "node_ip": "10.138.0.2", "timesteps_total": 9210016}
{"hostname": "flow-main", "episode_reward_mean": 877.3734885091046, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6a0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.31119227409363, "timesteps_since_restore": 9271463, "info": {"num_steps_trained": 9271463, "default": {"entropy": 1.649314045906067, "kl": 0.015535000711679459, "vf_loss": 26.739587783813477, "vf_explained_var": 0.8429872989654541, "policy_loss": -0.01133919321000576, "total_loss": 26.733489990234375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.007, "sample_time_ms": 32705.753, "grad_time_ms": 15894.864, "update_time_ms": 10.736, "num_steps_sampled": 9271463}, "time_total_s": 7102.403066635132, "num_metric_batches_dropped": 0, "timestamp": 1558313602, "episode_reward_max": 1057.4828751049727, "timesteps_this_iter": 61447, "episode_reward_min": 690.9503679308779, "date": "2019-05-20_00-53-22", "policy_reward_mean": {}, "time_since_restore": 7102.403066635132, "episodes_total": 4255, "iterations_since_restore": 146, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 146, "custom_metrics": {"cost2_mean": -0.038908210161721836, "outflow_rate_mean": 1092.8045881349974, "system_level_velocity_mean": 13.760839820504943, "cost2_min": -0.5928382311821904, "cost1_min": 255.64663131900178, "cost1_mean": 357.80501951081527, "cost1_max": 454.3909620708056, "outflow_rate_max": 1252.2162413996919, "system_level_velocity_max": 17.54229800722054, "outflow_rate_min": 918.0984719947744, "cost2_max": 0.0, "system_level_velocity_min": 10.021985727358617}, "node_ip": "10.138.0.2", "timesteps_total": 9271463}
{"hostname": "flow-main", "episode_reward_mean": 865.5490960391577, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d337b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d337f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.263991594314575, "timesteps_since_restore": 9334457, "info": {"num_steps_trained": 9334457, "default": {"entropy": 1.6432850360870361, "kl": 0.015585031360387802, "vf_loss": 26.285865783691406, "vf_explained_var": 0.8362858295440674, "policy_loss": -0.01134792622178793, "total_loss": 26.2797794342041, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.262, "sample_time_ms": 32889.38, "grad_time_ms": 15562.486, "update_time_ms": 10.818, "num_steps_sampled": 9334457}, "time_total_s": 7148.667058229446, "num_metric_batches_dropped": 0, "timestamp": 1558313648, "episode_reward_max": 1050.361142322915, "timesteps_this_iter": 62994, "episode_reward_min": 44.32479925578323, "date": "2019-05-20_00-54-08", "policy_reward_mean": {}, "time_since_restore": 7148.667058229446, "episodes_total": 4283, "iterations_since_restore": 147, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 688.79, "done": false, "training_iteration": 147, "custom_metrics": {"cost2_mean": -0.03125390921210817, "outflow_rate_mean": 1084.1802253400347, "system_level_velocity_mean": 13.803147824216019, "cost2_min": -0.5, "cost1_min": 19.297667397158165, "cost1_mean": 351.41883464066154, "cost1_max": 444.85226591911794, "outflow_rate_max": 1252.2162413996919, "system_level_velocity_max": 17.959432730254463, "outflow_rate_min": 487.91336876403693, "cost2_max": 0.0, "system_level_velocity_min": 10.021985727358617}, "node_ip": "10.138.0.2", "timesteps_total": 9334457}
{"hostname": "flow-main", "episode_reward_mean": 872.1201037760411, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.10930943489075, "timesteps_since_restore": 9394879, "info": {"num_steps_trained": 9394879, "default": {"entropy": 1.6296378374099731, "kl": 0.015200301073491573, "vf_loss": 26.794918060302734, "vf_explained_var": 0.8428328633308411, "policy_loss": -0.010458044707775116, "total_loss": 26.78959083557129, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.535, "sample_time_ms": 30758.815, "grad_time_ms": 15331.598, "update_time_ms": 7.803, "num_steps_sampled": 9394879}, "time_total_s": 7192.776367664337, "num_metric_batches_dropped": 0, "timestamp": 1558313693, "episode_reward_max": 1068.2501342939809, "timesteps_this_iter": 60422, "episode_reward_min": 44.32479925578323, "date": "2019-05-20_00-54-53", "policy_reward_mean": {}, "time_since_restore": 7192.776367664337, "episodes_total": 4311, "iterations_since_restore": 148, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 688.79, "done": false, "training_iteration": 148, "custom_metrics": {"cost2_mean": -0.03747911320244433, "outflow_rate_mean": 1087.6397517471491, "system_level_velocity_mean": 13.883326520972778, "cost2_min": -0.6274930890871101, "cost1_min": 19.297667397158165, "cost1_mean": 353.68751584849554, "cost1_max": 452.17297697578596, "outflow_rate_max": 1232.8862257697606, "system_level_velocity_max": 17.959432730254463, "outflow_rate_min": 487.91336876403693, "cost2_max": 0.0, "system_level_velocity_min": 10.021985727358617}, "node_ip": "10.138.0.2", "timesteps_total": 9394879}
{"hostname": "flow-main", "episode_reward_mean": 861.1868332544914, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecf98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.29211378097534, "timesteps_since_restore": 9456075, "info": {"num_steps_trained": 9456075, "default": {"entropy": 1.6431546211242676, "kl": 0.01752030849456787, "vf_loss": 26.586484909057617, "vf_explained_var": 0.8451088666915894, "policy_loss": -0.012037161737680435, "total_loss": 26.580360412597656, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.047, "sample_time_ms": 31098.041, "grad_time_ms": 14995.186, "update_time_ms": 7.79, "num_steps_sampled": 9456075}, "time_total_s": 7238.0684814453125, "num_metric_batches_dropped": 0, "timestamp": 1558313738, "episode_reward_max": 1078.5685335917292, "timesteps_this_iter": 61196, "episode_reward_min": 44.15111041757077, "date": "2019-05-20_00-55-38", "policy_reward_mean": {}, "time_since_restore": 7238.0684814453125, "episodes_total": 4341, "iterations_since_restore": 149, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 682.09, "done": false, "training_iteration": 149, "custom_metrics": {"cost2_mean": -0.05771775081133816, "outflow_rate_mean": 1082.2172950840568, "system_level_velocity_mean": 13.90842675386643, "cost2_min": -0.8309508323217863, "cost1_min": 19.297667397158165, "cost1_mean": 350.25568871679394, "cost1_max": 452.17297697578596, "outflow_rate_max": 1242.464962213916, "system_level_velocity_max": 18.342561662563263, "outflow_rate_min": 480.67921230119197, "cost2_max": 0.0, "system_level_velocity_min": 10.021985727358617}, "node_ip": "10.138.0.2", "timesteps_total": 9456075}
{"hostname": "flow-main", "episode_reward_mean": 867.112979372108, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.52630043029785, "timesteps_since_restore": 9518695, "info": {"num_steps_trained": 9518695, "default": {"entropy": 1.6498156785964966, "kl": 0.0155408326536417, "vf_loss": 27.083995819091797, "vf_explained_var": 0.8366610407829285, "policy_loss": -0.011707568541169167, "total_loss": 27.077533721923828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.533, "sample_time_ms": 31289.333, "grad_time_ms": 14898.055, "update_time_ms": 7.503, "num_steps_sampled": 9518695}, "time_total_s": 7283.59478187561, "num_metric_batches_dropped": 0, "timestamp": 1558313783, "episode_reward_max": 1078.5685335917292, "timesteps_this_iter": 62620, "episode_reward_min": 44.15111041757077, "date": "2019-05-20_00-56-23", "policy_reward_mean": {}, "time_since_restore": 7283.59478187561, "episodes_total": 4370, "iterations_since_restore": 150, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 688.8, "done": false, "training_iteration": 150, "custom_metrics": {"cost2_mean": -0.0766041333605024, "outflow_rate_mean": 1095.4145556584199, "system_level_velocity_mean": 14.007825788551731, "cost2_min": -0.8716328675665719, "cost1_min": 19.398123163388334, "cost1_mean": 357.6222906108872, "cost1_max": 452.17297697578596, "outflow_rate_max": 1242.464962213916, "system_level_velocity_max": 18.342561662563263, "outflow_rate_min": 480.67921230119197, "cost2_max": 0.0, "system_level_velocity_min": 10.721215675672752}, "node_ip": "10.138.0.2", "timesteps_total": 9518695}
{"hostname": "flow-main", "episode_reward_mean": 863.2110444288929, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d339e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898630>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.35153865814209, "timesteps_since_restore": 9580780, "info": {"num_steps_trained": 9580780, "default": {"entropy": 1.664649486541748, "kl": 0.016213202849030495, "vf_loss": 25.69627571105957, "vf_explained_var": 0.8496810793876648, "policy_loss": -0.012947584502398968, "total_loss": 25.688800811767578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.968, "sample_time_ms": 31261.464, "grad_time_ms": 14878.291, "update_time_ms": 7.592, "num_steps_sampled": 9580780}, "time_total_s": 7329.946320533752, "num_metric_batches_dropped": 0, "timestamp": 1558313830, "episode_reward_max": 1078.5685335917292, "timesteps_this_iter": 62085, "episode_reward_min": 44.15111041757077, "date": "2019-05-20_00-57-10", "policy_reward_mean": {}, "time_since_restore": 7329.946320533752, "episodes_total": 4398, "iterations_since_restore": 151, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 693.3, "done": false, "training_iteration": 151, "custom_metrics": {"cost2_mean": -0.06271332771845581, "outflow_rate_mean": 1090.2643920692315, "system_level_velocity_mean": 13.785721674734935, "cost2_min": -0.8716328675665719, "cost1_min": 19.398123163388334, "cost1_mean": 354.83305150843853, "cost1_max": 446.961779190304, "outflow_rate_max": 1245.0224693771977, "system_level_velocity_max": 18.342561662563263, "outflow_rate_min": 480.67921230119197, "cost2_max": 0.0, "system_level_velocity_min": 10.721215675672752}, "node_ip": "10.138.0.2", "timesteps_total": 9580780}
{"hostname": "flow-main", "episode_reward_mean": 870.009161474734, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.33426833152771, "timesteps_since_restore": 9641413, "info": {"num_steps_trained": 9641413, "default": {"entropy": 1.6524049043655396, "kl": 0.016188036650419235, "vf_loss": 27.77071189880371, "vf_explained_var": 0.8474861979484558, "policy_loss": -0.01370860356837511, "total_loss": 27.762468338012695, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 9.304, "sample_time_ms": 31058.737, "grad_time_ms": 15031.634, "update_time_ms": 7.667, "num_steps_sampled": 9641413}, "time_total_s": 7376.28058886528, "num_metric_batches_dropped": 0, "timestamp": 1558313876, "episode_reward_max": 1078.5685335917292, "timesteps_this_iter": 60633, "episode_reward_min": 44.15111041757077, "date": "2019-05-20_00-57-56", "policy_reward_mean": {}, "time_since_restore": 7376.28058886528, "episodes_total": 4428, "iterations_since_restore": 152, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 691.94, "done": false, "training_iteration": 152, "custom_metrics": {"cost2_mean": -0.05826986332289403, "outflow_rate_mean": 1088.9334559531067, "system_level_velocity_mean": 13.874364699979994, "cost2_min": -0.8716328675665719, "cost1_min": 19.398123163388334, "cost1_mean": 355.9294402347886, "cost1_max": 457.15278273837936, "outflow_rate_max": 1269.0945288995708, "system_level_velocity_max": 18.342561662563263, "outflow_rate_min": 480.67921230119197, "cost2_max": 0.0, "system_level_velocity_min": 10.390114356496897}, "node_ip": "10.138.0.2", "timesteps_total": 9641413}
{"hostname": "flow-main", "episode_reward_mean": 868.5066327878304, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.65902256965637, "timesteps_since_restore": 9703366, "info": {"num_steps_trained": 9703366, "default": {"entropy": 1.6645876169204712, "kl": 0.01567847467958927, "vf_loss": 27.737545013427734, "vf_explained_var": 0.8341467976570129, "policy_loss": -0.01172222662717104, "total_loss": 27.731115341186523, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 9.326, "sample_time_ms": 30947.203, "grad_time_ms": 15174.353, "update_time_ms": 7.985, "num_steps_sampled": 9703366}, "time_total_s": 7423.9396114349365, "num_metric_batches_dropped": 0, "timestamp": 1558313924, "episode_reward_max": 1070.0073755700198, "timesteps_this_iter": 61953, "episode_reward_min": 60.9487308532838, "date": "2019-05-20_00-58-44", "policy_reward_mean": {}, "time_since_restore": 7423.9396114349365, "episodes_total": 4460, "iterations_since_restore": 153, "pid": 46909, "episodes_this_iter": 32, "episode_len_mean": 692.08, "done": false, "training_iteration": 153, "custom_metrics": {"cost2_mean": -0.05489402684735196, "outflow_rate_mean": 1089.3545066575723, "system_level_velocity_mean": 13.887700738996164, "cost2_min": -0.6666666666666666, "cost1_min": 29.223989658842797, "cost1_mean": 356.00231097162947, "cost1_max": 457.15278273837936, "outflow_rate_max": 1269.0945288995708, "system_level_velocity_max": 18.804281364884016, "outflow_rate_min": 532.5371096399095, "cost2_max": 0.0, "system_level_velocity_min": 10.390114356496897}, "node_ip": "10.138.0.2", "timesteps_total": 9703366}
{"hostname": "flow-main", "episode_reward_mean": 857.2481992148606, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028989e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.548604249954224, "timesteps_since_restore": 9764550, "info": {"num_steps_trained": 9764550, "default": {"entropy": 1.6658363342285156, "kl": 0.014901887625455856, "vf_loss": 22.558185577392578, "vf_explained_var": 0.8583080172538757, "policy_loss": -0.011185871437191963, "total_loss": 22.55202865600586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.964, "sample_time_ms": 30676.891, "grad_time_ms": 15462.164, "update_time_ms": 8.165, "num_steps_sampled": 9764550}, "time_total_s": 7471.488215684891, "num_metric_batches_dropped": 0, "timestamp": 1558313972, "episode_reward_max": 1055.169129023355, "timesteps_this_iter": 61184, "episode_reward_min": 60.9487308532838, "date": "2019-05-20_00-59-32", "policy_reward_mean": {}, "time_since_restore": 7471.488215684891, "episodes_total": 4488, "iterations_since_restore": 154, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 692.08, "done": false, "training_iteration": 154, "custom_metrics": {"cost2_mean": -0.042476587326169296, "outflow_rate_mean": 1079.9198650669364, "system_level_velocity_mean": 13.66204247497319, "cost2_min": -0.5832966753548157, "cost1_min": 29.223989658842797, "cost1_mean": 349.98120324669685, "cost1_max": 457.15278273837936, "outflow_rate_max": 1269.0945288995708, "system_level_velocity_max": 18.804281364884016, "outflow_rate_min": 532.5371096399095, "cost2_max": 0.0, "system_level_velocity_min": 10.390114356496897}, "node_ip": "10.138.0.2", "timesteps_total": 9764550}
{"hostname": "flow-main", "episode_reward_mean": 842.2787500346425, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8cc0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.06078290939331, "timesteps_since_restore": 9826415, "info": {"num_steps_trained": 9826415, "default": {"entropy": 1.6725507974624634, "kl": 0.015383112244307995, "vf_loss": 30.029451370239258, "vf_explained_var": 0.8267714381217957, "policy_loss": -0.012098658829927444, "total_loss": 30.02254295349121, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.949, "sample_time_ms": 30721.762, "grad_time_ms": 15590.093, "update_time_ms": 8.295, "num_steps_sampled": 9826415}, "time_total_s": 7520.548998594284, "num_metric_batches_dropped": 0, "timestamp": 1558314021, "episode_reward_max": 1057.1134023805193, "timesteps_this_iter": 61865, "episode_reward_min": 60.9487308532838, "date": "2019-05-20_01-00-21", "policy_reward_mean": {}, "time_since_restore": 7520.548998594284, "episodes_total": 4521, "iterations_since_restore": 155, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 686.87, "done": false, "training_iteration": 155, "custom_metrics": {"cost2_mean": -0.044599312654509386, "outflow_rate_mean": 1067.5518588979457, "system_level_velocity_mean": 13.524591246434108, "cost2_min": -0.8, "cost1_min": 27.987031050274403, "cost1_mean": 342.65781911509026, "cost1_max": 461.2278863217232, "outflow_rate_max": 1255.799198304797, "system_level_velocity_max": 18.804281364884016, "outflow_rate_min": 524.1571649339555, "cost2_max": 0.0, "system_level_velocity_min": 10.404213551740396}, "node_ip": "10.138.0.2", "timesteps_total": 9826415}
{"hostname": "flow-main", "episode_reward_mean": 837.5188423208622, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6e80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.6607186794281, "timesteps_since_restore": 9887178, "info": {"num_steps_trained": 9887178, "default": {"entropy": 1.6728845834732056, "kl": 0.016638169065117836, "vf_loss": 26.8046817779541, "vf_explained_var": 0.8505936861038208, "policy_loss": -0.011945033445954323, "total_loss": 26.798351287841797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 9.314, "sample_time_ms": 30667.817, "grad_time_ms": 15678.501, "update_time_ms": 8.317, "num_steps_sampled": 9887178}, "time_total_s": 7567.209717273712, "num_metric_batches_dropped": 0, "timestamp": 1558314067, "episode_reward_max": 1061.4196116455978, "timesteps_this_iter": 60763, "episode_reward_min": 60.9487308532838, "date": "2019-05-20_01-01-07", "policy_reward_mean": {}, "time_since_restore": 7567.209717273712, "episodes_total": 4549, "iterations_since_restore": 156, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 680.86, "done": false, "training_iteration": 156, "custom_metrics": {"cost2_mean": -0.05322797539207988, "outflow_rate_mean": 1067.564301550111, "system_level_velocity_mean": 13.646457835209, "cost2_min": -0.8, "cost1_min": 27.987031050274403, "cost1_mean": 341.87505127722636, "cost1_max": 461.2278863217232, "outflow_rate_max": 1255.799198304797, "system_level_velocity_max": 18.804281364884016, "outflow_rate_min": 524.1571649339555, "cost2_max": 0.0, "system_level_velocity_min": 10.555163146673078}, "node_ip": "10.138.0.2", "timesteps_total": 9887178}
{"hostname": "flow-main", "episode_reward_mean": 849.8914401340357, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d335f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33c50>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.47556018829346, "timesteps_since_restore": 9948542, "info": {"num_steps_trained": 9948542, "default": {"entropy": 1.6648333072662354, "kl": 0.015555551275610924, "vf_loss": 25.897777557373047, "vf_explained_var": 0.865886926651001, "policy_loss": -0.011376080103218555, "total_loss": 25.891651153564453, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.938, "sample_time_ms": 30590.227, "grad_time_ms": 15677.494, "update_time_ms": 8.303, "num_steps_sampled": 9948542}, "time_total_s": 7612.685277462006, "num_metric_batches_dropped": 0, "timestamp": 1558314113, "episode_reward_max": 1061.4196116455978, "timesteps_this_iter": 61364, "episode_reward_min": 53.31367894259107, "date": "2019-05-20_01-01-53", "policy_reward_mean": {}, "time_since_restore": 7612.685277462006, "episodes_total": 4578, "iterations_since_restore": 157, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 680.8, "done": false, "training_iteration": 157, "custom_metrics": {"cost2_mean": -0.08033263411226273, "outflow_rate_mean": 1072.7657691803852, "system_level_velocity_mean": 13.775801769139175, "cost2_min": -1.1757124962232377, "cost1_min": 25.53734738155125, "cost1_mean": 345.1860782112583, "cost1_max": 461.2278863217232, "outflow_rate_max": 1257.0799770492586, "system_level_velocity_max": 18.55417741118295, "outflow_rate_min": 522.4325377823791, "cost2_max": 0.0, "system_level_velocity_min": 9.001334612947021}, "node_ip": "10.138.0.2", "timesteps_total": 9948542}
{"hostname": "flow-main", "episode_reward_mean": 842.3373642133166, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b23c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2cf8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.58586812019348, "timesteps_since_restore": 10011217, "info": {"num_steps_trained": 10011217, "default": {"entropy": 1.7002836465835571, "kl": 0.015144379809498787, "vf_loss": 23.87167739868164, "vf_explained_var": 0.8577951788902283, "policy_loss": -0.01123011950403452, "total_loss": 23.865558624267578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.766, "sample_time_ms": 30882.239, "grad_time_ms": 15934.559, "update_time_ms": 8.589, "num_steps_sampled": 10011217}, "time_total_s": 7662.271145582199, "num_metric_batches_dropped": 0, "timestamp": 1558314163, "episode_reward_max": 1070.225358155395, "timesteps_this_iter": 62675, "episode_reward_min": 53.31367894259107, "date": "2019-05-20_01-02-43", "policy_reward_mean": {}, "time_since_restore": 7662.271145582199, "episodes_total": 4607, "iterations_since_restore": 158, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 674.28, "done": false, "training_iteration": 158, "custom_metrics": {"cost2_mean": -0.07680349840375084, "outflow_rate_mean": 1073.4116765095905, "system_level_velocity_mean": 13.957930164497002, "cost2_min": -1.1757124962232377, "cost1_min": 25.53734738155125, "cost1_mean": 345.0799228563367, "cost1_max": 455.5023159052364, "outflow_rate_max": 1257.0799770492586, "system_level_velocity_max": 18.752005605472515, "outflow_rate_min": 522.4325377823791, "cost2_max": 0.0, "system_level_velocity_min": 9.001334612947021}, "node_ip": "10.138.0.2", "timesteps_total": 10011217}
{"hostname": "flow-main", "episode_reward_mean": 841.8905282107467, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.3179886341095, "timesteps_since_restore": 10073161, "info": {"num_steps_trained": 10073161, "default": {"entropy": 1.692891001701355, "kl": 0.017183896154165268, "vf_loss": 28.41364288330078, "vf_explained_var": 0.8350173234939575, "policy_loss": -0.01301081757992506, "total_loss": 28.406429290771484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.715, "sample_time_ms": 31059.022, "grad_time_ms": 15959.947, "update_time_ms": 8.579, "num_steps_sampled": 10073161}, "time_total_s": 7709.589134216309, "num_metric_batches_dropped": 0, "timestamp": 1558314210, "episode_reward_max": 1070.225358155395, "timesteps_this_iter": 61944, "episode_reward_min": 35.23807953127193, "date": "2019-05-20_01-03-30", "policy_reward_mean": {}, "time_since_restore": 7709.589134216309, "episodes_total": 4637, "iterations_since_restore": 159, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 674.11, "done": false, "training_iteration": 159, "custom_metrics": {"cost2_mean": -0.074114160660094, "outflow_rate_mean": 1068.550869359694, "system_level_velocity_mean": 13.84607891514999, "cost2_min": -1.1757124962232377, "cost1_min": 16.94415896643117, "cost1_mean": 341.93055098380734, "cost1_max": 455.5023159052364, "outflow_rate_max": 1257.0799770492586, "system_level_velocity_max": 19.20140939624193, "outflow_rate_min": 489.7762375340705, "cost2_max": 0.0, "system_level_velocity_min": 9.001334612947021}, "node_ip": "10.138.0.2", "timesteps_total": 10073161}
{"hostname": "flow-main", "episode_reward_mean": 849.3636041141295, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b61d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.16152000427246, "timesteps_since_restore": 10136692, "info": {"num_steps_trained": 10136692, "default": {"entropy": 1.6918878555297852, "kl": 0.015308874659240246, "vf_loss": 28.738025665283203, "vf_explained_var": 0.8219293355941772, "policy_loss": -0.012082522734999657, "total_loss": 28.731107711791992, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.181, "sample_time_ms": 31389.209, "grad_time_ms": 15990.234, "update_time_ms": 8.641, "num_steps_sampled": 10136692}, "time_total_s": 7758.750654220581, "num_metric_batches_dropped": 0, "timestamp": 1558314259, "episode_reward_max": 1070.225358155395, "timesteps_this_iter": 63531, "episode_reward_min": 27.395153565927902, "date": "2019-05-20_01-04-19", "policy_reward_mean": {}, "time_since_restore": 7758.750654220581, "episodes_total": 4666, "iterations_since_restore": 160, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 675.47, "done": false, "training_iteration": 160, "custom_metrics": {"cost2_mean": -0.07500192875797768, "outflow_rate_mean": 1072.782846228147, "system_level_velocity_mean": 13.913333798552692, "cost2_min": -1.1757124962232377, "cost1_min": 13.697576782963953, "cost1_mean": 345.12853569094676, "cost1_max": 455.5023159052364, "outflow_rate_max": 1257.0799770492586, "system_level_velocity_max": 19.20140939624193, "outflow_rate_min": 472.8894238242256, "cost2_max": 0.0, "system_level_velocity_min": 9.001334612947021}, "node_ip": "10.138.0.2", "timesteps_total": 10136692}
{"hostname": "flow-main", "episode_reward_mean": 841.8500014886139, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecf98>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.782907247543335, "timesteps_since_restore": 10201120, "info": {"num_steps_trained": 10201120, "default": {"entropy": 1.7042632102966309, "kl": 0.015096992254257202, "vf_loss": 27.977224349975586, "vf_explained_var": 0.8219713568687439, "policy_loss": -0.010446455329656601, "total_loss": 27.97187614440918, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 7.745, "sample_time_ms": 31634.713, "grad_time_ms": 15890.382, "update_time_ms": 8.582, "num_steps_sampled": 10201120}, "time_total_s": 7806.533561468124, "num_metric_batches_dropped": 0, "timestamp": 1558314307, "episode_reward_max": 1070.225358155395, "timesteps_this_iter": 64428, "episode_reward_min": 27.395153565927902, "date": "2019-05-20_01-05-07", "policy_reward_mean": {}, "time_since_restore": 7806.533561468124, "episodes_total": 4696, "iterations_since_restore": 161, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 668.78, "done": false, "training_iteration": 161, "custom_metrics": {"cost2_mean": -0.048739424942295904, "outflow_rate_mean": 1058.823946421192, "system_level_velocity_mean": 13.781471056056528, "cost2_min": -0.8, "cost1_min": 13.697576782963953, "cost1_mean": 336.9198952887915, "cost1_max": 453.58548462879, "outflow_rate_max": 1226.7077806630919, "system_level_velocity_max": 19.266259850477, "outflow_rate_min": 472.8894238242256, "cost2_max": 0.0, "system_level_velocity_min": 9.919395185010234}, "node_ip": "10.138.0.2", "timesteps_total": 10201120}
{"hostname": "flow-main", "episode_reward_mean": 831.8625851269562, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c12e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1d68>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.43730807304382, "timesteps_since_restore": 10264210, "info": {"num_steps_trained": 10264210, "default": {"entropy": 1.729779601097107, "kl": 0.01613045483827591, "vf_loss": 26.98036766052246, "vf_explained_var": 0.8350020051002502, "policy_loss": -0.014059444889426231, "total_loss": 26.97175407409668, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 7.255, "sample_time_ms": 32005.061, "grad_time_ms": 15830.965, "update_time_ms": 8.533, "num_steps_sampled": 10264210}, "time_total_s": 7855.970869541168, "num_metric_batches_dropped": 0, "timestamp": 1558314356, "episode_reward_max": 1068.5613681482182, "timesteps_this_iter": 63090, "episode_reward_min": 24.88924384377256, "date": "2019-05-20_01-05-56", "policy_reward_mean": {}, "time_since_restore": 7855.970869541168, "episodes_total": 4727, "iterations_since_restore": 162, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 665.43, "done": false, "training_iteration": 162, "custom_metrics": {"cost2_mean": -0.040305153050250196, "outflow_rate_mean": 1050.5122863886043, "system_level_velocity_mean": 13.64122963572218, "cost2_min": -0.8, "cost1_min": 12.444621921886277, "cost1_mean": 331.6261452820508, "cost1_max": 453.58548462879, "outflow_rate_max": 1226.7077806630919, "system_level_velocity_max": 19.266259850477, "outflow_rate_min": 455.311741187395, "cost2_max": 0.0, "system_level_velocity_min": 9.820967627992788}, "node_ip": "10.138.0.2", "timesteps_total": 10264210}
{"hostname": "flow-main", "episode_reward_mean": 844.911923499133, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6a20>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.469842195510864, "timesteps_since_restore": 10325007, "info": {"num_steps_trained": 10325007, "default": {"entropy": 1.7310924530029297, "kl": 0.015457813628017902, "vf_loss": 27.915870666503906, "vf_explained_var": 0.8434062004089355, "policy_loss": -0.01141281146556139, "total_loss": 27.9096736907959, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.248, "sample_time_ms": 32176.22, "grad_time_ms": 15541.789, "update_time_ms": 8.233, "num_steps_sampled": 10325007}, "time_total_s": 7902.440711736679, "num_metric_batches_dropped": 0, "timestamp": 1558314403, "episode_reward_max": 1068.5613681482182, "timesteps_this_iter": 60797, "episode_reward_min": 24.88924384377256, "date": "2019-05-20_01-06-43", "policy_reward_mean": {}, "time_since_restore": 7902.440711736679, "episodes_total": 4757, "iterations_since_restore": 163, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 676.7, "done": false, "training_iteration": 163, "custom_metrics": {"cost2_mean": -0.034013133646256376, "outflow_rate_mean": 1056.174025404049, "system_level_velocity_mean": 13.50707412599653, "cost2_min": -0.5, "cost1_min": 12.444621921886277, "cost1_mean": 335.4776496997607, "cost1_max": 449.76169792401123, "outflow_rate_max": 1231.3680192822915, "system_level_velocity_max": 19.266259850477, "outflow_rate_min": 455.311741187395, "cost2_max": 0.0, "system_level_velocity_min": 9.820967627992788}, "node_ip": "10.138.0.2", "timesteps_total": 10325007}
{"hostname": "flow-main", "episode_reward_mean": 818.5328837520058, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b25c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b20f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.09815001487732, "timesteps_since_restore": 10386652, "info": {"num_steps_trained": 10386652, "default": {"entropy": 1.7490154504776, "kl": 0.015709778293967247, "vf_loss": 30.12489128112793, "vf_explained_var": 0.8222960233688354, "policy_loss": -0.012674828991293907, "total_loss": 30.11751937866211, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.03, "sample_time_ms": 32331.616, "grad_time_ms": 15442.2, "update_time_ms": 8.044, "num_steps_sampled": 10386652}, "time_total_s": 7950.538861751556, "num_metric_batches_dropped": 0, "timestamp": 1558314451, "episode_reward_max": 1068.5613681482182, "timesteps_this_iter": 61645, "episode_reward_min": 24.88924384377256, "date": "2019-05-20_01-07-31", "policy_reward_mean": {}, "time_since_restore": 7950.538861751556, "episodes_total": 4790, "iterations_since_restore": 164, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 659.11, "done": false, "training_iteration": 164, "custom_metrics": {"cost2_mean": -0.033389416389730135, "outflow_rate_mean": 1045.6182278003691, "system_level_velocity_mean": 13.701317816209851, "cost2_min": -0.5, "cost1_min": 12.444621921886277, "cost1_mean": 328.75862574257303, "cost1_max": 449.76169792401123, "outflow_rate_max": 1231.3680192822915, "system_level_velocity_max": 18.90105567949757, "outflow_rate_min": 455.311741187395, "cost2_max": 0.0, "system_level_velocity_min": 9.820967627992788}, "node_ip": "10.138.0.2", "timesteps_total": 10386652}
{"hostname": "flow-main", "episode_reward_mean": 840.8721014170255, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a96d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a98d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9828>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.657957553863525, "timesteps_since_restore": 10448625, "info": {"num_steps_trained": 10448625, "default": {"entropy": 1.7289704084396362, "kl": 0.014674043282866478, "vf_loss": 29.062543869018555, "vf_explained_var": 0.8361024260520935, "policy_loss": -0.01094372570514679, "total_loss": 29.056554794311523, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 6.583, "sample_time_ms": 32240.147, "grad_time_ms": 15198.868, "update_time_ms": 7.946, "num_steps_sampled": 10448625}, "time_total_s": 7996.19681930542, "num_metric_batches_dropped": 0, "timestamp": 1558314497, "episode_reward_max": 1060.0722128051636, "timesteps_this_iter": 61973, "episode_reward_min": 24.88924384377256, "date": "2019-05-20_01-08-17", "policy_reward_mean": {}, "time_since_restore": 7996.19681930542, "episodes_total": 4820, "iterations_since_restore": 165, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 668.91, "done": false, "training_iteration": 165, "custom_metrics": {"cost2_mean": -0.03448187393148005, "outflow_rate_mean": 1061.892205753878, "system_level_velocity_mean": 13.873509793092898, "cost2_min": -0.5, "cost1_min": 12.444621921886277, "cost1_mean": 340.03801379970247, "cost1_max": 461.387593075169, "outflow_rate_max": 1266.565489362184, "system_level_velocity_max": 18.848157255679272, "outflow_rate_min": 455.311741187395, "cost2_max": 0.0, "system_level_velocity_min": 9.820967627992788}, "node_ip": "10.138.0.2", "timesteps_total": 10448625}
{"hostname": "flow-main", "episode_reward_mean": 847.495258247818, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d339b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1898>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.56694054603577, "timesteps_since_restore": 10512190, "info": {"num_steps_trained": 10512190, "default": {"entropy": 1.7280120849609375, "kl": 0.015981199219822884, "vf_loss": 25.471420288085938, "vf_explained_var": 0.8560607433319092, "policy_loss": -0.011879214085638523, "total_loss": 25.464933395385742, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 6.248, "sample_time_ms": 32417.668, "grad_time_ms": 15212.683, "update_time_ms": 7.636, "num_steps_sampled": 10512190}, "time_total_s": 8044.763759851456, "num_metric_batches_dropped": 0, "timestamp": 1558314545, "episode_reward_max": 1060.0722128051636, "timesteps_this_iter": 63565, "episode_reward_min": 41.53148349723814, "date": "2019-05-20_01-09-05", "policy_reward_mean": {}, "time_since_restore": 8044.763759851456, "episodes_total": 4849, "iterations_since_restore": 166, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 675.72, "done": false, "training_iteration": 166, "custom_metrics": {"cost2_mean": -0.0245215831947055, "outflow_rate_mean": 1067.8568672844985, "system_level_velocity_mean": 13.7916482427548, "cost2_min": -0.43728023988442966, "cost1_min": 18.75589231012288, "cost1_mean": 341.96283575695384, "cost1_max": 461.387593075169, "outflow_rate_max": 1266.565489362184, "system_level_velocity_max": 18.848157255679272, "outflow_rate_min": 466.25737338221694, "cost2_max": 0.0, "system_level_velocity_min": 9.565651940674591}, "node_ip": "10.138.0.2", "timesteps_total": 10512190}
{"hostname": "flow-main", "episode_reward_mean": 861.4608194469128, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c15f8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.968482971191406, "timesteps_since_restore": 10574108, "info": {"num_steps_trained": 10574108, "default": {"entropy": 1.7367466688156128, "kl": 0.016115836799144745, "vf_loss": 27.54059600830078, "vf_explained_var": 0.8569797873497009, "policy_loss": -0.012412085197865963, "total_loss": 27.53362274169922, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 6.747, "sample_time_ms": 32424.842, "grad_time_ms": 15255.587, "update_time_ms": 7.569, "num_steps_sampled": 10574108}, "time_total_s": 8090.732242822647, "num_metric_batches_dropped": 0, "timestamp": 1558314591, "episode_reward_max": 1059.0806270753942, "timesteps_this_iter": 61918, "episode_reward_min": 48.658786196278015, "date": "2019-05-20_01-09-51", "policy_reward_mean": {}, "time_since_restore": 8090.732242822647, "episodes_total": 4878, "iterations_since_restore": 167, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 688.14, "done": false, "training_iteration": 167, "custom_metrics": {"cost2_mean": -0.02744788200888328, "outflow_rate_mean": 1078.0208480426438, "system_level_velocity_mean": 13.736385027847502, "cost2_min": -0.43728023988442966, "cost1_min": 19.396375845118076, "cost1_mean": 349.17538019095804, "cost1_max": 461.387593075169, "outflow_rate_max": 1266.565489362184, "system_level_velocity_max": 18.334610060618925, "outflow_rate_min": 468.09621340887463, "cost2_max": 0.0, "system_level_velocity_min": 9.565651940674591}, "node_ip": "10.138.0.2", "timesteps_total": 10574108}
{"hostname": "flow-main", "episode_reward_mean": 858.935242768886, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1e80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.19312381744385, "timesteps_since_restore": 10637908, "info": {"num_steps_trained": 10637908, "default": {"entropy": 1.7366653680801392, "kl": 0.016013260930776596, "vf_loss": 26.042404174804688, "vf_explained_var": 0.8570549488067627, "policy_loss": -0.011915774084627628, "total_loss": 26.0358943939209, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 6.754, "sample_time_ms": 32257.607, "grad_time_ms": 15283.177, "update_time_ms": 7.168, "num_steps_sampled": 10637908}, "time_total_s": 8138.925366640091, "num_metric_batches_dropped": 0, "timestamp": 1558314640, "episode_reward_max": 1059.0806270753942, "timesteps_this_iter": 63800, "episode_reward_min": 48.658786196278015, "date": "2019-05-20_01-10-40", "policy_reward_mean": {}, "time_since_restore": 8138.925366640091, "episodes_total": 4908, "iterations_since_restore": 168, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 693.29, "done": false, "training_iteration": 168, "custom_metrics": {"cost2_mean": -0.022234090904059544, "outflow_rate_mean": 1076.601870439497, "system_level_velocity_mean": 13.551406477917572, "cost2_min": -0.43728023988442966, "cost1_min": 19.396375845118076, "cost1_mean": 347.8654592801454, "cost1_max": 452.5267035123883, "outflow_rate_max": 1241.5517820765883, "system_level_velocity_max": 18.083668589857734, "outflow_rate_min": 468.09621340887463, "cost2_max": 0.0, "system_level_velocity_min": 9.565651940674591}, "node_ip": "10.138.0.2", "timesteps_total": 10637908}
{"hostname": "flow-main", "episode_reward_mean": 851.8620594344044, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b68d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898940>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.68864965438843, "timesteps_since_restore": 10698777, "info": {"num_steps_trained": 10698777, "default": {"entropy": 1.7448997497558594, "kl": 0.015648305416107178, "vf_loss": 24.424978256225586, "vf_explained_var": 0.8765580654144287, "policy_loss": -0.012738359160721302, "total_loss": 24.41752052307129, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.098, "sample_time_ms": 32004.827, "grad_time_ms": 15273.922, "update_time_ms": 7.153, "num_steps_sampled": 10698777}, "time_total_s": 8183.614016294479, "num_metric_batches_dropped": 0, "timestamp": 1558314684, "episode_reward_max": 1086.1438512474365, "timesteps_this_iter": 60869, "episode_reward_min": 35.57932011747868, "date": "2019-05-20_01-11-24", "policy_reward_mean": {}, "time_since_restore": 8183.614016294479, "episodes_total": 4937, "iterations_since_restore": 169, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 686.57, "done": false, "training_iteration": 169, "custom_metrics": {"cost2_mean": -0.03444830356880734, "outflow_rate_mean": 1075.1994252665177, "system_level_velocity_mean": 13.684800130632132, "cost2_min": -0.5396825396825397, "cost1_min": 18.717865792783336, "cost1_mean": 346.82413163745497, "cost1_max": 454.0667265079056, "outflow_rate_max": 1263.5644203175525, "system_level_velocity_max": 18.28871184321851, "outflow_rate_min": 468.09621340887463, "cost2_max": 0.0, "system_level_velocity_min": 9.240062151166725}, "node_ip": "10.138.0.2", "timesteps_total": 10698777}
{"hostname": "flow-main", "episode_reward_mean": 871.9570280211718, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.746854066848755, "timesteps_since_restore": 10760323, "info": {"num_steps_trained": 10760323, "default": {"entropy": 1.7494542598724365, "kl": 0.015041961334645748, "vf_loss": 27.800451278686523, "vf_explained_var": 0.8560260534286499, "policy_loss": -0.011676426976919174, "total_loss": 27.793851852416992, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.419, "sample_time_ms": 31799.152, "grad_time_ms": 15338.855, "update_time_ms": 7.034, "num_steps_sampled": 10760323}, "time_total_s": 8231.360870361328, "num_metric_batches_dropped": 0, "timestamp": 1558314732, "episode_reward_max": 1086.1438512474365, "timesteps_this_iter": 61546, "episode_reward_min": 35.57932011747868, "date": "2019-05-20_01-12-12", "policy_reward_mean": {}, "time_since_restore": 8231.360870361328, "episodes_total": 4965, "iterations_since_restore": 170, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 691.54, "done": false, "training_iteration": 170, "custom_metrics": {"cost2_mean": -0.03291760548119536, "outflow_rate_mean": 1097.3693147539798, "system_level_velocity_mean": 14.065981735232183, "cost2_min": -0.5396825396825397, "cost1_min": 18.717865792783336, "cost1_mean": 359.86041579533986, "cost1_max": 454.0667265079056, "outflow_rate_max": 1263.5644203175525, "system_level_velocity_max": 18.28871184321851, "outflow_rate_min": 496.70171299005614, "cost2_max": 0.0, "system_level_velocity_min": 9.240062151166725}, "node_ip": "10.138.0.2", "timesteps_total": 10760323}
{"hostname": "flow-main", "episode_reward_mean": 867.6219271258466, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1198>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.65926241874695, "timesteps_since_restore": 10822232, "info": {"num_steps_trained": 10822232, "default": {"entropy": 1.744680404663086, "kl": 0.01593181863427162, "vf_loss": 31.39919662475586, "vf_explained_var": 0.8444299697875977, "policy_loss": -0.011198253370821476, "total_loss": 31.393373489379883, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.669, "sample_time_ms": 31610.704, "grad_time_ms": 15415.092, "update_time_ms": 6.939, "num_steps_sampled": 10822232}, "time_total_s": 8278.020132780075, "num_metric_batches_dropped": 0, "timestamp": 1558314779, "episode_reward_max": 1087.2435045320142, "timesteps_this_iter": 61909, "episode_reward_min": 35.57932011747868, "date": "2019-05-20_01-12-59", "policy_reward_mean": {}, "time_since_restore": 8278.020132780075, "episodes_total": 4995, "iterations_since_restore": 171, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 684.84, "done": false, "training_iteration": 171, "custom_metrics": {"cost2_mean": -0.031166839067886625, "outflow_rate_mean": 1089.1457265494985, "system_level_velocity_mean": 14.089892142204082, "cost2_min": -0.5396825396825397, "cost1_min": 18.717865792783336, "cost1_mean": 355.67660705876705, "cost1_max": 460.2627230916187, "outflow_rate_max": 1263.5644203175525, "system_level_velocity_max": 18.28871184321851, "outflow_rate_min": 452.33695722850064, "cost2_max": 0.0, "system_level_velocity_min": 9.240062151166725}, "node_ip": "10.138.0.2", "timesteps_total": 10822232}
{"hostname": "flow-main", "episode_reward_mean": 863.3782405467236, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c15c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1e10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.36011600494385, "timesteps_since_restore": 10883701, "info": {"num_steps_trained": 10883701, "default": {"entropy": 1.7547889947891235, "kl": 0.017546478658914566, "vf_loss": 30.71445655822754, "vf_explained_var": 0.8437005877494812, "policy_loss": -0.012180505320429802, "total_loss": 30.70819854736328, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.793, "sample_time_ms": 31248.663, "grad_time_ms": 15670.359, "update_time_ms": 6.86, "num_steps_sampled": 10883701}, "time_total_s": 8326.380248785019, "num_metric_batches_dropped": 0, "timestamp": 1558314827, "episode_reward_max": 1087.2435045320142, "timesteps_this_iter": 61469, "episode_reward_min": 35.57932011747868, "date": "2019-05-20_01-13-47", "policy_reward_mean": {}, "time_since_restore": 8326.380248785019, "episodes_total": 5025, "iterations_since_restore": 172, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 675.0, "done": false, "training_iteration": 172, "custom_metrics": {"cost2_mean": -0.029420842912025128, "outflow_rate_mean": 1082.2309659848893, "system_level_velocity_mean": 14.17367715458782, "cost2_min": -0.5396825396825397, "cost1_min": 18.717865792783336, "cost1_mean": 351.09390652222356, "cost1_max": 462.75902577757023, "outflow_rate_max": 1255.2947673931683, "system_level_velocity_max": 18.28871184321851, "outflow_rate_min": 452.33695722850064, "cost2_max": 0.0, "system_level_velocity_min": 10.464624934548334}, "node_ip": "10.138.0.2", "timesteps_total": 10883701}
{"hostname": "flow-main", "episode_reward_mean": 860.1685320963085, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b68d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6630>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.22886037826538, "timesteps_since_restore": 10946314, "info": {"num_steps_trained": 10946314, "default": {"entropy": 1.7568739652633667, "kl": 0.01570342294871807, "vf_loss": 28.914703369140625, "vf_explained_var": 0.8490574359893799, "policy_loss": -0.012439453043043613, "total_loss": 28.907564163208008, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.389, "sample_time_ms": 31077.79, "grad_time_ms": 15818.799, "update_time_ms": 6.917, "num_steps_sampled": 10946314}, "time_total_s": 8372.609109163284, "num_metric_batches_dropped": 0, "timestamp": 1558314874, "episode_reward_max": 1087.2435045320142, "timesteps_this_iter": 62613, "episode_reward_min": 52.734985153674266, "date": "2019-05-20_01-14-34", "policy_reward_mean": {}, "time_since_restore": 8372.609109163284, "episodes_total": 5056, "iterations_since_restore": 173, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 679.39, "done": false, "training_iteration": 173, "custom_metrics": {"cost2_mean": -0.026562657641502403, "outflow_rate_mean": 1084.1154738814569, "system_level_velocity_mean": 14.043043611701329, "cost2_min": -0.4975273761230318, "cost1_min": 19.264192272297112, "cost1_mean": 350.19454695861515, "cost1_max": 462.75902577757023, "outflow_rate_max": 1255.2947673931683, "system_level_velocity_max": 18.29083796807902, "outflow_rate_min": 452.33695722850064, "cost2_max": 0.0, "system_level_velocity_min": 10.266871413726772}, "node_ip": "10.138.0.2", "timesteps_total": 10946314}
{"hostname": "flow-main", "episode_reward_mean": 870.184433929107, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2e10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.27521061897278, "timesteps_since_restore": 11009422, "info": {"num_steps_trained": 11009422, "default": {"entropy": 1.7504048347473145, "kl": 0.014919398352503777, "vf_loss": 28.94350242614746, "vf_explained_var": 0.8521962761878967, "policy_loss": -0.01033924613147974, "total_loss": 28.93819808959961, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.56, "sample_time_ms": 30911.751, "grad_time_ms": 16001.299, "update_time_ms": 7.199, "num_steps_sampled": 11009422}, "time_total_s": 8420.884319782257, "num_metric_batches_dropped": 0, "timestamp": 1558314922, "episode_reward_max": 1064.153135375919, "timesteps_this_iter": 63108, "episode_reward_min": 27.64214772746911, "date": "2019-05-20_01-15-22", "policy_reward_mean": {}, "time_since_restore": 8420.884319782257, "episodes_total": 5084, "iterations_since_restore": 174, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 680.99, "done": false, "training_iteration": 174, "custom_metrics": {"cost2_mean": -0.027427610847181105, "outflow_rate_mean": 1092.6870493446584, "system_level_velocity_mean": 14.166098146684243, "cost2_min": -0.3333333333333333, "cost1_min": 10.39410054325823, "cost1_mean": 354.5335126054033, "cost1_max": 462.75902577757023, "outflow_rate_max": 1255.2947673931683, "system_level_velocity_max": 18.29083796807902, "outflow_rate_min": 430.2982331770539, "cost2_max": 0.0, "system_level_velocity_min": 10.266871413726772}, "node_ip": "10.138.0.2", "timesteps_total": 11009422}
{"hostname": "flow-main", "episode_reward_mean": 864.7854660806067, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b27b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.65023708343506, "timesteps_since_restore": 11072326, "info": {"num_steps_trained": 11072326, "default": {"entropy": 1.748905897140503, "kl": 0.015466084703803062, "vf_loss": 27.07539939880371, "vf_explained_var": 0.8565753102302551, "policy_loss": -0.01119480561465025, "total_loss": 27.069425582885742, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 7.598, "sample_time_ms": 30950.93, "grad_time_ms": 16260.621, "update_time_ms": 7.509, "num_steps_sampled": 11072326}, "time_total_s": 8469.534556865692, "num_metric_batches_dropped": 0, "timestamp": 1558314971, "episode_reward_max": 1078.9168780185325, "timesteps_this_iter": 62904, "episode_reward_min": 27.64214772746911, "date": "2019-05-20_01-16-11", "policy_reward_mean": {}, "time_since_restore": 8469.534556865692, "episodes_total": 5113, "iterations_since_restore": 175, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 679.16, "done": false, "training_iteration": 175, "custom_metrics": {"cost2_mean": -0.021580548214077573, "outflow_rate_mean": 1086.1407120451843, "system_level_velocity_mean": 14.049353854407693, "cost2_min": -0.3333333333333333, "cost1_min": 10.39410054325823, "cost1_mean": 349.7670220824773, "cost1_max": 453.4455539163512, "outflow_rate_max": 1262.993992667967, "system_level_velocity_max": 18.29083796807902, "outflow_rate_min": 430.2982331770539, "cost2_max": 0.0, "system_level_velocity_min": 9.765242992928755}, "node_ip": "10.138.0.2", "timesteps_total": 11072326}
{"hostname": "flow-main", "episode_reward_mean": 875.2034202876051, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b67f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.295721769332886, "timesteps_since_restore": 11133881, "info": {"num_steps_trained": 11133881, "default": {"entropy": 1.759602665901184, "kl": 0.015789631754159927, "vf_loss": 27.49554443359375, "vf_explained_var": 0.8558698296546936, "policy_loss": -0.011909713968634605, "total_loss": 27.488964080810547, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.972, "sample_time_ms": 30863.731, "grad_time_ms": 16320.693, "update_time_ms": 7.734, "num_steps_sampled": 11133881}, "time_total_s": 8517.830278635025, "num_metric_batches_dropped": 0, "timestamp": 1558315019, "episode_reward_max": 1078.9168780185325, "timesteps_this_iter": 61555, "episode_reward_min": 27.64214772746911, "date": "2019-05-20_01-16-59", "policy_reward_mean": {}, "time_since_restore": 8517.830278635025, "episodes_total": 5142, "iterations_since_restore": 176, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 686.55, "done": false, "training_iteration": 176, "custom_metrics": {"cost2_mean": -0.025354212621946606, "outflow_rate_mean": 1096.3171302086334, "system_level_velocity_mean": 14.120648217721861, "cost2_min": -0.4455806255518189, "cost1_min": 10.39410054325823, "cost1_mean": 356.60743218458697, "cost1_max": 453.9976995055473, "outflow_rate_max": 1262.993992667967, "system_level_velocity_max": 18.179734237907677, "outflow_rate_min": 430.2982331770539, "cost2_max": 0.0, "system_level_velocity_min": 9.765242992928755}, "node_ip": "10.138.0.2", "timesteps_total": 11133881}
{"hostname": "flow-main", "episode_reward_mean": 856.5383602828556, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c65c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6ef0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.79143667221069, "timesteps_since_restore": 11195820, "info": {"num_steps_trained": 11195820, "default": {"entropy": 1.7776210308074951, "kl": 0.016148539260029793, "vf_loss": 29.49331283569336, "vf_explained_var": 0.8380734920501709, "policy_loss": -0.010854974389076233, "total_loss": 29.4879093170166, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.809, "sample_time_ms": 30966.308, "grad_time_ms": 16398.01, "update_time_ms": 7.848, "num_steps_sampled": 11195820}, "time_total_s": 8565.621715307236, "num_metric_batches_dropped": 0, "timestamp": 1558315067, "episode_reward_max": 1078.9168780185325, "timesteps_this_iter": 61939, "episode_reward_min": 24.685063854261593, "date": "2019-05-20_01-17-47", "policy_reward_mean": {}, "time_since_restore": 8565.621715307236, "episodes_total": 5175, "iterations_since_restore": 177, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 675.17, "done": false, "training_iteration": 177, "custom_metrics": {"cost2_mean": -0.03159909154545983, "outflow_rate_mean": 1087.5773310447998, "system_level_velocity_mean": 14.168403173724295, "cost2_min": -0.4455806255518189, "cost1_min": 10.39410054325823, "cost1_mean": 350.56200662359066, "cost1_max": 453.9976995055473, "outflow_rate_max": 1262.993992667967, "system_level_velocity_max": 18.37849372083125, "outflow_rate_min": 430.2982331770539, "cost2_max": 0.0, "system_level_velocity_min": 9.765242992928755}, "node_ip": "10.138.0.2", "timesteps_total": 11195820}
{"hostname": "flow-main", "episode_reward_mean": 832.6167779673889, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1898>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.75434184074402, "timesteps_since_restore": 11256638, "info": {"num_steps_trained": 11256638, "default": {"entropy": 1.7832129001617432, "kl": 0.015237358398735523, "vf_loss": 27.388681411743164, "vf_explained_var": 0.8523032665252686, "policy_loss": -0.01371316984295845, "total_loss": 27.380111694335938, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.833, "sample_time_ms": 30970.184, "grad_time_ms": 16349.618, "update_time_ms": 8.357, "num_steps_sampled": 11256638}, "time_total_s": 8613.37605714798, "num_metric_batches_dropped": 0, "timestamp": 1558315115, "episode_reward_max": 1048.1943612500463, "timesteps_this_iter": 60818, "episode_reward_min": 24.685063854261593, "date": "2019-05-20_01-18-35", "policy_reward_mean": {}, "time_since_restore": 8613.37605714798, "episodes_total": 5208, "iterations_since_restore": 178, "pid": 46909, "episodes_this_iter": 33, "episode_len_mean": 668.59, "done": false, "training_iteration": 178, "custom_metrics": {"cost2_mean": -0.033838021512335836, "outflow_rate_mean": 1076.9214631324633, "system_level_velocity_mean": 14.128410180532528, "cost2_min": -0.4486361100227424, "cost1_min": 12.342531927130798, "cost1_mean": 344.94415776674583, "cost1_max": 458.3575020598673, "outflow_rate_max": 1264.1497293345253, "system_level_velocity_max": 18.985896412340633, "outflow_rate_min": 464.6658073189122, "cost2_max": 0.0, "system_level_velocity_min": 9.871367646679811}, "node_ip": "10.138.0.2", "timesteps_total": 11256638}
{"hostname": "flow-main", "episode_reward_mean": 830.6111484260152, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d337f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6208>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.75923156738281, "timesteps_since_restore": 11317520, "info": {"num_steps_trained": 11317520, "default": {"entropy": 1.7744849920272827, "kl": 0.018100181594491005, "vf_loss": 29.14313507080078, "vf_explained_var": 0.8379213213920593, "policy_loss": -0.01341281644999981, "total_loss": 29.13582992553711, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.288, "sample_time_ms": 31210.029, "grad_time_ms": 16316.524, "update_time_ms": 8.736, "num_steps_sampled": 11317520}, "time_total_s": 8660.135288715363, "num_metric_batches_dropped": 0, "timestamp": 1558315161, "episode_reward_max": 1056.0874019786638, "timesteps_this_iter": 60882, "episode_reward_min": 24.685063854261593, "date": "2019-05-20_01-19-21", "policy_reward_mean": {}, "time_since_restore": 8660.135288715363, "episodes_total": 5236, "iterations_since_restore": 179, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 669.57, "done": false, "training_iteration": 179, "custom_metrics": {"cost2_mean": -0.04883930568689099, "outflow_rate_mean": 1071.2938789233006, "system_level_velocity_mean": 13.984822699537142, "cost2_min": -0.7208154331637737, "cost1_min": 12.342531927130798, "cost1_mean": 341.6264205195158, "cost1_max": 461.3521027925301, "outflow_rate_max": 1280.975083853481, "system_level_velocity_max": 18.985896412340633, "outflow_rate_min": 464.6658073189122, "cost2_max": 0.0, "system_level_velocity_min": 9.871367646679811}, "node_ip": "10.138.0.2", "timesteps_total": 11317520}
{"hostname": "flow-main", "episode_reward_mean": 834.4811392075783, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6828>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.802613496780396, "timesteps_since_restore": 11379103, "info": {"num_steps_trained": 11379103, "default": {"entropy": 1.7871654033660889, "kl": 0.016130870208144188, "vf_loss": 26.680234909057617, "vf_explained_var": 0.8551931381225586, "policy_loss": -0.013852877542376518, "total_loss": 26.671825408935547, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.354, "sample_time_ms": 31293.363, "grad_time_ms": 16340.233, "update_time_ms": 8.947, "num_steps_sampled": 11379103}, "time_total_s": 8708.937902212143, "num_metric_batches_dropped": 0, "timestamp": 1558315210, "episode_reward_max": 1056.0874019786638, "timesteps_this_iter": 61583, "episode_reward_min": 35.271953900372615, "date": "2019-05-20_01-20-10", "policy_reward_mean": {}, "time_since_restore": 8708.937902212143, "episodes_total": 5264, "iterations_since_restore": 180, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 680.95, "done": false, "training_iteration": 180, "custom_metrics": {"cost2_mean": -0.05633746942961917, "outflow_rate_mean": 1074.5803229311687, "system_level_velocity_mean": 13.799116034982237, "cost2_min": -0.7208154331637737, "cost1_min": 15.886511487031578, "cost1_mean": 344.18603130771857, "cost1_max": 461.3521027925301, "outflow_rate_max": 1280.975083853481, "system_level_velocity_max": 18.985896412340633, "outflow_rate_min": 464.6658073189122, "cost2_max": 0.0, "system_level_velocity_min": 8.500796692155795}, "node_ip": "10.138.0.2", "timesteps_total": 11379103}
{"hostname": "flow-main", "episode_reward_mean": 832.9842586998734, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c13c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c14a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1860>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.02255988121033, "timesteps_since_restore": 11439663, "info": {"num_steps_trained": 11439663, "default": {"entropy": 1.7692058086395264, "kl": 0.01693086326122284, "vf_loss": 26.945266723632812, "vf_explained_var": 0.8658077120780945, "policy_loss": -0.013954896479845047, "total_loss": 26.937026977539062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 7.202, "sample_time_ms": 31362.982, "grad_time_ms": 16204.553, "update_time_ms": 9.114, "num_steps_sampled": 11439663}, "time_total_s": 8754.960462093353, "num_metric_batches_dropped": 0, "timestamp": 1558315256, "episode_reward_max": 1056.0874019786638, "timesteps_this_iter": 60560, "episode_reward_min": 35.271953900372615, "date": "2019-05-20_01-20-56", "policy_reward_mean": {}, "time_since_restore": 8754.960462093353, "episodes_total": 5292, "iterations_since_restore": 181, "pid": 46909, "episodes_this_iter": 28, "episode_len_mean": 680.95, "done": false, "training_iteration": 181, "custom_metrics": {"cost2_mean": -0.05148972123849775, "outflow_rate_mean": 1074.1401447665285, "system_level_velocity_mean": 13.816452795983189, "cost2_min": -0.7208154331637737, "cost1_min": 15.886511487031578, "cost1_mean": 344.2495355896574, "cost1_max": 465.6273199668841, "outflow_rate_max": 1280.975083853481, "system_level_velocity_max": 18.985896412340633, "outflow_rate_min": 464.6658073189122, "cost2_max": 0.0, "system_level_velocity_min": 8.500796692155795}, "node_ip": "10.138.0.2", "timesteps_total": 11439663}
{"hostname": "flow-main", "episode_reward_mean": 854.1926623440683, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897048>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.52705645561218, "timesteps_since_restore": 11503227, "info": {"num_steps_trained": 11503227, "default": {"entropy": 1.7869422435760498, "kl": 0.015443584881722927, "vf_loss": 25.879945755004883, "vf_explained_var": 0.8562392592430115, "policy_loss": -0.011898180469870567, "total_loss": 25.873258590698242, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 7.357, "sample_time_ms": 31749.768, "grad_time_ms": 16032.492, "update_time_ms": 9.261, "num_steps_sampled": 11503227}, "time_total_s": 8805.487518548965, "num_metric_batches_dropped": 0, "timestamp": 1558315307, "episode_reward_max": 1044.5996809035373, "timesteps_this_iter": 63564, "episode_reward_min": 681.2651439915409, "date": "2019-05-20_01-21-47", "policy_reward_mean": {}, "time_since_restore": 8805.487518548965, "episodes_total": 5322, "iterations_since_restore": 182, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 700.0, "done": false, "training_iteration": 182, "custom_metrics": {"cost2_mean": -0.04496517521238792, "outflow_rate_mean": 1095.150224197379, "system_level_velocity_mean": 13.737543113707227, "cost2_min": -0.7208154331637737, "cost1_min": 222.32952052841227, "cost1_mean": 355.11987845318237, "cost1_max": 465.6273199668841, "outflow_rate_max": 1275.6653200525627, "system_level_velocity_max": 18.161413067797692, "outflow_rate_min": 874.6812447918248, "cost2_max": 0.0, "system_level_velocity_min": 8.500796692155795}, "node_ip": "10.138.0.2", "timesteps_total": 11503227}
{"hostname": "flow-main", "episode_reward_mean": 851.0229335676537, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6710>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.078306674957275, "timesteps_since_restore": 11565698, "info": {"num_steps_trained": 11565698, "default": {"entropy": 1.8069730997085571, "kl": 0.015735002234578133, "vf_loss": 22.020456314086914, "vf_explained_var": 0.8735870122909546, "policy_loss": -0.012895390391349792, "total_loss": 22.012868881225586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 7.641, "sample_time_ms": 31886.869, "grad_time_ms": 15974.846, "update_time_ms": 9.128, "num_steps_sampled": 11565698}, "time_total_s": 8852.565825223923, "num_metric_batches_dropped": 0, "timestamp": 1558315354, "episode_reward_max": 1044.5996809035373, "timesteps_this_iter": 62471, "episode_reward_min": 73.56136837705445, "date": "2019-05-20_01-22-34", "policy_reward_mean": {}, "time_since_restore": 8852.565825223923, "episodes_total": 5349, "iterations_since_restore": 183, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 693.51, "done": false, "training_iteration": 183, "custom_metrics": {"cost2_mean": -0.02926155152619403, "outflow_rate_mean": 1093.489579637462, "system_level_velocity_mean": 13.888583461243673, "cost2_min": -0.531975381010473, "cost1_min": 33.64713779696278, "cost1_mean": 354.4177008770965, "cost1_max": 466.67410937305453, "outflow_rate_max": 1281.1605012834775, "system_level_velocity_max": 18.659359492478064, "outflow_rate_min": 548.4883300508079, "cost2_max": 0.0, "system_level_velocity_min": 10.407744616440148}, "node_ip": "10.138.0.2", "timesteps_total": 11565698}
{"hostname": "flow-main", "episode_reward_mean": 851.1536972802697, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c67b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6208>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.876033544540405, "timesteps_since_restore": 11630144, "info": {"num_steps_trained": 11630144, "default": {"entropy": 1.7856906652450562, "kl": 0.016247570514678955, "vf_loss": 25.091249465942383, "vf_explained_var": 0.8565828204154968, "policy_loss": -0.01279324758797884, "total_loss": 25.083938598632812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 7.762, "sample_time_ms": 32154.257, "grad_time_ms": 15969.353, "update_time_ms": 8.999, "num_steps_sampled": 11630144}, "time_total_s": 8903.441858768463, "num_metric_batches_dropped": 0, "timestamp": 1558315405, "episode_reward_max": 1044.5996809035373, "timesteps_this_iter": 64446, "episode_reward_min": 73.56136837705445, "date": "2019-05-20_01-23-25", "policy_reward_mean": {}, "time_since_restore": 8903.441858768463, "episodes_total": 5376, "iterations_since_restore": 184, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 693.51, "done": false, "training_iteration": 184, "custom_metrics": {"cost2_mean": -0.028732855645171362, "outflow_rate_mean": 1081.3664391919895, "system_level_velocity_mean": 13.601026195904135, "cost2_min": -0.531975381010473, "cost1_min": 33.64713779696278, "cost1_mean": 347.09120435928196, "cost1_max": 466.67410937305453, "outflow_rate_max": 1281.1605012834775, "system_level_velocity_max": 18.659359492478064, "outflow_rate_min": 548.4883300508079, "cost2_max": 0.0, "system_level_velocity_min": 9.871091221977593}, "node_ip": "10.138.0.2", "timesteps_total": 11630144}
{"hostname": "flow-main", "episode_reward_mean": 847.6607088811064, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6710>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.10992908477783, "timesteps_since_restore": 11692930, "info": {"num_steps_trained": 11692930, "default": {"entropy": 1.7846475839614868, "kl": 0.015607035718858242, "vf_loss": 26.14638900756836, "vf_explained_var": 0.8630449771881104, "policy_loss": -0.012377025559544563, "total_loss": 26.139278411865234, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.197, "sample_time_ms": 32201.579, "grad_time_ms": 15865.236, "update_time_ms": 8.67, "num_steps_sampled": 11692930}, "time_total_s": 8951.551787853241, "num_metric_batches_dropped": 0, "timestamp": 1558315453, "episode_reward_max": 1007.7777730761057, "timesteps_this_iter": 62786, "episode_reward_min": 73.56136837705445, "date": "2019-05-20_01-24-13", "policy_reward_mean": {}, "time_since_restore": 8951.551787853241, "episodes_total": 5405, "iterations_since_restore": 185, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 693.51, "done": false, "training_iteration": 185, "custom_metrics": {"cost2_mean": -0.026273514219214672, "outflow_rate_mean": 1074.0494252483957, "system_level_velocity_mean": 13.423836188121413, "cost2_min": -0.531975381010473, "cost1_min": 33.64713779696278, "cost1_mean": 342.40413337516196, "cost1_max": 466.67410937305453, "outflow_rate_max": 1281.1605012834775, "system_level_velocity_max": 18.659359492478064, "outflow_rate_min": 548.4883300508079, "cost2_max": 0.0, "system_level_velocity_min": 9.871091221977593}, "node_ip": "10.138.0.2", "timesteps_total": 11692930}
{"hostname": "flow-main", "episode_reward_mean": 844.68212414452, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a93c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.50670409202576, "timesteps_since_restore": 11756672, "info": {"num_steps_trained": 11756672, "default": {"entropy": 1.7921628952026367, "kl": 0.01548883318901062, "vf_loss": 26.045513153076172, "vf_explained_var": 0.8645562529563904, "policy_loss": -0.012430989183485508, "total_loss": 26.038311004638672, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.136, "sample_time_ms": 32487.546, "grad_time_ms": 15799.304, "update_time_ms": 8.713, "num_steps_sampled": 11756672}, "time_total_s": 9002.058491945267, "num_metric_batches_dropped": 0, "timestamp": 1558315504, "episode_reward_max": 1025.2110473283324, "timesteps_this_iter": 63742, "episode_reward_min": 281.9622694697321, "date": "2019-05-20_01-25-04", "policy_reward_mean": {}, "time_since_restore": 9002.058491945267, "episodes_total": 5436, "iterations_since_restore": 186, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 694.77, "done": false, "training_iteration": 186, "custom_metrics": {"cost2_mean": -0.024826437716025617, "outflow_rate_mean": 1072.3089541084282, "system_level_velocity_mean": 13.289129825523162, "cost2_min": -0.40125466189628534, "cost1_min": 115.64982638972148, "cost1_mean": 340.05453296001195, "cost1_max": 466.67410937305453, "outflow_rate_max": 1281.1605012834775, "system_level_velocity_max": 17.919815107280286, "outflow_rate_min": 808.5527519676338, "cost2_max": 0.0, "system_level_velocity_min": 9.871091221977593}, "node_ip": "10.138.0.2", "timesteps_total": 11756672}
{"hostname": "flow-main", "episode_reward_mean": 832.668322068284, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6f98>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.755717039108276, "timesteps_since_restore": 11817468, "info": {"num_steps_trained": 11817468, "default": {"entropy": 1.7914178371429443, "kl": 0.017886841669678688, "vf_loss": 30.668912887573242, "vf_explained_var": 0.8482977747917175, "policy_loss": -0.011191262863576412, "total_loss": 30.66375732421875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.134, "sample_time_ms": 32488.108, "grad_time_ms": 15597.231, "update_time_ms": 8.68, "num_steps_sampled": 11817468}, "time_total_s": 9047.814208984375, "num_metric_batches_dropped": 0, "timestamp": 1558315549, "episode_reward_max": 1025.2110473283324, "timesteps_this_iter": 60796, "episode_reward_min": 20.73223971061013, "date": "2019-05-20_01-25-49", "policy_reward_mean": {}, "time_since_restore": 9047.814208984375, "episodes_total": 5467, "iterations_since_restore": 187, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 682.35, "done": false, "training_iteration": 187, "custom_metrics": {"cost2_mean": -0.023078912725451168, "outflow_rate_mean": 1071.4458375233762, "system_level_velocity_mean": 13.60209401610433, "cost2_min": -0.40125466189628534, "cost1_min": 10.366119855305065, "cost1_mean": 340.11506068973426, "cost1_max": 461.67226540424684, "outflow_rate_max": 1253.1437368352351, "system_level_velocity_max": 18.07892025712515, "outflow_rate_min": 425.23807101616575, "cost2_max": 0.0, "system_level_velocity_min": 9.871091221977593}, "node_ip": "10.138.0.2", "timesteps_total": 11817468}
{"hostname": "flow-main", "episode_reward_mean": 835.651925867382, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028973c8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.256022930145264, "timesteps_since_restore": 11880556, "info": {"num_steps_trained": 11880556, "default": {"entropy": 1.8062845468521118, "kl": 0.015237019397318363, "vf_loss": 26.75598907470703, "vf_explained_var": 0.8540433645248413, "policy_loss": -0.010226469486951828, "total_loss": 26.75090217590332, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 7.847, "sample_time_ms": 32641.271, "grad_time_ms": 15495.258, "update_time_ms": 8.4, "num_steps_sampled": 11880556}, "time_total_s": 9096.07023191452, "num_metric_batches_dropped": 0, "timestamp": 1558315598, "episode_reward_max": 1043.3338989859412, "timesteps_this_iter": 63088, "episode_reward_min": 20.73223971061013, "date": "2019-05-20_01-26-38", "policy_reward_mean": {}, "time_since_restore": 9096.07023191452, "episodes_total": 5497, "iterations_since_restore": 188, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 676.75, "done": false, "training_iteration": 188, "custom_metrics": {"cost2_mean": -0.031901434189793035, "outflow_rate_mean": 1078.5210000482393, "system_level_velocity_mean": 13.903841516573973, "cost2_min": -0.5144537170248199, "cost1_min": 10.366119855305065, "cost1_mean": 344.17651533536366, "cost1_max": 470.1184505814396, "outflow_rate_max": 1280.4842093850925, "system_level_velocity_max": 18.38963458410339, "outflow_rate_min": 425.23807101616575, "cost2_max": 0.0, "system_level_velocity_min": 10.27356544288408}, "node_ip": "10.138.0.2", "timesteps_total": 11880556}
{"hostname": "flow-main", "episode_reward_mean": 833.341597968605, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c68d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c62e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c63c8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.236488342285156, "timesteps_since_restore": 11942137, "info": {"num_steps_trained": 11942137, "default": {"entropy": 1.7995624542236328, "kl": 0.015641748905181885, "vf_loss": 26.488311767578125, "vf_explained_var": 0.8512629866600037, "policy_loss": -0.012372326105833054, "total_loss": 26.481216430664062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.419, "sample_time_ms": 32689.622, "grad_time_ms": 15395.132, "update_time_ms": 8.041, "num_steps_sampled": 11942137}, "time_total_s": 9142.306720256805, "num_metric_batches_dropped": 0, "timestamp": 1558315644, "episode_reward_max": 1043.3338989859412, "timesteps_this_iter": 61581, "episode_reward_min": 20.73223971061013, "date": "2019-05-20_01-27-24", "policy_reward_mean": {}, "time_since_restore": 9142.306720256805, "episodes_total": 5527, "iterations_since_restore": 189, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 670.1, "done": false, "training_iteration": 189, "custom_metrics": {"cost2_mean": -0.032303409394855015, "outflow_rate_mean": 1070.753356262281, "system_level_velocity_mean": 13.961180024804964, "cost2_min": -0.5144537170248199, "cost1_min": 10.366119855305065, "cost1_mean": 340.8807003403987, "cost1_max": 470.1184505814396, "outflow_rate_max": 1280.4842093850925, "system_level_velocity_max": 18.879450982761853, "outflow_rate_min": 425.23807101616575, "cost2_max": 0.0, "system_level_velocity_min": 10.267393174393217}, "node_ip": "10.138.0.2", "timesteps_total": 11942137}
{"hostname": "flow-main", "episode_reward_mean": 836.1636618103939, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.637176752090454, "timesteps_since_restore": 12005825, "info": {"num_steps_trained": 12005825, "default": {"entropy": 1.807468295097351, "kl": 0.016038183122873306, "vf_loss": 26.625150680541992, "vf_explained_var": 0.8394665122032166, "policy_loss": -0.012094934470951557, "total_loss": 26.61846923828125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.074, "sample_time_ms": 33010.473, "grad_time_ms": 15257.072, "update_time_ms": 7.985, "num_steps_sampled": 12005825}, "time_total_s": 9192.943897008896, "num_metric_batches_dropped": 0, "timestamp": 1558315695, "episode_reward_max": 1043.3338989859412, "timesteps_this_iter": 63688, "episode_reward_min": 48.891073620956114, "date": "2019-05-20_01-28-15", "policy_reward_mean": {}, "time_since_restore": 9192.943897008896, "episodes_total": 5556, "iterations_since_restore": 190, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 682.17, "done": false, "training_iteration": 190, "custom_metrics": {"cost2_mean": -0.03314763820696374, "outflow_rate_mean": 1073.0344721243805, "system_level_velocity_mean": 13.646771731181639, "cost2_min": -0.5144537170248199, "cost1_min": 23.24259096637665, "cost1_mean": 340.326782434302, "cost1_max": 470.1184505814396, "outflow_rate_max": 1280.4842093850925, "system_level_velocity_max": 18.879450982761853, "outflow_rate_min": 509.30585374011406, "cost2_max": 0.0, "system_level_velocity_min": 10.267393174393217}, "node_ip": "10.138.0.2", "timesteps_total": 12005825}
{"hostname": "flow-main", "episode_reward_mean": 833.0840531664683, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c66a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.783876180648804, "timesteps_since_restore": 12068259, "info": {"num_steps_trained": 12068259, "default": {"entropy": 1.7948534488677979, "kl": 0.016090555116534233, "vf_loss": 27.676071166992188, "vf_explained_var": 0.8521549105644226, "policy_loss": -0.012777211144566536, "total_loss": 27.668725967407227, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "load_time_ms": 8.121, "sample_time_ms": 33062.928, "grad_time_ms": 15381.397, "update_time_ms": 7.805, "num_steps_sampled": 12068259}, "time_total_s": 9240.727773189545, "num_metric_batches_dropped": 0, "timestamp": 1558315743, "episode_reward_max": 1016.2915538467132, "timesteps_this_iter": 62434, "episode_reward_min": 48.891073620956114, "date": "2019-05-20_01-29-03", "policy_reward_mean": {}, "time_since_restore": 9240.727773189545, "episodes_total": 5586, "iterations_since_restore": 191, "pid": 46909, "episodes_this_iter": 30, "episode_len_mean": 682.06, "done": false, "training_iteration": 191, "custom_metrics": {"cost2_mean": -0.028222552822372505, "outflow_rate_mean": 1069.758605626049, "system_level_velocity_mean": 13.585412006596249, "cost2_min": -0.5144537170248199, "cost1_min": 23.24259096637665, "cost1_mean": 338.7494136240419, "cost1_max": 470.1184505814396, "outflow_rate_max": 1280.4842093850925, "system_level_velocity_max": 18.879450982761853, "outflow_rate_min": 509.30585374011406, "cost2_max": 0.0, "system_level_velocity_min": 10.267393174393217}, "node_ip": "10.138.0.2", "timesteps_total": 12068259}
{"hostname": "flow-main", "episode_reward_mean": 849.6667839720837, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c12b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.406867027282715, "timesteps_since_restore": 12128948, "info": {"num_steps_trained": 12128948, "default": {"entropy": 1.79445481300354, "kl": 0.016587315127253532, "vf_loss": 31.53462028503418, "vf_explained_var": 0.8313503861427307, "policy_loss": -0.012021427974104881, "total_loss": 31.528196334838867, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.096, "sample_time_ms": 32937.794, "grad_time_ms": 15095.912, "update_time_ms": 7.969, "num_steps_sampled": 12128948}, "time_total_s": 9287.134640216827, "num_metric_batches_dropped": 0, "timestamp": 1558315789, "episode_reward_max": 1044.3079061718588, "timesteps_this_iter": 60689, "episode_reward_min": 52.99468753095829, "date": "2019-05-20_01-29-49", "policy_reward_mean": {}, "time_since_restore": 9287.134640216827, "episodes_total": 5615, "iterations_since_restore": 192, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 687.69, "done": false, "training_iteration": 192, "custom_metrics": {"cost2_mean": -0.03172023953085278, "outflow_rate_mean": 1077.4174162955005, "system_level_velocity_mean": 13.684157082309119, "cost2_min": -0.42563539009341145, "cost1_min": 25.407915864630812, "cost1_mean": 344.74069146832414, "cost1_max": 467.36019583738334, "outflow_rate_max": 1263.111187857193, "system_level_velocity_max": 18.43473290380075, "outflow_rate_min": 526.0605455804654, "cost2_max": 0.0, "system_level_velocity_min": 10.312448044888958}, "node_ip": "10.138.0.2", "timesteps_total": 12128948}
{"hostname": "flow-main", "episode_reward_mean": 857.8837554486113, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9668>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.095258712768555, "timesteps_since_restore": 12191847, "info": {"num_steps_trained": 12191847, "default": {"entropy": 1.807569146156311, "kl": 0.015727616846561432, "vf_loss": 27.166772842407227, "vf_explained_var": 0.8513302803039551, "policy_loss": -0.011525752022862434, "total_loss": 27.16055679321289, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.346, "sample_time_ms": 32891.006, "grad_time_ms": 15147.046, "update_time_ms": 7.927, "num_steps_sampled": 12191847}, "time_total_s": 9334.229898929596, "num_metric_batches_dropped": 0, "timestamp": 1558315836, "episode_reward_max": 1065.0265135655713, "timesteps_this_iter": 62899, "episode_reward_min": 52.99468753095829, "date": "2019-05-20_01-30-36", "policy_reward_mean": {}, "time_since_restore": 9334.229898929596, "episodes_total": 5642, "iterations_since_restore": 193, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 687.69, "done": false, "training_iteration": 193, "custom_metrics": {"cost2_mean": -0.04210541496020209, "outflow_rate_mean": 1080.4733309337244, "system_level_velocity_mean": 13.790874938502238, "cost2_min": -0.49907196819509553, "cost1_min": 25.407915864630812, "cost1_mean": 347.69619591419627, "cost1_max": 467.36019583738334, "outflow_rate_max": 1263.111187857193, "system_level_velocity_max": 18.43473290380075, "outflow_rate_min": 526.0605455804654, "cost2_max": 0.0, "system_level_velocity_min": 10.312448044888958}, "node_ip": "10.138.0.2", "timesteps_total": 12191847}
{"hostname": "flow-main", "episode_reward_mean": 867.5078244620205, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b66a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b60f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.11342906951904, "timesteps_since_restore": 12254513, "info": {"num_steps_trained": 12254513, "default": {"entropy": 1.8258086442947388, "kl": 0.014971747063100338, "vf_loss": 29.02324104309082, "vf_explained_var": 0.836209774017334, "policy_loss": -0.010787137784063816, "total_loss": 29.017507553100586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.66, "sample_time_ms": 32748.8, "grad_time_ms": 14911.171, "update_time_ms": 7.909, "num_steps_sampled": 12254513}, "time_total_s": 9381.343327999115, "num_metric_batches_dropped": 0, "timestamp": 1558315883, "episode_reward_max": 1065.0265135655713, "timesteps_this_iter": 62666, "episode_reward_min": 52.99468753095829, "date": "2019-05-20_01-31-23", "policy_reward_mean": {}, "time_since_restore": 9381.343327999115, "episodes_total": 5671, "iterations_since_restore": 194, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 689.14, "done": false, "training_iteration": 194, "custom_metrics": {"cost2_mean": -0.037119428711373866, "outflow_rate_mean": 1089.4331516500931, "system_level_velocity_mean": 13.942243755047969, "cost2_min": -0.49907196819509553, "cost1_min": 25.407915864630812, "cost1_mean": 352.744834411277, "cost1_max": 467.36019583738334, "outflow_rate_max": 1281.1157884211586, "system_level_velocity_max": 18.43473290380075, "outflow_rate_min": 526.0605455804654, "cost2_max": 0.0, "system_level_velocity_min": 10.723195874088322}, "node_ip": "10.138.0.2", "timesteps_total": 12254513}
{"hostname": "flow-main", "episode_reward_mean": 869.2970442541068, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a98d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a99e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.733155965805054, "timesteps_since_restore": 12317362, "info": {"num_steps_trained": 12317362, "default": {"entropy": 1.8238177299499512, "kl": 0.016245761886239052, "vf_loss": 28.13041877746582, "vf_explained_var": 0.8490962386131287, "policy_loss": -0.012025116011500359, "total_loss": 28.123876571655273, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.443, "sample_time_ms": 32719.363, "grad_time_ms": 14904.466, "update_time_ms": 7.856, "num_steps_sampled": 12317362}, "time_total_s": 9429.07648396492, "num_metric_batches_dropped": 0, "timestamp": 1558315931, "episode_reward_max": 1065.0265135655713, "timesteps_this_iter": 62849, "episode_reward_min": 415.4839382447345, "date": "2019-05-20_01-32-11", "policy_reward_mean": {}, "time_since_restore": 9429.07648396492, "episodes_total": 5700, "iterations_since_restore": 195, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 695.76, "done": false, "training_iteration": 195, "custom_metrics": {"cost2_mean": -0.050047536045087056, "outflow_rate_mean": 1090.0836062017602, "system_level_velocity_mean": 13.748080576842513, "cost2_min": -0.7485132161800656, "cost1_min": 180.63615521852006, "cost1_mean": 352.587462086991, "cost1_max": 456.5462863597327, "outflow_rate_max": 1281.1157884211586, "system_level_velocity_max": 18.061103047091784, "outflow_rate_min": 914.0735531289257, "cost2_max": 0.0, "system_level_velocity_min": 10.723195874088322}, "node_ip": "10.138.0.2", "timesteps_total": 12317362}
{"hostname": "flow-main", "episode_reward_mean": 864.8854455655942, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028976d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.07826089859009, "timesteps_since_restore": 12380259, "info": {"num_steps_trained": 12380259, "default": {"entropy": 1.8250983953475952, "kl": 0.017097122967243195, "vf_loss": 28.203901290893555, "vf_explained_var": 0.8409074544906616, "policy_loss": -0.01266703475266695, "total_loss": 28.197004318237305, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.222, "sample_time_ms": 32475.572, "grad_time_ms": 14806.902, "update_time_ms": 7.653, "num_steps_sampled": 12380259}, "time_total_s": 9476.15474486351, "num_metric_batches_dropped": 0, "timestamp": 1558315978, "episode_reward_max": 1065.0265135655713, "timesteps_this_iter": 62897, "episode_reward_min": 415.4839382447345, "date": "2019-05-20_01-32-58", "policy_reward_mean": {}, "time_since_restore": 9476.15474486351, "episodes_total": 5729, "iterations_since_restore": 196, "pid": 46909, "episodes_this_iter": 29, "episode_len_mean": 695.41, "done": false, "training_iteration": 196, "custom_metrics": {"cost2_mean": -0.04734114811580655, "outflow_rate_mean": 1082.053679836478, "system_level_velocity_mean": 13.58001403152871, "cost2_min": -0.7485132161800656, "cost1_min": 180.63615521852006, "cost1_mean": 348.70653755792983, "cost1_max": 456.5462863597327, "outflow_rate_max": 1281.1157884211586, "system_level_velocity_max": 18.061103047091784, "outflow_rate_min": 914.0735531289257, "cost2_max": 0.0, "system_level_velocity_min": 10.705124749779554}, "node_ip": "10.138.0.2", "timesteps_total": 12380259}
{"hostname": "flow-main", "episode_reward_mean": 869.8422629748846, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9d30>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.80772161483765, "timesteps_since_restore": 12442969, "info": {"num_steps_trained": 12442969, "default": {"entropy": 1.8280326128005981, "kl": 0.015985365957021713, "vf_loss": 25.844377517700195, "vf_explained_var": 0.863589882850647, "policy_loss": -0.012366501614451408, "total_loss": 25.837404251098633, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.074, "sample_time_ms": 32371.481, "grad_time_ms": 15115.679, "update_time_ms": 7.59, "num_steps_sampled": 12442969}, "time_total_s": 9523.962466478348, "num_metric_batches_dropped": 0, "timestamp": 1558316026, "episode_reward_max": 1052.3305231817153, "timesteps_this_iter": 62710, "episode_reward_min": 719.0119899539377, "date": "2019-05-20_01-33-46", "policy_reward_mean": {}, "time_since_restore": 9523.962466478348, "episodes_total": 5756, "iterations_since_restore": 197, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 699.65, "done": false, "training_iteration": 197, "custom_metrics": {"cost2_mean": -0.046731324494199436, "outflow_rate_mean": 1090.0175558828191, "system_level_velocity_mean": 13.628280153168582, "cost2_min": -0.7485132161800656, "cost1_min": 275.8634804686559, "cost1_mean": 353.1356884149603, "cost1_max": 456.5462863597327, "outflow_rate_max": 1281.1157884211586, "system_level_velocity_max": 17.888624931637473, "outflow_rate_min": 943.8399515154938, "cost2_max": 0.0, "system_level_velocity_min": 10.705124749779554}, "node_ip": "10.138.0.2", "timesteps_total": 12442969}
{"hostname": "flow-main", "episode_reward_mean": 866.4958849136725, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c65c0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.8315589427948, "timesteps_since_restore": 12505830, "info": {"num_steps_trained": 12505830, "default": {"entropy": 1.8326783180236816, "kl": 0.016578150913119316, "vf_loss": 32.50069046020508, "vf_explained_var": 0.830339252948761, "policy_loss": -0.012159210629761219, "total_loss": 32.49412536621094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "load_time_ms": 8.139, "sample_time_ms": 32317.305, "grad_time_ms": 15126.933, "update_time_ms": 7.608, "num_steps_sampled": 12505830}, "time_total_s": 9571.794025421143, "num_metric_batches_dropped": 0, "timestamp": 1558316074, "episode_reward_max": 1062.237085967686, "timesteps_this_iter": 62861, "episode_reward_min": 706.9110911718216, "date": "2019-05-20_01-34-34", "policy_reward_mean": {}, "time_since_restore": 9571.794025421143, "episodes_total": 5790, "iterations_since_restore": 198, "pid": 46909, "episodes_this_iter": 34, "episode_len_mean": 699.65, "done": false, "training_iteration": 198, "custom_metrics": {"cost2_mean": -0.04762888505749289, "outflow_rate_mean": 1085.5958550218672, "system_level_velocity_mean": 13.577006088345223, "cost2_min": -0.7485132161800656, "cost1_min": 275.8634804686559, "cost1_mean": 351.8984111462362, "cost1_max": 486.2331473842954, "outflow_rate_max": 1291.781829540346, "system_level_velocity_max": 19.001876781511456, "outflow_rate_min": 928.8932031422821, "cost2_max": 0.0, "system_level_velocity_min": 10.705124749779554}, "node_ip": "10.138.0.2", "timesteps_total": 12505830}
{"hostname": "flow-main", "episode_reward_mean": 859.4736519248432, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a99e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.6160249710083, "timesteps_since_restore": 12568318, "info": {"num_steps_trained": 12568318, "default": {"entropy": 1.8366551399230957, "kl": 0.015633419156074524, "vf_loss": 31.08776092529297, "vf_explained_var": 0.8444347977638245, "policy_loss": -0.012112080119550228, "total_loss": 31.08092498779297, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.078, "sample_time_ms": 32221.182, "grad_time_ms": 15460.637, "update_time_ms": 7.69, "num_steps_sampled": 12568318}, "time_total_s": 9620.41005039215, "num_metric_batches_dropped": 0, "timestamp": 1558316123, "episode_reward_max": 1062.237085967686, "timesteps_this_iter": 62488, "episode_reward_min": 62.83413540785437, "date": "2019-05-20_01-35-23", "policy_reward_mean": {}, "time_since_restore": 9620.41005039215, "episodes_total": 5821, "iterations_since_restore": 199, "pid": 46909, "episodes_this_iter": 31, "episode_len_mean": 693.05, "done": false, "training_iteration": 199, "custom_metrics": {"cost2_mean": -0.04610732752217536, "outflow_rate_mean": 1083.059303461558, "system_level_velocity_mean": 13.703249368016925, "cost2_min": -1.0, "cost1_min": 26.17849939517192, "cost1_mean": 350.114403910873, "cost1_max": 486.2331473842954, "outflow_rate_max": 1291.781829540346, "system_level_velocity_max": 19.001876781511456, "outflow_rate_min": 523.18810818203, "cost2_max": 0.0, "system_level_velocity_min": 10.746583427246623}, "node_ip": "10.138.0.2", "timesteps_total": 12568318}
{"hostname": "flow-main", "episode_reward_mean": 863.7219011582289, "experiment_id": "4315603e7ed44a6ca1c7e1f5a8543dde", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "entropy_coeff": 0.0, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "lr": 0.0005, "model": {"grayscale": false, "use_lstm": false, "lstm_cell_size": 256, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "conv_filters": null, "channel_major": false, "dim": 84, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "zero_mean": true}, "input": "sampler", "horizon": 1500, "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "lambda": 0.97, "sample_async": false, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "compress_observations": false, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.48341917991638, "timesteps_since_restore": 12628363, "info": {"num_steps_trained": 12628363, "default": {"entropy": 1.8262346982955933, "kl": 0.01612427830696106, "vf_loss": 29.1472110748291, "vf_explained_var": 0.8574188947677612, "policy_loss": -0.013762529008090496, "total_loss": 29.138891220092773, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "load_time_ms": 8.056, "sample_time_ms": 31895.251, "grad_time_ms": 15372.521, "update_time_ms": 7.562, "num_steps_sampled": 12628363}, "time_total_s": 9666.893469572067, "num_metric_batches_dropped": 0, "timestamp": 1558316169, "episode_reward_max": 1062.237085967686, "timesteps_this_iter": 60045, "episode_reward_min": 62.83413540785437, "date": "2019-05-20_01-36-09", "policy_reward_mean": {}, "time_since_restore": 9666.893469572067, "episodes_total": 5848, "iterations_since_restore": 200, "pid": 46909, "episodes_this_iter": 27, "episode_len_mean": 690.89, "done": true, "training_iteration": 200, "custom_metrics": {"cost2_mean": -0.0393215469496731, "outflow_rate_mean": 1081.298329803953, "system_level_velocity_mean": 13.767654438615443, "cost2_min": -1.0, "cost1_min": 26.17849939517192, "cost1_mean": 350.1380820677784, "cost1_max": 486.2331473842954, "outflow_rate_max": 1291.781829540346, "system_level_velocity_max": 19.001876781511456, "outflow_rate_min": 523.18810818203, "cost2_max": 0.0, "system_level_velocity_min": 10.514181916497808}, "node_ip": "10.138.0.2", "timesteps_total": 12628363}
