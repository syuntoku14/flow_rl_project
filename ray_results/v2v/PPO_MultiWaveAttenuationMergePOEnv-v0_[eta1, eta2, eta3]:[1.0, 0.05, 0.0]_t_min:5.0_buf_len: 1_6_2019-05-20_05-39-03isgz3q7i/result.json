{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590940>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 51.44636011123657, "episodes_this_iter": 27, "timestamp": 1558330806, "episode_reward_max": 414.5783256703529, "info": {"default": {"entropy": 1.417802333831787, "total_loss": 0.9844786524772644, "vf_loss": 0.9858205318450928, "policy_loss": -0.002068716799840331, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8956983089447021, "cur_lr": 0.0005000000237487257, "kl": 0.0036347380373626947}, "load_time_ms": 61.774, "num_steps_trained": 68843, "grad_time_ms": 18885.201, "num_steps_sampled": 68843, "sample_time_ms": 31657.533, "update_time_ms": 700.791}, "time_since_restore": 51.44636011123657, "timesteps_total": 68843, "episode_len_mean": 700.0, "episodes_total": 27, "episode_reward_mean": 297.5863467903432, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 51.44636011123657, "iterations_since_restore": 1, "training_iteration": 1, "timesteps_since_restore": 68843, "num_metric_batches_dropped": 0, "timesteps_this_iter": 68843, "custom_metrics": {"system_level_velocity_min": 6.498853626005393, "outflow_rate_max": 709.5196275548989, "system_level_velocity_max": 8.823961151803628, "cost1_mean": 195.1535865099135, "outflow_rate_mean": 594.98302709479, "cost1_min": 168.28379174260868, "cost2_min": -40.2836992914056, "cost1_max": 223.81673413209217, "outflow_rate_min": 528.8752817398149, "cost2_max": -15.197795751849172, "cost2_mean": -28.447912881527465, "system_level_velocity_mean": 7.5215588101111965}, "episode_reward_min": 186.35074206754967, "date": "2019-05-20_05-40-06", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b198>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 96.71439957618713, "episodes_this_iter": 28, "timestamp": 1558330852, "episode_reward_max": 414.5783256703529, "info": {"default": {"entropy": 1.4098505973815918, "total_loss": 0.6802847981452942, "vf_loss": 0.6842754483222961, "policy_loss": -0.005493698175996542, "cur_kl_coeff": 0.10000002384185791, "vf_explained_var": 0.9479429721832275, "cur_lr": 0.0005000000237487257, "kl": 0.015029706992208958}, "load_time_ms": 35.68, "num_steps_trained": 129864, "grad_time_ms": 17405.295, "num_steps_sampled": 129864, "sample_time_ms": 30434.774, "update_time_ms": 353.845}, "time_since_restore": 96.71439957618713, "timesteps_total": 129864, "episode_len_mean": 687.8909090909091, "episodes_total": 55, "episode_reward_mean": 278.24716790742013, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.26803946495056, "iterations_since_restore": 2, "training_iteration": 2, "timesteps_since_restore": 129864, "num_metric_batches_dropped": 0, "timesteps_this_iter": 61021, "custom_metrics": {"system_level_velocity_min": 6.022765997031543, "outflow_rate_max": 709.5196275548989, "system_level_velocity_max": 17.959557237869063, "cost1_mean": 190.59988316561618, "outflow_rate_mean": 586.9641910213088, "cost1_min": 21.580341262307165, "cost2_min": -40.2836992914056, "cost1_max": 223.81673413209217, "outflow_rate_min": 431.7728956695145, "cost2_max": -11.873742037668459, "cost2_mean": -25.700224095738694, "system_level_velocity_mean": 7.714544213576499}, "episode_reward_min": 55.543157460795264, "date": "2019-05-20_05-40-52", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c588>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 136.44564032554626, "episodes_this_iter": 29, "timestamp": 1558330892, "episode_reward_max": 474.6889586010857, "info": {"default": {"entropy": 1.3744953870773315, "total_loss": 1.8805748224258423, "vf_loss": 1.8909944295883179, "policy_loss": -0.012371240183711052, "cur_kl_coeff": 0.10000002384185791, "vf_explained_var": 0.8908302187919617, "cur_lr": 0.0005000000237487257, "kl": 0.019516445696353912}, "load_time_ms": 25.976, "num_steps_trained": 182922, "grad_time_ms": 15977.468, "num_steps_sampled": 182922, "sample_time_ms": 29121.046, "update_time_ms": 238.267}, "time_since_restore": 136.44564032554626, "timesteps_total": 182922, "episode_len_mean": 683.9642857142857, "episodes_total": 84, "episode_reward_mean": 312.05147144261963, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 39.73124074935913, "iterations_since_restore": 3, "training_iteration": 3, "timesteps_since_restore": 182922, "num_metric_batches_dropped": 0, "timesteps_this_iter": 53058, "custom_metrics": {"system_level_velocity_min": 6.022765997031543, "outflow_rate_max": 756.3208009530571, "system_level_velocity_max": 17.959557237869063, "cost1_mean": 199.76028149671419, "outflow_rate_mean": 606.8709774500601, "cost1_min": 12.282703372425749, "cost2_min": -40.2836992914056, "cost1_max": 251.2491638463597, "outflow_rate_min": 431.7728956695145, "cost2_max": -8.600794251733259, "cost2_mean": -25.181054070612475, "system_level_velocity_mean": 8.168288647016738}, "episode_reward_min": 23.71697544911047, "date": "2019-05-20_05-41-32", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5839e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583c50>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 184.35933470726013, "episodes_this_iter": 28, "timestamp": 1558330940, "episode_reward_max": 690.8571538008498, "info": {"default": {"entropy": 1.3499959707260132, "total_loss": 3.7727248668670654, "vf_loss": 3.777796506881714, "policy_loss": -0.0062745665200054646, "cur_kl_coeff": 0.10000002384185791, "vf_explained_var": 0.8358705043792725, "cur_lr": 0.0005000000237487257, "kl": 0.012029851786792278}, "load_time_ms": 21.439, "num_steps_trained": 242941, "grad_time_ms": 16199.282, "num_steps_sampled": 242941, "sample_time_ms": 29571.075, "update_time_ms": 180.74}, "time_since_restore": 184.35933470726013, "timesteps_total": 242941, "episode_len_mean": 686.53, "episodes_total": 112, "episode_reward_mean": 390.09016027235566, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.91369438171387, "iterations_since_restore": 4, "training_iteration": 4, "timesteps_since_restore": 242941, "num_metric_batches_dropped": 0, "timesteps_this_iter": 60019, "custom_metrics": {"system_level_velocity_min": 6.022765997031543, "outflow_rate_max": 917.3624019579133, "system_level_velocity_max": 17.959557237869063, "cost1_mean": 219.58194510178708, "outflow_rate_mean": 655.4492829771995, "cost1_min": 12.282703372425749, "cost2_min": -57.97510649487998, "cost1_max": 302.5492009421165, "outflow_rate_min": 431.7728956695145, "cost2_max": -8.600794251733259, "cost2_mean": -27.77354182673112, "system_level_velocity_mean": 8.841431176267015}, "episode_reward_min": 23.71697544911047, "date": "2019-05-20_05-42-20", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583438>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 236.82420563697815, "episodes_this_iter": 26, "timestamp": 1558330992, "episode_reward_max": 822.6278579981752, "info": {"default": {"entropy": 1.36866295337677, "total_loss": 4.238057613372803, "vf_loss": 4.240267276763916, "policy_loss": -0.003068982157856226, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8785560727119446, "cur_lr": 0.0005000000237487257, "kl": 0.008590292185544968}, "load_time_ms": 19.239, "num_steps_trained": 312132, "grad_time_ms": 16799.888, "num_steps_sampled": 312132, "sample_time_ms": 30281.93, "update_time_ms": 146.372}, "time_since_restore": 236.82420563697815, "timesteps_total": 312132, "episode_len_mean": 686.53, "episodes_total": 138, "episode_reward_mean": 503.24409842131206, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 52.46487092971802, "iterations_since_restore": 5, "training_iteration": 5, "timesteps_since_restore": 312132, "num_metric_batches_dropped": 0, "timesteps_this_iter": 69191, "custom_metrics": {"system_level_velocity_min": 6.022765997031543, "outflow_rate_max": 923.9260573329761, "system_level_velocity_max": 17.959557237869063, "cost1_mean": 239.32063375593393, "outflow_rate_mean": 719.4673320682346, "cost1_min": 12.282703372425749, "cost2_min": -76.36608548024788, "cost1_max": 304.1255793495376, "outflow_rate_min": 431.7728956695145, "cost2_max": -8.600794251733259, "cost2_mean": -35.89927923854066, "system_level_velocity_mean": 9.528255923802051}, "episode_reward_min": 23.71697544911047, "date": "2019-05-20_05-43-12", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b748>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 286.91309332847595, "episodes_this_iter": 26, "timestamp": 1558331042, "episode_reward_max": 881.8999460692477, "info": {"default": {"entropy": 1.3640481233596802, "total_loss": 5.960207939147949, "vf_loss": 5.962928295135498, "policy_loss": -0.003616233356297016, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8712327480316162, "cur_lr": 0.0005000000237487257, "kl": 0.00895933248102665}, "load_time_ms": 17.54, "num_steps_trained": 379205, "grad_time_ms": 16951.462, "num_steps_sampled": 379205, "sample_time_ms": 30610.247, "update_time_ms": 123.565}, "time_since_restore": 286.91309332847595, "timesteps_total": 379205, "episode_len_mean": 700.0, "episodes_total": 164, "episode_reward_mean": 624.2979674357051, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 50.0888876914978, "iterations_since_restore": 6, "training_iteration": 6, "timesteps_since_restore": 379205, "num_metric_batches_dropped": 0, "timesteps_this_iter": 67073, "custom_metrics": {"system_level_velocity_min": 7.50829954660416, "outflow_rate_max": 983.8373425640145, "system_level_velocity_max": 12.49844778769767, "cost1_mean": 263.11067269013455, "outflow_rate_mean": 798.1558401794803, "cost1_min": 198.14683393673297, "cost2_min": -83.45936187174861, "cost1_max": 331.73215106268844, "outflow_rate_min": 575.8341930475195, "cost2_max": -19.71104223962723, "cost2_mean": -45.98953951521746, "system_level_velocity_mean": 10.015070532098518}, "episode_reward_min": 308.4639628020783, "date": "2019-05-20_05-44-02", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b400>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 335.80940437316895, "episodes_this_iter": 26, "timestamp": 1558331091, "episode_reward_max": 882.7654711308436, "info": {"default": {"entropy": 1.3554670810699463, "total_loss": 6.200019359588623, "vf_loss": 6.203536033630371, "policy_loss": -0.0043593416921794415, "cur_kl_coeff": 0.10000002384185791, "vf_explained_var": 0.8747214674949646, "cur_lr": 0.0005000000237487257, "kl": 0.008425548672676086}, "load_time_ms": 16.355, "num_steps_trained": 444976, "grad_time_ms": 16884.741, "num_steps_sampled": 444976, "sample_time_ms": 30849.506, "update_time_ms": 107.047}, "time_since_restore": 335.80940437316895, "timesteps_total": 444976, "episode_len_mean": 700.0, "episodes_total": 190, "episode_reward_mean": 716.4003600297614, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.89631104469299, "iterations_since_restore": 7, "training_iteration": 7, "timesteps_since_restore": 444976, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65771, "custom_metrics": {"system_level_velocity_min": 7.50829954660416, "outflow_rate_max": 998.4685277441805, "system_level_velocity_max": 12.891402390620627, "cost1_mean": 280.4598689469735, "outflow_rate_mean": 870.6195080144832, "cost1_min": 198.14683393673297, "cost2_min": -97.62082861492794, "cost1_max": 341.635387949573, "outflow_rate_min": 658.0318558126553, "cost2_max": -26.996779663594452, "cost2_mean": -54.06773875541604, "system_level_velocity_mean": 10.58695792727263}, "episode_reward_min": 501.2894032393609, "date": "2019-05-20_05-44-51", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583780>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 385.3867311477661, "episodes_this_iter": 26, "timestamp": 1558331141, "episode_reward_max": 918.1785260323655, "info": {"default": {"entropy": 1.3542516231536865, "total_loss": 7.159211158752441, "vf_loss": 7.162149906158447, "policy_loss": -0.0037914086133241653, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8682075142860413, "cur_lr": 0.0005000000237487257, "kl": 0.00852601882070303}, "load_time_ms": 15.338, "num_steps_trained": 510901, "grad_time_ms": 16749.029, "num_steps_sampled": 510901, "sample_time_ms": 31199.733, "update_time_ms": 94.614}, "time_since_restore": 385.3867311477661, "timesteps_total": 510901, "episode_len_mean": 700.0, "episodes_total": 216, "episode_reward_mean": 771.8675885541516, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.57732677459717, "iterations_since_restore": 8, "training_iteration": 8, "timesteps_since_restore": 510901, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65925, "custom_metrics": {"system_level_velocity_min": 7.698686349920263, "outflow_rate_max": 1042.6230416794044, "system_level_velocity_max": 12.891402390620627, "cost1_mean": 290.80473418941705, "outflow_rate_mean": 919.8805278204295, "cost1_min": 204.8070538361779, "cost2_min": -99.37975338356864, "cost1_max": 341.7585019927255, "outflow_rate_min": 697.477346960406, "cost2_max": -34.38280572365969, "cost2_mean": -59.52613583896246, "system_level_velocity_mean": 10.911185112251244}, "episode_reward_min": 592.6509577779659, "date": "2019-05-20_05-45-41", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583748>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 436.39746832847595, "episodes_this_iter": 28, "timestamp": 1558331192, "episode_reward_max": 965.5140516574852, "info": {"default": {"entropy": 1.3432841300964355, "total_loss": 8.381534576416016, "vf_loss": 8.384577751159668, "policy_loss": -0.003891152795404196, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8639364838600159, "cur_lr": 0.0005000000237487257, "kl": 0.0084633594378829}, "load_time_ms": 14.578, "num_steps_trained": 577639, "grad_time_ms": 16668.356, "num_steps_sampled": 577639, "sample_time_ms": 31604.929, "update_time_ms": 84.896}, "time_since_restore": 436.39746832847595, "timesteps_total": 577639, "episode_len_mean": 700.0, "episodes_total": 244, "episode_reward_mean": 796.9957501878156, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 51.01073718070984, "iterations_since_restore": 9, "training_iteration": 9, "timesteps_since_restore": 577639, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66738, "custom_metrics": {"system_level_velocity_min": 7.698686349920263, "outflow_rate_max": 1087.6142873053998, "system_level_velocity_max": 13.611633257052503, "cost1_mean": 301.0827503946504, "outflow_rate_mean": 957.9846742157408, "cost1_min": 204.8070538361779, "cost2_min": -99.37975338356864, "cost1_max": 364.4980256345347, "outflow_rate_min": 810.4156291414043, "cost2_max": -34.38280572365969, "cost2_mean": -61.54726826033188, "system_level_velocity_mean": 11.279163431466161}, "episode_reward_min": 643.9914513045755, "date": "2019-05-20_05-46-32", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e048>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 492.6311752796173, "episodes_this_iter": 33, "timestamp": 1558331248, "episode_reward_max": 1017.0684435545883, "info": {"default": {"entropy": 1.331748127937317, "total_loss": 10.374748229980469, "vf_loss": 10.378787994384766, "policy_loss": -0.004982410930097103, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.854122519493103, "cur_lr": 0.0005000000237487257, "kl": 0.009418534114956856}, "load_time_ms": 14.052, "num_steps_trained": 645514, "grad_time_ms": 16880.028, "num_steps_sampled": 645514, "sample_time_ms": 32174.395, "update_time_ms": 77.416}, "time_since_restore": 492.6311752796173, "timesteps_total": 645514, "episode_len_mean": 700.0, "episodes_total": 277, "episode_reward_mean": 823.5495260944635, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 56.23370695114136, "iterations_since_restore": 10, "training_iteration": 10, "timesteps_since_restore": 645514, "num_metric_batches_dropped": 0, "timesteps_this_iter": 67875, "custom_metrics": {"system_level_velocity_min": 7.325170425935581, "outflow_rate_max": 1110.7087119341174, "system_level_velocity_max": 13.611633257052503, "cost1_mean": 310.877987404545, "outflow_rate_mean": 991.2911659177668, "cost1_min": 189.84884586513954, "cost2_min": -99.37975338356864, "cost1_max": 364.4980256345347, "outflow_rate_min": 790.4830630146308, "cost2_max": -41.74531339608203, "cost2_mean": -64.37489051346816, "system_level_velocity_mean": 11.63859719583358}, "episode_reward_min": 643.2824625400793, "date": "2019-05-20_05-47-28", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5904a8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 544.3159244060516, "episodes_this_iter": 33, "timestamp": 1558331300, "episode_reward_max": 1064.7114927897226, "info": {"default": {"entropy": 1.3276870250701904, "total_loss": 12.34281063079834, "vf_loss": 12.346983909606934, "policy_loss": -0.005091771017760038, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8342363238334656, "cur_lr": 0.0005000000237487257, "kl": 0.009182323701679707}, "load_time_ms": 8.837, "num_steps_trained": 711776, "grad_time_ms": 16822.953, "num_steps_sampled": 711776, "sample_time_ms": 32331.876, "update_time_ms": 8.309}, "time_since_restore": 544.3159244060516, "timesteps_total": 711776, "episode_len_mean": 700.0, "episodes_total": 310, "episode_reward_mean": 834.5638972325486, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 51.684749126434326, "iterations_since_restore": 11, "training_iteration": 11, "timesteps_since_restore": 711776, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66262, "custom_metrics": {"system_level_velocity_min": 7.325170425935581, "outflow_rate_max": 1110.7087119341174, "system_level_velocity_max": 13.782391918166082, "cost1_mean": 311.40501164090983, "outflow_rate_mean": 1006.2562605700646, "cost1_min": 189.84884586513954, "cost2_min": -101.14087368444771, "cost1_max": 369.6542423292456, "outflow_rate_min": 790.4830630146308, "cost2_max": -45.747571954169494, "cost2_mean": -70.1912061019416, "system_level_velocity_mean": 11.66812518384699}, "episode_reward_min": 643.2824625400793, "date": "2019-05-20_05-48-20", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e9b0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 611.3029935359955, "episodes_this_iter": 29, "timestamp": 1558331367, "episode_reward_max": 1064.7114927897226, "info": {"default": {"entropy": 1.3251787424087524, "total_loss": 11.059671401977539, "vf_loss": 11.06473159790039, "policy_loss": -0.006085660308599472, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8493494391441345, "cur_lr": 0.0005000000237487257, "kl": 0.0102447010576725}, "load_time_ms": 9.129, "num_steps_trained": 777071, "grad_time_ms": 17660.169, "num_steps_sampled": 777071, "sample_time_ms": 33653.149, "update_time_ms": 8.432}, "time_since_restore": 611.3029935359955, "timesteps_total": 777071, "episode_len_mean": 700.0, "episodes_total": 339, "episode_reward_mean": 840.3470718083989, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 66.98706912994385, "iterations_since_restore": 12, "training_iteration": 12, "timesteps_since_restore": 777071, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65295, "custom_metrics": {"system_level_velocity_min": 7.325170425935581, "outflow_rate_max": 1121.9221472195804, "system_level_velocity_max": 13.914546111736412, "cost1_mean": 315.4219742631553, "outflow_rate_mean": 1022.277268751422, "cost1_min": 189.84884586513954, "cost2_min": -114.9083685864174, "cost1_max": 371.1250940077402, "outflow_rate_min": 790.4830630146308, "cost2_max": -43.50190230640962, "cost2_mean": -74.0807652558373, "system_level_velocity_mean": 11.821664126131191}, "episode_reward_min": 643.2824625400793, "date": "2019-05-20_05-49-27", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d0f60>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 665.7528133392334, "episodes_this_iter": 27, "timestamp": 1558331421, "episode_reward_max": 1064.7114927897226, "info": {"default": {"entropy": 1.3139499425888062, "total_loss": 11.17517375946045, "vf_loss": 11.18045711517334, "policy_loss": -0.006641326937824488, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.858561098575592, "cur_lr": 0.0005000000237487257, "kl": 0.013578611426055431}, "load_time_ms": 9.515, "num_steps_trained": 843210, "grad_time_ms": 18152.188, "num_steps_sampled": 843210, "sample_time_ms": 34630.489, "update_time_ms": 10.219}, "time_since_restore": 665.7528133392334, "timesteps_total": 843210, "episode_len_mean": 700.0, "episodes_total": 366, "episode_reward_mean": 843.5690699036923, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 54.449819803237915, "iterations_since_restore": 13, "training_iteration": 13, "timesteps_since_restore": 843210, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66139, "custom_metrics": {"system_level_velocity_min": 8.388091762357432, "outflow_rate_max": 1121.9221472195804, "system_level_velocity_max": 13.983695928032924, "cost1_mean": 318.83601438762946, "outflow_rate_mean": 1031.7228332294292, "cost1_min": 222.14598205314002, "cost2_min": -116.50862465675286, "cost1_max": 374.7619974151533, "outflow_rate_min": 868.6821306322345, "cost2_max": -43.50190230640962, "cost2_mean": -74.63682971466177, "system_level_velocity_mean": 11.952815561821849}, "episode_reward_min": 705.8430291274184, "date": "2019-05-20_05-50-21", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e0b8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 716.2636363506317, "episodes_this_iter": 28, "timestamp": 1558331472, "episode_reward_max": 1044.2829260616911, "info": {"default": {"entropy": 1.3029377460479736, "total_loss": 12.39050006866455, "vf_loss": 12.39530086517334, "policy_loss": -0.006082796957343817, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.841998279094696, "cur_lr": 0.0005000000237487257, "kl": 0.012825214304029942}, "load_time_ms": 9.713, "num_steps_trained": 908364, "grad_time_ms": 18091.262, "num_steps_sampled": 908364, "sample_time_ms": 34950.191, "update_time_ms": 10.103}, "time_since_restore": 716.2636363506317, "timesteps_total": 908364, "episode_len_mean": 693.29, "episodes_total": 394, "episode_reward_mean": 832.7547621155661, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 50.510823011398315, "iterations_since_restore": 14, "training_iteration": 14, "timesteps_since_restore": 908364, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65154, "custom_metrics": {"system_level_velocity_min": 8.388091762357432, "outflow_rate_max": 1121.9221472195804, "system_level_velocity_max": 17.89992797742731, "cost1_mean": 320.4661712373414, "outflow_rate_mean": 1034.8636366914245, "cost1_min": 19.229267953939797, "cost2_min": -116.50862465675286, "cost1_max": 381.05300803195644, "outflow_rate_min": 487.90790141812573, "cost2_max": -12.239571159666335, "cost2_mean": -74.04974310069866, "system_level_velocity_mean": 12.18661789880685}, "episode_reward_min": 41.428196159364816, "date": "2019-05-20_05-51-12", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e3c8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 764.319384098053, "episodes_this_iter": 26, "timestamp": 1558331520, "episode_reward_max": 1044.2829260616911, "info": {"default": {"entropy": 1.3106571435928345, "total_loss": 11.827646255493164, "vf_loss": 11.832226753234863, "policy_loss": -0.005731360055506229, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8551541566848755, "cur_lr": 0.0005000000237487257, "kl": 0.011509121395647526}, "load_time_ms": 9.495, "num_steps_trained": 974357, "grad_time_ms": 17624.457, "num_steps_sampled": 974357, "sample_time_ms": 34976.48, "update_time_ms": 10.018}, "time_since_restore": 764.319384098053, "timesteps_total": 974357, "episode_len_mean": 693.29, "episodes_total": 420, "episode_reward_mean": 833.6253103177087, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.055747747421265, "iterations_since_restore": 15, "training_iteration": 15, "timesteps_since_restore": 974357, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65993, "custom_metrics": {"system_level_velocity_min": 9.39200530951073, "outflow_rate_max": 1139.5833694552528, "system_level_velocity_max": 17.89992797742731, "cost1_mean": 322.2508858325444, "outflow_rate_mean": 1039.896825368106, "cost1_min": 19.229267953939797, "cost2_min": -116.50862465675286, "cost1_max": 384.34732111798144, "outflow_rate_min": 487.90790141812573, "cost2_max": -12.239571159666335, "cost2_mean": -74.7096707766918, "system_level_velocity_mean": 12.258410853617145}, "episode_reward_min": 41.428196159364816, "date": "2019-05-20_05-52-00", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5904e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590390>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 813.0199129581451, "episodes_this_iter": 26, "timestamp": 1558331569, "episode_reward_max": 1047.4677310527652, "info": {"default": {"entropy": 1.3152458667755127, "total_loss": 12.521860122680664, "vf_loss": 12.526638984680176, "policy_loss": -0.006029497366398573, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8582738637924194, "cur_lr": 0.0005000000237487257, "kl": 0.012503229081630707}, "load_time_ms": 9.464, "num_steps_trained": 1039733, "grad_time_ms": 17574.518, "num_steps_sampled": 1039733, "sample_time_ms": 34885.201, "update_time_ms": 9.805}, "time_since_restore": 813.0199129581451, "timesteps_total": 1039733, "episode_len_mean": 693.29, "episodes_total": 446, "episode_reward_mean": 838.9263241030766, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.70052886009216, "iterations_since_restore": 16, "training_iteration": 16, "timesteps_since_restore": 1039733, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65376, "custom_metrics": {"system_level_velocity_min": 9.39200530951073, "outflow_rate_max": 1150.9460185492737, "system_level_velocity_max": 17.89992797742731, "cost1_mean": 325.05514795157507, "outflow_rate_mean": 1045.0120347928828, "cost1_min": 19.229267953939797, "cost2_min": -116.50862465675286, "cost1_max": 385.7281312009119, "outflow_rate_min": 487.90790141812573, "cost2_max": -12.239571159666335, "cost2_mean": -73.34386492092177, "system_level_velocity_mean": 12.372896500756553}, "episode_reward_min": 41.428196159364816, "date": "2019-05-20_05-52-49", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5836a0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 861.1109302043915, "episodes_this_iter": 26, "timestamp": 1558331617, "episode_reward_max": 1047.4677310527652, "info": {"default": {"entropy": 1.3120595216751099, "total_loss": 13.487788200378418, "vf_loss": 13.493940353393555, "policy_loss": -0.00750866299495101, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8516620993614197, "cur_lr": 0.0005000000237487257, "kl": 0.013570308685302734}, "load_time_ms": 9.7, "num_steps_trained": 1104157, "grad_time_ms": 17652.331, "num_steps_sampled": 1104157, "sample_time_ms": 34722.999, "update_time_ms": 9.999}, "time_since_restore": 861.1109302043915, "timesteps_total": 1104157, "episode_len_mean": 700.0, "episodes_total": 472, "episode_reward_mean": 848.9647462388198, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.09101724624634, "iterations_since_restore": 17, "training_iteration": 17, "timesteps_since_restore": 1104157, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64424, "custom_metrics": {"system_level_velocity_min": 9.637750972701431, "outflow_rate_max": 1152.8305948685668, "system_level_velocity_max": 14.864369572528755, "cost1_mean": 329.0507552448832, "outflow_rate_mean": 1052.485568860979, "cost1_min": 251.85192465006213, "cost2_min": -113.05708153460861, "cost1_max": 394.8977513747616, "outflow_rate_min": 922.4846879003865, "cost2_max": -46.058369849223524, "cost2_mean": -74.4304573077531, "system_level_velocity_mean": 12.366460133318759}, "episode_reward_min": 675.3946467644672, "date": "2019-05-20_05-53-37", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5c4668>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 910.3351275920868, "episodes_this_iter": 26, "timestamp": 1558331666, "episode_reward_max": 1047.4677310527652, "info": {"default": {"entropy": 1.3150391578674316, "total_loss": 13.943718910217285, "vf_loss": 13.949183464050293, "policy_loss": -0.006706382613629103, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8564717769622803, "cur_lr": 0.0005000000237487257, "kl": 0.012418446131050587}, "load_time_ms": 9.789, "num_steps_trained": 1167421, "grad_time_ms": 17694.168, "num_steps_sampled": 1167421, "sample_time_ms": 34645.246, "update_time_ms": 9.955}, "time_since_restore": 910.3351275920868, "timesteps_total": 1167421, "episode_len_mean": 700.0, "episodes_total": 498, "episode_reward_mean": 854.2139855451235, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.22419738769531, "iterations_since_restore": 18, "training_iteration": 18, "timesteps_since_restore": 1167421, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63264, "custom_metrics": {"system_level_velocity_min": 9.963931551255333, "outflow_rate_max": 1170.945496741342, "system_level_velocity_max": 14.879014758868475, "cost1_mean": 333.82637507522116, "outflow_rate_mean": 1061.9884720124128, "cost1_min": 262.55944485683904, "cost2_min": -113.05708153460861, "cost1_max": 394.8977513747616, "outflow_rate_min": 923.7249425597831, "cost2_max": -46.058369849223524, "cost2_mean": -73.48044303252948, "system_level_velocity_mean": 12.545669764178742}, "episode_reward_min": 657.8235520128014, "date": "2019-05-20_05-54-26", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d0048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d0668>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 962.1627178192139, "episodes_this_iter": 28, "timestamp": 1558331718, "episode_reward_max": 1047.4677310527652, "info": {"default": {"entropy": 1.3090181350708008, "total_loss": 15.343472480773926, "vf_loss": 15.3494873046875, "policy_loss": -0.007444719318300486, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8468112349510193, "cur_lr": 0.0005000000237487257, "kl": 0.014292975887656212}, "load_time_ms": 9.843, "num_steps_trained": 1233311, "grad_time_ms": 17766.962, "num_steps_sampled": 1233311, "sample_time_ms": 34656.008, "update_time_ms": 9.97}, "time_since_restore": 962.1627178192139, "timesteps_total": 1233311, "episode_len_mean": 693.35, "episodes_total": 526, "episode_reward_mean": 851.2699607415967, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 51.827590227127075, "iterations_since_restore": 19, "training_iteration": 19, "timesteps_since_restore": 1233311, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65890, "custom_metrics": {"system_level_velocity_min": 8.997397742319912, "outflow_rate_max": 1180.023063563187, "system_level_velocity_max": 17.717963332825523, "cost1_mean": 334.8184876285823, "outflow_rate_mean": 1065.6731664109802, "cost1_min": 22.861817650907312, "cost2_min": -113.05708153460861, "cost1_max": 394.8977513747616, "outflow_rate_min": 504.11147877019454, "cost2_max": -12.644012994307392, "cost2_mean": -71.89603871359222, "system_level_velocity_mean": 12.755565853873598}, "episode_reward_min": 56.19557891322588, "date": "2019-05-20_05-55-18", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eef0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1014.508142709732, "episodes_this_iter": 31, "timestamp": 1558331771, "episode_reward_max": 1024.1264765912292, "info": {"default": {"entropy": 1.2937101125717163, "total_loss": 16.51484489440918, "vf_loss": 16.51991844177246, "policy_loss": -0.006518861278891563, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8420650959014893, "cur_lr": 0.0005000000237487257, "kl": 0.01446747686713934}, "load_time_ms": 9.819, "num_steps_trained": 1298677, "grad_time_ms": 17667.982, "num_steps_sampled": 1298677, "sample_time_ms": 34368.141, "update_time_ms": 9.73}, "time_since_restore": 1014.508142709732, "timesteps_total": 1298677, "episode_len_mean": 693.35, "episodes_total": 557, "episode_reward_mean": 847.1460073547148, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 52.34542489051819, "iterations_since_restore": 20, "training_iteration": 20, "timesteps_since_restore": 1298677, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65366, "custom_metrics": {"system_level_velocity_min": 8.907104866458587, "outflow_rate_max": 1180.023063563187, "system_level_velocity_max": 17.717963332825523, "cost1_mean": 332.3974549516846, "outflow_rate_mean": 1062.2819012313003, "cost1_min": 22.861817650907312, "cost2_min": -113.96236441911502, "cost1_max": 397.4028648814555, "outflow_rate_min": 504.11147877019454, "cost2_max": -12.644012994307392, "cost2_mean": -74.23680428077671, "system_level_velocity_mean": 12.670129647611954}, "episode_reward_min": 56.19557891322588, "date": "2019-05-20_05-56-11", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a64a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6080>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1064.7227745056152, "episodes_this_iter": 31, "timestamp": 1558331821, "episode_reward_max": 1031.0363429013528, "info": {"default": {"entropy": 1.28627347946167, "total_loss": 17.03219223022461, "vf_loss": 17.03917121887207, "policy_loss": -0.008683809079229832, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8600801825523376, "cur_lr": 0.0005000000237487257, "kl": 0.017025601118803024}, "load_time_ms": 9.894, "num_steps_trained": 1362763, "grad_time_ms": 17395.487, "num_steps_sampled": 1362763, "sample_time_ms": 34494.66, "update_time_ms": 9.513}, "time_since_restore": 1064.7227745056152, "timesteps_total": 1362763, "episode_len_mean": 686.59, "episodes_total": 588, "episode_reward_mean": 844.4953449336801, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 50.21463179588318, "iterations_since_restore": 21, "training_iteration": 21, "timesteps_since_restore": 1362763, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64086, "custom_metrics": {"system_level_velocity_min": 8.907104866458587, "outflow_rate_max": 1180.023063563187, "system_level_velocity_max": 17.717963332825523, "cost1_mean": 332.0231573149274, "outflow_rate_mean": 1062.5869417597212, "cost1_min": 15.81493963408824, "cost2_min": -115.55157287016654, "cost1_max": 397.4028648814555, "outflow_rate_min": 477.8911634321994, "cost2_max": -11.033903530492351, "cost2_mean": -75.38079128576464, "system_level_velocity_mean": 12.821775951103739}, "episode_reward_min": 30.5683610468857, "date": "2019-05-20_05-57-01", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0ee10>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1113.0705351829529, "episodes_this_iter": 32, "timestamp": 1558331869, "episode_reward_max": 1031.0363429013528, "info": {"default": {"entropy": 1.2770308256149292, "total_loss": 17.013952255249023, "vf_loss": 17.019563674926758, "policy_loss": -0.007144379895180464, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8640969395637512, "cur_lr": 0.0005000000237487257, "kl": 0.015359890647232533}, "load_time_ms": 9.387, "num_steps_trained": 1426098, "grad_time_ms": 16509.912, "num_steps_sampled": 1426098, "sample_time_ms": 33530.873, "update_time_ms": 9.342}, "time_since_restore": 1113.0705351829529, "timesteps_total": 1426098, "episode_len_mean": 693.24, "episodes_total": 620, "episode_reward_mean": 855.3089685737166, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.34776067733765, "iterations_since_restore": 22, "training_iteration": 22, "timesteps_since_restore": 1426098, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63335, "custom_metrics": {"system_level_velocity_min": 8.907104866458587, "outflow_rate_max": 1177.9515068743017, "system_level_velocity_max": 17.52602877862721, "cost1_mean": 335.0411251395848, "outflow_rate_mean": 1069.5946190785278, "cost1_min": 15.81493963408824, "cost2_min": -115.55157287016654, "cost1_max": 397.4028648814555, "outflow_rate_min": 477.8911634321994, "cost2_max": -11.033903530492351, "cost2_mean": -77.1835885727546, "system_level_velocity_mean": 12.766912061845458}, "episode_reward_min": 30.5683610468857, "date": "2019-05-20_05-57-49", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5580b8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1159.08256483078, "episodes_this_iter": 29, "timestamp": 1558331915, "episode_reward_max": 1031.0363429013528, "info": {"default": {"entropy": 1.2927124500274658, "total_loss": 15.974197387695312, "vf_loss": 15.980608940124512, "policy_loss": -0.008113282732665539, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8790112733840942, "cur_lr": 0.0005000000237487257, "kl": 0.017018970102071762}, "load_time_ms": 9.124, "num_steps_trained": 1489019, "grad_time_ms": 16256.033, "num_steps_sampled": 1489019, "sample_time_ms": 32942.979, "update_time_ms": 7.566}, "time_since_restore": 1159.08256483078, "timesteps_total": 1489019, "episode_len_mean": 686.66, "episodes_total": 649, "episode_reward_mean": 851.4237533020236, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.01202964782715, "iterations_since_restore": 23, "training_iteration": 23, "timesteps_since_restore": 1489019, "num_metric_batches_dropped": 0, "timesteps_this_iter": 62921, "custom_metrics": {"system_level_velocity_min": 9.514998256765887, "outflow_rate_max": 1177.9515068743017, "system_level_velocity_max": 18.65606560850025, "cost1_mean": 337.15004204204945, "outflow_rate_mean": 1073.7654717615512, "cost1_min": 15.81493963408824, "cost2_min": -115.55157287016654, "cost1_max": 397.4028648814555, "outflow_rate_min": 477.8911634321994, "cost2_max": -11.033903530492351, "cost2_mean": -74.68171589504718, "system_level_velocity_mean": 13.015849804459695}, "episode_reward_min": 30.5683610468857, "date": "2019-05-20_05-58-35", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5c4240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0ee10>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1203.9450013637543, "episodes_this_iter": 29, "timestamp": 1558331960, "episode_reward_max": 1040.3740116634733, "info": {"default": {"entropy": 1.2871789932250977, "total_loss": 17.84402084350586, "vf_loss": 17.850788116455078, "policy_loss": -0.008448095060884953, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.854736328125, "cur_lr": 0.0005000000237487257, "kl": 0.01679614558815956}, "load_time_ms": 8.982, "num_steps_trained": 1553081, "grad_time_ms": 16197.706, "num_steps_sampled": 1553081, "sample_time_ms": 32438.184, "update_time_ms": 7.564}, "time_since_restore": 1203.9450013637543, "timesteps_total": 1553081, "episode_len_mean": 686.67, "episodes_total": 678, "episode_reward_mean": 857.7490739973867, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 44.86243653297424, "iterations_since_restore": 24, "training_iteration": 24, "timesteps_since_restore": 1553081, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64062, "custom_metrics": {"system_level_velocity_min": 9.745408627446798, "outflow_rate_max": 1175.5952130567664, "system_level_velocity_max": 18.65606560850025, "cost1_mean": 340.14012931951686, "outflow_rate_mean": 1078.6052117312738, "cost1_min": 16.188787388326865, "cost2_min": -108.14199162388542, "cost1_max": 395.77498991348614, "outflow_rate_min": 478.9342030958992, "cost2_max": -11.254318713172545, "cost2_mean": -71.90013091228357, "system_level_velocity_mean": 13.121228779529831}, "episode_reward_min": 37.8828484574505, "date": "2019-05-20_05-59-20", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5605f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b160>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1249.2152016162872, "episodes_this_iter": 28, "timestamp": 1558332005, "episode_reward_max": 1040.3740116634733, "info": {"default": {"entropy": 1.2963756322860718, "total_loss": 19.110492706298828, "vf_loss": 19.117162704467773, "policy_loss": -0.008515906520187855, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8434832096099854, "cur_lr": 0.0005000000237487257, "kl": 0.018450956791639328}, "load_time_ms": 9.084, "num_steps_trained": 1617955, "grad_time_ms": 16366.947, "num_steps_sampled": 1617955, "sample_time_ms": 31991.8, "update_time_ms": 7.518}, "time_since_restore": 1249.2152016162872, "timesteps_total": 1617955, "episode_len_mean": 686.67, "episodes_total": 706, "episode_reward_mean": 859.3453259133323, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.27020025253296, "iterations_since_restore": 25, "training_iteration": 25, "timesteps_since_restore": 1617955, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64874, "custom_metrics": {"system_level_velocity_min": 9.936896079730943, "outflow_rate_max": 1180.5431085352102, "system_level_velocity_max": 18.65606560850025, "cost1_mean": 339.2998007771263, "outflow_rate_mean": 1074.711171838056, "cost1_min": 16.188787388326865, "cost2_min": -107.42495902531103, "cost1_max": 401.0817221404165, "outflow_rate_min": 478.9342030958992, "cost2_max": -11.254318713172545, "cost2_mean": -70.56713949781782, "system_level_velocity_mean": 13.104344494672354}, "episode_reward_min": 37.8828484574505, "date": "2019-05-20_06-00-05", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ae48>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1293.2721691131592, "episodes_this_iter": 27, "timestamp": 1558332050, "episode_reward_max": 1046.4767702168824, "info": {"default": {"entropy": 1.2902824878692627, "total_loss": 18.297561645507812, "vf_loss": 18.30359649658203, "policy_loss": -0.007594955153763294, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.860646665096283, "cur_lr": 0.0005000000237487257, "kl": 0.01558880414813757}, "load_time_ms": 9.154, "num_steps_trained": 1682560, "grad_time_ms": 16237.61, "num_steps_sampled": 1682560, "sample_time_ms": 31659.984, "update_time_ms": 7.424}, "time_since_restore": 1293.2721691131592, "timesteps_total": 1682560, "episode_len_mean": 686.67, "episodes_total": 733, "episode_reward_mean": 862.0615574495584, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 44.05696749687195, "iterations_since_restore": 26, "training_iteration": 26, "timesteps_since_restore": 1682560, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64605, "custom_metrics": {"system_level_velocity_min": 9.936896079730943, "outflow_rate_max": 1180.5431085352102, "system_level_velocity_max": 18.65606560850025, "cost1_mean": 338.8963626969213, "outflow_rate_mean": 1073.3252828537045, "cost1_min": 16.188787388326865, "cost2_min": -107.89164443578103, "cost1_max": 401.0817221404165, "outflow_rate_min": 478.9342030958992, "cost2_max": -11.254318713172545, "cost2_mean": -70.36204862060745, "system_level_velocity_mean": 13.101475049656083}, "episode_reward_min": 37.8828484574505, "date": "2019-05-20_06-00-50", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57aa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a208>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1338.3665761947632, "episodes_this_iter": 27, "timestamp": 1558332095, "episode_reward_max": 1057.8983245061868, "info": {"default": {"entropy": 1.276119589805603, "total_loss": 20.87129020690918, "vf_loss": 20.876659393310547, "policy_loss": -0.007141879294067621, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.84282386302948, "cur_lr": 0.0005000000237487257, "kl": 0.017720390111207962}, "load_time_ms": 8.955, "num_steps_trained": 1746089, "grad_time_ms": 16142.841, "num_steps_sampled": 1746089, "sample_time_ms": 31458.721, "update_time_ms": 7.129}, "time_since_restore": 1338.3665761947632, "timesteps_total": 1746089, "episode_len_mean": 693.25, "episodes_total": 760, "episode_reward_mean": 878.6774885045614, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.094407081604004, "iterations_since_restore": 27, "training_iteration": 27, "timesteps_since_restore": 1746089, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63529, "custom_metrics": {"system_level_velocity_min": 9.936896079730943, "outflow_rate_max": 1198.532802810685, "system_level_velocity_max": 16.943238812612325, "cost1_mean": 345.27156210367116, "outflow_rate_mean": 1084.5828438955991, "cost1_min": 16.188787388326865, "cost2_min": -107.89164443578103, "cost1_max": 408.04732022215563, "outflow_rate_min": 478.9342030958992, "cost2_max": -11.254318713172545, "cost2_mean": -70.30989385629259, "system_level_velocity_mean": 13.183815965778592}, "episode_reward_min": 37.8828484574505, "date": "2019-05-20_06-01-35", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583828>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1383.3935396671295, "episodes_this_iter": 26, "timestamp": 1558332140, "episode_reward_max": 1057.8983245061868, "info": {"default": {"entropy": 1.2900140285491943, "total_loss": 18.830846786499023, "vf_loss": 18.838518142700195, "policy_loss": -0.009467463940382004, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8504417538642883, "cur_lr": 0.0005000000237487257, "kl": 0.01797018013894558}, "load_time_ms": 8.988, "num_steps_trained": 1809549, "grad_time_ms": 16163.184, "num_steps_sampled": 1809549, "sample_time_ms": 31019.995, "update_time_ms": 7.204}, "time_since_restore": 1383.3935396671295, "timesteps_total": 1809549, "episode_len_mean": 700.0, "episodes_total": 786, "episode_reward_mean": 890.3609069099531, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.02696347236633, "iterations_since_restore": 28, "training_iteration": 28, "timesteps_since_restore": 1809549, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63460, "custom_metrics": {"system_level_velocity_min": 9.936896079730943, "outflow_rate_max": 1198.532802810685, "system_level_velocity_max": 15.449236520069174, "cost1_mean": 351.2204711109269, "outflow_rate_mean": 1096.063583474617, "cost1_min": 263.08264010079347, "cost2_min": -107.89164443578103, "cost1_max": 408.04732022215563, "outflow_rate_min": 962.7332600266737, "cost2_max": -40.538530066384624, "cost2_mean": -70.38027868520548, "system_level_velocity_mean": 13.239352839328662}, "episode_reward_min": 747.7618822820127, "date": "2019-05-20_06-02-20", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ea20>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1430.2420687675476, "episodes_this_iter": 26, "timestamp": 1558332187, "episode_reward_max": 1057.8983245061868, "info": {"default": {"entropy": 1.2696186304092407, "total_loss": 18.89160919189453, "vf_loss": 18.897878646850586, "policy_loss": -0.008176885545253754, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8515793085098267, "cur_lr": 0.0005000000237487257, "kl": 0.0190529003739357}, "load_time_ms": 9.004, "num_steps_trained": 1873268, "grad_time_ms": 16135.017, "num_steps_sampled": 1873268, "sample_time_ms": 30550.02, "update_time_ms": 7.203}, "time_since_restore": 1430.2420687675476, "timesteps_total": 1873268, "episode_len_mean": 700.0, "episodes_total": 812, "episode_reward_mean": 886.7471593933783, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.84852910041809, "iterations_since_restore": 29, "training_iteration": 29, "timesteps_since_restore": 1873268, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63719, "custom_metrics": {"system_level_velocity_min": 9.698074992334748, "outflow_rate_max": 1212.4730718602045, "system_level_velocity_max": 16.030766949382727, "cost1_mean": 350.4051473349784, "outflow_rate_mean": 1095.1027162140572, "cost1_min": 258.35776443406223, "cost2_min": -112.05776411214197, "cost1_max": 426.0022370704871, "outflow_rate_min": 939.1503981290306, "cost2_max": -40.538530066384624, "cost2_mean": -71.16170179736159, "system_level_velocity_mean": 13.206171233193984}, "episode_reward_min": 747.7618822820127, "date": "2019-05-20_06-03-07", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5bba20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5c4fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590cc0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1477.2746276855469, "episodes_this_iter": 30, "timestamp": 1558332234, "episode_reward_max": 1057.8983245061868, "info": {"default": {"entropy": 1.2750275135040283, "total_loss": 21.00119972229004, "vf_loss": 21.007184982299805, "policy_loss": -0.007940009236335754, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8332849144935608, "cur_lr": 0.0005000000237487257, "kl": 0.019540434703230858}, "load_time_ms": 9.005, "num_steps_trained": 1937777, "grad_time_ms": 16047.01, "num_steps_sampled": 1937777, "sample_time_ms": 30107.792, "update_time_ms": 7.175}, "time_since_restore": 1477.2746276855469, "timesteps_total": 1937777, "episode_len_mean": 693.19, "episodes_total": 842, "episode_reward_mean": 874.9801642128164, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.03255891799927, "iterations_since_restore": 30, "training_iteration": 30, "timesteps_since_restore": 1937777, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64509, "custom_metrics": {"system_level_velocity_min": 9.698074992334748, "outflow_rate_max": 1212.4730718602045, "system_level_velocity_max": 17.04136449213392, "cost1_mean": 346.1436459232825, "outflow_rate_mean": 1086.791354239825, "cost1_min": 12.437014923421172, "cost2_min": -112.05776411214197, "cost1_max": 426.0022370704871, "outflow_rate_min": 467.63246017283916, "cost2_max": -10.499256041562022, "cost2_mean": -71.10147712809912, "system_level_velocity_mean": 13.210701482582419}, "episode_reward_min": 32.53430236517377, "date": "2019-05-20_06-03-54", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ecc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ad30>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1523.2320652008057, "episodes_this_iter": 32, "timestamp": 1558332280, "episode_reward_max": 1035.02610654725, "info": {"default": {"entropy": 1.2483961582183838, "total_loss": 21.465456008911133, "vf_loss": 21.471288681030273, "policy_loss": -0.007643287070095539, "cur_kl_coeff": 0.10000000894069672, "vf_explained_var": 0.8487020134925842, "cur_lr": 0.0005000000237487257, "kl": 0.01808783784508705}, "load_time_ms": 8.785, "num_steps_trained": 2000826, "grad_time_ms": 16185.242, "num_steps_sampled": 2000826, "sample_time_ms": 29543.955, "update_time_ms": 7.229}, "time_since_restore": 1523.2320652008057, "timesteps_total": 2000826, "episode_len_mean": 693.19, "episodes_total": 874, "episode_reward_mean": 863.5660721997004, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.95743751525879, "iterations_since_restore": 31, "training_iteration": 31, "timesteps_since_restore": 2000826, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63049, "custom_metrics": {"system_level_velocity_min": 9.698074992334748, "outflow_rate_max": 1212.4730718602045, "system_level_velocity_max": 17.04136449213392, "cost1_mean": 342.2281974765443, "outflow_rate_mean": 1078.5484748098506, "cost1_min": 12.437014923421172, "cost2_min": -121.73526080543618, "cost1_max": 426.0022370704871, "outflow_rate_min": 467.63246017283916, "cost2_max": -10.499256041562022, "cost2_mean": -74.35706470753387, "system_level_velocity_mean": 13.06546387986619}, "episode_reward_min": 32.53430236517377, "date": "2019-05-20_06-04-40", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ed68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ed30>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1572.2878639698029, "episodes_this_iter": 31, "timestamp": 1558332329, "episode_reward_max": 1035.02610654725, "info": {"default": {"entropy": 1.250414252281189, "total_loss": 22.187999725341797, "vf_loss": 22.1943359375, "policy_loss": -0.008347480557858944, "cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.8444957137107849, "cur_lr": 0.0005000000237487257, "kl": 0.020122578367590904}, "load_time_ms": 9.048, "num_steps_trained": 2063017, "grad_time_ms": 16387.976, "num_steps_sampled": 2063017, "sample_time_ms": 29411.433, "update_time_ms": 7.393}, "time_since_restore": 1572.2878639698029, "timesteps_total": 2063017, "episode_len_mean": 693.19, "episodes_total": 905, "episode_reward_mean": 860.2853363890547, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.05579876899719, "iterations_since_restore": 32, "training_iteration": 32, "timesteps_since_restore": 2063017, "num_metric_batches_dropped": 0, "timesteps_this_iter": 62191, "custom_metrics": {"system_level_velocity_min": 9.856037565471418, "outflow_rate_max": 1210.7150222047808, "system_level_velocity_max": 17.04136449213392, "cost1_mean": 341.1739792132956, "outflow_rate_mean": 1076.912060241223, "cost1_min": 12.437014923421172, "cost2_min": -121.73526080543618, "cost1_max": 416.4727306845822, "outflow_rate_min": 467.63246017283916, "cost2_max": -10.499256041562022, "cost2_mean": -75.77371914972144, "system_level_velocity_mean": 13.024317462479132}, "episode_reward_min": 32.53430236517377, "date": "2019-05-20_06-05-29", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ee48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e630>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1619.531804561615, "episodes_this_iter": 30, "timestamp": 1558332376, "episode_reward_max": 1060.4766259615847, "info": {"default": {"entropy": 1.239149808883667, "total_loss": 20.53401756286621, "vf_loss": 20.541213989257812, "policy_loss": -0.009823424741625786, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.864497721195221, "cur_lr": 0.0005000000237487257, "kl": 0.01750466413795948}, "load_time_ms": 9.24, "num_steps_trained": 2126079, "grad_time_ms": 16628.648, "num_steps_sampled": 2126079, "sample_time_ms": 29292.749, "update_time_ms": 7.43}, "time_since_restore": 1619.531804561615, "timesteps_total": 2126079, "episode_len_mean": 700.0, "episodes_total": 935, "episode_reward_mean": 868.0276155076332, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.243940591812134, "iterations_since_restore": 33, "training_iteration": 33, "timesteps_since_restore": 2126079, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63062, "custom_metrics": {"system_level_velocity_min": 9.856037565471418, "outflow_rate_max": 1219.8730407423384, "system_level_velocity_max": 15.767351848661695, "cost1_mean": 348.5093422760922, "outflow_rate_mean": 1091.584059479116, "cost1_min": 257.5262020700103, "cost2_min": -124.69902260914117, "cost1_max": 416.4727306845822, "outflow_rate_min": 918.0487951711301, "cost2_max": -44.352524808074385, "cost2_mean": -76.82747376777434, "system_level_velocity_mean": 13.130893259680057}, "episode_reward_min": 701.2505874225251, "date": "2019-05-20_06-06-16", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58edd8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1667.7406678199768, "episodes_this_iter": 28, "timestamp": 1558332424, "episode_reward_max": 1060.4766259615847, "info": {"default": {"entropy": 1.2555081844329834, "total_loss": 20.54508399963379, "vf_loss": 20.550037384033203, "policy_loss": -0.007445578463375568, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.8611053824424744, "cur_lr": 0.0005000000237487257, "kl": 0.016618598252534866}, "load_time_ms": 9.381, "num_steps_trained": 2191213, "grad_time_ms": 16870.791, "num_steps_sampled": 2191213, "sample_time_ms": 29383.922, "update_time_ms": 7.601}, "time_since_restore": 1667.7406678199768, "timesteps_total": 2191213, "episode_len_mean": 700.0, "episodes_total": 963, "episode_reward_mean": 872.5572746976817, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.208863258361816, "iterations_since_restore": 34, "training_iteration": 34, "timesteps_since_restore": 2191213, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65134, "custom_metrics": {"system_level_velocity_min": 9.90255755014538, "outflow_rate_max": 1225.3008271600834, "system_level_velocity_max": 15.813143866829233, "cost1_mean": 350.14054478174717, "outflow_rate_mean": 1095.9261126800836, "cost1_min": 257.81903357836904, "cost2_min": -124.69902260914117, "cost1_max": 420.22512582628246, "outflow_rate_min": 918.0487951711301, "cost2_max": -44.352524808074385, "cost2_mean": -76.7433207737597, "system_level_velocity_mean": 13.193150214571785}, "episode_reward_min": 701.2505874225251, "date": "2019-05-20_06-07-04", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58efd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e828>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1716.7452380657196, "episodes_this_iter": 28, "timestamp": 1558332473, "episode_reward_max": 1090.5078807434493, "info": {"default": {"entropy": 1.2438220977783203, "total_loss": 21.35538101196289, "vf_loss": 21.36157989501953, "policy_loss": -0.00859274622052908, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.8718280792236328, "cur_lr": 0.0005000000237487257, "kl": 0.015956981107592583}, "load_time_ms": 9.232, "num_steps_trained": 2253567, "grad_time_ms": 17197.164, "num_steps_sampled": 2253567, "sample_time_ms": 29430.38, "update_time_ms": 7.618}, "time_since_restore": 1716.7452380657196, "timesteps_total": 2253567, "episode_len_mean": 693.43, "episodes_total": 991, "episode_reward_mean": 864.563380105629, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.0045702457428, "iterations_since_restore": 35, "training_iteration": 35, "timesteps_since_restore": 2253567, "num_metric_batches_dropped": 0, "timesteps_this_iter": 62354, "custom_metrics": {"system_level_velocity_min": 10.009631564336505, "outflow_rate_max": 1225.3008271600834, "system_level_velocity_max": 18.44139028498863, "cost1_mean": 345.55155439755174, "outflow_rate_mean": 1091.229282816655, "cost1_min": 28.03519661389946, "cost2_min": -124.69902260914117, "cost1_max": 420.22512582628246, "outflow_rate_min": 529.1665030696664, "cost2_max": -16.80427937262703, "cost2_mean": -77.94290792081696, "system_level_velocity_mean": 13.207617838423815}, "episode_reward_min": 56.27455236940743, "date": "2019-05-20_06-07-53", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8eddebe0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1764.6909506320953, "episodes_this_iter": 29, "timestamp": 1558332521, "episode_reward_max": 1090.5078807434493, "info": {"default": {"entropy": 1.2611970901489258, "total_loss": 20.591598510742188, "vf_loss": 20.598020553588867, "policy_loss": -0.008882553316652775, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.866726279258728, "cur_lr": 0.0005000000237487257, "kl": 0.016413915902376175}, "load_time_ms": 9.225, "num_steps_trained": 2316848, "grad_time_ms": 17409.382, "num_steps_sampled": 2316848, "sample_time_ms": 29606.554, "update_time_ms": 7.772}, "time_since_restore": 1764.6909506320953, "timesteps_total": 2316848, "episode_len_mean": 686.88, "episodes_total": 1020, "episode_reward_mean": 858.7946327107484, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.94571256637573, "iterations_since_restore": 36, "training_iteration": 36, "timesteps_since_restore": 2316848, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63281, "custom_metrics": {"system_level_velocity_min": 10.009631564336505, "outflow_rate_max": 1233.1709025914322, "system_level_velocity_max": 18.44139028498863, "cost1_mean": 344.82312936609117, "outflow_rate_mean": 1093.5694814849687, "cost1_min": 28.03519661389946, "cost2_min": -124.69902260914117, "cost1_max": 422.6469109984335, "outflow_rate_min": 529.1665030696664, "cost2_max": -16.80427937262703, "cost2_mean": -77.83849982312782, "system_level_velocity_mean": 13.376480563531313}, "episode_reward_min": 56.27455236940743, "date": "2019-05-20_06-08-41", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5860b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0eeb8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1813.6939198970795, "episodes_this_iter": 26, "timestamp": 1558332571, "episode_reward_max": 1090.5078807434493, "info": {"default": {"entropy": 1.2650693655014038, "total_loss": 18.81272315979004, "vf_loss": 18.817550659179688, "policy_loss": -0.0073696281760931015, "cur_kl_coeff": 0.15000000596046448, "vf_explained_var": 0.8792715668678284, "cur_lr": 0.0005000000237487257, "kl": 0.016941264271736145}, "load_time_ms": 9.17, "num_steps_trained": 2382798, "grad_time_ms": 17638.425, "num_steps_sampled": 2382798, "sample_time_ms": 29767.886, "update_time_ms": 7.956}, "time_since_restore": 1813.6939198970795, "timesteps_total": 2382798, "episode_len_mean": 686.88, "episodes_total": 1046, "episode_reward_mean": 854.6292032439333, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.00296926498413, "iterations_since_restore": 37, "training_iteration": 37, "timesteps_since_restore": 2382798, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65950, "custom_metrics": {"system_level_velocity_min": 10.009631564336505, "outflow_rate_max": 1233.1709025914322, "system_level_velocity_max": 18.44139028498863, "cost1_mean": 338.45347443197824, "outflow_rate_mean": 1083.4359414980506, "cost1_min": 28.03519661389946, "cost2_min": -123.50560551005043, "cost1_max": 427.84552841067915, "outflow_rate_min": 529.1665030696664, "cost2_max": -16.80427937262703, "cost2_mean": -81.04164827400183, "system_level_velocity_mean": 13.154025615829093}, "episode_reward_min": 56.27455236940743, "date": "2019-05-20_06-09-31", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e828>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1862.0432584285736, "episodes_this_iter": 27, "timestamp": 1558332619, "episode_reward_max": 1090.5078807434493, "info": {"default": {"entropy": 1.2527996301651, "total_loss": 19.72019386291504, "vf_loss": 19.72612762451172, "policy_loss": -0.008533616550266743, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.872472882270813, "cur_lr": 0.0005000000237487257, "kl": 0.01733340509235859}, "load_time_ms": 9.219, "num_steps_trained": 2447216, "grad_time_ms": 17802.265, "num_steps_sampled": 2447216, "sample_time_ms": 29935.165, "update_time_ms": 7.949}, "time_since_restore": 1862.0432584285736, "timesteps_total": 2447216, "episode_len_mean": 681.4, "episodes_total": 1073, "episode_reward_mean": 846.1791768733386, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.34933853149414, "iterations_since_restore": 38, "training_iteration": 38, "timesteps_since_restore": 2447216, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64418, "custom_metrics": {"system_level_velocity_min": 9.931899733201135, "outflow_rate_max": 1233.1709025914322, "system_level_velocity_max": 18.44139028498863, "cost1_mean": 337.56962778670874, "outflow_rate_mean": 1083.4397129588308, "cost1_min": 28.03519661389946, "cost2_min": -127.48395135556375, "cost1_max": 427.84552841067915, "outflow_rate_min": 529.1665030696664, "cost2_max": -16.80427937262703, "cost2_mean": -80.48883092307042, "system_level_velocity_mean": 13.276061415565467}, "episode_reward_min": 56.27455236940743, "date": "2019-05-20_06-10-19", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ee48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e4a8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1910.8685989379883, "episodes_this_iter": 27, "timestamp": 1558332668, "episode_reward_max": 1048.03976844441, "info": {"default": {"entropy": 1.263519525527954, "total_loss": 19.81525421142578, "vf_loss": 19.82155418395996, "policy_loss": -0.008916541934013367, "cur_kl_coeff": 0.15000000596046448, "vf_explained_var": 0.8733513355255127, "cur_lr": 0.0005000000237487257, "kl": 0.017426040023565292}, "load_time_ms": 9.245, "num_steps_trained": 2511952, "grad_time_ms": 17915.041, "num_steps_sampled": 2511952, "sample_time_ms": 30019.178, "update_time_ms": 8.003}, "time_since_restore": 1910.8685989379883, "timesteps_total": 2511952, "episode_len_mean": 694.52, "episodes_total": 1100, "episode_reward_mean": 849.6652362796809, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.82534050941467, "iterations_since_restore": 39, "training_iteration": 39, "timesteps_since_restore": 2511952, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64736, "custom_metrics": {"system_level_velocity_min": 9.931899733201135, "outflow_rate_max": 1251.0760302943095, "system_level_velocity_max": 17.43988831397781, "cost1_mean": 340.1178181334746, "outflow_rate_mean": 1087.831302601645, "cost1_min": 98.65039617607886, "cost2_min": -127.48395135556375, "cost1_max": 444.0990413822285, "outflow_rate_min": 732.0674633104039, "cost2_max": -28.5263879320112, "cost2_mean": -83.24846300238953, "system_level_velocity_mean": 13.034358588876744}, "episode_reward_min": 223.5064154258307, "date": "2019-05-20_06-11-08", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ef98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e128>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 1958.9899485111237, "episodes_this_iter": 27, "timestamp": 1558332716, "episode_reward_max": 1100.8509183817544, "info": {"default": {"entropy": 1.2591365575790405, "total_loss": 21.60940170288086, "vf_loss": 21.615877151489258, "policy_loss": -0.008991594426333904, "cur_kl_coeff": 0.15000000596046448, "vf_explained_var": 0.8667429089546204, "cur_lr": 0.0005000000237487257, "kl": 0.01678062602877617}, "load_time_ms": 9.236, "num_steps_trained": 2575541, "grad_time_ms": 17999.135, "num_steps_sampled": 2575541, "sample_time_ms": 30042.57, "update_time_ms": 8.195}, "time_since_restore": 1958.9899485111237, "timesteps_total": 2575541, "episode_len_mean": 694.52, "episodes_total": 1127, "episode_reward_mean": 846.065192906381, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.121349573135376, "iterations_since_restore": 40, "training_iteration": 40, "timesteps_since_restore": 2575541, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63589, "custom_metrics": {"system_level_velocity_min": 9.747465442928158, "outflow_rate_max": 1251.0760302943095, "system_level_velocity_max": 17.43988831397781, "cost1_mean": 337.69026260388097, "outflow_rate_mean": 1082.7456810016172, "cost1_min": 98.65039617607886, "cost2_min": -128.39344775103996, "cost1_max": 444.0990413822285, "outflow_rate_min": 732.0674633104039, "cost2_max": -28.5263879320112, "cost2_mean": -84.80522935625181, "system_level_velocity_mean": 12.948919646035277}, "episode_reward_min": 223.5064154258307, "date": "2019-05-20_06-11-56", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590ba8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2007.246390581131, "episodes_this_iter": 26, "timestamp": 1558332764, "episode_reward_max": 1101.994581587989, "info": {"default": {"entropy": 1.2715754508972168, "total_loss": 19.51593017578125, "vf_loss": 19.522504806518555, "policy_loss": -0.0092221200466156, "cur_kl_coeff": 0.15000000596046448, "vf_explained_var": 0.8790979981422424, "cur_lr": 0.0005000000237487257, "kl": 0.017639538273215294}, "load_time_ms": 9.347, "num_steps_trained": 2640281, "grad_time_ms": 18080.07, "num_steps_sampled": 2640281, "sample_time_ms": 30190.5, "update_time_ms": 8.245}, "time_since_restore": 2007.246390581131, "timesteps_total": 2640281, "episode_len_mean": 694.52, "episodes_total": 1153, "episode_reward_mean": 847.0634877509303, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.256442070007324, "iterations_since_restore": 41, "training_iteration": 41, "timesteps_since_restore": 2640281, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64740, "custom_metrics": {"system_level_velocity_min": 9.747465442928158, "outflow_rate_max": 1251.0760302943095, "system_level_velocity_max": 17.43988831397781, "cost1_mean": 342.69357170633816, "outflow_rate_mean": 1093.0779547931184, "cost1_min": 98.65039617607886, "cost2_min": -128.39344775103996, "cost1_max": 444.0990413822285, "outflow_rate_min": 732.0674633104039, "cost2_max": -28.5263879320112, "cost2_mean": -85.77279853299802, "system_level_velocity_mean": 13.15099809089836}, "episode_reward_min": 223.5064154258307, "date": "2019-05-20_06-12-44", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ee48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e898>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2058.6352462768555, "episodes_this_iter": 34, "timestamp": 1558332816, "episode_reward_max": 1101.994581587989, "info": {"default": {"entropy": 1.2642968893051147, "total_loss": 22.31810188293457, "vf_loss": 22.324081420898438, "policy_loss": -0.008553449995815754, "cur_kl_coeff": 0.15000000596046448, "vf_explained_var": 0.8769340515136719, "cur_lr": 0.0005000000237487257, "kl": 0.017173510044813156}, "load_time_ms": 9.327, "num_steps_trained": 2707533, "grad_time_ms": 18142.859, "num_steps_sampled": 2707533, "sample_time_ms": 30359.665, "update_time_ms": 8.163}, "time_since_restore": 2058.6352462768555, "timesteps_total": 2707533, "episode_len_mean": 700.0, "episodes_total": 1187, "episode_reward_mean": 862.5046950807773, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 51.38885569572449, "iterations_since_restore": 42, "training_iteration": 42, "timesteps_since_restore": 2707533, "num_metric_batches_dropped": 0, "timesteps_this_iter": 67252, "custom_metrics": {"system_level_velocity_min": 9.6283579804626, "outflow_rate_max": 1293.8830815104411, "system_level_velocity_max": 17.465388541416022, "cost1_mean": 348.8974921543475, "outflow_rate_mean": 1106.0439001798484, "cost1_min": 255.65843995092683, "cost2_min": -132.0740969256606, "cost1_max": 455.3368159104386, "outflow_rate_min": 939.7651144886364, "cost2_max": -49.241547718447094, "cost2_mean": -90.40107848479863, "system_level_velocity_mean": 13.262596479780614}, "episode_reward_min": 656.8322567569362, "date": "2019-05-20_06-13-36", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eb38>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2106.7874467372894, "episodes_this_iter": 30, "timestamp": 1558332864, "episode_reward_max": 1101.994581587989, "info": {"default": {"entropy": 1.2587907314300537, "total_loss": 21.27556800842285, "vf_loss": 21.28249740600586, "policy_loss": -0.009628968313336372, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.8837668299674988, "cur_lr": 0.0005000000237487257, "kl": 0.01800326257944107}, "load_time_ms": 9.348, "num_steps_trained": 2774519, "grad_time_ms": 18154.216, "num_steps_sampled": 2774519, "sample_time_ms": 30439.016, "update_time_ms": 8.123}, "time_since_restore": 2106.7874467372894, "timesteps_total": 2774519, "episode_len_mean": 694.99, "episodes_total": 1217, "episode_reward_mean": 863.5887922512916, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.15220046043396, "iterations_since_restore": 43, "training_iteration": 43, "timesteps_since_restore": 2774519, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66986, "custom_metrics": {"system_level_velocity_min": 9.6283579804626, "outflow_rate_max": 1293.8830815104411, "system_level_velocity_max": 17.824637188463626, "cost1_mean": 347.15551697632037, "outflow_rate_mean": 1106.497219549854, "cost1_min": 129.51438578783583, "cost2_min": -136.1514937479167, "cost1_max": 455.3368159104386, "outflow_rate_min": 851.3832576986746, "cost2_max": -31.54948321067311, "cost2_mean": -91.60166574472382, "system_level_velocity_mean": 13.335100569712234}, "episode_reward_min": 313.9471527879634, "date": "2019-05-20_06-14-24", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8eddeac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590390>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2155.8108944892883, "episodes_this_iter": 32, "timestamp": 1558332913, "episode_reward_max": 1081.5264463965937, "info": {"default": {"entropy": 1.2645186185836792, "total_loss": 23.56576156616211, "vf_loss": 23.571086883544922, "policy_loss": -0.007941218093037605, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.8559133410453796, "cur_lr": 0.0005000000237487257, "kl": 0.01743835210800171}, "load_time_ms": 9.399, "num_steps_trained": 2840945, "grad_time_ms": 18122.415, "num_steps_sampled": 2840945, "sample_time_ms": 30551.93, "update_time_ms": 8.037}, "time_since_restore": 2155.8108944892883, "timesteps_total": 2840945, "episode_len_mean": 694.99, "episodes_total": 1249, "episode_reward_mean": 861.0102398634488, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.0234477519989, "iterations_since_restore": 44, "training_iteration": 44, "timesteps_since_restore": 2840945, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66426, "custom_metrics": {"system_level_velocity_min": 9.6283579804626, "outflow_rate_max": 1293.8830815104411, "system_level_velocity_max": 17.824637188463626, "cost1_mean": 345.2697909832174, "outflow_rate_mean": 1102.3758372790091, "cost1_min": 129.51438578783583, "cost2_min": -136.1514937479167, "cost1_max": 455.3368159104386, "outflow_rate_min": 851.3832576986746, "cost2_max": -31.54948321067311, "cost2_mean": -92.05910292375735, "system_level_velocity_mean": 13.269922561430155}, "episode_reward_min": 313.9471527879634, "date": "2019-05-20_06-15-13", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e6d8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2203.7809121608734, "episodes_this_iter": 28, "timestamp": 1558332961, "episode_reward_max": 1113.1824837494476, "info": {"default": {"entropy": 1.2598910331726074, "total_loss": 20.096481323242188, "vf_loss": 20.10239601135254, "policy_loss": -0.008681208826601505, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.8829716444015503, "cur_lr": 0.0005000000237487257, "kl": 0.018451577052474022}, "load_time_ms": 9.554, "num_steps_trained": 2907423, "grad_time_ms": 17970.318, "num_steps_sampled": 2907423, "sample_time_ms": 30599.705, "update_time_ms": 8.075}, "time_since_restore": 2203.7809121608734, "timesteps_total": 2907423, "episode_len_mean": 694.99, "episodes_total": 1277, "episode_reward_mean": 865.5386759437497, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.97001767158508, "iterations_since_restore": 45, "training_iteration": 45, "timesteps_since_restore": 2907423, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66478, "custom_metrics": {"system_level_velocity_min": 9.751878321712711, "outflow_rate_max": 1293.8830815104411, "system_level_velocity_max": 17.824637188463626, "cost1_mean": 348.17406177497264, "outflow_rate_mean": 1107.4709884384774, "cost1_min": 129.51438578783583, "cost2_min": -136.1514937479167, "cost1_max": 455.3368159104386, "outflow_rate_min": 851.3832576986746, "cost2_max": -31.54948321067311, "cost2_mean": -90.84622782521139, "system_level_velocity_mean": 13.369435857922362}, "episode_reward_min": 313.9471527879634, "date": "2019-05-20_06-16-01", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e198>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2251.194251537323, "episodes_this_iter": 27, "timestamp": 1558333008, "episode_reward_max": 1113.1824837494476, "info": {"default": {"entropy": 1.2809431552886963, "total_loss": 21.51529884338379, "vf_loss": 21.522743225097656, "policy_loss": -0.01023312658071518, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.8647257685661316, "cur_lr": 0.0005000000237487257, "kl": 0.018594712018966675}, "load_time_ms": 9.609, "num_steps_trained": 2971669, "grad_time_ms": 17875.685, "num_steps_sampled": 2971669, "sample_time_ms": 30640.599, "update_time_ms": 8.032}, "time_since_restore": 2251.194251537323, "timesteps_total": 2971669, "episode_len_mean": 700.0, "episodes_total": 1304, "episode_reward_mean": 875.0091765723115, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.413339376449585, "iterations_since_restore": 46, "training_iteration": 46, "timesteps_since_restore": 2971669, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64246, "custom_metrics": {"system_level_velocity_min": 9.751878321712711, "outflow_rate_max": 1280.7401202396263, "system_level_velocity_max": 16.790274820365084, "cost1_mean": 350.9454618799935, "outflow_rate_mean": 1110.9382292122607, "cost1_min": 257.86071168736066, "cost2_min": -136.1514937479167, "cost1_max": 445.17814682067115, "outflow_rate_min": 945.731642945139, "cost2_max": -53.601115043919684, "cost2_mean": -91.00723872177247, "system_level_velocity_mean": 13.328550841727607}, "episode_reward_min": 670.4086489175701, "date": "2019-05-20_06-16-48", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e518>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2299.578809738159, "episodes_this_iter": 26, "timestamp": 1558333057, "episode_reward_max": 1120.9654537059137, "info": {"default": {"entropy": 1.2906947135925293, "total_loss": 19.670581817626953, "vf_loss": 19.677677154541016, "policy_loss": -0.009826644323766232, "cur_kl_coeff": 0.15000000596046448, "vf_explained_var": 0.8780372142791748, "cur_lr": 0.0005000000237487257, "kl": 0.018216881901025772}, "load_time_ms": 9.734, "num_steps_trained": 3037055, "grad_time_ms": 17775.627, "num_steps_sampled": 3037055, "sample_time_ms": 30678.892, "update_time_ms": 7.912}, "time_since_restore": 2299.578809738159, "timesteps_total": 3037055, "episode_len_mean": 700.0, "episodes_total": 1330, "episode_reward_mean": 868.2385390641003, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.38455820083618, "iterations_since_restore": 47, "training_iteration": 47, "timesteps_since_restore": 3037055, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65386, "custom_metrics": {"system_level_velocity_min": 9.751878321712711, "outflow_rate_max": 1280.7401202396263, "system_level_velocity_max": 16.790274820365084, "cost1_mean": 345.7193211938178, "outflow_rate_mean": 1100.3356437242119, "cost1_min": 257.86071168736066, "cost2_min": -134.6280185923312, "cost1_max": 445.17814682067115, "outflow_rate_min": 945.731642945139, "cost2_max": -53.601115043919684, "cost2_mean": -90.88813347564154, "system_level_velocity_mean": 13.115948829914968}, "episode_reward_min": 670.4086489175701, "date": "2019-05-20_06-17-37", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5906a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5904e0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2349.1990790367126, "episodes_this_iter": 26, "timestamp": 1558333107, "episode_reward_max": 1148.218081406203, "info": {"default": {"entropy": 1.2984312772750854, "total_loss": 19.866140365600586, "vf_loss": 19.87472915649414, "policy_loss": -0.011591487564146519, "cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.8762292861938477, "cur_lr": 0.0005000000237487257, "kl": 0.020025458186864853}, "load_time_ms": 9.749, "num_steps_trained": 3102814, "grad_time_ms": 17787.435, "num_steps_sampled": 3102814, "sample_time_ms": 30793.701, "update_time_ms": 7.91}, "time_since_restore": 2349.1990790367126, "timesteps_total": 3102814, "episode_len_mean": 700.0, "episodes_total": 1356, "episode_reward_mean": 871.0583084126043, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.62026929855347, "iterations_since_restore": 48, "training_iteration": 48, "timesteps_since_restore": 3102814, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65759, "custom_metrics": {"system_level_velocity_min": 10.238898335059906, "outflow_rate_max": 1259.2082889661533, "system_level_velocity_max": 16.4729627317243, "cost1_mean": 347.7062831234917, "outflow_rate_mean": 1105.4535042487626, "cost1_min": 268.7776734444574, "cost2_min": -122.25527338602592, "cost1_max": 433.96891566745853, "outflow_rate_min": 975.8086964732965, "cost2_max": -59.73958916783532, "cost2_mean": -90.5223679482703, "system_level_velocity_mean": 13.18327131990211}, "episode_reward_min": 670.4086489175701, "date": "2019-05-20_06-18-27", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ea90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e748>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2396.000282764435, "episodes_this_iter": 29, "timestamp": 1558333153, "episode_reward_max": 1148.218081406203, "info": {"default": {"entropy": 1.2883769273757935, "total_loss": 20.668270111083984, "vf_loss": 20.674503326416016, "policy_loss": -0.01006797980517149, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8887274265289307, "cur_lr": 0.0005000000237487257, "kl": 0.017035789787769318}, "load_time_ms": 9.586, "num_steps_trained": 3167318, "grad_time_ms": 17689.696, "num_steps_sampled": 3167318, "sample_time_ms": 30689.646, "update_time_ms": 7.855}, "time_since_restore": 2396.000282764435, "timesteps_total": 3167318, "episode_len_mean": 694.25, "episodes_total": 1385, "episode_reward_mean": 855.7418005350479, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.80120372772217, "iterations_since_restore": 49, "training_iteration": 49, "timesteps_since_restore": 3167318, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64504, "custom_metrics": {"system_level_velocity_min": 9.675530053416546, "outflow_rate_max": 1280.0293489960677, "system_level_velocity_max": 18.577731160795004, "cost1_mean": 342.29483824291316, "outflow_rate_mean": 1096.7402107619355, "cost1_min": 84.39114695155963, "cost2_min": -128.03222349247665, "cost1_max": 438.6712390427479, "outflow_rate_min": 732.1512255407209, "cost2_max": -32.816670209113916, "cost2_mean": -90.53629545458568, "system_level_velocity_mean": 13.136285297579052}, "episode_reward_min": 167.4836464628337, "date": "2019-05-20_06-19-13", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6438>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2443.9784548282623, "episodes_this_iter": 27, "timestamp": 1558333201, "episode_reward_max": 1148.218081406203, "info": {"default": {"entropy": 1.3197963237762451, "total_loss": 20.90039825439453, "vf_loss": 20.90717887878418, "policy_loss": -0.010295120999217033, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8688004612922668, "cur_lr": 0.0005000000237487257, "kl": 0.015615875832736492}, "load_time_ms": 9.586, "num_steps_trained": 3233000, "grad_time_ms": 17608.259, "num_steps_sampled": 3233000, "sample_time_ms": 30756.921, "update_time_ms": 7.65}, "time_since_restore": 2443.9784548282623, "timesteps_total": 3233000, "episode_len_mean": 687.43, "episodes_total": 1412, "episode_reward_mean": 841.773651514177, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.978172063827515, "iterations_since_restore": 50, "training_iteration": 50, "timesteps_since_restore": 3233000, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65682, "custom_metrics": {"system_level_velocity_min": 9.675530053416546, "outflow_rate_max": 1284.4731176217654, "system_level_velocity_max": 18.577731160795004, "cost1_mean": 340.0083739912284, "outflow_rate_mean": 1091.631533552824, "cost1_min": 11.695343380998294, "cost2_min": -128.03222349247665, "cost1_max": 438.6712390427479, "outflow_rate_min": 464.2002765876701, "cost2_max": -10.162279847406756, "cost2_mean": -88.59248822734075, "system_level_velocity_mean": 13.238049713767088}, "episode_reward_min": 27.720192087800733, "date": "2019-05-20_06-20-01", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5834e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583908>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2492.796532869339, "episodes_this_iter": 31, "timestamp": 1558333250, "episode_reward_max": 1148.218081406203, "info": {"default": {"entropy": 1.3132030963897705, "total_loss": 21.779142379760742, "vf_loss": 21.78472137451172, "policy_loss": -0.008958915248513222, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8681710958480835, "cur_lr": 0.0005000000237487257, "kl": 0.015027698129415512}, "load_time_ms": 9.498, "num_steps_trained": 3299793, "grad_time_ms": 17530.843, "num_steps_sampled": 3299793, "sample_time_ms": 30892.22, "update_time_ms": 7.545}, "time_since_restore": 2492.796532869339, "timesteps_total": 3299793, "episode_len_mean": 687.43, "episodes_total": 1443, "episode_reward_mean": 831.0043100596926, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.81807804107666, "iterations_since_restore": 51, "training_iteration": 51, "timesteps_since_restore": 3299793, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66793, "custom_metrics": {"system_level_velocity_min": 9.461149539429899, "outflow_rate_max": 1284.4731176217654, "system_level_velocity_max": 18.577731160795004, "cost1_mean": 339.14531741178814, "outflow_rate_mean": 1092.194250146015, "cost1_min": 11.695343380998294, "cost2_min": -128.03222349247665, "cost1_max": 438.6712390427479, "outflow_rate_min": 464.2002765876701, "cost2_max": -10.162279847406756, "cost2_mean": -89.51338709203985, "system_level_velocity_mean": 13.227669524516706}, "episode_reward_min": 27.720192087800733, "date": "2019-05-20_06-20-50", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fb00>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2542.5775043964386, "episodes_this_iter": 30, "timestamp": 1558333300, "episode_reward_max": 1140.8800722195883, "info": {"default": {"entropy": 1.3191252946853638, "total_loss": 22.398649215698242, "vf_loss": 22.40351676940918, "policy_loss": -0.00818904209882021, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8595985770225525, "cur_lr": 0.0005000000237487257, "kl": 0.014761360362172127}, "load_time_ms": 9.204, "num_steps_trained": 3366527, "grad_time_ms": 17418.113, "num_steps_sampled": 3366527, "sample_time_ms": 30844.853, "update_time_ms": 7.599}, "time_since_restore": 2542.5775043964386, "timesteps_total": 3366527, "episode_len_mean": 687.43, "episodes_total": 1473, "episode_reward_mean": 815.0055105350606, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.78097152709961, "iterations_since_restore": 52, "training_iteration": 52, "timesteps_since_restore": 3366527, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66734, "custom_metrics": {"system_level_velocity_min": 9.461149539429899, "outflow_rate_max": 1284.4731176217654, "system_level_velocity_max": 18.577731160795004, "cost1_mean": 330.48336304354615, "outflow_rate_mean": 1076.504828689091, "cost1_min": 11.695343380998294, "cost2_min": -128.9453901608572, "cost1_max": 438.24650594227546, "outflow_rate_min": 464.2002765876701, "cost2_max": -10.162279847406756, "cost2_mean": -93.2107215791212, "system_level_velocity_mean": 12.920150946254287}, "episode_reward_min": 27.720192087800733, "date": "2019-05-20_06-21-40", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f320>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2589.479769229889, "episodes_this_iter": 27, "timestamp": 1558333347, "episode_reward_max": 1140.8800722195883, "info": {"default": {"entropy": 1.302164912223816, "total_loss": 22.11327362060547, "vf_loss": 22.11954116821289, "policy_loss": -0.009774011559784412, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8768597841262817, "cur_lr": 0.0005000000237487257, "kl": 0.015579793602228165}, "load_time_ms": 9.012, "num_steps_trained": 3431449, "grad_time_ms": 17221.821, "num_steps_sampled": 3431449, "sample_time_ms": 30916.695, "update_time_ms": 7.597}, "time_since_restore": 2589.479769229889, "timesteps_total": 3431449, "episode_len_mean": 693.18, "episodes_total": 1500, "episode_reward_mean": 821.901905245831, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.90226483345032, "iterations_since_restore": 53, "training_iteration": 53, "timesteps_since_restore": 3431449, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64922, "custom_metrics": {"system_level_velocity_min": 9.461149539429899, "outflow_rate_max": 1284.4731176217654, "system_level_velocity_max": 16.923778979215626, "cost1_mean": 331.07594389746845, "outflow_rate_mean": 1077.2504622697131, "cost1_min": 11.695343380998294, "cost2_min": -128.9453901608572, "cost1_max": 446.7962426043224, "outflow_rate_min": 464.2002765876701, "cost2_max": -10.162279847406756, "cost2_mean": -94.81807587625605, "system_level_velocity_mean": 12.792271451026076}, "episode_reward_min": 27.720192087800733, "date": "2019-05-20_06-22-27", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fa90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fba8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2634.8758652210236, "episodes_this_iter": 29, "timestamp": 1558333392, "episode_reward_max": 1140.8800722195883, "info": {"default": {"entropy": 1.27923583984375, "total_loss": 21.428476333618164, "vf_loss": 21.43498992919922, "policy_loss": -0.009930558502674103, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8834010362625122, "cur_lr": 0.0005000000237487257, "kl": 0.015191669575870037}, "load_time_ms": 8.797, "num_steps_trained": 3496597, "grad_time_ms": 17043.198, "num_steps_sampled": 3496597, "sample_time_ms": 30733.872, "update_time_ms": 7.586}, "time_since_restore": 2634.8758652210236, "timesteps_total": 3496597, "episode_len_mean": 700.0, "episodes_total": 1529, "episode_reward_mean": 845.6517252523207, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.396095991134644, "iterations_since_restore": 54, "training_iteration": 54, "timesteps_since_restore": 3496597, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65148, "custom_metrics": {"system_level_velocity_min": 9.848455484586811, "outflow_rate_max": 1276.7427855731978, "system_level_velocity_max": 17.352141564447965, "cost1_mean": 342.6406031937203, "outflow_rate_mean": 1097.6283770458367, "cost1_min": 249.0080610045112, "cost2_min": -128.9453901608572, "cost1_max": 455.12123597756295, "outflow_rate_min": 897.9543881409394, "cost2_max": -57.87399291243303, "cost2_mean": -94.83888318867143, "system_level_velocity_mean": 13.059010115174742}, "episode_reward_min": 641.7345773922723, "date": "2019-05-20_06-23-12", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58ef28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e470>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2682.1475763320923, "episodes_this_iter": 30, "timestamp": 1558333440, "episode_reward_max": 1105.3346786142736, "info": {"default": {"entropy": 1.3038769960403442, "total_loss": 22.06222152709961, "vf_loss": 22.069416046142578, "policy_loss": -0.011097272858023643, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8715366721153259, "cur_lr": 0.0005000000237487257, "kl": 0.017335157841444016}, "load_time_ms": 8.816, "num_steps_trained": 3562198, "grad_time_ms": 16899.652, "num_steps_sampled": 3562198, "sample_time_ms": 30807.934, "update_time_ms": 7.714}, "time_since_restore": 2682.1475763320923, "timesteps_total": 3562198, "episode_len_mean": 693.33, "episodes_total": 1559, "episode_reward_mean": 851.3845506432205, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.271711111068726, "iterations_since_restore": 55, "training_iteration": 55, "timesteps_since_restore": 3562198, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65601, "custom_metrics": {"system_level_velocity_min": 9.867591118255579, "outflow_rate_max": 1276.7427855731978, "system_level_velocity_max": 18.17046961799074, "cost1_mean": 343.65740884560563, "outflow_rate_mean": 1097.605146294253, "cost1_min": 21.956334438037413, "cost2_min": -126.21761882080187, "cost1_max": 455.12123597756295, "outflow_rate_min": 508.8108752772287, "cost2_max": -16.03950116357872, "cost2_mean": -90.72035584314558, "system_level_velocity_mean": 13.265159224609507}, "episode_reward_min": 50.211027232525055, "date": "2019-05-20_06-24-00", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0edd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5906a0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2728.1147181987762, "episodes_this_iter": 28, "timestamp": 1558333486, "episode_reward_max": 1105.3346786142736, "info": {"default": {"entropy": 1.2921819686889648, "total_loss": 22.882740020751953, "vf_loss": 22.88787841796875, "policy_loss": -0.00874566100537777, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8701677918434143, "cur_lr": 0.0005000000237487257, "kl": 0.01602841727435589}, "load_time_ms": 8.699, "num_steps_trained": 3626229, "grad_time_ms": 16818.287, "num_steps_sampled": 3626229, "sample_time_ms": 30744.604, "update_time_ms": 7.693}, "time_since_restore": 2728.1147181987762, "timesteps_total": 3626229, "episode_len_mean": 693.33, "episodes_total": 1587, "episode_reward_mean": 860.9569640626765, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.96714186668396, "iterations_since_restore": 56, "training_iteration": 56, "timesteps_since_restore": 3626229, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64031, "custom_metrics": {"system_level_velocity_min": 9.867591118255579, "outflow_rate_max": 1283.1277370723362, "system_level_velocity_max": 18.17046961799074, "cost1_mean": 347.1110093903046, "outflow_rate_mean": 1103.9497531737172, "cost1_min": 21.956334438037413, "cost2_min": -129.27471383737907, "cost1_max": 455.12123597756295, "outflow_rate_min": 508.8108752772287, "cost2_max": -16.03950116357872, "cost2_mean": -89.34166470070778, "system_level_velocity_mean": 13.382568948121177}, "episode_reward_min": 50.211027232525055, "date": "2019-05-20_06-24-46", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0ecc0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2775.897716283798, "episodes_this_iter": 28, "timestamp": 1558333534, "episode_reward_max": 1131.3741591247597, "info": {"default": {"entropy": 1.3216632604599, "total_loss": 23.334850311279297, "vf_loss": 23.341005325317383, "policy_loss": -0.009780136868357658, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8532624840736389, "cur_lr": 0.0005000000237487257, "kl": 0.016117455437779427}, "load_time_ms": 8.524, "num_steps_trained": 3693485, "grad_time_ms": 16738.581, "num_steps_sampled": 3693485, "sample_time_ms": 30764.965, "update_time_ms": 7.626}, "time_since_restore": 2775.897716283798, "timesteps_total": 3693485, "episode_len_mean": 686.75, "episodes_total": 1615, "episode_reward_mean": 848.3414285298535, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.78299808502197, "iterations_since_restore": 57, "training_iteration": 57, "timesteps_since_restore": 3693485, "num_metric_batches_dropped": 0, "timesteps_this_iter": 67256, "custom_metrics": {"system_level_velocity_min": 9.975914751546924, "outflow_rate_max": 1283.1277370723362, "system_level_velocity_max": 18.939987206258238, "cost1_mean": 338.42701219953597, "outflow_rate_mean": 1086.2308377561412, "cost1_min": 21.956334438037413, "cost2_min": -138.67769914961082, "cost1_max": 444.38428063050196, "outflow_rate_min": 508.8108752772287, "cost2_max": -16.03950116357872, "cost2_mean": -88.81224866654331, "system_level_velocity_mean": 13.230583488094608}, "episode_reward_min": 50.211027232525055, "date": "2019-05-20_06-25-34", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fe48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fbe0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2822.039365530014, "episodes_this_iter": 30, "timestamp": 1558333580, "episode_reward_max": 1131.3741591247597, "info": {"default": {"entropy": 1.2835776805877686, "total_loss": 25.695085525512695, "vf_loss": 25.699214935302734, "policy_loss": -0.007904852740466595, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8527918457984924, "cur_lr": 0.0005000000237487257, "kl": 0.016774510964751244}, "load_time_ms": 8.431, "num_steps_trained": 3759442, "grad_time_ms": 16559.683, "num_steps_sampled": 3759442, "sample_time_ms": 30597.658, "update_time_ms": 7.595}, "time_since_restore": 2822.039365530014, "timesteps_total": 3759442, "episode_len_mean": 686.9, "episodes_total": 1645, "episode_reward_mean": 845.1134899290954, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.14164924621582, "iterations_since_restore": 58, "training_iteration": 58, "timesteps_since_restore": 3759442, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65957, "custom_metrics": {"system_level_velocity_min": 9.975914751546924, "outflow_rate_max": 1283.1277370723362, "system_level_velocity_max": 18.939987206258238, "cost1_mean": 334.7129171025842, "outflow_rate_mean": 1076.0318753177608, "cost1_min": 27.68847447745042, "cost2_min": -138.67769914961082, "cost1_max": 444.38428063050196, "outflow_rate_min": 537.091693068801, "cost2_max": -15.48902749027477, "cost2_mean": -88.15625120379651, "system_level_velocity_mean": 13.0784620869076}, "episode_reward_min": 54.9514966927622, "date": "2019-05-20_06-26-20", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5832e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583a90>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2869.3507726192474, "episodes_this_iter": 28, "timestamp": 1558333627, "episode_reward_max": 1131.3741591247597, "info": {"default": {"entropy": 1.3026446104049683, "total_loss": 23.475839614868164, "vf_loss": 23.48159408569336, "policy_loss": -0.009095053188502789, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8612499237060547, "cur_lr": 0.0005000000237487257, "kl": 0.014851988293230534}, "load_time_ms": 8.685, "num_steps_trained": 3824435, "grad_time_ms": 16503.283, "num_steps_sampled": 3824435, "sample_time_ms": 30704.593, "update_time_ms": 7.542}, "time_since_restore": 2869.3507726192474, "timesteps_total": 3824435, "episode_len_mean": 673.65, "episodes_total": 1673, "episode_reward_mean": 817.2388616276023, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.3114070892334, "iterations_since_restore": 59, "training_iteration": 59, "timesteps_since_restore": 3824435, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64993, "custom_metrics": {"system_level_velocity_min": 9.727198568392504, "outflow_rate_max": 1246.4245209323042, "system_level_velocity_max": 18.939987206258238, "cost1_mean": 324.7517620475377, "outflow_rate_mean": 1055.6841681296567, "cost1_min": 23.2611792211018, "cost2_min": -138.67769914961082, "cost1_max": 439.3598836914375, "outflow_rate_min": 479.64091393229654, "cost2_max": -11.715512529411734, "cost2_mean": -85.67794659162271, "system_level_velocity_mean": 13.03354064598188}, "episode_reward_min": 52.84041766884656, "date": "2019-05-20_06-27-07", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0edd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e5c0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2916.0483095645905, "episodes_this_iter": 28, "timestamp": 1558333674, "episode_reward_max": 1075.2871831217421, "info": {"default": {"entropy": 1.3097636699676514, "total_loss": 22.078475952148438, "vf_loss": 22.084003448486328, "policy_loss": -0.00900210440158844, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8596288561820984, "cur_lr": 0.0005000000237487257, "kl": 0.01544632762670517}, "load_time_ms": 8.654, "num_steps_trained": 3890049, "grad_time_ms": 16462.882, "num_steps_sampled": 3890049, "sample_time_ms": 30616.912, "update_time_ms": 7.572}, "time_since_restore": 2916.0483095645905, "timesteps_total": 3890049, "episode_len_mean": 673.47, "episodes_total": 1701, "episode_reward_mean": 807.4267843319947, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.69753694534302, "iterations_since_restore": 60, "training_iteration": 60, "timesteps_since_restore": 3890049, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65614, "custom_metrics": {"system_level_velocity_min": 9.727198568392504, "outflow_rate_max": 1246.4245209323042, "system_level_velocity_max": 18.435614357071135, "cost1_mean": 323.2186295264092, "outflow_rate_mean": 1051.8967809953394, "cost1_min": 14.995201762099871, "cost2_min": -138.67769914961082, "cost1_max": 439.3598836914375, "outflow_rate_min": 471.2493139024188, "cost2_max": -10.021559856899977, "cost2_mean": -83.12879197506152, "system_level_velocity_mean": 12.966360080460294}, "episode_reward_min": 37.59219846144566, "date": "2019-05-20_06-27-54", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583080>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 2963.7787623405457, "episodes_this_iter": 30, "timestamp": 1558333722, "episode_reward_max": 1021.0006132994002, "info": {"default": {"entropy": 1.2948077917099, "total_loss": 25.249679565429688, "vf_loss": 25.255043029785156, "policy_loss": -0.008774181827902794, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8607873916625977, "cur_lr": 0.0005000000237487257, "kl": 0.015151511877775192}, "load_time_ms": 8.662, "num_steps_trained": 3954725, "grad_time_ms": 16539.926, "num_steps_sampled": 3954725, "sample_time_ms": 30431.352, "update_time_ms": 7.609}, "time_since_restore": 2963.7787623405457, "timesteps_total": 3954725, "episode_len_mean": 666.39, "episodes_total": 1731, "episode_reward_mean": 800.7514492812708, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.7304527759552, "iterations_since_restore": 61, "training_iteration": 61, "timesteps_since_restore": 3954725, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64676, "custom_metrics": {"system_level_velocity_min": 9.727198568392504, "outflow_rate_max": 1208.6864929066273, "system_level_velocity_max": 18.340632890679455, "cost1_mean": 321.12293069256293, "outflow_rate_mean": 1046.0182293140451, "cost1_min": 10.320474001589831, "cost2_min": -114.0539246807689, "cost1_max": 421.7531966778792, "outflow_rate_min": 440.17247907724766, "cost2_max": -7.059486741235428, "cost2_mean": -80.00034907102345, "system_level_velocity_mean": 13.029294891962024}, "episode_reward_min": 19.96193006555757, "date": "2019-05-20_06-28-42", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fb38>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3010.8319187164307, "episodes_this_iter": 31, "timestamp": 1558333769, "episode_reward_max": 1033.6955013005092, "info": {"default": {"entropy": 1.297774076461792, "total_loss": 25.42482566833496, "vf_loss": 25.431251525878906, "policy_loss": -0.009962882846593857, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8623205423355103, "cur_lr": 0.0005000000237487257, "kl": 0.015727709978818893}, "load_time_ms": 8.769, "num_steps_trained": 4019341, "grad_time_ms": 16449.41, "num_steps_sampled": 4019341, "sample_time_ms": 30250.559, "update_time_ms": 7.531}, "time_since_restore": 3010.8319187164307, "timesteps_total": 4019341, "episode_len_mean": 673.0, "episodes_total": 1762, "episode_reward_mean": 820.0479455751874, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.05315637588501, "iterations_since_restore": 62, "training_iteration": 62, "timesteps_since_restore": 4019341, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64616, "custom_metrics": {"system_level_velocity_min": 10.253232274811356, "outflow_rate_max": 1199.086290128519, "system_level_velocity_max": 18.340632890679455, "cost1_mean": 328.18749487382223, "outflow_rate_mean": 1057.347480523841, "cost1_min": 10.320474001589831, "cost2_min": -114.0539246807689, "cost1_max": 419.35508781169, "outflow_rate_min": 440.17247907724766, "cost2_max": -7.059486741235428, "cost2_mean": -78.69378286987693, "system_level_velocity_mean": 13.122259322828576}, "episode_reward_min": 19.96193006555757, "date": "2019-05-20_06-29-29", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fe48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f6d8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3057.8292095661163, "episodes_this_iter": 27, "timestamp": 1558333816, "episode_reward_max": 1033.6955013005092, "info": {"default": {"entropy": 1.3323440551757812, "total_loss": 20.721675872802734, "vf_loss": 20.72694206237793, "policy_loss": -0.008365849032998085, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8838422894477844, "cur_lr": 0.0005000000237487257, "kl": 0.013790002092719078}, "load_time_ms": 8.96, "num_steps_trained": 4086148, "grad_time_ms": 16494.312, "num_steps_sampled": 4086148, "sample_time_ms": 30215.616, "update_time_ms": 7.531}, "time_since_restore": 3057.8292095661163, "timesteps_total": 4086148, "episode_len_mean": 683.29, "episodes_total": 1789, "episode_reward_mean": 826.1489437100108, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.99729084968567, "iterations_since_restore": 63, "training_iteration": 63, "timesteps_since_restore": 4086148, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66807, "custom_metrics": {"system_level_velocity_min": 9.838323343482141, "outflow_rate_max": 1217.5169590013134, "system_level_velocity_max": 18.049816249686952, "cost1_mean": 330.89476377405737, "outflow_rate_mean": 1062.2450739450783, "cost1_min": 10.320474001589831, "cost2_min": -135.94059303020168, "cost1_max": 428.2330251301497, "outflow_rate_min": 440.17247907724766, "cost2_max": -7.059486741235428, "cost2_mean": -81.79132798176623, "system_level_velocity_mean": 12.940262808597161}, "episode_reward_min": 19.96193006555757, "date": "2019-05-20_06-30-16", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a69b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6940>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3103.8035616874695, "episodes_this_iter": 29, "timestamp": 1558333862, "episode_reward_max": 1033.6955013005092, "info": {"default": {"entropy": 1.3043100833892822, "total_loss": 23.50511360168457, "vf_loss": 23.51123046875, "policy_loss": -0.009722531773149967, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8815370798110962, "cur_lr": 0.0005000000237487257, "kl": 0.016020888462662697}, "load_time_ms": 9.197, "num_steps_trained": 4150660, "grad_time_ms": 16467.473, "num_steps_sampled": 4150660, "sample_time_ms": 30300.554, "update_time_ms": 7.506}, "time_since_restore": 3103.8035616874695, "timesteps_total": 4150660, "episode_len_mean": 665.16, "episodes_total": 1818, "episode_reward_mean": 800.9873961138717, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.97435212135315, "iterations_since_restore": 64, "training_iteration": 64, "timesteps_since_restore": 4150660, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64512, "custom_metrics": {"system_level_velocity_min": 9.402589661564436, "outflow_rate_max": 1217.5169590013134, "system_level_velocity_max": 18.049816249686952, "cost1_mean": 321.5868907095841, "outflow_rate_mean": 1047.1275689863826, "cost1_min": 10.320474001589831, "cost2_min": -135.94059303020168, "cost1_max": 428.2330251301497, "outflow_rate_min": 440.17247907724766, "cost2_max": -7.059486741235428, "cost2_mean": -79.64942483042606, "system_level_velocity_mean": 13.063783223523801}, "episode_reward_min": 19.96193006555757, "date": "2019-05-20_06-31-02", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f588>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3150.2953474521637, "episodes_this_iter": 30, "timestamp": 1558333908, "episode_reward_max": 1109.0056704982003, "info": {"default": {"entropy": 1.2913470268249512, "total_loss": 23.39271354675293, "vf_loss": 23.399044036865234, "policy_loss": -0.009959829971194267, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8817774057388306, "cur_lr": 0.0005000000237487257, "kl": 0.016133418306708336}, "load_time_ms": 9.174, "num_steps_trained": 4215673, "grad_time_ms": 16488.082, "num_steps_sampled": 4215673, "sample_time_ms": 30202.703, "update_time_ms": 7.279}, "time_since_restore": 3150.2953474521637, "timesteps_total": 4215673, "episode_len_mean": 678.76, "episodes_total": 1848, "episode_reward_mean": 817.4849186241225, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.491785764694214, "iterations_since_restore": 65, "training_iteration": 65, "timesteps_since_restore": 4215673, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65013, "custom_metrics": {"system_level_velocity_min": 9.402589661564436, "outflow_rate_max": 1225.5099691613448, "system_level_velocity_max": 17.995234587996073, "cost1_mean": 330.1839007809625, "outflow_rate_mean": 1063.7706292591147, "cost1_min": 19.343375064598376, "cost2_min": -135.94059303020168, "cost1_max": 428.2330251301497, "outflow_rate_min": 470.8426278122925, "cost2_max": -12.648392459168068, "cost2_mean": -81.13390288077154, "system_level_velocity_mean": 13.060859647978052}, "episode_reward_min": 37.27791430589378, "date": "2019-05-20_06-31-48", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f630>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3195.638306617737, "episodes_this_iter": 28, "timestamp": 1558333954, "episode_reward_max": 1109.0056704982003, "info": {"default": {"entropy": 1.3136080503463745, "total_loss": 23.508989334106445, "vf_loss": 23.5161190032959, "policy_loss": -0.011150917038321495, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8719242811203003, "cur_lr": 0.0005000000237487257, "kl": 0.017865952104330063}, "load_time_ms": 9.161, "num_steps_trained": 4280289, "grad_time_ms": 16470.432, "num_steps_sampled": 4280289, "sample_time_ms": 30158.542, "update_time_ms": 7.223}, "time_since_restore": 3195.638306617737, "timesteps_total": 4280289, "episode_len_mean": 678.76, "episodes_total": 1876, "episode_reward_mean": 806.7126773845471, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.34295916557312, "iterations_since_restore": 66, "training_iteration": 66, "timesteps_since_restore": 4280289, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64616, "custom_metrics": {"system_level_velocity_min": 9.402589661564436, "outflow_rate_max": 1225.5099691613448, "system_level_velocity_max": 17.995234587996073, "cost1_mean": 327.350763685629, "outflow_rate_mean": 1057.5628474968419, "cost1_min": 19.343375064598376, "cost2_min": -124.32022148535188, "cost1_max": 428.2330251301497, "outflow_rate_min": 470.8426278122925, "cost2_max": -12.648392459168068, "cost2_mean": -80.30875968780458, "system_level_velocity_mean": 12.980223173744069}, "episode_reward_min": 37.27791430589378, "date": "2019-05-20_06-32-34", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6940>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3242.638116836548, "episodes_this_iter": 29, "timestamp": 1558334001, "episode_reward_max": 1109.0056704982003, "info": {"default": {"entropy": 1.3029452562332153, "total_loss": 23.280628204345703, "vf_loss": 23.285768508911133, "policy_loss": -0.008373522199690342, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8749698400497437, "cur_lr": 0.0005000000237487257, "kl": 0.014358947984874249}, "load_time_ms": 9.159, "num_steps_trained": 4346663, "grad_time_ms": 16439.846, "num_steps_sampled": 4346663, "sample_time_ms": 30110.985, "update_time_ms": 7.284}, "time_since_restore": 3242.638116836548, "timesteps_total": 4346663, "episode_len_mean": 695.28, "episodes_total": 1905, "episode_reward_mean": 843.6870992252693, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.999810218811035, "iterations_since_restore": 67, "training_iteration": 67, "timesteps_since_restore": 4346663, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66374, "custom_metrics": {"system_level_velocity_min": 10.178102906814612, "outflow_rate_max": 1225.5099691613448, "system_level_velocity_max": 17.222773992897796, "cost1_mean": 342.54218906049084, "outflow_rate_mean": 1082.2808292087457, "cost1_min": 146.38037133042425, "cost2_min": -125.14001582643681, "cost1_max": 426.3754945488036, "outflow_rate_min": 837.4435714383167, "cost2_max": -25.181454678164453, "cost2_mean": -80.43299743978609, "system_level_velocity_mean": 13.14977426025456}, "episode_reward_min": 321.14038163314945, "date": "2019-05-20_06-33-21", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8edde4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8eddebe0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3289.35964345932, "episodes_this_iter": 30, "timestamp": 1558334048, "episode_reward_max": 1109.0056704982003, "info": {"default": {"entropy": 1.2873114347457886, "total_loss": 24.053939819335938, "vf_loss": 24.06040382385254, "policy_loss": -0.010071138851344585, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8826799988746643, "cur_lr": 0.0005000000237487257, "kl": 0.01603258214890957}, "load_time_ms": 9.023, "num_steps_trained": 4411337, "grad_time_ms": 16472.253, "num_steps_sampled": 4411337, "sample_time_ms": 30135.703, "update_time_ms": 7.256}, "time_since_restore": 3289.35964345932, "timesteps_total": 4411337, "episode_len_mean": 700.0, "episodes_total": 1935, "episode_reward_mean": 848.487663358902, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.72152662277222, "iterations_since_restore": 68, "training_iteration": 68, "timesteps_since_restore": 4411337, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64674, "custom_metrics": {"system_level_velocity_min": 10.178102906814612, "outflow_rate_max": 1225.5099691613448, "system_level_velocity_max": 16.234191822453546, "cost1_mean": 345.56348579391147, "outflow_rate_mean": 1085.5496295995843, "cost1_min": 262.1284402900505, "cost2_min": -125.14001582643681, "cost1_max": 429.51103451469146, "outflow_rate_min": 898.6046643274943, "cost2_max": -39.82659883043539, "cost2_mean": -80.80821408871839, "system_level_velocity_mean": 13.142153160886085}, "episode_reward_min": 681.3042454049549, "date": "2019-05-20_06-34-08", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f2e8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3336.5031173229218, "episodes_this_iter": 29, "timestamp": 1558334095, "episode_reward_max": 1064.6245347568986, "info": {"default": {"entropy": 1.3292521238327026, "total_loss": 24.83591079711914, "vf_loss": 24.842472076416016, "policy_loss": -0.010308370925486088, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8658140897750854, "cur_lr": 0.0005000000237487257, "kl": 0.016656506806612015}, "load_time_ms": 8.816, "num_steps_trained": 4477721, "grad_time_ms": 16580.904, "num_steps_sampled": 4477721, "sample_time_ms": 30011.486, "update_time_ms": 7.273}, "time_since_restore": 3336.5031173229218, "timesteps_total": 4477721, "episode_len_mean": 693.25, "episodes_total": 1964, "episode_reward_mean": 838.0892412058654, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.143473863601685, "iterations_since_restore": 69, "training_iteration": 69, "timesteps_since_restore": 4477721, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66384, "custom_metrics": {"system_level_velocity_min": 10.178102906814612, "outflow_rate_max": 1223.6224249992888, "system_level_velocity_max": 17.9483953988218, "cost1_mean": 340.5677932332975, "outflow_rate_mean": 1074.7898187561216, "cost1_min": 16.728561018943182, "cost2_min": -125.14001582643681, "cost1_max": 429.51103451469146, "outflow_rate_min": 482.873066148424, "cost2_max": -11.533559754294624, "cost2_mean": -79.94667832324403, "system_level_velocity_mean": 13.123266321713322}, "episode_reward_min": 43.89683425574128, "date": "2019-05-20_06-34-55", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f320>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3381.6990027427673, "episodes_this_iter": 27, "timestamp": 1558334140, "episode_reward_max": 1063.1296309942716, "info": {"default": {"entropy": 1.3212063312530518, "total_loss": 22.415443420410156, "vf_loss": 22.422449111938477, "policy_loss": -0.01084965467453003, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.888760507106781, "cur_lr": 0.0005000000237487257, "kl": 0.01708945818245411}, "load_time_ms": 8.87, "num_steps_trained": 4541134, "grad_time_ms": 16544.634, "num_steps_sampled": 4541134, "sample_time_ms": 29897.546, "update_time_ms": 7.219}, "time_since_restore": 3381.6990027427673, "timesteps_total": 4541134, "episode_len_mean": 686.5, "episodes_total": 1991, "episode_reward_mean": 829.5244924422273, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.19588541984558, "iterations_since_restore": 70, "training_iteration": 70, "timesteps_since_restore": 4541134, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63413, "custom_metrics": {"system_level_velocity_min": 10.171669744024275, "outflow_rate_max": 1220.8076487047542, "system_level_velocity_max": 17.957912392137942, "cost1_mean": 336.0693093423577, "outflow_rate_mean": 1065.8502565767292, "cost1_min": 16.728561018943182, "cost2_min": -125.14001582643681, "cost1_max": 429.51103451469146, "outflow_rate_min": 468.19277766709695, "cost2_max": -11.533559754294624, "cost2_mean": -77.83424393613271, "system_level_velocity_mean": 13.123153848937276}, "episode_reward_min": 35.81120726146869, "date": "2019-05-20_06-35-40", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f160>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3429.888608932495, "episodes_this_iter": 29, "timestamp": 1558334188, "episode_reward_max": 1127.7836058268906, "info": {"default": {"entropy": 1.336257815361023, "total_loss": 25.150217056274414, "vf_loss": 25.157150268554688, "policy_loss": -0.010803488083183765, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8621630072593689, "cur_lr": 0.0005000000237487257, "kl": 0.017198098823428154}, "load_time_ms": 8.931, "num_steps_trained": 4606805, "grad_time_ms": 16458.23, "num_steps_sampled": 4606805, "sample_time_ms": 30029.22, "update_time_ms": 7.136}, "time_since_restore": 3429.888608932495, "timesteps_total": 4606805, "episode_len_mean": 686.5, "episodes_total": 2020, "episode_reward_mean": 828.8548499555229, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.18960618972778, "iterations_since_restore": 71, "training_iteration": 71, "timesteps_since_restore": 4606805, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65671, "custom_metrics": {"system_level_velocity_min": 9.901833021925937, "outflow_rate_max": 1216.1243722801958, "system_level_velocity_max": 17.957912392137942, "cost1_mean": 337.62656244892065, "outflow_rate_mean": 1069.753438581578, "cost1_min": 16.728561018943182, "cost2_min": -118.17146173143084, "cost1_max": 429.51103451469146, "outflow_rate_min": 468.19277766709695, "cost2_max": -11.533559754294624, "cost2_mean": -76.46915301810708, "system_level_velocity_mean": 13.17817012297121}, "episode_reward_min": 35.81120726146869, "date": "2019-05-20_06-36-28", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fdd8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3475.582680463791, "episodes_this_iter": 29, "timestamp": 1558334234, "episode_reward_max": 1127.7836058268906, "info": {"default": {"entropy": 1.3156158924102783, "total_loss": 28.119653701782227, "vf_loss": 28.127145767211914, "policy_loss": -0.011629024520516396, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8560552597045898, "cur_lr": 0.0005000000237487257, "kl": 0.01837366260588169}, "load_time_ms": 9.037, "num_steps_trained": 4671606, "grad_time_ms": 16511.189, "num_steps_sampled": 4671606, "sample_time_ms": 29839.619, "update_time_ms": 7.161}, "time_since_restore": 3475.582680463791, "timesteps_total": 4671606, "episode_len_mean": 679.66, "episodes_total": 2049, "episode_reward_mean": 821.7426130497774, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.694071531295776, "iterations_since_restore": 72, "training_iteration": 72, "timesteps_since_restore": 4671606, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64801, "custom_metrics": {"system_level_velocity_min": 9.901833021925937, "outflow_rate_max": 1216.1243722801958, "system_level_velocity_max": 17.957912392137942, "cost1_mean": 329.4439060997946, "outflow_rate_mean": 1054.6033653225154, "cost1_min": 10.340832437445517, "cost2_min": -117.83666472431035, "cost1_max": 428.80432266868945, "outflow_rate_min": 455.20282093948606, "cost2_max": -6.574268348380668, "cost2_mean": -75.47208048573928, "system_level_velocity_mean": 13.047942137780533}, "episode_reward_min": 20.734641045490388, "date": "2019-05-20_06-37-14", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f438>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3521.0609092712402, "episodes_this_iter": 30, "timestamp": 1558334279, "episode_reward_max": 1127.7836058268906, "info": {"default": {"entropy": 1.2969387769699097, "total_loss": 27.0089111328125, "vf_loss": 27.016136169433594, "policy_loss": -0.01120427343994379, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8602697849273682, "cur_lr": 0.0005000000237487257, "kl": 0.017695900052785873}, "load_time_ms": 8.897, "num_steps_trained": 4733417, "grad_time_ms": 16450.805, "num_steps_sampled": 4733417, "sample_time_ms": 29748.828, "update_time_ms": 7.159}, "time_since_restore": 3521.0609092712402, "timesteps_total": 4733417, "episode_len_mean": 686.46, "episodes_total": 2079, "episode_reward_mean": 833.104026194109, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.47822880744934, "iterations_since_restore": 73, "training_iteration": 73, "timesteps_since_restore": 4733417, "num_metric_batches_dropped": 0, "timesteps_this_iter": 61811, "custom_metrics": {"system_level_velocity_min": 9.901833021925937, "outflow_rate_max": 1231.2738423788683, "system_level_velocity_max": 17.78183507834869, "cost1_mean": 335.5762623847716, "outflow_rate_mean": 1066.4588243120224, "cost1_min": 10.340832437445517, "cost2_min": -117.83666472431035, "cost1_max": 439.45352991060116, "outflow_rate_min": 455.20282093948606, "cost2_max": -6.574268348380668, "cost2_mean": -76.57958734118061, "system_level_velocity_mean": 13.1120608480452}, "episode_reward_min": 20.734641045490388, "date": "2019-05-20_06-37-59", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51ff98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51feb8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3567.0706717967987, "episodes_this_iter": 28, "timestamp": 1558334326, "episode_reward_max": 1078.3700080433268, "info": {"default": {"entropy": 1.296666145324707, "total_loss": 27.363426208496094, "vf_loss": 27.370609283447266, "policy_loss": -0.011110246181488037, "cur_kl_coeff": 0.22499999403953552, "vf_explained_var": 0.8538016080856323, "cur_lr": 0.0005000000237487257, "kl": 0.017464032396674156}, "load_time_ms": 8.636, "num_steps_trained": 4797394, "grad_time_ms": 16606.856, "num_steps_sampled": 4797394, "sample_time_ms": 29595.034, "update_time_ms": 7.125}, "time_since_restore": 3567.0706717967987, "timesteps_total": 4797394, "episode_len_mean": 681.54, "episodes_total": 2107, "episode_reward_mean": 829.3146233381677, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.00976252555847, "iterations_since_restore": 74, "training_iteration": 74, "timesteps_since_restore": 4797394, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63977, "custom_metrics": {"system_level_velocity_min": 9.901833021925937, "outflow_rate_max": 1235.9263178459987, "system_level_velocity_max": 17.78183507834869, "cost1_mean": 334.92133588047204, "outflow_rate_mean": 1067.0759604383982, "cost1_min": 10.340832437445517, "cost2_min": -117.83666472431035, "cost1_max": 439.45352991060116, "outflow_rate_min": 455.20282093948606, "cost2_max": -6.574268348380668, "cost2_mean": -76.57878055710668, "system_level_velocity_mean": 13.212899892181502}, "episode_reward_min": 20.734641045490388, "date": "2019-05-20_06-38-46", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f4a8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3613.6154415607452, "episodes_this_iter": 29, "timestamp": 1558334372, "episode_reward_max": 1078.3700080433268, "info": {"default": {"entropy": 1.3185771703720093, "total_loss": 24.839380264282227, "vf_loss": 24.84746551513672, "policy_loss": -0.012363403104245663, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8545423150062561, "cur_lr": 0.0005000000237487257, "kl": 0.01902388408780098}, "load_time_ms": 8.506, "num_steps_trained": 4860616, "grad_time_ms": 16616.05, "num_steps_sampled": 4860616, "sample_time_ms": 29591.615, "update_time_ms": 7.255}, "time_since_restore": 3613.6154415607452, "timesteps_total": 4860616, "episode_len_mean": 681.76, "episodes_total": 2136, "episode_reward_mean": 838.0728000676874, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.54476976394653, "iterations_since_restore": 75, "training_iteration": 75, "timesteps_since_restore": 4860616, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63222, "custom_metrics": {"system_level_velocity_min": 10.077806314924164, "outflow_rate_max": 1235.9263178459987, "system_level_velocity_max": 18.31279991555765, "cost1_mean": 338.80266202337225, "outflow_rate_mean": 1072.527751661761, "cost1_min": 19.95056897411628, "cost2_min": -117.83666472431035, "cost1_max": 442.25516922306065, "outflow_rate_min": 477.162188311727, "cost2_max": -13.031759460921718, "cost2_mean": -76.09362329847073, "system_level_velocity_mean": 13.3870348820724}, "episode_reward_min": 40.12170094738288, "date": "2019-05-20_06-39-32", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6358>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3659.4967663288116, "episodes_this_iter": 30, "timestamp": 1558334418, "episode_reward_max": 1047.5623120252135, "info": {"default": {"entropy": 1.3086236715316772, "total_loss": 28.588560104370117, "vf_loss": 28.595003128051758, "policy_loss": -0.010603824630379677, "cur_kl_coeff": 0.22499996423721313, "vf_explained_var": 0.8309487700462341, "cur_lr": 0.0005000000237487257, "kl": 0.018490713089704514}, "load_time_ms": 8.485, "num_steps_trained": 4925987, "grad_time_ms": 16783.305, "num_steps_sampled": 4925987, "sample_time_ms": 29478.231, "update_time_ms": 7.309}, "time_since_restore": 3659.4967663288116, "timesteps_total": 4925987, "episode_len_mean": 688.46, "episodes_total": 2166, "episode_reward_mean": 845.6919305159421, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.881324768066406, "iterations_since_restore": 76, "training_iteration": 76, "timesteps_since_restore": 4925987, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65371, "custom_metrics": {"system_level_velocity_min": 10.077806314924164, "outflow_rate_max": 1235.9263178459987, "system_level_velocity_max": 18.31279991555765, "cost1_mean": 341.2208820053762, "outflow_rate_mean": 1076.0419347525344, "cost1_min": 25.381539080789224, "cost2_min": -111.15437849065854, "cost1_max": 442.25516922306065, "outflow_rate_min": 520.6489906177208, "cost2_max": -15.726981400840176, "cost2_mean": -74.93557722441034, "system_level_velocity_mean": 13.330410730000168}, "episode_reward_min": 48.39041297029307, "date": "2019-05-20_06-40-18", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6eb8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3706.755680322647, "episodes_this_iter": 29, "timestamp": 1558334465, "episode_reward_max": 1047.5623120252135, "info": {"default": {"entropy": 1.3099344968795776, "total_loss": 25.929780960083008, "vf_loss": 25.936132431030273, "policy_loss": -0.010869302786886692, "cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.8374021053314209, "cur_lr": 0.0005000000237487257, "kl": 0.020076796412467957}, "load_time_ms": 8.498, "num_steps_trained": 4989761, "grad_time_ms": 16850.888, "num_steps_sampled": 4989761, "sample_time_ms": 29436.215, "update_time_ms": 7.279}, "time_since_restore": 3706.755680322647, "timesteps_total": 4989761, "episode_len_mean": 682.54, "episodes_total": 2195, "episode_reward_mean": 833.7285628085897, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.25891399383545, "iterations_since_restore": 77, "training_iteration": 77, "timesteps_since_restore": 4989761, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63774, "custom_metrics": {"system_level_velocity_min": 9.999521215820925, "outflow_rate_max": 1235.9263178459987, "system_level_velocity_max": 18.31279991555765, "cost1_mean": 337.1798500623115, "outflow_rate_mean": 1069.3416188696401, "cost1_min": 25.381539080789224, "cost2_min": -111.15437849065854, "cost1_max": 442.25516922306065, "outflow_rate_min": 520.6489906177208, "cost2_max": -15.726981400840176, "cost2_mean": -73.82321174628142, "system_level_velocity_mean": 13.330703475745088}, "episode_reward_min": 48.39041297029307, "date": "2019-05-20_06-41-05", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51ff98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f898>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3754.073359489441, "episodes_this_iter": 30, "timestamp": 1558334513, "episode_reward_max": 1045.889724146005, "info": {"default": {"entropy": 1.3248671293258667, "total_loss": 27.334030151367188, "vf_loss": 27.339773178100586, "policy_loss": -0.010448995046317577, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8319797515869141, "cur_lr": 0.0005000000237487257, "kl": 0.013940955512225628}, "load_time_ms": 8.658, "num_steps_trained": 5056337, "grad_time_ms": 17039.795, "num_steps_sampled": 5056337, "sample_time_ms": 29306.945, "update_time_ms": 7.325}, "time_since_restore": 3754.073359489441, "timesteps_total": 5056337, "episode_len_mean": 682.68, "episodes_total": 2225, "episode_reward_mean": 829.8669880120941, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.31767916679382, "iterations_since_restore": 78, "training_iteration": 78, "timesteps_since_restore": 5056337, "num_metric_batches_dropped": 0, "timesteps_this_iter": 66576, "custom_metrics": {"system_level_velocity_min": 9.330564258403403, "outflow_rate_max": 1231.0141826789818, "system_level_velocity_max": 18.627968604244945, "cost1_mean": 335.1965892091579, "outflow_rate_mean": 1065.78622985775, "cost1_min": 18.839574743926935, "cost2_min": -106.86283996434278, "cost1_max": 442.10715612738386, "outflow_rate_min": 483.6008337053376, "cost2_max": -14.148990198853634, "cost2_mean": -73.78980537026355, "system_level_velocity_mean": 13.25572830550475}, "episode_reward_min": 35.564493201191915, "date": "2019-05-20_06-41-53", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fe80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fd30>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3803.300300836563, "episodes_this_iter": 29, "timestamp": 1558334562, "episode_reward_max": 1041.410805469489, "info": {"default": {"entropy": 1.3401819467544556, "total_loss": 24.844825744628906, "vf_loss": 24.850610733032227, "policy_loss": -0.010355310514569283, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8383747339248657, "cur_lr": 0.0005000000237487257, "kl": 0.013537262566387653}, "load_time_ms": 8.801, "num_steps_trained": 5121265, "grad_time_ms": 17111.788, "num_steps_sampled": 5121265, "sample_time_ms": 29443.044, "update_time_ms": 7.391}, "time_since_restore": 3803.300300836563, "timesteps_total": 5121265, "episode_len_mean": 682.68, "episodes_total": 2254, "episode_reward_mean": 826.6491759411042, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 49.22694134712219, "iterations_since_restore": 79, "training_iteration": 79, "timesteps_since_restore": 5121265, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64928, "custom_metrics": {"system_level_velocity_min": 9.330564258403403, "outflow_rate_max": 1231.0141826789818, "system_level_velocity_max": 18.627968604244945, "cost1_mean": 331.4291125302134, "outflow_rate_mean": 1058.1268000971993, "cost1_min": 18.839574743926935, "cost2_min": -106.86283996434278, "cost1_max": 442.10715612738386, "outflow_rate_min": 483.6008337053376, "cost2_max": -14.148990198853634, "cost2_mean": -74.33782397201993, "system_level_velocity_mean": 13.12768982255872}, "episode_reward_min": 35.564493201191915, "date": "2019-05-20_06-42-42", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f320>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3849.8034193515778, "episodes_this_iter": 29, "timestamp": 1558334609, "episode_reward_max": 1045.8021696125898, "info": {"default": {"entropy": 1.3093676567077637, "total_loss": 26.427528381347656, "vf_loss": 26.432918548583984, "policy_loss": -0.009900609962642193, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8404589891433716, "cur_lr": 0.0005000000237487257, "kl": 0.013366302475333214}, "load_time_ms": 8.7, "num_steps_trained": 5185744, "grad_time_ms": 17274.906, "num_steps_sampled": 5185744, "sample_time_ms": 29411.682, "update_time_ms": 7.446}, "time_since_restore": 3849.8034193515778, "timesteps_total": 5185744, "episode_len_mean": 675.91, "episodes_total": 2283, "episode_reward_mean": 820.4363458555354, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.50311851501465, "iterations_since_restore": 80, "training_iteration": 80, "timesteps_since_restore": 5185744, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64479, "custom_metrics": {"system_level_velocity_min": 9.330564258403403, "outflow_rate_max": 1231.0141826789818, "system_level_velocity_max": 18.627968604244945, "cost1_mean": 328.88870466930786, "outflow_rate_mean": 1052.955861491392, "cost1_min": 15.220293201379691, "cost2_min": -109.19834091669907, "cost1_max": 447.37633819330404, "outflow_rate_min": 476.4898462992569, "cost2_max": -10.917271609066102, "cost2_mean": -72.63042670000345, "system_level_velocity_mean": 13.209025111239125}, "episode_reward_min": 35.564493201191915, "date": "2019-05-20_06-43-29", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fe10>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3898.010794401169, "episodes_this_iter": 28, "timestamp": 1558334657, "episode_reward_max": 1045.8021696125898, "info": {"default": {"entropy": 1.3253724575042725, "total_loss": 24.397809982299805, "vf_loss": 24.403228759765625, "policy_loss": -0.010486520826816559, "cur_kl_coeff": 0.33750009536743164, "vf_explained_var": 0.8508162498474121, "cur_lr": 0.0005000000237487257, "kl": 0.015028359368443489}, "load_time_ms": 8.546, "num_steps_trained": 5248013, "grad_time_ms": 17428.53, "num_steps_sampled": 5248013, "sample_time_ms": 29260.511, "update_time_ms": 7.541}, "time_since_restore": 3898.010794401169, "timesteps_total": 5248013, "episode_len_mean": 686.52, "episodes_total": 2311, "episode_reward_mean": 837.3557234788859, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.207375049591064, "iterations_since_restore": 81, "training_iteration": 81, "timesteps_since_restore": 5248013, "num_metric_batches_dropped": 0, "timesteps_this_iter": 62269, "custom_metrics": {"system_level_velocity_min": 9.95654383884195, "outflow_rate_max": 1212.9141706354137, "system_level_velocity_max": 18.27329139043817, "cost1_mean": 335.6650603093414, "outflow_rate_mean": 1061.391535850005, "cost1_min": 15.220293201379691, "cost2_min": -109.19834091669907, "cost1_max": 447.37633819330404, "outflow_rate_min": 476.4898462992569, "cost2_max": -10.917271609066102, "cost2_mean": -72.81065460348432, "system_level_velocity_mean": 13.197740082345867}, "episode_reward_min": 36.399760886770274, "date": "2019-05-20_06-44-17", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f7f0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3944.6499106884003, "episodes_this_iter": 30, "timestamp": 1558334703, "episode_reward_max": 1118.8432992556031, "info": {"default": {"entropy": 1.318154215812683, "total_loss": 28.082502365112305, "vf_loss": 28.08930015563965, "policy_loss": -0.011396805755794048, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8283336758613586, "cur_lr": 0.0005000000237487257, "kl": 0.013622649945318699}, "load_time_ms": 8.429, "num_steps_trained": 5312810, "grad_time_ms": 17571.058, "num_steps_sampled": 5312810, "sample_time_ms": 29212.047, "update_time_ms": 7.556}, "time_since_restore": 3944.6499106884003, "timesteps_total": 5312810, "episode_len_mean": 680.8, "episodes_total": 2341, "episode_reward_mean": 828.9294832717566, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.639116287231445, "iterations_since_restore": 82, "training_iteration": 82, "timesteps_since_restore": 5312810, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64797, "custom_metrics": {"system_level_velocity_min": 9.95654383884195, "outflow_rate_max": 1222.3525261462498, "system_level_velocity_max": 18.27329139043817, "cost1_mean": 335.5889634029782, "outflow_rate_mean": 1059.9009890604946, "cost1_min": 15.220293201379691, "cost2_min": -109.19834091669907, "cost1_max": 447.37633819330404, "outflow_rate_min": 476.4898462992569, "cost2_max": -10.917271609066102, "cost2_mean": -70.56738546744891, "system_level_velocity_mean": 13.3385292836806}, "episode_reward_min": 36.399760886770274, "date": "2019-05-20_06-45-03", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a60b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ce358>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 3990.6249520778656, "episodes_this_iter": 33, "timestamp": 1558334749, "episode_reward_max": 1118.8432992556031, "info": {"default": {"entropy": 1.3083289861679077, "total_loss": 28.320545196533203, "vf_loss": 28.326257705688477, "policy_loss": -0.010494774207472801, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8141636848449707, "cur_lr": 0.0005000000237487257, "kl": 0.01416862104088068}, "load_time_ms": 8.318, "num_steps_trained": 5376583, "grad_time_ms": 17705.861, "num_steps_sampled": 5376583, "sample_time_ms": 29125.771, "update_time_ms": 7.605}, "time_since_restore": 3990.6249520778656, "timesteps_total": 5376583, "episode_len_mean": 687.57, "episodes_total": 2374, "episode_reward_mean": 841.9566597301726, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.97504138946533, "iterations_since_restore": 83, "training_iteration": 83, "timesteps_since_restore": 5376583, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63773, "custom_metrics": {"system_level_velocity_min": 10.419247306615864, "outflow_rate_max": 1222.3525261462498, "system_level_velocity_max": 18.27329139043817, "cost1_mean": 340.9606706065445, "outflow_rate_mean": 1067.4404294948895, "cost1_min": 19.465296412840456, "cost2_min": -109.19834091669907, "cost1_max": 441.42674353337577, "outflow_rate_min": 495.033560358786, "cost2_max": -12.852794003733186, "cost2_mean": -69.3086643217331, "system_level_velocity_mean": 13.374431851893723}, "episode_reward_min": 36.399760886770274, "date": "2019-05-20_06-45-49", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51ff60>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4036.4404771327972, "episodes_this_iter": 27, "timestamp": 1558334795, "episode_reward_max": 1118.8432992556031, "info": {"default": {"entropy": 1.3219475746154785, "total_loss": 24.367422103881836, "vf_loss": 24.373077392578125, "policy_loss": -0.010430721566081047, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8480057120323181, "cur_lr": 0.0005000000237487257, "kl": 0.014148428104817867}, "load_time_ms": 8.304, "num_steps_trained": 5441491, "grad_time_ms": 17710.49, "num_steps_sampled": 5441491, "sample_time_ms": 29101.691, "update_time_ms": 7.926}, "time_since_restore": 4036.4404771327972, "timesteps_total": 5441491, "episode_len_mean": 694.28, "episodes_total": 2401, "episode_reward_mean": 842.9850105583911, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.81552505493164, "iterations_since_restore": 84, "training_iteration": 84, "timesteps_since_restore": 5441491, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64908, "custom_metrics": {"system_level_velocity_min": 10.405050605636378, "outflow_rate_max": 1222.3525261462498, "system_level_velocity_max": 18.091375072974504, "cost1_mean": 340.26523102245164, "outflow_rate_mean": 1066.8155579558404, "cost1_min": 84.81433593818535, "cost2_min": -106.87686161800046, "cost1_max": 441.42674353337577, "outflow_rate_min": 724.9510733519955, "cost2_max": -25.205854332559202, "cost2_mean": -70.73836016960269, "system_level_velocity_mean": 13.175993825721571}, "episode_reward_min": 192.53149022085609, "date": "2019-05-20_06-46-35", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fd68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fc18>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4082.407954454422, "episodes_this_iter": 28, "timestamp": 1558334841, "episode_reward_max": 1118.8432992556031, "info": {"default": {"entropy": 1.3022518157958984, "total_loss": 24.928165435791016, "vf_loss": 24.93331527709961, "policy_loss": -0.010092468932271004, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8482181429862976, "cur_lr": 0.0005000000237487257, "kl": 0.01464680302888155}, "load_time_ms": 8.295, "num_steps_trained": 5504414, "grad_time_ms": 17721.775, "num_steps_sampled": 5504414, "sample_time_ms": 29030.833, "update_time_ms": 7.871}, "time_since_restore": 4082.407954454422, "timesteps_total": 5504414, "episode_len_mean": 694.28, "episodes_total": 2429, "episode_reward_mean": 849.9566820525529, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.967477321624756, "iterations_since_restore": 85, "training_iteration": 85, "timesteps_since_restore": 5504414, "num_metric_batches_dropped": 0, "timesteps_this_iter": 62923, "custom_metrics": {"system_level_velocity_min": 9.54770753172966, "outflow_rate_max": 1224.2612611794598, "system_level_velocity_max": 18.091375072974504, "cost1_mean": 343.4214041548496, "outflow_rate_mean": 1071.9294675839067, "cost1_min": 84.81433593818535, "cost2_min": -106.87686161800046, "cost1_max": 444.95183376742807, "outflow_rate_min": 724.9510733519955, "cost2_max": -25.205854332559202, "cost2_mean": -68.63808739101133, "system_level_velocity_mean": 13.306196464675525}, "episode_reward_min": 192.53149022085609, "date": "2019-05-20_06-47-21", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fe80>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4128.13945889473, "episodes_this_iter": 28, "timestamp": 1558334887, "episode_reward_max": 1098.5218127993512, "info": {"default": {"entropy": 1.3285267353057861, "total_loss": 23.717716217041016, "vf_loss": 23.724018096923828, "policy_loss": -0.011031899601221085, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8418444395065308, "cur_lr": 0.0005000000237487257, "kl": 0.01402174960821867}, "load_time_ms": 8.299, "num_steps_trained": 5568686, "grad_time_ms": 17578.754, "num_steps_sampled": 5568686, "sample_time_ms": 29157.981, "update_time_ms": 7.974}, "time_since_restore": 4128.13945889473, "timesteps_total": 5568686, "episode_len_mean": 700.0, "episodes_total": 2457, "episode_reward_mean": 856.5727351302587, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.73150444030762, "iterations_since_restore": 86, "training_iteration": 86, "timesteps_since_restore": 5568686, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64272, "custom_metrics": {"system_level_velocity_min": 9.54770753172966, "outflow_rate_max": 1224.2612611794598, "system_level_velocity_max": 16.98380763792792, "cost1_mean": 351.1745579055781, "outflow_rate_mean": 1084.7303940914294, "cost1_min": 250.1488505935595, "cost2_min": -106.87686161800046, "cost1_max": 444.95183376742807, "outflow_rate_min": 913.8950434491372, "cost2_max": -36.94927201315373, "cost2_mean": -68.78268386430094, "system_level_velocity_mean": 13.456758685966964}, "episode_reward_min": 698.898694217144, "date": "2019-05-20_06-48-07", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5905c0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4175.643938302994, "episodes_this_iter": 30, "timestamp": 1558334935, "episode_reward_max": 1098.5218127993512, "info": {"default": {"entropy": 1.3517838716506958, "total_loss": 26.063264846801758, "vf_loss": 26.069433212280273, "policy_loss": -0.01114831492304802, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8408255577087402, "cur_lr": 0.0005000000237487257, "kl": 0.014753855764865875}, "load_time_ms": 8.182, "num_steps_trained": 5632454, "grad_time_ms": 17567.69, "num_steps_sampled": 5632454, "sample_time_ms": 29192.548, "update_time_ms": 8.042}, "time_since_restore": 4175.643938302994, "timesteps_total": 5632454, "episode_len_mean": 686.47, "episodes_total": 2487, "episode_reward_mean": 841.6742042842861, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.50447940826416, "iterations_since_restore": 87, "training_iteration": 87, "timesteps_since_restore": 5632454, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63768, "custom_metrics": {"system_level_velocity_min": 9.54770753172966, "outflow_rate_max": 1224.2612611794598, "system_level_velocity_max": 18.195087218496283, "cost1_mean": 341.0766170602227, "outflow_rate_mean": 1066.5174284650416, "cost1_min": 10.884625989578174, "cost2_min": -106.87686161800046, "cost1_max": 444.95183376742807, "outflow_rate_min": 413.7781267186755, "cost2_max": -10.910333861299526, "cost2_mean": -69.65491371680281, "system_level_velocity_mean": 13.427246230832386}, "episode_reward_min": 22.046721196190823, "date": "2019-05-20_06-48-55", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a61d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6b00>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4225.6881194114685, "episodes_this_iter": 29, "timestamp": 1558334985, "episode_reward_max": 1098.5218127993512, "info": {"default": {"entropy": 1.369127869606018, "total_loss": 23.758136749267578, "vf_loss": 23.76352882385254, "policy_loss": -0.010078917257487774, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8481709957122803, "cur_lr": 0.0005000000237487257, "kl": 0.013888548128306866}, "load_time_ms": 8.147, "num_steps_trained": 5697143, "grad_time_ms": 17440.768, "num_steps_sampled": 5697143, "sample_time_ms": 29592.738, "update_time_ms": 8.008}, "time_since_restore": 4225.6881194114685, "timesteps_total": 5697143, "episode_len_mean": 686.47, "episodes_total": 2516, "episode_reward_mean": 834.9354383172058, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 50.04418110847473, "iterations_since_restore": 88, "training_iteration": 88, "timesteps_since_restore": 5697143, "num_metric_batches_dropped": 0, "timesteps_this_iter": 64689, "custom_metrics": {"system_level_velocity_min": 10.268691325916775, "outflow_rate_max": 1224.2612611794598, "system_level_velocity_max": 18.195087218496283, "cost1_mean": 340.11290415529845, "outflow_rate_mean": 1064.1285549638203, "cost1_min": 10.884625989578174, "cost2_min": -103.26167289694405, "cost1_max": 444.95183376742807, "outflow_rate_min": 413.7781267186755, "cost2_max": -10.910333861299526, "cost2_mean": -70.91605051308463, "system_level_velocity_mean": 13.385541936406236}, "episode_reward_min": 22.046721196190823, "date": "2019-05-20_06-49-45", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58eb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e58e978>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4272.4390778541565, "episodes_this_iter": 27, "timestamp": 1558335032, "episode_reward_max": 1072.1990724198783, "info": {"default": {"entropy": 1.3462868928909302, "total_loss": 23.41787338256836, "vf_loss": 23.423442840576172, "policy_loss": -0.010072831995785236, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8613274693489075, "cur_lr": 0.0005000000237487257, "kl": 0.01333572156727314}, "load_time_ms": 7.998, "num_steps_trained": 5762169, "grad_time_ms": 17406.279, "num_steps_sampled": 5762169, "sample_time_ms": 29378.326, "update_time_ms": 7.995}, "time_since_restore": 4272.4390778541565, "timesteps_total": 5762169, "episode_len_mean": 686.47, "episodes_total": 2543, "episode_reward_mean": 826.1041253245729, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.75095844268799, "iterations_since_restore": 89, "training_iteration": 89, "timesteps_since_restore": 5762169, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65026, "custom_metrics": {"system_level_velocity_min": 10.287722329509679, "outflow_rate_max": 1223.2535987424678, "system_level_velocity_max": 18.195087218496283, "cost1_mean": 335.85361645887593, "outflow_rate_mean": 1058.1052169706836, "cost1_min": 10.884625989578174, "cost2_min": -108.44212578646037, "cost1_max": 437.54549064210397, "outflow_rate_min": 413.7781267186755, "cost2_max": -10.910333861299526, "cost2_mean": -72.20795777966215, "system_level_velocity_mean": 13.216770764147585}, "episode_reward_min": 22.046721196190823, "date": "2019-05-20_06-50-32", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5260b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5260f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e526080>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4318.638011217117, "episodes_this_iter": 29, "timestamp": 1558335078, "episode_reward_max": 1063.207753475808, "info": {"default": {"entropy": 1.3579715490341187, "total_loss": 22.675437927246094, "vf_loss": 22.681766510009766, "policy_loss": -0.011231009848415852, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8717271089553833, "cur_lr": 0.0005000000237487257, "kl": 0.014526890590786934}, "load_time_ms": 7.978, "num_steps_trained": 5825440, "grad_time_ms": 17300.695, "num_steps_sampled": 5825440, "sample_time_ms": 29452.149, "update_time_ms": 7.989}, "time_since_restore": 4318.638011217117, "timesteps_total": 5825440, "episode_len_mean": 686.47, "episodes_total": 2572, "episode_reward_mean": 810.8507518103469, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.198933362960815, "iterations_since_restore": 90, "training_iteration": 90, "timesteps_since_restore": 5825440, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63271, "custom_metrics": {"system_level_velocity_min": 9.485915483986506, "outflow_rate_max": 1223.2535987424678, "system_level_velocity_max": 18.195087218496283, "cost1_mean": 329.2378730118246, "outflow_rate_mean": 1044.872686683304, "cost1_min": 10.884625989578174, "cost2_min": -108.44212578646037, "cost1_max": 437.54549064210397, "outflow_rate_min": 413.7781267186755, "cost2_max": -10.910333861299526, "cost2_mean": -72.01205169074343, "system_level_velocity_mean": 12.964204816466783}, "episode_reward_min": 22.046721196190823, "date": "2019-05-20_06-51-18", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fa58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5bba20>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4366.319774150848, "episodes_this_iter": 28, "timestamp": 1558335126, "episode_reward_max": 1063.207753475808, "info": {"default": {"entropy": 1.3630480766296387, "total_loss": 24.216991424560547, "vf_loss": 24.22311019897461, "policy_loss": -0.011040815152227879, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8681369423866272, "cur_lr": 0.0005000000237487257, "kl": 0.01458536647260189}, "load_time_ms": 8.039, "num_steps_trained": 5890971, "grad_time_ms": 17208.483, "num_steps_sampled": 5890971, "sample_time_ms": 29491.06, "update_time_ms": 7.94}, "time_since_restore": 4366.319774150848, "timesteps_total": 5890971, "episode_len_mean": 700.0, "episodes_total": 2600, "episode_reward_mean": 827.6088988428651, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.68176293373108, "iterations_since_restore": 91, "training_iteration": 91, "timesteps_since_restore": 5890971, "num_metric_batches_dropped": 0, "timesteps_this_iter": 65531, "custom_metrics": {"system_level_velocity_min": 9.485915483986506, "outflow_rate_max": 1223.2535987424678, "system_level_velocity_max": 16.703589235293197, "cost1_mean": 339.1444222930755, "outflow_rate_mean": 1059.0273214112326, "cost1_min": 246.9432084435931, "cost2_min": -108.44212578646037, "cost1_max": 437.54549064210397, "outflow_rate_min": 887.3678998940792, "cost2_max": -40.92270512783552, "cost2_mean": -70.19847927786242, "system_level_velocity_mean": 12.983754624361827}, "episode_reward_min": 672.9955203496411, "date": "2019-05-20_06-52-06", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0edd8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4413.392158746719, "episodes_this_iter": 32, "timestamp": 1558335173, "episode_reward_max": 1046.1388534303162, "info": {"default": {"entropy": 1.3331018686294556, "total_loss": 24.734180450439453, "vf_loss": 24.740385055541992, "policy_loss": -0.011530870571732521, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8593226075172424, "cur_lr": 0.0005000000237487257, "kl": 0.015782907605171204}, "load_time_ms": 8.136, "num_steps_trained": 5954160, "grad_time_ms": 17094.234, "num_steps_sampled": 5954160, "sample_time_ms": 29647.225, "update_time_ms": 7.979}, "time_since_restore": 4413.392158746719, "timesteps_total": 5954160, "episode_len_mean": 693.45, "episodes_total": 2632, "episode_reward_mean": 824.8147711142284, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 47.07238459587097, "iterations_since_restore": 92, "training_iteration": 92, "timesteps_since_restore": 5954160, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63189, "custom_metrics": {"system_level_velocity_min": 9.485915483986506, "outflow_rate_max": 1196.283678753145, "system_level_velocity_max": 19.014648132861442, "cost1_mean": 339.45052490934756, "outflow_rate_mean": 1056.9360177885867, "cost1_min": 29.699348015106896, "cost2_min": -108.44212578646037, "cost1_max": 436.73726819770866, "outflow_rate_min": 543.1870776193215, "cost2_max": -17.79670276634357, "cost2_mean": -67.85002392433856, "system_level_velocity_mean": 13.179590931230802}, "episode_reward_min": 64.84946239634141, "date": "2019-05-20_06-52-53", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e590ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5839e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0ee10>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4458.4098472595215, "episodes_this_iter": 29, "timestamp": 1558335218, "episode_reward_max": 1046.1388534303162, "info": {"default": {"entropy": 1.3172816038131714, "total_loss": 25.84381103515625, "vf_loss": 25.849084854125977, "policy_loss": -0.010616594925522804, "cur_kl_coeff": 0.33750009536743164, "vf_explained_var": 0.8605534434318542, "cur_lr": 0.0005000000237487257, "kl": 0.015837479382753372}, "load_time_ms": 8.261, "num_steps_trained": 6015127, "grad_time_ms": 16971.042, "num_steps_sampled": 6015127, "sample_time_ms": 29674.735, "update_time_ms": 7.941}, "time_since_restore": 4458.4098472595215, "timesteps_total": 6015127, "episode_len_mean": 693.45, "episodes_total": 2661, "episode_reward_mean": 835.144050952212, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.017688512802124, "iterations_since_restore": 93, "training_iteration": 93, "timesteps_since_restore": 6015127, "num_metric_batches_dropped": 0, "timesteps_this_iter": 60967, "custom_metrics": {"system_level_velocity_min": 10.0790243245543, "outflow_rate_max": 1198.9871821345805, "system_level_velocity_max": 19.014648132861442, "cost1_mean": 345.7412230602267, "outflow_rate_mean": 1065.4353202579673, "cost1_min": 29.699348015106896, "cost2_min": -102.73043704643366, "cost1_max": 440.9324669870191, "outflow_rate_min": 543.1870776193215, "cost2_max": -17.79670276634357, "cost2_mean": -65.77594149916908, "system_level_velocity_mean": 13.425855469994442}, "episode_reward_min": 64.84946239634141, "date": "2019-05-20_06-53-38", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51f9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fda0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4502.7452890872955, "episodes_this_iter": 31, "timestamp": 1558335262, "episode_reward_max": 1094.3771570688464, "info": {"default": {"entropy": 1.2987909317016602, "total_loss": 29.091432571411133, "vf_loss": 29.09749412536621, "policy_loss": -0.011035976000130177, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8437150120735168, "cur_lr": 0.0005000000237487257, "kl": 0.014739164151251316}, "load_time_ms": 8.242, "num_steps_trained": 6075618, "grad_time_ms": 16884.875, "num_steps_sampled": 6075618, "sample_time_ms": 29613.181, "update_time_ms": 7.624}, "time_since_restore": 4502.7452890872955, "timesteps_total": 6075618, "episode_len_mean": 690.0, "episodes_total": 2692, "episode_reward_mean": 851.4860854479065, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 44.33544182777405, "iterations_since_restore": 94, "training_iteration": 94, "timesteps_since_restore": 6075618, "num_metric_batches_dropped": 0, "timesteps_this_iter": 60491, "custom_metrics": {"system_level_velocity_min": 10.0790243245543, "outflow_rate_max": 1198.9871821345805, "system_level_velocity_max": 19.014648132861442, "cost1_mean": 352.78954869889554, "outflow_rate_mean": 1075.8904037393859, "cost1_min": 29.699348015106896, "cost2_min": -95.52824879287863, "cost1_max": 440.9324669870191, "outflow_rate_min": 543.1870776193215, "cost2_max": -17.79670276634357, "cost2_mean": -62.61661602408106, "system_level_velocity_mean": 13.766744545939407}, "episode_reward_min": 64.84946239634141, "date": "2019-05-20_06-54-22", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0edd8>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4550.903148174286, "episodes_this_iter": 29, "timestamp": 1558335310, "episode_reward_max": 1094.3771570688464, "info": {"default": {"entropy": 1.336964726448059, "total_loss": 24.709415435791016, "vf_loss": 24.7141056060791, "policy_loss": -0.009964347817003727, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.866252064704895, "cur_lr": 0.0005000000237487257, "kl": 0.015626689419150352}, "load_time_ms": 8.195, "num_steps_trained": 6138627, "grad_time_ms": 16847.599, "num_steps_sampled": 6138627, "sample_time_ms": 29869.832, "update_time_ms": 7.771}, "time_since_restore": 4550.903148174286, "timesteps_total": 6138627, "episode_len_mean": 696.55, "episodes_total": 2721, "episode_reward_mean": 869.5622119576141, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 48.157859086990356, "iterations_since_restore": 95, "training_iteration": 95, "timesteps_since_restore": 6138627, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63009, "custom_metrics": {"system_level_velocity_min": 9.801421993247168, "outflow_rate_max": 1198.9871821345805, "system_level_velocity_max": 16.895275690876588, "cost1_mean": 358.4393354148514, "outflow_rate_mean": 1085.1240035461174, "cost1_min": 218.29052738846718, "cost2_min": -94.79538753859939, "cost1_max": 441.6966666698455, "outflow_rate_min": 895.4581294968442, "cost2_max": -35.8069815438388, "cost2_mean": -62.59246718155882, "system_level_velocity_mean": 13.795341384846049}, "episode_reward_min": 476.48270541903224, "date": "2019-05-20_06-55-10", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5210f0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4596.028362989426, "episodes_this_iter": 27, "timestamp": 1558335356, "episode_reward_max": 1094.3771570688464, "info": {"default": {"entropy": 1.338773488998413, "total_loss": 24.530109405517578, "vf_loss": 24.536090850830078, "policy_loss": -0.010675039142370224, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.8543502688407898, "cur_lr": 0.0005000000237487257, "kl": 0.013898074626922607}, "load_time_ms": 8.184, "num_steps_trained": 6202084, "grad_time_ms": 16811.545, "num_steps_sampled": 6202084, "sample_time_ms": 29844.653, "update_time_ms": 7.653}, "time_since_restore": 4596.028362989426, "timesteps_total": 6202084, "episode_len_mean": 696.55, "episodes_total": 2748, "episode_reward_mean": 877.3989727341083, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.12521481513977, "iterations_since_restore": 96, "training_iteration": 96, "timesteps_since_restore": 6202084, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63457, "custom_metrics": {"system_level_velocity_min": 9.801421993247168, "outflow_rate_max": 1197.392035093318, "system_level_velocity_max": 16.835053512764425, "cost1_mean": 358.15670898763494, "outflow_rate_mean": 1084.079361586603, "cost1_min": 218.29052738846718, "cost2_min": -95.75275201040243, "cost1_max": 441.6966666698455, "outflow_rate_min": 895.4581294968442, "cost2_max": -30.735907080476508, "cost2_mean": -61.814023266073306, "system_level_velocity_mean": 13.785733377349985}, "episode_reward_min": 476.48270541903224, "date": "2019-05-20_06-55-56", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5210b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521080>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4641.388196468353, "episodes_this_iter": 27, "timestamp": 1558335401, "episode_reward_max": 1068.8936480023503, "info": {"default": {"entropy": 1.3537837266921997, "total_loss": 25.267446517944336, "vf_loss": 25.273033142089844, "policy_loss": -0.010116910561919212, "cur_kl_coeff": 0.33750003576278687, "vf_explained_var": 0.8605207204818726, "cur_lr": 0.0005000000237487257, "kl": 0.013425442390143871}, "load_time_ms": 8.355, "num_steps_trained": 6265382, "grad_time_ms": 16735.732, "num_steps_sampled": 6265382, "sample_time_ms": 29706.78, "update_time_ms": 7.918}, "time_since_restore": 4641.388196468353, "timesteps_total": 6265382, "episode_len_mean": 694.01, "episodes_total": 2775, "episode_reward_mean": 865.2179009010692, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.35983347892761, "iterations_since_restore": 97, "training_iteration": 97, "timesteps_since_restore": 6265382, "num_metric_batches_dropped": 0, "timesteps_this_iter": 63298, "custom_metrics": {"system_level_velocity_min": 9.801421993247168, "outflow_rate_max": 1197.392035093318, "system_level_velocity_max": 16.835053512764425, "cost1_mean": 353.18684291526483, "outflow_rate_mean": 1072.1281989933866, "cost1_min": 218.29052738846718, "cost2_min": -95.75275201040243, "cost1_max": 441.6966666698455, "outflow_rate_min": 895.4581294968442, "cost2_max": -30.735907080476508, "cost2_mean": -60.09835015255922, "system_level_velocity_mean": 13.66075363964938}, "episode_reward_min": 476.48270541903224, "date": "2019-05-20_06-56-41", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e521048>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4686.797230482101, "episodes_this_iter": 29, "timestamp": 1558335446, "episode_reward_max": 1068.8936480023503, "info": {"default": {"entropy": 1.341367244720459, "total_loss": 25.297182083129883, "vf_loss": 25.303762435913086, "policy_loss": -0.011580384336411953, "cur_kl_coeff": 0.33750009536743164, "vf_explained_var": 0.8721657991409302, "cur_lr": 0.0005000000237487257, "kl": 0.014825216494500637}, "load_time_ms": 8.229, "num_steps_trained": 6327285, "grad_time_ms": 16602.773, "num_steps_sampled": 6327285, "sample_time_ms": 29376.309, "update_time_ms": 8.163}, "time_since_restore": 4686.797230482101, "timesteps_total": 6327285, "episode_len_mean": 697.46, "episodes_total": 2804, "episode_reward_mean": 867.2659052285867, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 45.40903401374817, "iterations_since_restore": 98, "training_iteration": 98, "timesteps_since_restore": 6327285, "num_metric_batches_dropped": 0, "timesteps_this_iter": 61903, "custom_metrics": {"system_level_velocity_min": 9.730811584044458, "outflow_rate_max": 1197.392035093318, "system_level_velocity_max": 16.835053512764425, "cost1_mean": 355.4355426630242, "outflow_rate_mean": 1072.9119076384552, "cost1_min": 252.72227808715763, "cost2_min": -104.55766269525486, "cost1_max": 441.6966666698455, "outflow_rate_min": 897.0893035095544, "cost2_max": -26.372240561855882, "cost2_mean": -58.338605041027684, "system_level_velocity_mean": 13.640475636768}, "episode_reward_min": 641.8788263883447, "date": "2019-05-20_06-57-26", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0ea20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e208>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4733.748535633087, "episodes_this_iter": 29, "timestamp": 1558335493, "episode_reward_max": 1068.8936480023503, "info": {"default": {"entropy": 1.3524799346923828, "total_loss": 29.04547691345215, "vf_loss": 29.052343368530273, "policy_loss": -0.01158617902547121, "cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.84164959192276, "cur_lr": 0.0005000000237487257, "kl": 0.013988867402076721}, "load_time_ms": 8.15, "num_steps_trained": 6389455, "grad_time_ms": 16445.769, "num_steps_sampled": 6389455, "sample_time_ms": 29554.234, "update_time_ms": 8.19}, "time_since_restore": 4733.748535633087, "timesteps_total": 6389455, "episode_len_mean": 697.46, "episodes_total": 2833, "episode_reward_mean": 857.9639467469007, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": false, "time_this_iter_s": 46.95130515098572, "iterations_since_restore": 99, "training_iteration": 99, "timesteps_since_restore": 6389455, "num_metric_batches_dropped": 0, "timesteps_this_iter": 62170, "custom_metrics": {"system_level_velocity_min": 9.730811584044458, "outflow_rate_max": 1185.502310222609, "system_level_velocity_max": 16.680101663803637, "cost1_mean": 351.71684312742303, "outflow_rate_mean": 1059.0640509592622, "cost1_min": 253.6847813032783, "cost2_min": -104.55766269525486, "cost1_max": 438.82115420999435, "outflow_rate_min": 897.0893035095544, "cost2_max": -24.52188877958219, "cost2_mean": -57.17285907797675, "system_level_velocity_mean": 13.493321790215548}, "episode_reward_min": 641.8788263883447, "date": "2019-05-20_06-58-13", "pid": 34503}
{"policy_reward_mean": {}, "config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5839e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e51fda0>", "on_sample_end": null}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"dim": 84, "custom_preprocessor": null, "conv_activation": "relu", "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "channel_major": false, "use_lstm": false, "custom_model": null, "grayscale": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "use_gae": true, "sample_async": false, "custom_resources_per_worker": {}, "vf_share_layers": false, "clip_param": 0.3, "clip_rewards": null}, "node_ip": "10.138.0.2", "time_total_s": 4778.335090875626, "episodes_this_iter": 28, "timestamp": 1558335538, "episode_reward_max": 1058.4620416215016, "info": {"default": {"entropy": 1.3729403018951416, "total_loss": 24.892301559448242, "vf_loss": 24.898157119750977, "policy_loss": -0.010920531116425991, "cur_kl_coeff": 0.33750009536743164, "vf_explained_var": 0.8541913628578186, "cur_lr": 0.0005000000237487257, "kl": 0.015004048123955727}, "load_time_ms": 8.217, "num_steps_trained": 6451889, "grad_time_ms": 16363.357, "num_steps_sampled": 6451889, "sample_time_ms": 29476.168, "update_time_ms": 8.175}, "time_since_restore": 4778.335090875626, "timesteps_total": 6451889, "episode_len_mean": 693.31, "episodes_total": 2861, "episode_reward_mean": 859.199641750819, "hostname": "flow-main", "experiment_id": "fa36ad6052714fd8b9a1d263aace9af3", "done": true, "time_this_iter_s": 44.58655524253845, "iterations_since_restore": 100, "training_iteration": 100, "timesteps_since_restore": 6451889, "num_metric_batches_dropped": 0, "timesteps_this_iter": 62434, "custom_metrics": {"system_level_velocity_min": 9.156905556356719, "outflow_rate_max": 1185.502310222609, "system_level_velocity_max": 19.20419648756305, "cost1_mean": 352.377001182673, "outflow_rate_mean": 1053.9799802607233, "cost1_min": 20.397106754508258, "cost2_min": -104.55766269525486, "cost1_max": 438.82115420999435, "outflow_rate_min": 502.7282416547235, "cost2_max": -10.510940358540212, "cost2_mean": -54.286533007637146, "system_level_velocity_mean": 13.621175507812383}, "episode_reward_min": 50.16260994235118, "date": "2019-05-20_06-58-58", "pid": 34503}
