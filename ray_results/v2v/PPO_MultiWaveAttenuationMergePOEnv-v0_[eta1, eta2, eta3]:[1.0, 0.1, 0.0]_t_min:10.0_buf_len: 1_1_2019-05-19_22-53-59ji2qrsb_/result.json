{"hostname": "flow-main", "episode_reward_mean": 277.84280063297, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.79656791687012, "date": "2019-05-19_22-55-44", "info": {"sample_time_ms": 33069.103, "update_time_ms": 729.565, "default": {"entropy": 1.4147508144378662, "vf_explained_var": 0.8913586139678955, "vf_loss": 0.9866177439689636, "kl": 0.004388885106891394, "policy_loss": -0.00248796958476305, "total_loss": 0.985007643699646, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.20000001788139343}, "num_steps_trained": 65430, "load_time_ms": 44.148, "num_steps_sampled": 65430, "grad_time_ms": 17766.47}, "timesteps_since_restore": 65430, "time_total_s": 51.79656791687012, "num_metric_batches_dropped": 0, "timestamp": 1558306544, "training_iteration": 1, "timesteps_this_iter": 65430, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 51.79656791687012, "episodes_total": 27, "iterations_since_restore": 1, "episode_reward_min": 177.4892874225818, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 381.44452662637553, "custom_metrics": {"cost2_mean": -55.02332933354617, "system_level_velocity_min": 5.286044253223159, "cost2_min": -78.24416940890308, "system_level_velocity_mean": 7.514110486218142, "cost1_min": 135.9291089975332, "cost1_mean": 194.64126480110113, "cost1_max": 253.38558436060987, "outflow_rate_max": 727.5143822189591, "system_level_velocity_max": 9.563048562188705, "outflow_rate_min": 407.45747189871975, "cost2_max": -32.25138546376332, "outflow_rate_mean": 612.796841277776}, "node_ip": "10.138.0.2", "timesteps_total": 65430}
{"hostname": "flow-main", "episode_reward_mean": 346.1342545742152, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 56.063995599746704, "date": "2019-05-19_22-56-40", "info": {"sample_time_ms": 33986.815, "update_time_ms": 369.309, "default": {"entropy": 1.403035044670105, "vf_explained_var": 0.9397050738334656, "vf_loss": 1.4549598693847656, "kl": 0.009806200861930847, "policy_loss": -0.003557794727385044, "total_loss": 1.4523826837539673, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 142676, "load_time_ms": 28.004, "num_steps_sampled": 142676, "grad_time_ms": 19379.507}, "timesteps_since_restore": 142676, "time_total_s": 107.86056351661682, "num_metric_batches_dropped": 0, "timestamp": 1558306600, "training_iteration": 2, "timesteps_this_iter": 77246, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 107.86056351661682, "episodes_total": 54, "iterations_since_restore": 2, "episode_reward_min": 177.4892874225818, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 597.6686968353833, "custom_metrics": {"cost2_mean": -70.96301596078239, "system_level_velocity_min": 2.9178374104417495, "cost2_min": -142.409112042608, "system_level_velocity_mean": 8.082201178286956, "cost1_min": 75.34385391885962, "cost1_mean": 210.7218953175206, "cost1_max": 277.7507230977121, "outflow_rate_max": 921.3454851142681, "system_level_velocity_max": 10.434171351948281, "outflow_rate_min": 250.89100558652217, "cost2_max": -32.25138546376332, "outflow_rate_mean": 665.3281720976307}, "node_ip": "10.138.0.2", "timesteps_total": 142676}
{"hostname": "flow-main", "episode_reward_mean": 383.4008774248281, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8438>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 62.052366495132446, "date": "2019-05-19_22-57-43", "info": {"sample_time_ms": 35432.995, "update_time_ms": 249.395, "default": {"entropy": 1.3941459655761719, "vf_explained_var": 0.9526774287223816, "vf_loss": 2.164015769958496, "kl": 0.006526971235871315, "policy_loss": -0.002076877513900399, "total_loss": 2.1625914573669434, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 227777, "load_time_ms": 23.026, "num_steps_sampled": 227777, "grad_time_ms": 20777.109}, "timesteps_since_restore": 227777, "time_total_s": 169.91293001174927, "num_metric_batches_dropped": 0, "timestamp": 1558306663, "training_iteration": 3, "timesteps_this_iter": 85101, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 169.91293001174927, "episodes_total": 80, "iterations_since_restore": 3, "episode_reward_min": 43.05922233859236, "episodes_this_iter": 26, "episode_len_mean": 691.675, "done": false, "episode_reward_max": 618.5298261605465, "custom_metrics": {"cost2_mean": -85.25042115161634, "system_level_velocity_min": 2.9178374104417495, "cost2_min": -142.409112042608, "system_level_velocity_mean": 8.456724957670513, "cost1_min": 22.520673693609915, "cost1_mean": 215.64560496862228, "cost1_max": 294.9836641104939, "outflow_rate_max": 991.4464778466211, "system_level_velocity_max": 18.040586072257344, "outflow_rate_min": 250.89100558652217, "cost2_max": -20.786444910514174, "outflow_rate_mean": 695.5519284393944}, "node_ip": "10.138.0.2", "timesteps_total": 227777}
{"hostname": "flow-main", "episode_reward_mean": 430.98236490102164, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbb70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 54.21109127998352, "date": "2019-05-19_22-58-37", "info": {"sample_time_ms": 35022.195, "update_time_ms": 188.627, "default": {"entropy": 1.369118094444275, "vf_explained_var": 0.9292550683021545, "vf_loss": 4.394121170043945, "kl": 0.01033746637403965, "policy_loss": -0.005611487664282322, "total_loss": 4.389543533325195, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 303166, "load_time_ms": 19.42, "num_steps_sampled": 303166, "grad_time_ms": 20649.694}, "timesteps_since_restore": 303166, "time_total_s": 224.1240212917328, "num_metric_batches_dropped": 0, "timestamp": 1558306717, "training_iteration": 4, "timesteps_this_iter": 75389, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 224.1240212917328, "episodes_total": 106, "iterations_since_restore": 4, "episode_reward_min": 43.05922233859236, "episodes_this_iter": 26, "episode_len_mean": 686.75, "done": false, "episode_reward_max": 669.8828893342439, "custom_metrics": {"cost2_mean": -96.9972679686397, "system_level_velocity_min": 2.9178374104417495, "cost2_min": -147.78328320576585, "system_level_velocity_mean": 9.009359427030471, "cost1_min": 22.520673693609915, "cost1_mean": 227.19591133295216, "cost1_max": 327.63885559881885, "outflow_rate_max": 1049.0729035282664, "system_level_velocity_max": 18.608760441232796, "outflow_rate_min": 250.89100558652217, "cost2_max": -20.786444910514174, "outflow_rate_mean": 748.8468567267382}, "node_ip": "10.138.0.2", "timesteps_total": 303166}
{"hostname": "flow-main", "episode_reward_mean": 526.8494118177603, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d478d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec8d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.53228807449341, "date": "2019-05-19_22-59-27", "info": {"sample_time_ms": 34256.589, "update_time_ms": 152.249, "default": {"entropy": 1.3515883684158325, "vf_explained_var": 0.8933610320091248, "vf_loss": 6.624496936798096, "kl": 0.00740243773907423, "policy_loss": -0.0035652206279337406, "total_loss": 6.6216721534729, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 372604, "load_time_ms": 17.633, "num_steps_sampled": 372604, "grad_time_ms": 20355.872}, "timesteps_since_restore": 372604, "time_total_s": 274.6563093662262, "num_metric_batches_dropped": 0, "timestamp": 1558306767, "training_iteration": 5, "timesteps_this_iter": 69438, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 274.6563093662262, "episodes_total": 131, "iterations_since_restore": 5, "episode_reward_min": 43.05922233859236, "episodes_this_iter": 25, "episode_len_mean": 686.75, "done": false, "episode_reward_max": 853.3378314626111, "custom_metrics": {"cost2_mean": -116.91304112709857, "system_level_velocity_min": 2.9178374104417495, "cost2_min": -168.0292594355156, "system_level_velocity_mean": 9.826328287163436, "cost1_min": 22.520673693609915, "cost1_mean": 249.6419892840817, "cost1_max": 353.3696513815781, "outflow_rate_max": 1151.8635486883763, "system_level_velocity_max": 18.608760441232796, "outflow_rate_min": 250.89100558652217, "cost2_max": -20.786444910514174, "outflow_rate_mean": 833.0288697966065}, "node_ip": "10.138.0.2", "timesteps_total": 372604}
{"hostname": "flow-main", "episode_reward_mean": 586.2472095020877, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf54a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf51d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.76738667488098, "date": "2019-05-19_23-00-17", "info": {"sample_time_ms": 33697.787, "update_time_ms": 128.426, "default": {"entropy": 1.3516608476638794, "vf_explained_var": 0.856708824634552, "vf_loss": 7.7206244468688965, "kl": 0.008175451308488846, "policy_loss": -0.003761980216950178, "total_loss": 7.71768045425415, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 439721, "load_time_ms": 15.674, "num_steps_sampled": 439721, "grad_time_ms": 20086.437}, "timesteps_since_restore": 439721, "time_total_s": 324.4236960411072, "num_metric_batches_dropped": 0, "timestamp": 1558306817, "training_iteration": 6, "timesteps_this_iter": 67117, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 324.4236960411072, "episodes_total": 159, "iterations_since_restore": 6, "episode_reward_min": 21.69886136109524, "episodes_this_iter": 28, "episode_len_mean": 673.18, "done": false, "episode_reward_max": 874.0722054015534, "custom_metrics": {"cost2_mean": -126.44294837894579, "system_level_velocity_min": 6.375499187690691, "cost2_min": -168.0292594355156, "system_level_velocity_mean": 10.707981594153743, "cost1_min": 12.247159191844096, "cost1_mean": 264.8148386345716, "cost1_max": 368.9501723294449, "outflow_rate_max": 1151.8635486883763, "system_level_velocity_max": 18.608760441232796, "outflow_rate_min": 450.9267471876343, "cost2_max": -14.333540188021765, "outflow_rate_mean": 895.3654096500085}, "node_ip": "10.138.0.2", "timesteps_total": 439721}
{"hostname": "flow-main", "episode_reward_mean": 654.3042731344561, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce85c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8400>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.00149416923523, "date": "2019-05-19_23-01-06", "info": {"sample_time_ms": 33216.836, "update_time_ms": 111.222, "default": {"entropy": 1.3509632349014282, "vf_explained_var": 0.8767617344856262, "vf_loss": 7.233551502227783, "kl": 0.008282785303890705, "policy_loss": -0.003867566119879484, "total_loss": 7.2305121421813965, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 507744, "load_time_ms": 14.268, "num_steps_sampled": 507744, "grad_time_ms": 19865.326}, "timesteps_since_restore": 507744, "time_total_s": 373.4251902103424, "num_metric_batches_dropped": 0, "timestamp": 1558306866, "training_iteration": 7, "timesteps_this_iter": 68023, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 373.4251902103424, "episodes_total": 186, "iterations_since_restore": 7, "episode_reward_min": 21.69886136109524, "episodes_this_iter": 27, "episode_len_mean": 679.84, "done": false, "episode_reward_max": 894.7805252351475, "custom_metrics": {"cost2_mean": -134.76087857555936, "system_level_velocity_min": 7.778786964489832, "cost2_min": -174.40051715174192, "system_level_velocity_mean": 11.419866951033475, "cost1_min": 12.247159191844096, "cost1_mean": 289.3360275921226, "cost1_max": 410.718711122759, "outflow_rate_max": 1200.3960435187682, "system_level_velocity_max": 18.608760441232796, "outflow_rate_min": 450.9267471876343, "cost2_max": -14.333540188021765, "outflow_rate_mean": 965.6621266633722}, "node_ip": "10.138.0.2", "timesteps_total": 507744}
{"hostname": "flow-main", "episode_reward_mean": 699.8483679173992, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbdd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbe80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.4321026802063, "date": "2019-05-19_23-01-56", "info": {"sample_time_ms": 32977.596, "update_time_ms": 98.479, "default": {"entropy": 1.3499855995178223, "vf_explained_var": 0.843194305896759, "vf_loss": 8.31313419342041, "kl": 0.007905141450464725, "policy_loss": -0.004504929296672344, "total_loss": 8.309419631958008, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 573217, "load_time_ms": 13.308, "num_steps_sampled": 573217, "grad_time_ms": 19632.414}, "timesteps_since_restore": 573217, "time_total_s": 422.8572928905487, "num_metric_batches_dropped": 0, "timestamp": 1558306916, "training_iteration": 8, "timesteps_this_iter": 65473, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 422.8572928905487, "episodes_total": 213, "iterations_since_restore": 8, "episode_reward_min": 21.69886136109524, "episodes_this_iter": 27, "episode_len_mean": 686.43, "done": false, "episode_reward_max": 897.9868232548505, "custom_metrics": {"cost2_mean": -140.94802326043498, "system_level_velocity_min": 8.730952984134284, "cost2_min": -174.40051715174192, "system_level_velocity_mean": 11.742917613399236, "cost1_min": 12.247159191844096, "cost1_mean": 303.2811294008688, "cost1_max": 410.718711122759, "outflow_rate_max": 1200.3960435187682, "system_level_velocity_max": 17.047329246315048, "outflow_rate_min": 450.9267471876343, "cost2_max": -14.333540188021765, "outflow_rate_mean": 998.4857232177064}, "node_ip": "10.138.0.2", "timesteps_total": 573217}
{"hostname": "flow-main", "episode_reward_mean": 713.5008642728446, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5470>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.43254828453064, "date": "2019-05-19_23-02-45", "info": {"sample_time_ms": 32832.684, "update_time_ms": 88.752, "default": {"entropy": 1.3350603580474854, "vf_explained_var": 0.8183150887489319, "vf_loss": 10.491560935974121, "kl": 0.00961299054324627, "policy_loss": -0.004614387638866901, "total_loss": 10.487907409667969, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 637523, "load_time_ms": 12.737, "num_steps_sampled": 637523, "grad_time_ms": 19406.444}, "timesteps_since_restore": 637523, "time_total_s": 472.28984117507935, "num_metric_batches_dropped": 0, "timestamp": 1558306965, "training_iteration": 9, "timesteps_this_iter": 64306, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 472.28984117507935, "episodes_total": 240, "iterations_since_restore": 9, "episode_reward_min": 21.69886136109524, "episodes_this_iter": 27, "episode_len_mean": 686.58, "done": false, "episode_reward_max": 897.9868232548505, "custom_metrics": {"cost2_mean": -145.67046642703966, "system_level_velocity_min": 8.890224798925166, "cost2_min": -177.68092869421216, "system_level_velocity_mean": 11.955309057820184, "cost1_min": 12.247159191844096, "cost1_mean": 309.02025945541203, "cost1_max": 410.718711122759, "outflow_rate_max": 1200.3960435187682, "system_level_velocity_max": 18.406536374288706, "outflow_rate_min": 450.9267471876343, "cost2_max": -14.333540188021765, "outflow_rate_mean": 1010.2397822582377}, "node_ip": "10.138.0.2", "timesteps_total": 637523}
{"hostname": "flow-main", "episode_reward_mean": 725.3412222613407, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce83c8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.15536975860596, "date": "2019-05-19_23-03-34", "info": {"sample_time_ms": 32764.928, "update_time_ms": 80.965, "default": {"entropy": 1.325681209564209, "vf_explained_var": 0.8030556440353394, "vf_loss": 12.405550003051758, "kl": 0.009338178671896458, "policy_loss": -0.005058976821601391, "total_loss": 12.4014253616333, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 700176, "load_time_ms": 11.918, "num_steps_sampled": 700176, "grad_time_ms": 19154.672}, "timesteps_since_restore": 700176, "time_total_s": 521.4452109336853, "num_metric_batches_dropped": 0, "timestamp": 1558307014, "training_iteration": 10, "timesteps_this_iter": 62653, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 521.4452109336853, "episodes_total": 273, "iterations_since_restore": 10, "episode_reward_min": 27.59320438835871, "episodes_this_iter": 33, "episode_len_mean": 686.58, "done": false, "episode_reward_max": 897.9868232548505, "custom_metrics": {"cost2_mean": -148.0375988257005, "system_level_velocity_min": 8.890224798925166, "cost2_min": -177.68092869421216, "system_level_velocity_mean": 12.212432888723804, "cost1_min": 12.370856355279482, "cost1_mean": 315.56166849739304, "cost1_max": 410.718711122759, "outflow_rate_max": 1235.606920513679, "system_level_velocity_max": 18.406536374288706, "outflow_rate_min": 467.63246017283916, "cost2_max": -14.20741755716911, "outflow_rate_mean": 1027.2991285439307}, "node_ip": "10.138.0.2", "timesteps_total": 700176}
{"hostname": "flow-main", "episode_reward_mean": 728.8591955927395, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec5c0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.26263689994812, "date": "2019-05-19_23-04-24", "info": {"sample_time_ms": 32598.208, "update_time_ms": 9.003, "default": {"entropy": 1.3231236934661865, "vf_explained_var": 0.7919079661369324, "vf_loss": 13.58825969696045, "kl": 0.011617709882557392, "policy_loss": -0.005986871663480997, "total_loss": 13.583434104919434, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 761597, "load_time_ms": 8.012, "num_steps_sampled": 761597, "grad_time_ms": 19151.985}, "timesteps_since_restore": 761597, "time_total_s": 570.7078478336334, "num_metric_batches_dropped": 0, "timestamp": 1558307064, "training_iteration": 11, "timesteps_this_iter": 61421, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 570.7078478336334, "episodes_total": 305, "iterations_since_restore": 11, "episode_reward_min": 24.641565020208805, "episodes_this_iter": 32, "episode_len_mean": 679.77, "done": false, "episode_reward_max": 887.5382205291296, "custom_metrics": {"cost2_mean": -149.4952386537417, "system_level_velocity_min": 8.29194299593249, "cost2_min": -177.68092869421216, "system_level_velocity_mean": 12.436019733026429, "cost1_min": 12.370856355279482, "cost1_mean": 316.735823008149, "cost1_max": 404.0451143547682, "outflow_rate_max": 1235.606920513679, "system_level_velocity_max": 18.406536374288706, "outflow_rate_min": 459.36032418334645, "cost2_max": -14.20741755716911, "outflow_rate_mean": 1032.0174095564626}, "node_ip": "10.138.0.2", "timesteps_total": 761597}
{"hostname": "flow-main", "episode_reward_mean": 744.3739039241383, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb2b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.7502875328064, "date": "2019-05-19_23-05-12", "info": {"sample_time_ms": 32285.461, "update_time_ms": 9.061, "default": {"entropy": 1.3315646648406982, "vf_explained_var": 0.7976275682449341, "vf_loss": 13.433392524719238, "kl": 0.011625923216342926, "policy_loss": -0.006885570008307695, "total_loss": 13.427668571472168, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000002384185791}, "num_steps_trained": 821812, "load_time_ms": 7.658, "num_steps_sampled": 821812, "grad_time_ms": 18637.456}, "timesteps_since_restore": 821812, "time_total_s": 618.4581353664398, "num_metric_batches_dropped": 0, "timestamp": 1558307112, "training_iteration": 12, "timesteps_this_iter": 60215, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 618.4581353664398, "episodes_total": 335, "iterations_since_restore": 12, "episode_reward_min": 24.641565020208805, "episodes_this_iter": 30, "episode_len_mean": 686.38, "done": false, "episode_reward_max": 925.8043718241888, "custom_metrics": {"cost2_mean": -148.6267002157517, "system_level_velocity_min": 8.29194299593249, "cost2_min": -173.57475632399078, "system_level_velocity_mean": 12.588203796913065, "cost1_min": 12.370856355279482, "cost1_mean": 325.35309847227893, "cost1_max": 404.0451143547682, "outflow_rate_max": 1235.606920513679, "system_level_velocity_max": 17.06485544898807, "outflow_rate_min": 459.36032418334645, "cost2_max": -14.20741755716911, "outflow_rate_mean": 1048.3533039643592}, "node_ip": "10.138.0.2", "timesteps_total": 821812}
{"hostname": "flow-main", "episode_reward_mean": 754.9287166777285, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5198>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.90080738067627, "date": "2019-05-19_23-06-00", "info": {"sample_time_ms": 31632.251, "update_time_ms": 8.834, "default": {"entropy": 1.324990153312683, "vf_explained_var": 0.8110865354537964, "vf_loss": 12.857902526855469, "kl": 0.012889103032648563, "policy_loss": -0.007393870502710342, "total_loss": 12.851797103881836, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 884401, "load_time_ms": 6.877, "num_steps_sampled": 884401, "grad_time_ms": 17879.762}, "timesteps_since_restore": 884401, "time_total_s": 666.3589427471161, "num_metric_batches_dropped": 0, "timestamp": 1558307160, "training_iteration": 13, "timesteps_this_iter": 62589, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 666.3589427471161, "episodes_total": 366, "iterations_since_restore": 13, "episode_reward_min": 24.641565020208805, "episodes_this_iter": 31, "episode_len_mean": 693.19, "done": false, "episode_reward_max": 1013.3243394719773, "custom_metrics": {"cost2_mean": -148.6758782510425, "system_level_velocity_min": 8.29194299593249, "cost2_min": -173.166859183678, "system_level_velocity_mean": 12.64572716400377, "cost1_min": 12.447756425741055, "cost1_mean": 331.2986165109629, "cost1_max": 417.9946118403001, "outflow_rate_max": 1235.606920513679, "system_level_velocity_max": 17.06485544898807, "outflow_rate_min": 459.36032418334645, "cost2_max": -14.401088691125667, "outflow_rate_mean": 1058.0354606833039}, "node_ip": "10.138.0.2", "timesteps_total": 884401}
{"hostname": "flow-main", "episode_reward_mean": 759.9863226782567, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.54240393638611, "date": "2019-05-19_23-06-46", "info": {"sample_time_ms": 31316.899, "update_time_ms": 9.132, "default": {"entropy": 1.3157885074615479, "vf_explained_var": 0.7914754152297974, "vf_loss": 14.844749450683594, "kl": 0.011456119827926159, "policy_loss": -0.006815941538661718, "total_loss": 14.839078903198242, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 945838, "load_time_ms": 6.605, "num_steps_sampled": 945838, "grad_time_ms": 17431.558}, "timesteps_since_restore": 945838, "time_total_s": 712.9013466835022, "num_metric_batches_dropped": 0, "timestamp": 1558307206, "training_iteration": 14, "timesteps_this_iter": 61437, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 712.9013466835022, "episodes_total": 393, "iterations_since_restore": 14, "episode_reward_min": 24.641565020208805, "episodes_this_iter": 27, "episode_len_mean": 693.19, "done": false, "episode_reward_max": 1013.3243394719773, "custom_metrics": {"cost2_mean": -146.18558801200854, "system_level_velocity_min": 9.516218568276223, "cost2_min": -173.166859183678, "system_level_velocity_mean": 12.667127487214712, "cost1_min": 12.447756425741055, "cost1_mean": 331.57264576643814, "cost1_max": 428.7123118952219, "outflow_rate_max": 1257.339152814804, "system_level_velocity_max": 17.06485544898807, "outflow_rate_min": 459.36032418334645, "cost2_max": -14.401088691125667, "outflow_rate_mean": 1052.2629961654727}, "node_ip": "10.138.0.2", "timesteps_total": 945838}
{"hostname": "flow-main", "episode_reward_mean": 763.3922890099468, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbe80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbba8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 43.633381366729736, "date": "2019-05-19_23-07-30", "info": {"sample_time_ms": 31151.102, "update_time_ms": 9.221, "default": {"entropy": 1.3140740394592285, "vf_explained_var": 0.7923045754432678, "vf_loss": 15.838665962219238, "kl": 0.013526017777621746, "policy_loss": -0.008046767674386501, "total_loss": 15.831971168518066, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1004439, "load_time_ms": 6.097, "num_steps_sampled": 1004439, "grad_time_ms": 16912.081}, "timesteps_since_restore": 1004439, "time_total_s": 756.5347280502319, "num_metric_batches_dropped": 0, "timestamp": 1558307250, "training_iteration": 15, "timesteps_this_iter": 58601, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 756.5347280502319, "episodes_total": 421, "iterations_since_restore": 15, "episode_reward_min": 54.58910602030439, "episodes_this_iter": 28, "episode_len_mean": 693.4, "done": false, "episode_reward_max": 1013.3243394719773, "custom_metrics": {"cost2_mean": -144.1581069154458, "system_level_velocity_min": 9.516218568276223, "cost2_min": -168.27033148748296, "system_level_velocity_mean": 12.896587526609721, "cost1_min": 26.127311290968734, "cost1_mean": 337.00518257797404, "cost1_max": 433.68875623660233, "outflow_rate_max": 1257.780851032668, "system_level_velocity_max": 18.684756810032958, "outflow_rate_min": 526.7666685607971, "cost2_max": -23.01976635898231, "outflow_rate_mean": 1059.234755570273}, "node_ip": "10.138.0.2", "timesteps_total": 1004439}
{"hostname": "flow-main", "episode_reward_mean": 757.2284520109924, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5438>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.66889810562134, "date": "2019-05-19_23-08-16", "info": {"sample_time_ms": 31115.748, "update_time_ms": 8.933, "default": {"entropy": 1.3038303852081299, "vf_explained_var": 0.7566245198249817, "vf_loss": 17.266277313232422, "kl": 0.01565084047615528, "policy_loss": -0.008483745157718658, "total_loss": 17.259357452392578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000002384185791}, "num_steps_trained": 1064125, "load_time_ms": 6.349, "num_steps_sampled": 1064125, "grad_time_ms": 16537.996}, "timesteps_since_restore": 1064125, "time_total_s": 802.2036261558533, "num_metric_batches_dropped": 0, "timestamp": 1558307296, "training_iteration": 16, "timesteps_this_iter": 59686, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 802.2036261558533, "episodes_total": 450, "iterations_since_restore": 16, "episode_reward_min": 31.244055712691136, "episodes_this_iter": 29, "episode_len_mean": 679.93, "done": false, "episode_reward_max": 1013.3243394719773, "custom_metrics": {"cost2_mean": -138.69811653823922, "system_level_velocity_min": 9.56025220193616, "cost2_min": -166.81403622526807, "system_level_velocity_mean": 13.188796113546386, "cost1_min": 13.802786038929753, "cost1_mean": 335.46783501417536, "cost1_max": 440.1503690128758, "outflow_rate_max": 1257.780851032668, "system_level_velocity_max": 18.684756810032958, "outflow_rate_min": 442.92213116628903, "cost2_max": -16.37235664307175, "outflow_rate_mean": 1052.165574619697}, "node_ip": "10.138.0.2", "timesteps_total": 1064125}
{"hostname": "flow-main", "episode_reward_mean": 757.7147945429365, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.20289468765259, "date": "2019-05-19_23-09-00", "info": {"sample_time_ms": 30912.172, "update_time_ms": 8.855, "default": {"entropy": 1.2992818355560303, "vf_explained_var": 0.7501072287559509, "vf_loss": 17.886415481567383, "kl": 0.015398524701595306, "policy_loss": -0.0077720824629068375, "total_loss": 17.880184173583984, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000002384185791}, "num_steps_trained": 1121612, "load_time_ms": 6.694, "num_steps_sampled": 1121612, "grad_time_ms": 16260.678}, "timesteps_since_restore": 1121612, "time_total_s": 846.4065208435059, "num_metric_batches_dropped": 0, "timestamp": 1558307340, "training_iteration": 17, "timesteps_this_iter": 57487, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 846.4065208435059, "episodes_total": 478, "iterations_since_restore": 17, "episode_reward_min": 31.244055712691136, "episodes_this_iter": 28, "episode_len_mean": 679.93, "done": false, "episode_reward_max": 987.6217440935422, "custom_metrics": {"cost2_mean": -134.32604735415964, "system_level_velocity_min": 10.79366364430451, "cost2_min": -166.81403622526807, "system_level_velocity_mean": 13.304305594418649, "cost1_min": 13.802786038929753, "cost1_mean": 338.10213167140813, "cost1_max": 440.1503690128758, "outflow_rate_max": 1257.780851032668, "system_level_velocity_max": 18.684756810032958, "outflow_rate_min": 442.92213116628903, "cost2_max": -16.37235664307175, "outflow_rate_mean": 1051.703405296069}, "node_ip": "10.138.0.2", "timesteps_total": 1121612}
{"hostname": "flow-main", "episode_reward_mean": 761.553193941449, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce83c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8dd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 42.467670917510986, "date": "2019-05-19_23-09-42", "info": {"sample_time_ms": 30606.472, "update_time_ms": 8.76, "default": {"entropy": 1.2891368865966797, "vf_explained_var": 0.7248155474662781, "vf_loss": 18.312217712402344, "kl": 0.016009071841835976, "policy_loss": -0.008171257562935352, "total_loss": 18.305646896362305, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 1178647, "load_time_ms": 6.826, "num_steps_sampled": 1178647, "grad_time_ms": 15871.698}, "timesteps_since_restore": 1178647, "time_total_s": 888.8741917610168, "num_metric_batches_dropped": 0, "timestamp": 1558307382, "training_iteration": 18, "timesteps_this_iter": 57035, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 888.8741917610168, "episodes_total": 505, "iterations_since_restore": 18, "episode_reward_min": 31.244055712691136, "episodes_this_iter": 27, "episode_len_mean": 679.93, "done": false, "episode_reward_max": 980.2026715738482, "custom_metrics": {"cost2_mean": -127.47570317303308, "system_level_velocity_min": 10.471170698282197, "cost2_min": -158.5745029435672, "system_level_velocity_mean": 13.403200173106775, "cost1_min": 13.802786038929753, "cost1_mean": 340.2761983586946, "cost1_max": 440.1503690128758, "outflow_rate_max": 1257.780851032668, "system_level_velocity_max": 18.684756810032958, "outflow_rate_min": 442.92213116628903, "cost2_max": -16.37235664307175, "outflow_rate_mean": 1047.3335556812629}, "node_ip": "10.138.0.2", "timesteps_total": 1178647}
{"hostname": "flow-main", "episode_reward_mean": 770.0945676816258, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8668>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 43.36644268035889, "date": "2019-05-19_23-10-26", "info": {"sample_time_ms": 30307.387, "update_time_ms": 8.399, "default": {"entropy": 1.3013770580291748, "vf_explained_var": 0.7534415125846863, "vf_loss": 18.814722061157227, "kl": 0.022328339517116547, "policy_loss": -0.010807215236127377, "total_loss": 18.806150436401367, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 1235835, "load_time_ms": 6.775, "num_steps_sampled": 1235835, "grad_time_ms": 15568.721}, "timesteps_since_restore": 1235835, "time_total_s": 932.2406344413757, "num_metric_batches_dropped": 0, "timestamp": 1558307426, "training_iteration": 19, "timesteps_this_iter": 57188, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 932.2406344413757, "episodes_total": 536, "iterations_since_restore": 19, "episode_reward_min": 31.244055712691136, "episodes_this_iter": 31, "episode_len_mean": 685.32, "done": false, "episode_reward_max": 980.2026715738482, "custom_metrics": {"cost2_mean": -121.74092754624158, "system_level_velocity_min": 9.380146613736168, "cost2_min": -158.5745029435672, "system_level_velocity_mean": 13.440720385782674, "cost1_min": 13.802786038929753, "cost1_mean": 344.8533110091162, "cost1_max": 440.1503690128758, "outflow_rate_max": 1245.1590246505184, "system_level_velocity_max": 18.404220243228927, "outflow_rate_min": 442.92213116628903, "cost2_max": -16.37235664307175, "outflow_rate_mean": 1046.6864984959952}, "node_ip": "10.138.0.2", "timesteps_total": 1235835}
{"hostname": "flow-main", "episode_reward_mean": 789.5319525266485, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec240>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.07802152633667, "date": "2019-05-19_23-11-10", "info": {"sample_time_ms": 30069.991, "update_time_ms": 8.06, "default": {"entropy": 1.2935187816619873, "vf_explained_var": 0.7200961112976074, "vf_loss": 19.481098175048828, "kl": 0.01435907557606697, "policy_loss": -0.008499161340296268, "total_loss": 19.47475242614746, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "num_steps_trained": 1292112, "load_time_ms": 6.895, "num_steps_sampled": 1292112, "grad_time_ms": 15298.533}, "timesteps_since_restore": 1292112, "time_total_s": 976.3186559677124, "num_metric_batches_dropped": 0, "timestamp": 1558307470, "training_iteration": 20, "timesteps_this_iter": 56277, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 976.3186559677124, "episodes_total": 566, "iterations_since_restore": 20, "episode_reward_min": 551.0936550354186, "episodes_this_iter": 30, "episode_len_mean": 698.79, "done": false, "episode_reward_max": 952.9492299725246, "custom_metrics": {"cost2_mean": -117.67189832759873, "system_level_velocity_min": 9.380146613736168, "cost2_min": -153.70824549394607, "system_level_velocity_mean": 13.5763541290849, "cost1_min": 250.4141969230084, "cost1_mean": 356.88916249004143, "cost1_max": 414.7003375860684, "outflow_rate_max": 1202.3465712825493, "system_level_velocity_max": 15.81740332884224, "outflow_rate_min": 822.9847969418954, "cost2_max": -74.22174990420187, "outflow_rate_mean": 1059.66325409532}, "node_ip": "10.138.0.2", "timesteps_total": 1292112}
{"hostname": "flow-main", "episode_reward_mean": 785.7918576945033, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce85c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 39.81183695793152, "date": "2019-05-19_23-11-50", "info": {"sample_time_ms": 29560.407, "update_time_ms": 7.801, "default": {"entropy": 1.2949007749557495, "vf_explained_var": 0.6490158438682556, "vf_loss": 23.996601104736328, "kl": 0.016413697972893715, "policy_loss": -0.008661767467856407, "total_loss": 23.990398406982422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "num_steps_trained": 1343927, "load_time_ms": 7.099, "num_steps_sampled": 1343927, "grad_time_ms": 14864.738}, "timesteps_since_restore": 1343927, "time_total_s": 1016.1304929256439, "num_metric_batches_dropped": 0, "timestamp": 1558307510, "training_iteration": 21, "timesteps_this_iter": 51815, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1016.1304929256439, "episodes_total": 597, "iterations_since_restore": 21, "episode_reward_min": 551.0936550354186, "episodes_this_iter": 31, "episode_len_mean": 698.79, "done": false, "episode_reward_max": 937.4558144445087, "custom_metrics": {"cost2_mean": -112.65740870754604, "system_level_velocity_min": 9.380146613736168, "cost2_min": -153.70824549394607, "system_level_velocity_mean": 13.745440656877186, "cost1_min": 250.4141969230084, "cost1_mean": 360.7459958281561, "cost1_max": 422.3590487831643, "outflow_rate_max": 1202.3465712825493, "system_level_velocity_max": 16.14861133358796, "outflow_rate_min": 822.9847969418954, "cost2_max": -51.79030518233532, "outflow_rate_mean": 1058.258753440839}, "node_ip": "10.138.0.2", "timesteps_total": 1343927}
{"hostname": "flow-main", "episode_reward_mean": 785.0079521886997, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf53c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5128>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 38.852062940597534, "date": "2019-05-19_23-12-29", "info": {"sample_time_ms": 29078.299, "update_time_ms": 7.814, "default": {"entropy": 1.2908283472061157, "vf_explained_var": 0.5472358465194702, "vf_loss": 26.778074264526367, "kl": 0.015630630776286125, "policy_loss": -0.008058850653469563, "total_loss": 26.772357940673828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "num_steps_trained": 1396159, "load_time_ms": 7.066, "num_steps_sampled": 1396159, "grad_time_ms": 14457.365}, "timesteps_since_restore": 1396159, "time_total_s": 1054.9825558662415, "num_metric_batches_dropped": 0, "timestamp": 1558307549, "training_iteration": 22, "timesteps_this_iter": 52232, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1054.9825558662415, "episodes_total": 630, "iterations_since_restore": 22, "episode_reward_min": 551.0936550354186, "episodes_this_iter": 33, "episode_len_mean": 698.79, "done": false, "episode_reward_max": 921.5611854276934, "custom_metrics": {"cost2_mean": -103.90600512348743, "system_level_velocity_min": 9.867714093835229, "cost2_min": -149.31733654903303, "system_level_velocity_mean": 13.963440957090137, "cost1_min": 255.7184071666096, "cost1_mean": 365.7023570497311, "cost1_max": 422.3590487831643, "outflow_rate_max": 1202.3465712825493, "system_level_velocity_max": 16.14861133358796, "outflow_rate_min": 854.738784461556, "cost2_max": -51.79030518233532, "outflow_rate_mean": 1051.7183251533127}, "node_ip": "10.138.0.2", "timesteps_total": 1396159}
{"hostname": "flow-main", "episode_reward_mean": 784.5052899612016, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6d8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 40.50616669654846, "date": "2019-05-19_23-13-09", "info": {"sample_time_ms": 28570.519, "update_time_ms": 7.914, "default": {"entropy": 1.2933300733566284, "vf_explained_var": 0.4450836479663849, "vf_loss": 28.64024543762207, "kl": 0.013693553395569324, "policy_loss": -0.007059692870825529, "total_loss": 28.63524055480957, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 1446272, "load_time_ms": 7.008, "num_steps_sampled": 1446272, "grad_time_ms": 14227.233}, "timesteps_since_restore": 1446272, "time_total_s": 1095.48872256279, "num_metric_batches_dropped": 0, "timestamp": 1558307589, "training_iteration": 23, "timesteps_this_iter": 50113, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1095.48872256279, "episodes_total": 665, "iterations_since_restore": 23, "episode_reward_min": 453.256030229413, "episodes_this_iter": 35, "episode_len_mean": 696.95, "done": false, "episode_reward_max": 914.430485535826, "custom_metrics": {"cost2_mean": -89.8645139365884, "system_level_velocity_min": 10.513125961658979, "cost2_min": -149.31733654903303, "system_level_velocity_mean": 14.34501340723483, "cost1_min": 226.71158437368462, "cost1_mean": 372.4977564578842, "cost1_max": 422.3590487831643, "outflow_rate_max": 1180.0982373783454, "system_level_velocity_max": 16.398369157431112, "outflow_rate_min": 847.2242918020055, "cost2_max": -37.39254372058442, "outflow_rate_mean": 1044.2018079655575}, "node_ip": "10.138.0.2", "timesteps_total": 1446272}
{"hostname": "flow-main", "episode_reward_mean": 771.0934024686652, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d12e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5b38>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 35.25611853599548, "date": "2019-05-19_23-13-44", "info": {"sample_time_ms": 27895.351, "update_time_ms": 7.726, "default": {"entropy": 1.3035045862197876, "vf_explained_var": 0.3440808653831482, "vf_loss": 27.867210388183594, "kl": 0.01634114608168602, "policy_loss": -0.008673127740621567, "total_loss": 27.860986709594727, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 1493897, "load_time_ms": 6.934, "num_steps_sampled": 1493897, "grad_time_ms": 13773.403}, "timesteps_since_restore": 1493897, "time_total_s": 1130.7448410987854, "num_metric_batches_dropped": 0, "timestamp": 1558307624, "training_iteration": 24, "timesteps_this_iter": 47625, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1130.7448410987854, "episodes_total": 695, "iterations_since_restore": 24, "episode_reward_min": 134.4580975050823, "episodes_this_iter": 30, "episode_len_mean": 691.0, "done": false, "episode_reward_max": 874.5511973358198, "custom_metrics": {"cost2_mean": -76.15785265339973, "system_level_velocity_min": 10.513125961658979, "cost2_min": -129.78117836097613, "system_level_velocity_mean": 14.661563507610426, "cost1_min": 65.95663061216283, "cost1_mean": 374.4436702644787, "cost1_max": 422.2059261124012, "outflow_rate_max": 1180.0982373783454, "system_level_velocity_max": 17.20521039661284, "outflow_rate_min": 678.8419173983606, "cost2_max": -29.13404833115881, "outflow_rate_mean": 1030.6449878905703}, "node_ip": "10.138.0.2", "timesteps_total": 1493897}
{"hostname": "flow-main", "episode_reward_mean": 764.8221923218845, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf57b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 36.618497133255005, "date": "2019-05-19_23-14-21", "info": {"sample_time_ms": 27275.263, "update_time_ms": 8.039, "default": {"entropy": 1.29178786277771, "vf_explained_var": 0.31742316484451294, "vf_loss": 28.142087936401367, "kl": 0.014473523944616318, "policy_loss": -0.008317735977470875, "total_loss": 28.135940551757812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "num_steps_trained": 1541643, "load_time_ms": 7.054, "num_steps_sampled": 1541643, "grad_time_ms": 13692.767}, "timesteps_since_restore": 1541643, "time_total_s": 1167.3633382320404, "num_metric_batches_dropped": 0, "timestamp": 1558307661, "training_iteration": 25, "timesteps_this_iter": 47746, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1167.3633382320404, "episodes_total": 725, "iterations_since_restore": 25, "episode_reward_min": 134.4580975050823, "episodes_this_iter": 30, "episode_len_mean": 691.0, "done": false, "episode_reward_max": 868.0712780677266, "custom_metrics": {"cost2_mean": -66.23553491595655, "system_level_velocity_min": 11.67831477131811, "cost2_min": -122.07474501724852, "system_level_velocity_mean": 14.911670690304648, "cost1_min": 65.95663061216283, "cost1_mean": 378.4598716171814, "cost1_max": 422.2059261124012, "outflow_rate_max": 1165.9668062170367, "system_level_velocity_max": 17.20521039661284, "outflow_rate_min": 678.8419173983606, "cost2_max": -29.13404833115881, "outflow_rate_mean": 1020.6204601684923}, "node_ip": "10.138.0.2", "timesteps_total": 1541643}
{"hostname": "flow-main", "episode_reward_mean": 752.9760426632763, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 39.682262659072876, "date": "2019-05-19_23-15-01", "info": {"sample_time_ms": 26964.706, "update_time_ms": 8.212, "default": {"entropy": 1.2845109701156616, "vf_explained_var": 0.4050409197807312, "vf_loss": 28.296451568603516, "kl": 0.01622343808412552, "policy_loss": -0.008808672428131104, "total_loss": 28.290075302124023, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 1590035, "load_time_ms": 6.859, "num_steps_sampled": 1590035, "grad_time_ms": 13405.319}, "timesteps_since_restore": 1590035, "time_total_s": 1207.0456008911133, "num_metric_batches_dropped": 0, "timestamp": 1558307701, "training_iteration": 26, "timesteps_this_iter": 48392, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1207.0456008911133, "episodes_total": 757, "iterations_since_restore": 26, "episode_reward_min": 34.128654657045125, "episodes_this_iter": 32, "episode_len_mean": 678.73, "done": false, "episode_reward_max": 866.2464580624796, "custom_metrics": {"cost2_mean": -61.18164697202732, "system_level_velocity_min": 12.212619228381394, "cost2_min": -112.84471013538982, "system_level_velocity_mean": 15.115315139602712, "cost1_min": 19.52405641735077, "cost1_mean": 374.60977540701714, "cost1_max": 420.61150150992563, "outflow_rate_max": 1122.122273644336, "system_level_velocity_max": 17.82151275187769, "outflow_rate_min": 499.67796676873223, "cost2_max": -17.8450942235606, "outflow_rate_mean": 1005.957650014675}, "node_ip": "10.138.0.2", "timesteps_total": 1590035}
{"hostname": "flow-main", "episode_reward_mean": 753.8767734954895, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfef98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfefd0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 36.894148111343384, "date": "2019-05-19_23-15-38", "info": {"sample_time_ms": 26628.116, "update_time_ms": 8.226, "default": {"entropy": 1.2915226221084595, "vf_explained_var": 0.35465481877326965, "vf_loss": 30.60214614868164, "kl": 0.01670859009027481, "policy_loss": -0.008139973506331444, "total_loss": 30.59650993347168, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.1499999761581421}, "num_steps_trained": 1638060, "load_time_ms": 6.374, "num_steps_sampled": 1638060, "grad_time_ms": 13015.436}, "timesteps_since_restore": 1638060, "time_total_s": 1243.9397490024567, "num_metric_batches_dropped": 0, "timestamp": 1558307738, "training_iteration": 27, "timesteps_this_iter": 48025, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1243.9397490024567, "episodes_total": 788, "iterations_since_restore": 27, "episode_reward_min": 24.54821289113779, "episodes_this_iter": 31, "episode_len_mean": 677.87, "done": false, "episode_reward_max": 893.4108310227685, "custom_metrics": {"cost2_mean": -62.35001370503638, "system_level_velocity_min": 12.212619228381394, "cost2_min": -112.84471013538982, "system_level_velocity_mean": 15.076418267244264, "cost1_min": 12.37274424364148, "cost1_mean": 373.3755609847579, "cost1_max": 422.56337182653976, "outflow_rate_max": 1122.0717105677058, "system_level_velocity_max": 17.82151275187769, "outflow_rate_min": 467.7500288525429, "cost2_max": -14.052858701457158, "outflow_rate_mean": 1000.8204858814336}, "node_ip": "10.138.0.2", "timesteps_total": 1638060}
{"hostname": "flow-main", "episode_reward_mean": 746.3217645499519, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 36.906280279159546, "date": "2019-05-19_23-16-15", "info": {"sample_time_ms": 26264.701, "update_time_ms": 8.236, "default": {"entropy": 1.3028074502944946, "vf_explained_var": 0.24015235900878906, "vf_loss": 32.81699752807617, "kl": 0.02057918906211853, "policy_loss": -0.010989601723849773, "total_loss": 32.8090934753418, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 1686242, "load_time_ms": 6.285, "num_steps_sampled": 1686242, "grad_time_ms": 12822.385}, "timesteps_since_restore": 1686242, "time_total_s": 1280.8460292816162, "num_metric_batches_dropped": 0, "timestamp": 1558307775, "training_iteration": 28, "timesteps_this_iter": 48182, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1280.8460292816162, "episodes_total": 823, "iterations_since_restore": 28, "episode_reward_min": 24.54821289113779, "episodes_this_iter": 35, "episode_len_mean": 668.65, "done": false, "episode_reward_max": 893.4108310227685, "custom_metrics": {"cost2_mean": -61.31090442638339, "system_level_velocity_min": 11.924927596111155, "cost2_min": -109.78769817401391, "system_level_velocity_mean": 15.214614450204557, "cost1_min": 12.37274424364148, "cost1_mean": 370.8637423212941, "cost1_max": 422.56337182653976, "outflow_rate_max": 1122.0717105677058, "system_level_velocity_max": 18.788477611642122, "outflow_rate_min": 467.7500288525429, "cost2_max": -14.052858701457158, "outflow_rate_mean": 996.450519521679}, "node_ip": "10.138.0.2", "timesteps_total": 1686242}
{"hostname": "flow-main", "episode_reward_mean": 760.859030867115, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d023c8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 34.72685241699219, "date": "2019-05-19_23-16-49", "info": {"sample_time_ms": 25570.291, "update_time_ms": 8.441, "default": {"entropy": 1.301964282989502, "vf_explained_var": 0.2668765187263489, "vf_loss": 30.110631942749023, "kl": 0.015415302477777004, "policy_loss": -0.009247462265193462, "total_loss": 30.10485076904297, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 1733704, "load_time_ms": 6.118, "num_steps_sampled": 1733704, "grad_time_ms": 12652.443}, "timesteps_since_restore": 1733704, "time_total_s": 1315.5728816986084, "num_metric_batches_dropped": 0, "timestamp": 1558307809, "training_iteration": 29, "timesteps_this_iter": 47462, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1315.5728816986084, "episodes_total": 855, "iterations_since_restore": 29, "episode_reward_min": 24.54821289113779, "episodes_this_iter": 32, "episode_len_mean": 683.77, "done": false, "episode_reward_max": 893.4108310227685, "custom_metrics": {"cost2_mean": -60.2766914083838, "system_level_velocity_min": 11.924927596111155, "cost2_min": -103.00157030919902, "system_level_velocity_mean": 15.274608279908826, "cost1_min": 12.37274424364148, "cost1_mean": 381.8346077836166, "cost1_max": 422.56337182653976, "outflow_rate_max": 1122.0717105677058, "system_level_velocity_max": 18.788477611642122, "outflow_rate_min": 467.7500288525429, "cost2_max": -14.052858701457158, "outflow_rate_mean": 1008.3738989002378}, "node_ip": "10.138.0.2", "timesteps_total": 1733704}
{"hostname": "flow-main", "episode_reward_mean": 748.707814193493, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02f28>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.865095138549805, "date": "2019-05-19_23-17-22", "info": {"sample_time_ms": 24871.27, "update_time_ms": 8.57, "default": {"entropy": 1.3120391368865967, "vf_explained_var": 0.23652921617031097, "vf_loss": 30.652259826660156, "kl": 0.0139137152582407, "policy_loss": -0.00782194547355175, "total_loss": 30.647567749023438, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 1779594, "load_time_ms": 6.304, "num_steps_sampled": 1779594, "grad_time_ms": 12230.45}, "timesteps_since_restore": 1779594, "time_total_s": 1348.4379768371582, "num_metric_batches_dropped": 0, "timestamp": 1558307842, "training_iteration": 30, "timesteps_this_iter": 45890, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1348.4379768371582, "episodes_total": 886, "iterations_since_restore": 30, "episode_reward_min": 49.82624052262832, "episodes_this_iter": 31, "episode_len_mean": 683.92, "done": false, "episode_reward_max": 840.7580570423817, "custom_metrics": {"cost2_mean": -56.888640651977376, "system_level_velocity_min": 11.924927596111155, "cost2_min": -92.44421207293847, "system_level_velocity_mean": 15.320303718785754, "cost1_min": 22.653332026778433, "cost1_mean": 381.98066590757765, "cost1_max": 420.67424304765564, "outflow_rate_max": 1117.484384826576, "system_level_velocity_max": 18.788477611642122, "outflow_rate_min": 488.9423334339913, "cost2_max": -19.87618500746161, "outflow_rate_mean": 993.910129518284}, "node_ip": "10.138.0.2", "timesteps_total": 1779594}
{"hostname": "flow-main", "episode_reward_mean": 726.6872385334606, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfef28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfeba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfecc0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 36.54433059692383, "date": "2019-05-19_23-17-59", "info": {"sample_time_ms": 24654.138, "update_time_ms": 8.475, "default": {"entropy": 1.3119419813156128, "vf_explained_var": 0.27375417947769165, "vf_loss": 32.09495544433594, "kl": 0.014203024096786976, "policy_loss": -0.008975201286375523, "total_loss": 32.089176177978516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 1825607, "load_time_ms": 6.041, "num_steps_sampled": 1825607, "grad_time_ms": 12122.345}, "timesteps_since_restore": 1825607, "time_total_s": 1384.982307434082, "num_metric_batches_dropped": 0, "timestamp": 1558307879, "training_iteration": 31, "timesteps_this_iter": 46013, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1384.982307434082, "episodes_total": 921, "iterations_since_restore": 31, "episode_reward_min": 25.707290800978686, "episodes_this_iter": 35, "episode_len_mean": 671.87, "done": false, "episode_reward_max": 832.4064505609145, "custom_metrics": {"cost2_mean": -53.38894385332975, "system_level_velocity_min": 12.129247077616952, "cost2_min": -83.93972126508397, "system_level_velocity_mean": 15.412738258762353, "cost1_min": 11.693739706579741, "cost1_mean": 375.67639091394767, "cost1_max": 421.2269870733231, "outflow_rate_max": 1085.1216515921571, "system_level_velocity_max": 18.3636672977411, "outflow_rate_min": 464.2002765876701, "cost2_max": -13.713117126509088, "outflow_rate_mean": 970.9449567292188}, "node_ip": "10.138.0.2", "timesteps_total": 1825607}
{"hostname": "flow-main", "episode_reward_mean": 701.8862936906859, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d029e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 34.391939878463745, "date": "2019-05-19_23-18-33", "info": {"sample_time_ms": 24219.696, "update_time_ms": 8.242, "default": {"entropy": 1.3390793800354004, "vf_explained_var": 0.2700043022632599, "vf_loss": 33.679222106933594, "kl": 0.012663670815527439, "policy_loss": -0.00863782037049532, "total_loss": 33.673431396484375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 1870869, "load_time_ms": 5.873, "num_steps_sampled": 1870869, "grad_time_ms": 12113.692}, "timesteps_since_restore": 1870869, "time_total_s": 1419.3742473125458, "num_metric_batches_dropped": 0, "timestamp": 1558307913, "training_iteration": 32, "timesteps_this_iter": 45262, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1419.3742473125458, "episodes_total": 958, "iterations_since_restore": 32, "episode_reward_min": 25.707290800978686, "episodes_this_iter": 37, "episode_len_mean": 661.53, "done": false, "episode_reward_max": 800.3350736318549, "custom_metrics": {"cost2_mean": -53.0089008618329, "system_level_velocity_min": 12.129247077616952, "cost2_min": -84.11455036344681, "system_level_velocity_mean": 15.395163135140931, "cost1_min": 11.693739706579741, "cost1_mean": 368.38429496963033, "cost1_max": 430.7281863581867, "outflow_rate_max": 1067.0452175317487, "system_level_velocity_max": 18.371075460135053, "outflow_rate_min": 464.2002765876701, "cost2_max": -13.713117126509088, "outflow_rate_mean": 950.184217654572}, "node_ip": "10.138.0.2", "timesteps_total": 1870869}
{"hostname": "flow-main", "episode_reward_mean": 705.0490017750287, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.03589677810669, "date": "2019-05-19_23-19-07", "info": {"sample_time_ms": 23781.77, "update_time_ms": 8.346, "default": {"entropy": 1.340957522392273, "vf_explained_var": 0.24534301459789276, "vf_loss": 32.194034576416016, "kl": 0.013940881006419659, "policy_loss": -0.009349266067147255, "total_loss": 32.18782424926758, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 1915741, "load_time_ms": 6.019, "num_steps_sampled": 1915741, "grad_time_ms": 11805.219}, "timesteps_since_restore": 1915741, "time_total_s": 1452.4101440906525, "num_metric_batches_dropped": 0, "timestamp": 1558307947, "training_iteration": 33, "timesteps_this_iter": 44872, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1452.4101440906525, "episodes_total": 990, "iterations_since_restore": 33, "episode_reward_min": 25.707290800978686, "episodes_this_iter": 32, "episode_len_mean": 665.08, "done": false, "episode_reward_max": 805.4255729216067, "custom_metrics": {"cost2_mean": -53.78264126581014, "system_level_velocity_min": 12.356314897889227, "cost2_min": -85.97669125575857, "system_level_velocity_mean": 15.499294580128364, "cost1_min": 11.693739706579741, "cost1_mean": 373.46890991838876, "cost1_max": 436.28017090024525, "outflow_rate_max": 1119.6647693711734, "system_level_velocity_max": 18.371075460135053, "outflow_rate_min": 464.2002765876701, "cost2_max": -13.713117126509088, "outflow_rate_mean": 959.0008051332514}, "node_ip": "10.138.0.2", "timesteps_total": 1915741}
{"hostname": "flow-main", "episode_reward_mean": 727.4004217484872, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d026a0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 35.26294565200806, "date": "2019-05-19_23-19-42", "info": {"sample_time_ms": 23781.815, "update_time_ms": 8.488, "default": {"entropy": 1.3345695734024048, "vf_explained_var": 0.2540420591831207, "vf_loss": 30.490169525146484, "kl": 0.014950023964047432, "policy_loss": -0.010017050430178642, "total_loss": 30.483516693115234, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 1960476, "load_time_ms": 6.15, "num_steps_sampled": 1960476, "grad_time_ms": 11809.135}, "timesteps_since_restore": 1960476, "time_total_s": 1487.6730897426605, "num_metric_batches_dropped": 0, "timestamp": 1558307982, "training_iteration": 34, "timesteps_this_iter": 44735, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1487.6730897426605, "episodes_total": 1022, "iterations_since_restore": 34, "episode_reward_min": 55.026097871157916, "episodes_this_iter": 32, "episode_len_mean": 686.35, "done": false, "episode_reward_max": 805.4255729216067, "custom_metrics": {"cost2_mean": -55.177281779184426, "system_level_velocity_min": 12.493932995654959, "cost2_min": -85.97669125575857, "system_level_velocity_mean": 15.598232925295294, "cost1_min": 26.33068351750203, "cost1_mean": 389.4666686362836, "cost1_max": 436.28017090024525, "outflow_rate_max": 1128.1849743627745, "system_level_velocity_max": 18.371075460135053, "outflow_rate_min": 479.6699033408522, "cost2_max": -25.093806422122896, "outflow_rate_mean": 979.8425485963353}, "node_ip": "10.138.0.2", "timesteps_total": 1960476}
{"hostname": "flow-main", "episode_reward_mean": 735.5482045823499, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfedd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.61950159072876, "date": "2019-05-19_23-20-14", "info": {"sample_time_ms": 23541.296, "update_time_ms": 8.223, "default": {"entropy": 1.3406959772109985, "vf_explained_var": 0.2614300549030304, "vf_loss": 29.780532836914062, "kl": 0.014073766767978668, "policy_loss": -0.010586977936327457, "total_loss": 29.773113250732422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 2005266, "load_time_ms": 6.091, "num_steps_sampled": 2005266, "grad_time_ms": 11647.704}, "timesteps_since_restore": 2005266, "time_total_s": 1520.2925913333893, "num_metric_batches_dropped": 0, "timestamp": 1558308014, "training_iteration": 35, "timesteps_this_iter": 44790, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1520.2925913333893, "episodes_total": 1054, "iterations_since_restore": 35, "episode_reward_min": 296.4679922811376, "episodes_this_iter": 32, "episode_len_mean": 692.53, "done": false, "episode_reward_max": 814.8518777921803, "custom_metrics": {"cost2_mean": -55.140575746114834, "system_level_velocity_min": 12.493932995654959, "cost2_min": -85.97669125575857, "system_level_velocity_mean": 15.664792882568912, "cost1_min": 158.60687748985399, "cost1_mean": 394.6747303123451, "cost1_max": 436.28017090024525, "outflow_rate_max": 1128.1849743627745, "system_level_velocity_max": 17.03245185788506, "outflow_rate_min": 812.4194749959281, "cost2_max": -32.66658954734838, "outflow_rate_mean": 981.244893124759}, "node_ip": "10.138.0.2", "timesteps_total": 2005266}
{"hostname": "flow-main", "episode_reward_mean": 738.8142269059462, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d024a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02cf8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.81515336036682, "date": "2019-05-19_23-20-48", "info": {"sample_time_ms": 23081.357, "update_time_ms": 8.17, "default": {"entropy": 1.3294941186904907, "vf_explained_var": 0.2524392306804657, "vf_loss": 30.332292556762695, "kl": 0.013342803344130516, "policy_loss": -0.009966178797185421, "total_loss": 30.325328826904297, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2050392, "load_time_ms": 6.018, "num_steps_sampled": 2050392, "grad_time_ms": 11522.893}, "timesteps_since_restore": 2050392, "time_total_s": 1554.107744693756, "num_metric_batches_dropped": 0, "timestamp": 1558308048, "training_iteration": 36, "timesteps_this_iter": 45126, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1554.107744693756, "episodes_total": 1086, "iterations_since_restore": 36, "episode_reward_min": 296.4679922811376, "episodes_this_iter": 32, "episode_len_mean": 691.05, "done": false, "episode_reward_max": 814.8518777921803, "custom_metrics": {"cost2_mean": -54.714757220491, "system_level_velocity_min": 12.493932995654959, "cost2_min": -80.27216622737457, "system_level_velocity_mean": 15.792197360084181, "cost1_min": 158.60687748985399, "cost1_mean": 396.3050895854579, "cost1_max": 433.4493054669832, "outflow_rate_max": 1128.1849743627745, "system_level_velocity_max": 17.342243066425237, "outflow_rate_min": 812.4194749959281, "cost2_max": -32.66658954734838, "outflow_rate_mean": 979.3887538903248}, "node_ip": "10.138.0.2", "timesteps_total": 2050392}
{"hostname": "flow-main", "episode_reward_mean": 717.8753310583155, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfeb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5e80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 35.23750948905945, "date": "2019-05-19_23-21-24", "info": {"sample_time_ms": 23096.507, "update_time_ms": 8.339, "default": {"entropy": 1.3396525382995605, "vf_explained_var": 0.25466346740722656, "vf_loss": 33.196678161621094, "kl": 0.01355770044028759, "policy_loss": -0.008755214512348175, "total_loss": 33.190975189208984, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 2095174, "load_time_ms": 6.143, "num_steps_sampled": 2095174, "grad_time_ms": 11342.75}, "timesteps_since_restore": 2095174, "time_total_s": 1589.3452541828156, "num_metric_batches_dropped": 0, "timestamp": 1558308084, "training_iteration": 37, "timesteps_this_iter": 44782, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1589.3452541828156, "episodes_total": 1120, "iterations_since_restore": 37, "episode_reward_min": 27.543521431250493, "episodes_this_iter": 34, "episode_len_mean": 673.04, "done": false, "episode_reward_max": 814.8518777921803, "custom_metrics": {"cost2_mean": -55.16558978391166, "system_level_velocity_min": 12.543910977203367, "cost2_min": -92.50599037889693, "system_level_velocity_mean": 15.74273223457151, "cost1_min": 12.302017198992612, "cost1_mean": 384.42320058970785, "cost1_max": 433.936202157436, "outflow_rate_max": 1113.3550047878427, "system_level_velocity_max": 17.886572131214574, "outflow_rate_min": 467.7500288525429, "cost2_max": -13.521839223381676, "outflow_rate_mean": 964.267715304856}, "node_ip": "10.138.0.2", "timesteps_total": 2095174}
{"hostname": "flow-main", "episode_reward_mean": 703.1056967621095, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.55156087875366, "date": "2019-05-19_23-21-57", "info": {"sample_time_ms": 22829.706, "update_time_ms": 8.267, "default": {"entropy": 1.3305885791778564, "vf_explained_var": 0.22127024829387665, "vf_loss": 35.858577728271484, "kl": 0.013503888621926308, "policy_loss": -0.008396115154027939, "total_loss": 35.85322570800781, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2139412, "load_time_ms": 6.05, "num_steps_sampled": 2139412, "grad_time_ms": 11275.278}, "timesteps_since_restore": 2139412, "time_total_s": 1622.8968150615692, "num_metric_batches_dropped": 0, "timestamp": 1558308117, "training_iteration": 38, "timesteps_this_iter": 44238, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1622.8968150615692, "episodes_total": 1157, "iterations_since_restore": 38, "episode_reward_min": 27.543521431250493, "episodes_this_iter": 37, "episode_len_mean": 660.52, "done": false, "episode_reward_max": 799.1621743341456, "custom_metrics": {"cost2_mean": -54.106754274650996, "system_level_velocity_min": 12.543910977203367, "cost2_min": -92.50599037889693, "system_level_velocity_mean": 15.820975433946119, "cost1_min": 12.302017198992612, "cost1_mean": 377.9732431585628, "cost1_max": 433.936202157436, "outflow_rate_max": 1101.9028876560235, "system_level_velocity_max": 18.679510637590877, "outflow_rate_min": 467.7500288525429, "cost2_max": -13.521839223381676, "outflow_rate_mean": 956.0373080052012}, "node_ip": "10.138.0.2", "timesteps_total": 2139412}
{"hostname": "flow-main", "episode_reward_mean": 698.7851470360223, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e2b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 34.25208759307861, "date": "2019-05-19_23-22-32", "info": {"sample_time_ms": 22896.914, "update_time_ms": 8.254, "default": {"entropy": 1.3350673913955688, "vf_explained_var": 0.22572293877601624, "vf_loss": 31.67925262451172, "kl": 0.015038268640637398, "policy_loss": -0.009692659601569176, "total_loss": 31.672943115234375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2183264, "load_time_ms": 6.086, "num_steps_sampled": 2183264, "grad_time_ms": 11161.936}, "timesteps_since_restore": 2183264, "time_total_s": 1657.1489026546478, "num_metric_batches_dropped": 0, "timestamp": 1558308152, "training_iteration": 39, "timesteps_this_iter": 43852, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1657.1489026546478, "episodes_total": 1189, "iterations_since_restore": 39, "episode_reward_min": 27.543521431250493, "episodes_this_iter": 32, "episode_len_mean": 660.67, "done": false, "episode_reward_max": 799.1621743341456, "custom_metrics": {"cost2_mean": -53.23826623023167, "system_level_velocity_min": 12.451089814688366, "cost2_min": -92.50599037889693, "system_level_velocity_mean": 15.817015490152878, "cost1_min": 12.302017198992612, "cost1_mean": 377.7182696061671, "cost1_max": 439.699842634736, "outflow_rate_max": 1121.6898396270306, "system_level_velocity_max": 18.679510637590877, "outflow_rate_min": 467.7500288525429, "cost2_max": -13.521839223381676, "outflow_rate_mean": 951.2844276336771}, "node_ip": "10.138.0.2", "timesteps_total": 2183264}
{"hostname": "flow-main", "episode_reward_mean": 714.4962073469278, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec320>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.46611785888672, "date": "2019-05-19_23-23-05", "info": {"sample_time_ms": 23009.186, "update_time_ms": 8.436, "default": {"entropy": 1.3310030698776245, "vf_explained_var": 0.19894641637802124, "vf_loss": 35.568199157714844, "kl": 0.012964396737515926, "policy_loss": -0.008675684221088886, "total_loss": 35.56243896484375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2227080, "load_time_ms": 5.925, "num_steps_sampled": 2227080, "grad_time_ms": 11110.491}, "timesteps_since_restore": 2227080, "time_total_s": 1690.6150205135345, "num_metric_batches_dropped": 0, "timestamp": 1558308185, "training_iteration": 40, "timesteps_this_iter": 43816, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1690.6150205135345, "episodes_total": 1222, "iterations_since_restore": 40, "episode_reward_min": 61.22663424755263, "episodes_this_iter": 33, "episode_len_mean": 673.97, "done": false, "episode_reward_max": 805.3541928183225, "custom_metrics": {"cost2_mean": -52.58446806085985, "system_level_velocity_min": 12.451089814688366, "cost2_min": -87.83178140179623, "system_level_velocity_mean": 15.863055471911373, "cost1_min": 29.811686628663658, "cost1_mean": 387.2591268327599, "cost1_max": 439.699842634736, "outflow_rate_max": 1121.6898396270306, "system_level_velocity_max": 18.679510637590877, "outflow_rate_min": 531.9865048700686, "cost2_max": -25.45245340270648, "outflow_rate_mean": 962.3075874386133}, "node_ip": "10.138.0.2", "timesteps_total": 2227080}
{"hostname": "flow-main", "episode_reward_mean": 725.4932575727506, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.86849594116211, "date": "2019-05-19_23-23-37", "info": {"sample_time_ms": 22667.788, "update_time_ms": 8.603, "default": {"entropy": 1.3128247261047363, "vf_explained_var": 0.17754481732845306, "vf_loss": 33.26957321166992, "kl": 0.01334042102098465, "policy_loss": -0.008914410136640072, "total_loss": 33.2636604309082, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2271312, "load_time_ms": 6.148, "num_steps_sampled": 2271312, "grad_time_ms": 10983.396}, "timesteps_since_restore": 2271312, "time_total_s": 1722.4835164546967, "num_metric_batches_dropped": 0, "timestamp": 1558308217, "training_iteration": 41, "timesteps_this_iter": 44232, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1722.4835164546967, "episodes_total": 1255, "iterations_since_restore": 41, "episode_reward_min": 167.8307248736014, "episodes_this_iter": 33, "episode_len_mean": 684.25, "done": false, "episode_reward_max": 805.3541928183225, "custom_metrics": {"cost2_mean": -52.61393738772799, "system_level_velocity_min": 12.451089814688366, "cost2_min": -87.83178140179623, "system_level_velocity_mean": 15.974156685360313, "cost1_min": 83.53471593139186, "cost1_mean": 396.4147132989994, "cost1_max": 444.42190592147455, "outflow_rate_max": 1121.6898396270306, "system_level_velocity_max": 17.700690519435682, "outflow_rate_min": 724.0627926967585, "cost2_max": -26.37976174363572, "outflow_rate_mean": 971.1587012521566}, "node_ip": "10.138.0.2", "timesteps_total": 2271312}
{"hostname": "flow-main", "episode_reward_mean": 730.9779864585653, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e940>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.22724390029907, "date": "2019-05-19_23-24-10", "info": {"sample_time_ms": 22545.666, "update_time_ms": 8.859, "default": {"entropy": 1.316169023513794, "vf_explained_var": 0.17055538296699524, "vf_loss": 32.52799987792969, "kl": 0.013234655372798443, "policy_loss": -0.00826652254909277, "total_loss": 32.522708892822266, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2315500, "load_time_ms": 5.952, "num_steps_sampled": 2315500, "grad_time_ms": 10989.006}, "timesteps_since_restore": 2315500, "time_total_s": 1755.7107603549957, "num_metric_batches_dropped": 0, "timestamp": 1558308250, "training_iteration": 42, "timesteps_this_iter": 44188, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1755.7107603549957, "episodes_total": 1288, "iterations_since_restore": 42, "episode_reward_min": 167.8307248736014, "episodes_this_iter": 33, "episode_len_mean": 688.69, "done": false, "episode_reward_max": 805.3541928183225, "custom_metrics": {"cost2_mean": -51.252714695265155, "system_level_velocity_min": 12.581092920393164, "cost2_min": -79.27065220966581, "system_level_velocity_mean": 16.08819214330496, "cost1_min": 83.53471593139186, "cost1_mean": 401.85672022569105, "cost1_max": 444.42190592147455, "outflow_rate_max": 1064.8563462342838, "system_level_velocity_max": 17.700690519435682, "outflow_rate_min": 724.0627926967585, "cost2_max": -26.490707842250757, "outflow_rate_mean": 970.3948455748691}, "node_ip": "10.138.0.2", "timesteps_total": 2315500}
{"hostname": "flow-main", "episode_reward_mean": 713.2443449060269, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe828>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.06142282485962, "date": "2019-05-19_23-24-42", "info": {"sample_time_ms": 22630.118, "update_time_ms": 8.784, "default": {"entropy": 1.3387197256088257, "vf_explained_var": 0.1800483614206314, "vf_loss": 37.69545364379883, "kl": 0.014063330367207527, "policy_loss": -0.00975545309484005, "total_loss": 37.68886184692383, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2358666, "load_time_ms": 5.886, "num_steps_sampled": 2358666, "grad_time_ms": 10807.537}, "timesteps_since_restore": 2358666, "time_total_s": 1787.7721831798553, "num_metric_batches_dropped": 0, "timestamp": 1558308282, "training_iteration": 43, "timesteps_this_iter": 43166, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1787.7721831798553, "episodes_total": 1326, "iterations_since_restore": 43, "episode_reward_min": 28.73425492658126, "episodes_this_iter": 38, "episode_len_mean": 676.37, "done": false, "episode_reward_max": 799.3125813907275, "custom_metrics": {"cost2_mean": -48.22901580060407, "system_level_velocity_min": 12.581092920393164, "cost2_min": -75.5140684911, "system_level_velocity_mean": 16.266378356587676, "cost1_min": 11.867361749992392, "cost1_mean": 397.6537573993403, "cost1_max": 445.3698498376816, "outflow_rate_max": 1064.8563462342838, "system_level_velocity_max": 18.256805798039256, "outflow_rate_min": 464.2002765876701, "cost2_max": -13.304813026255925, "outflow_rate_mean": 951.5921326316567}, "node_ip": "10.138.0.2", "timesteps_total": 2358666}
{"hostname": "flow-main", "episode_reward_mean": 696.4003825348263, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ecc0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.091739416122437, "date": "2019-05-19_23-25-13", "info": {"sample_time_ms": 22302.363, "update_time_ms": 8.533, "default": {"entropy": 1.3550945520401, "vf_explained_var": 0.15168961882591248, "vf_loss": 37.16996383666992, "kl": 0.013885214924812317, "policy_loss": -0.009235469624400139, "total_loss": 37.16385269165039, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2400636, "load_time_ms": 5.861, "num_steps_sampled": 2400636, "grad_time_ms": 10717.418}, "timesteps_since_restore": 2400636, "time_total_s": 1818.8639225959778, "num_metric_batches_dropped": 0, "timestamp": 1558308313, "training_iteration": 44, "timesteps_this_iter": 41970, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1818.8639225959778, "episodes_total": 1361, "iterations_since_restore": 44, "episode_reward_min": 22.932392772718366, "episodes_this_iter": 35, "episode_len_mean": 669.52, "done": false, "episode_reward_max": 784.8283247936351, "custom_metrics": {"cost2_mean": -44.27706980920247, "system_level_velocity_min": 13.339052260998765, "cost2_min": -71.00067397333423, "system_level_velocity_mean": 16.373071086586776, "cost1_min": 9.623651095180321, "cost1_mean": 395.31899044170007, "cost1_max": 445.3698498376816, "outflow_rate_max": 1064.8563462342838, "system_level_velocity_max": 18.256805798039256, "outflow_rate_min": 433.12568539996727, "cost2_max": -10.252286679624268, "outflow_rate_mean": 929.0832810299815}, "node_ip": "10.138.0.2", "timesteps_total": 2400636}
{"hostname": "flow-main", "episode_reward_mean": 685.1706808041495, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288edd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e048>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.23699927330017, "date": "2019-05-19_23-25-44", "info": {"sample_time_ms": 22204.36, "update_time_ms": 8.619, "default": {"entropy": 1.3642921447753906, "vf_explained_var": 0.11520102620124817, "vf_loss": 35.325767517089844, "kl": 0.013609642162919044, "policy_loss": -0.009031482972204685, "total_loss": 35.31979751586914, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2442008, "load_time_ms": 5.917, "num_steps_sampled": 2442008, "grad_time_ms": 10580.205}, "timesteps_since_restore": 2442008, "time_total_s": 1849.100921869278, "num_metric_batches_dropped": 0, "timestamp": 1558308344, "training_iteration": 45, "timesteps_this_iter": 41372, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1849.100921869278, "episodes_total": 1392, "iterations_since_restore": 45, "episode_reward_min": 22.932392772718366, "episodes_this_iter": 31, "episode_len_mean": 669.28, "done": false, "episode_reward_max": 784.4976264686693, "custom_metrics": {"cost2_mean": -42.81470255915145, "system_level_velocity_min": 13.339052260998765, "cost2_min": -63.60970950785665, "system_level_velocity_mean": 16.449886592218046, "cost1_min": 9.623651095180321, "cost1_mean": 395.7242136025389, "cost1_max": 449.19597601565823, "outflow_rate_max": 1042.3726588915706, "system_level_velocity_max": 18.256805798039256, "outflow_rate_min": 433.12568539996727, "cost2_max": -10.252286679624268, "outflow_rate_mean": 913.911573291787}, "node_ip": "10.138.0.2", "timesteps_total": 2442008}
{"hostname": "flow-main", "episode_reward_mean": 695.6610805032346, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d023c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.06695055961609, "date": "2019-05-19_23-26-17", "info": {"sample_time_ms": 22166.43, "update_time_ms": 8.685, "default": {"entropy": 1.3805124759674072, "vf_explained_var": 0.1552516222000122, "vf_loss": 37.30082702636719, "kl": 0.012001068331301212, "policy_loss": -0.007946493104100227, "total_loss": 37.29557800292969, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 2483805, "load_time_ms": 5.796, "num_steps_sampled": 2483805, "grad_time_ms": 10543.744}, "timesteps_since_restore": 2483805, "time_total_s": 1882.167872428894, "num_metric_batches_dropped": 0, "timestamp": 1558308377, "training_iteration": 46, "timesteps_this_iter": 41797, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1882.167872428894, "episodes_total": 1428, "iterations_since_restore": 46, "episode_reward_min": 22.932392772718366, "episodes_this_iter": 36, "episode_len_mean": 692.91, "done": false, "episode_reward_max": 765.1257056845343, "custom_metrics": {"cost2_mean": -41.04319254842357, "system_level_velocity_min": 13.580591436826616, "cost2_min": -59.584142115381475, "system_level_velocity_mean": 16.67565438076515, "cost1_min": 9.623651095180321, "cost1_mean": 414.2517307919884, "cost1_max": 449.19597601565823, "outflow_rate_max": 1042.3726588915706, "system_level_velocity_max": 18.033890590623262, "outflow_rate_min": 433.12568539996727, "cost2_max": -10.252286679624268, "outflow_rate_mean": 912.186782326065}, "node_ip": "10.138.0.2", "timesteps_total": 2483805}
{"hostname": "flow-main", "episode_reward_mean": 686.1534716808607, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf59b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.039392232894897, "date": "2019-05-19_23-26-46", "info": {"sample_time_ms": 21536.498, "update_time_ms": 8.549, "default": {"entropy": 1.3951255083084106, "vf_explained_var": 0.24548734724521637, "vf_loss": 31.058748245239258, "kl": 0.01428893581032753, "policy_loss": -0.008996743708848953, "total_loss": 31.052967071533203, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2525765, "load_time_ms": 5.804, "num_steps_sampled": 2525765, "grad_time_ms": 10554.241}, "timesteps_since_restore": 2525765, "time_total_s": 1911.207264661789, "num_metric_batches_dropped": 0, "timestamp": 1558308406, "training_iteration": 47, "timesteps_this_iter": 41960, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1911.207264661789, "episodes_total": 1463, "iterations_since_restore": 47, "episode_reward_min": 297.18508718106574, "episodes_this_iter": 35, "episode_len_mean": 693.12, "done": false, "episode_reward_max": 757.7117192394284, "custom_metrics": {"cost2_mean": -40.62350754409122, "system_level_velocity_min": 12.240418552921911, "cost2_min": -59.584142115381475, "system_level_velocity_mean": 16.71468176021415, "cost1_min": 171.9418875664171, "cost1_mean": 413.9683063271306, "cost1_max": 449.19597601565823, "outflow_rate_max": 1001.9192707608605, "system_level_velocity_max": 18.15699192883026, "outflow_rate_min": 744.72722206005, "cost2_max": -27.942662473193554, "outflow_rate_mean": 899.290514588422}, "node_ip": "10.138.0.2", "timesteps_total": 2525765}
{"hostname": "flow-main", "episode_reward_mean": 669.7374822478688, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d029b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.439271211624146, "date": "2019-05-19_23-27-14", "info": {"sample_time_ms": 21365.919, "update_time_ms": 8.458, "default": {"entropy": 1.3901253938674927, "vf_explained_var": 0.16351169347763062, "vf_loss": 35.864166259765625, "kl": 0.013831288553774357, "policy_loss": -0.007182713132351637, "total_loss": 35.86009979248047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2567355, "load_time_ms": 5.834, "num_steps_sampled": 2567355, "grad_time_ms": 10214.945}, "timesteps_since_restore": 2567355, "time_total_s": 1939.646535873413, "num_metric_batches_dropped": 0, "timestamp": 1558308434, "training_iteration": 48, "timesteps_this_iter": 41590, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1939.646535873413, "episodes_total": 1499, "iterations_since_restore": 48, "episode_reward_min": 17.506675301791535, "episodes_this_iter": 36, "episode_len_mean": 678.79, "done": false, "episode_reward_max": 761.7262110797953, "custom_metrics": {"cost2_mean": -38.77175824340204, "system_level_velocity_min": 12.240418552921911, "cost2_min": -58.27659393519449, "system_level_velocity_mean": 16.921059609760196, "cost1_min": 9.703154327336353, "cost1_mean": 408.56459928982747, "cost1_max": 451.03821495721417, "outflow_rate_max": 1000.5467001568074, "system_level_velocity_max": 18.533413053155137, "outflow_rate_min": 433.12568539996727, "cost2_max": -10.051456356879804, "outflow_rate_mean": 879.1947144970992}, "node_ip": "10.138.0.2", "timesteps_total": 2567355}
{"hostname": "flow-main", "episode_reward_mean": 666.7440578061917, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02978>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.657561540603638, "date": "2019-05-19_23-27-46", "info": {"sample_time_ms": 21262.111, "update_time_ms": 8.271, "default": {"entropy": 1.384029746055603, "vf_explained_var": 0.17047853767871857, "vf_loss": 38.10007095336914, "kl": 0.012773280963301659, "policy_loss": -0.007792279124259949, "total_loss": 38.095149993896484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2609023, "load_time_ms": 5.736, "num_steps_sampled": 2609023, "grad_time_ms": 10059.97}, "timesteps_since_restore": 2609023, "time_total_s": 1971.3040974140167, "num_metric_batches_dropped": 0, "timestamp": 1558308466, "training_iteration": 49, "timesteps_this_iter": 41668, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 1971.3040974140167, "episodes_total": 1535, "iterations_since_restore": 49, "episode_reward_min": 17.506675301791535, "episodes_this_iter": 36, "episode_len_mean": 672.53, "done": false, "episode_reward_max": 761.7262110797953, "custom_metrics": {"cost2_mean": -38.04358560860778, "system_level_velocity_min": 12.240418552921911, "cost2_min": -54.21038964972995, "system_level_velocity_mean": 17.075431487855866, "cost1_min": 9.703154327336353, "cost1_mean": 407.24557592775164, "cost1_max": 451.03821495721417, "outflow_rate_max": 985.9763176826734, "system_level_velocity_max": 18.57368643530098, "outflow_rate_min": 433.12568539996727, "cost2_max": -10.051456356879804, "outflow_rate_mean": 875.8095309764482}, "node_ip": "10.138.0.2", "timesteps_total": 2609023}
{"hostname": "flow-main", "episode_reward_mean": 675.0482565696116, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce89e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.354753255844116, "date": "2019-05-19_23-28-18", "info": {"sample_time_ms": 20967.053, "update_time_ms": 7.945, "default": {"entropy": 1.3835715055465698, "vf_explained_var": 0.15475526452064514, "vf_loss": 39.21858596801758, "kl": 0.012286781333386898, "policy_loss": -0.007317688781768084, "total_loss": 39.21403503417969, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2650222, "load_time_ms": 5.69, "num_steps_sampled": 2650222, "grad_time_ms": 10144.785}, "timesteps_since_restore": 2650222, "time_total_s": 2002.6588506698608, "num_metric_batches_dropped": 0, "timestamp": 1558308498, "training_iteration": 50, "timesteps_this_iter": 41199, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2002.6588506698608, "episodes_total": 1568, "iterations_since_restore": 50, "episode_reward_min": 17.506675301791535, "episodes_this_iter": 33, "episode_len_mean": 675.49, "done": false, "episode_reward_max": 761.7262110797953, "custom_metrics": {"cost2_mean": -38.646377554923475, "system_level_velocity_min": 14.241408655731929, "cost2_min": -69.14735451863812, "system_level_velocity_mean": 17.222618897399737, "cost1_min": 9.703154327336353, "cost1_mean": 412.1471615117342, "cost1_max": 456.6034734644169, "outflow_rate_max": 993.4721931798118, "system_level_velocity_max": 18.694979975205825, "outflow_rate_min": 433.12568539996727, "cost2_max": -10.051456356879804, "outflow_rate_mean": 882.1723280611598}, "node_ip": "10.138.0.2", "timesteps_total": 2650222}
{"hostname": "flow-main", "episode_reward_mean": 684.3472635365936, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eac8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.50588059425354, "date": "2019-05-19_23-28-48", "info": {"sample_time_ms": 20914.478, "update_time_ms": 7.867, "default": {"entropy": 1.3812079429626465, "vf_explained_var": 0.18899637460708618, "vf_loss": 39.960601806640625, "kl": 0.013725703582167625, "policy_loss": -0.008455514907836914, "total_loss": 39.95523452758789, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 2691953, "load_time_ms": 5.576, "num_steps_sampled": 2691953, "grad_time_ms": 10062.093}, "timesteps_since_restore": 2691953, "time_total_s": 2033.1647312641144, "num_metric_batches_dropped": 0, "timestamp": 1558308528, "training_iteration": 51, "timesteps_this_iter": 41731, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2033.1647312641144, "episodes_total": 1604, "iterations_since_restore": 51, "episode_reward_min": 47.77622655352789, "episodes_this_iter": 36, "episode_len_mean": 685.15, "done": false, "episode_reward_max": 744.2659754183129, "custom_metrics": {"cost2_mean": -39.37545461515031, "system_level_velocity_min": 14.241408655731929, "cost2_min": -69.14735451863812, "system_level_velocity_mean": 17.221277545566583, "cost1_min": 26.97049112469439, "cost1_mean": 418.22395048089146, "cost1_max": 456.8184074276227, "outflow_rate_max": 999.5094183611127, "system_level_velocity_max": 18.694979975205825, "outflow_rate_min": 531.7764116838509, "cost2_max": -22.21340139863908, "outflow_rate_mean": 896.7395483370875}, "node_ip": "10.138.0.2", "timesteps_total": 2691953}
{"hostname": "flow-main", "episode_reward_mean": 686.4953799374352, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eeb8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.870774745941162, "date": "2019-05-19_23-29-18", "info": {"sample_time_ms": 20866.123, "update_time_ms": 7.612, "default": {"entropy": 1.3914878368377686, "vf_explained_var": 0.16908253729343414, "vf_loss": 43.654911041259766, "kl": 0.013200226239860058, "policy_loss": -0.008639536798000336, "total_loss": 43.64924240112305, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2732706, "load_time_ms": 5.569, "num_steps_sampled": 2732706, "grad_time_ms": 9775.913}, "timesteps_since_restore": 2732706, "time_total_s": 2063.0355060100555, "num_metric_batches_dropped": 0, "timestamp": 1558308558, "training_iteration": 52, "timesteps_this_iter": 40753, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2063.0355060100555, "episodes_total": 1639, "iterations_since_restore": 52, "episode_reward_min": 222.73027025747908, "episodes_this_iter": 35, "episode_len_mean": 684.76, "done": false, "episode_reward_max": 747.9654057212639, "custom_metrics": {"cost2_mean": -39.80247163835469, "system_level_velocity_min": 14.241408655731929, "cost2_min": -69.14735451863812, "system_level_velocity_mean": 17.1715263136861, "cost1_min": 130.71236446453662, "cost1_mean": 416.6812353050061, "cost1_max": 456.8184074276227, "outflow_rate_max": 999.5094183611127, "system_level_velocity_max": 18.954642801677327, "outflow_rate_min": 761.2915981205075, "cost2_max": -25.929204846341385, "outflow_rate_mean": 897.2512032549378}, "node_ip": "10.138.0.2", "timesteps_total": 2732706}
{"hostname": "flow-main", "episode_reward_mean": 670.8644245376132, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d025f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe160>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.6993305683136, "date": "2019-05-19_23-29-49", "info": {"sample_time_ms": 20579.137, "update_time_ms": 7.477, "default": {"entropy": 1.3913929462432861, "vf_explained_var": 0.21765008568763733, "vf_loss": 38.16688919067383, "kl": 0.012693716213107109, "policy_loss": -0.006692982278764248, "total_loss": 38.16305160522461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2774097, "load_time_ms": 5.63, "num_steps_sampled": 2774097, "grad_time_ms": 9925.799}, "timesteps_since_restore": 2774097, "time_total_s": 2093.734836578369, "num_metric_batches_dropped": 0, "timestamp": 1558308589, "training_iteration": 53, "timesteps_this_iter": 41391, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2093.734836578369, "episodes_total": 1673, "iterations_since_restore": 53, "episode_reward_min": 74.10389404988076, "episodes_this_iter": 34, "episode_len_mean": 670.43, "done": false, "episode_reward_max": 747.9654057212639, "custom_metrics": {"cost2_mean": -39.242665879304916, "system_level_velocity_min": 14.867013551959982, "cost2_min": -58.12794314278577, "system_level_velocity_mean": 17.140322667978438, "cost1_min": 34.34142747656107, "cost1_mean": 406.79363789422956, "cost1_max": 456.8184074276227, "outflow_rate_max": 999.5094183611127, "system_level_velocity_max": 18.954642801677327, "outflow_rate_min": 537.8902973188835, "cost2_max": -19.32073729693668, "outflow_rate_mean": 890.4945638765671}, "node_ip": "10.138.0.2", "timesteps_total": 2774097}
{"hostname": "flow-main", "episode_reward_mean": 673.2548281490984, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 34.86816596984863, "date": "2019-05-19_23-30-24", "info": {"sample_time_ms": 20840.164, "update_time_ms": 7.852, "default": {"entropy": 1.3703832626342773, "vf_explained_var": 0.12234427034854889, "vf_loss": 48.77838897705078, "kl": 0.013741537928581238, "policy_loss": -0.007733993232250214, "total_loss": 48.773746490478516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2816189, "load_time_ms": 5.607, "num_steps_sampled": 2816189, "grad_time_ms": 10043.013}, "timesteps_since_restore": 2816189, "time_total_s": 2128.603002548218, "num_metric_batches_dropped": 0, "timestamp": 1558308624, "training_iteration": 54, "timesteps_this_iter": 42092, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2128.603002548218, "episodes_total": 1711, "iterations_since_restore": 54, "episode_reward_min": 40.58903800521367, "episodes_this_iter": 38, "episode_len_mean": 671.12, "done": false, "episode_reward_max": 750.6310215203433, "custom_metrics": {"cost2_mean": -39.8177061793832, "system_level_velocity_min": 14.430983430526451, "cost2_min": -58.12794314278577, "system_level_velocity_mean": 17.10832712328988, "cost1_min": 15.89792190029496, "cost1_mean": 407.13737693869086, "cost1_max": 457.49868218395017, "outflow_rate_max": 1010.6399316574108, "system_level_velocity_max": 18.954642801677327, "outflow_rate_min": 471.1636080123836, "cost2_max": -14.008244887294916, "outflow_rate_mean": 888.5176973529212}, "node_ip": "10.138.0.2", "timesteps_total": 2816189}
{"hostname": "flow-main", "episode_reward_mean": 678.2618956561694, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.09266996383667, "date": "2019-05-19_23-30-54", "info": {"sample_time_ms": 20894.034, "update_time_ms": 7.729, "default": {"entropy": 1.3665804862976074, "vf_explained_var": 0.15136635303497314, "vf_loss": 39.71099090576172, "kl": 0.013954553753137589, "policy_loss": -0.008095969446003437, "total_loss": 39.70603561401367, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2857744, "load_time_ms": 5.616, "num_steps_sampled": 2857744, "grad_time_ms": 9975.008}, "timesteps_since_restore": 2857744, "time_total_s": 2158.6956725120544, "num_metric_batches_dropped": 0, "timestamp": 1558308654, "training_iteration": 55, "timesteps_this_iter": 41555, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2158.6956725120544, "episodes_total": 1743, "iterations_since_restore": 55, "episode_reward_min": 40.58903800521367, "episodes_this_iter": 32, "episode_len_mean": 673.33, "done": false, "episode_reward_max": 750.6310215203433, "custom_metrics": {"cost2_mean": -40.19059094908109, "system_level_velocity_min": 14.430983430526451, "cost2_min": -63.85973807674915, "system_level_velocity_mean": 17.162121402343097, "cost1_min": 15.89792190029496, "cost1_mean": 410.5021668299612, "cost1_max": 462.63578667064724, "outflow_rate_max": 1010.6399316574108, "system_level_velocity_max": 18.933250109911107, "outflow_rate_min": 471.1636080123836, "cost2_max": -14.008244887294916, "outflow_rate_mean": 896.8115356589004}, "node_ip": "10.138.0.2", "timesteps_total": 2857744}
{"hostname": "flow-main", "episode_reward_mean": 687.751961103531, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ec18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d12e10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.181801795959473, "date": "2019-05-19_23-31-24", "info": {"sample_time_ms": 20647.09, "update_time_ms": 7.58, "default": {"entropy": 1.3611490726470947, "vf_explained_var": 0.17157715559005737, "vf_loss": 45.09716033935547, "kl": 0.01330573856830597, "policy_loss": -0.007207201328128576, "total_loss": 45.09294509887695, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 2898891, "load_time_ms": 5.783, "num_steps_sampled": 2898891, "grad_time_ms": 9933.585}, "timesteps_since_restore": 2898891, "time_total_s": 2188.877474308014, "num_metric_batches_dropped": 0, "timestamp": 1558308684, "training_iteration": 56, "timesteps_this_iter": 41147, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2188.877474308014, "episodes_total": 1780, "iterations_since_restore": 56, "episode_reward_min": 40.58903800521367, "episodes_this_iter": 37, "episode_len_mean": 677.55, "done": false, "episode_reward_max": 750.6310215203433, "custom_metrics": {"cost2_mean": -40.203849317507824, "system_level_velocity_min": 14.55448435201277, "cost2_min": -63.85973807674915, "system_level_velocity_mean": 17.248974071586733, "cost1_min": 15.89792190029496, "cost1_mean": 414.5481225544911, "cost1_max": 462.8440060417819, "outflow_rate_max": 1023.9155509871943, "system_level_velocity_max": 19.078444950537907, "outflow_rate_min": 471.1636080123836, "cost2_max": -14.008244887294916, "outflow_rate_mean": 899.0982928550692}, "node_ip": "10.138.0.2", "timesteps_total": 2898891}
{"hostname": "flow-main", "episode_reward_mean": 694.3123188182349, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e198>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.189493417739868, "date": "2019-05-19_23-31-55", "info": {"sample_time_ms": 20805.374, "update_time_ms": 7.505, "default": {"entropy": 1.3811748027801514, "vf_explained_var": 0.1969970315694809, "vf_loss": 42.65522384643555, "kl": 0.014115339145064354, "policy_loss": -0.009172480553388596, "total_loss": 42.64923095703125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2940298, "load_time_ms": 5.835, "num_steps_sampled": 2940298, "grad_time_ms": 9990.197}, "timesteps_since_restore": 2940298, "time_total_s": 2220.066967725754, "num_metric_batches_dropped": 0, "timestamp": 1558308715, "training_iteration": 57, "timesteps_this_iter": 41407, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2220.066967725754, "episodes_total": 1815, "iterations_since_restore": 57, "episode_reward_min": 54.710734799483525, "episodes_this_iter": 35, "episode_len_mean": 683.83, "done": false, "episode_reward_max": 750.2785646297491, "custom_metrics": {"cost2_mean": -40.69942093385801, "system_level_velocity_min": 12.311598773939926, "cost2_min": -73.08662013885075, "system_level_velocity_mean": 17.344654219415528, "cost1_min": 23.00018368002217, "cost1_mean": 420.03886949053464, "cost1_max": 463.9805604341692, "outflow_rate_max": 1023.9155509871943, "system_level_velocity_max": 19.078444950537907, "outflow_rate_min": 480.7647938518011, "cost2_max": -16.75940420431407, "outflow_rate_mean": 902.4391076866112}, "node_ip": "10.138.0.2", "timesteps_total": 2940298}
{"hostname": "flow-main", "episode_reward_mean": 705.7474634193743, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe748>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.07723355293274, "date": "2019-05-19_23-32-26", "info": {"sample_time_ms": 20857.28, "update_time_ms": 7.785, "default": {"entropy": 1.3750067949295044, "vf_explained_var": 0.13849912583827972, "vf_loss": 43.90028381347656, "kl": 0.014360790140926838, "policy_loss": -0.007998304441571236, "total_loss": 43.89551544189453, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 2982361, "load_time_ms": 5.846, "num_steps_sampled": 2982361, "grad_time_ms": 10201.584}, "timesteps_since_restore": 2982361, "time_total_s": 2251.1442012786865, "num_metric_batches_dropped": 0, "timestamp": 1558308746, "training_iteration": 58, "timesteps_this_iter": 42063, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2251.1442012786865, "episodes_total": 1849, "iterations_since_restore": 58, "episode_reward_min": 54.710734799483525, "episodes_this_iter": 34, "episode_len_mean": 690.43, "done": false, "episode_reward_max": 758.608384673219, "custom_metrics": {"cost2_mean": -40.653801753002206, "system_level_velocity_min": 12.311598773939926, "cost2_min": -73.08662013885075, "system_level_velocity_mean": 17.354279324664876, "cost1_min": 23.00018368002217, "cost1_mean": 423.74704736428583, "cost1_max": 463.9805604341692, "outflow_rate_max": 1023.9155509871943, "system_level_velocity_max": 19.078444950537907, "outflow_rate_min": 491.1243262265381, "cost2_max": -16.75940420431407, "outflow_rate_mean": 901.2332676543977}, "node_ip": "10.138.0.2", "timesteps_total": 2982361}
{"hostname": "flow-main", "episode_reward_mean": 711.504288820197, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfee10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf59b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c88>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.663827419281006, "date": "2019-05-19_23-32-57", "info": {"sample_time_ms": 20719.864, "update_time_ms": 7.713, "default": {"entropy": 1.3660433292388916, "vf_explained_var": 0.153239905834198, "vf_loss": 45.433223724365234, "kl": 0.014867112971842289, "policy_loss": -0.009392373263835907, "total_loss": 45.42717361450195, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 3024183, "load_time_ms": 5.766, "num_steps_sampled": 3024183, "grad_time_ms": 10239.09}, "timesteps_since_restore": 3024183, "time_total_s": 2281.8080286979675, "num_metric_batches_dropped": 0, "timestamp": 1558308777, "training_iteration": 59, "timesteps_this_iter": 41822, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2281.8080286979675, "episodes_total": 1885, "iterations_since_restore": 59, "episode_reward_min": 404.8882557785664, "episodes_this_iter": 36, "episode_len_mean": 697.08, "done": false, "episode_reward_max": 758.608384673219, "custom_metrics": {"cost2_mean": -41.62135621737029, "system_level_velocity_min": 12.311598773939926, "cost2_min": -73.08662013885075, "system_level_velocity_mean": 17.361808632042756, "cost1_min": 200.29923402545816, "cost1_mean": 428.6281494902446, "cost1_max": 463.9805604341692, "outflow_rate_max": 1013.8956338305287, "system_level_velocity_max": 19.16068145755382, "outflow_rate_min": 688.3790134506426, "cost2_max": -19.15054670278974, "outflow_rate_mean": 908.0414363666735}, "node_ip": "10.138.0.2", "timesteps_total": 3024183}
{"hostname": "flow-main", "episode_reward_mean": 714.046623558176, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.173269748687744, "date": "2019-05-19_23-33-26", "info": {"sample_time_ms": 20690.553, "update_time_ms": 7.819, "default": {"entropy": 1.379238247871399, "vf_explained_var": 0.15358026325702667, "vf_loss": 42.53157424926758, "kl": 0.015051477588713169, "policy_loss": -0.009314866736531258, "total_loss": 42.52565002441406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 3066031, "load_time_ms": 5.613, "num_steps_sampled": 3066031, "grad_time_ms": 10050.765}, "timesteps_since_restore": 3066031, "time_total_s": 2310.9812984466553, "num_metric_batches_dropped": 0, "timestamp": 1558308806, "training_iteration": 60, "timesteps_this_iter": 41848, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2310.9812984466553, "episodes_total": 1918, "iterations_since_restore": 60, "episode_reward_min": 461.174746557681, "episodes_this_iter": 33, "episode_len_mean": 697.54, "done": false, "episode_reward_max": 758.608384673219, "custom_metrics": {"cost2_mean": -42.38895333295527, "system_level_velocity_min": 14.748378318445642, "cost2_min": -60.62973207661375, "system_level_velocity_mean": 17.263486265662042, "cost1_min": 273.4760083553155, "cost1_mean": 426.66237458583936, "cost1_max": 464.3840522452164, "outflow_rate_max": 1013.8956338305287, "system_level_velocity_max": 19.16068145755382, "outflow_rate_min": 790.8873806112567, "cost2_max": -24.45629854307704, "outflow_rate_mean": 911.5363170924236}, "node_ip": "10.138.0.2", "timesteps_total": 3066031}
{"hostname": "flow-main", "episode_reward_mean": 701.9122944185685, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.563523292541504, "date": "2019-05-19_23-33-57", "info": {"sample_time_ms": 20658.057, "update_time_ms": 7.735, "default": {"entropy": 1.3951058387756348, "vf_explained_var": 0.17370179295539856, "vf_loss": 41.76313781738281, "kl": 0.016744084656238556, "policy_loss": -0.01075491402298212, "total_loss": 41.75615310668945, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3107338, "load_time_ms": 5.646, "num_steps_sampled": 3107338, "grad_time_ms": 10088.531}, "timesteps_since_restore": 3107338, "time_total_s": 2341.544821739197, "num_metric_batches_dropped": 0, "timestamp": 1558308837, "training_iteration": 61, "timesteps_this_iter": 41307, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2341.544821739197, "episodes_total": 1953, "iterations_since_restore": 61, "episode_reward_min": 46.06406977977491, "episodes_this_iter": 35, "episode_len_mean": 690.62, "done": false, "episode_reward_max": 758.0084042405778, "custom_metrics": {"cost2_mean": -41.88622356545865, "system_level_velocity_min": 14.290788932830937, "cost2_min": -60.62973207661375, "system_level_velocity_mean": 17.364245938090697, "cost1_min": 23.51010866602776, "cost1_mean": 424.223726576855, "cost1_max": 471.909812269752, "outflow_rate_max": 1021.8963676134409, "system_level_velocity_max": 19.529497194540365, "outflow_rate_min": 508.66588987632986, "cost2_max": -20.148695227359187, "outflow_rate_mean": 911.2714508600534}, "node_ip": "10.138.0.2", "timesteps_total": 3107338}
{"hostname": "flow-main", "episode_reward_mean": 693.7447885206499, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf54a8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.18395471572876, "date": "2019-05-19_23-34-28", "info": {"sample_time_ms": 20566.599, "update_time_ms": 7.753, "default": {"entropy": 1.3958078622817993, "vf_explained_var": 0.13751786947250366, "vf_loss": 48.50733184814453, "kl": 0.014656102284789085, "policy_loss": -0.008420562371611595, "total_loss": 48.5022087097168, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3148649, "load_time_ms": 5.605, "num_steps_sampled": 3148649, "grad_time_ms": 10310.849}, "timesteps_since_restore": 3148649, "time_total_s": 2372.7287764549255, "num_metric_batches_dropped": 0, "timestamp": 1558308868, "training_iteration": 62, "timesteps_this_iter": 41311, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2372.7287764549255, "episodes_total": 1989, "iterations_since_restore": 62, "episode_reward_min": 46.06406977977491, "episodes_this_iter": 36, "episode_len_mean": 681.37, "done": false, "episode_reward_max": 758.0084042405778, "custom_metrics": {"cost2_mean": -39.78873846454012, "system_level_velocity_min": 14.290788932830937, "cost2_min": -60.085718137632576, "system_level_velocity_mean": 17.652904505904747, "cost1_min": 22.81191814845382, "cost1_mean": 423.7737322053409, "cost1_max": 471.909812269752, "outflow_rate_max": 1021.8963676134409, "system_level_velocity_max": 19.61738900059474, "outflow_rate_min": 508.66588987632986, "cost2_max": -16.724870331481274, "outflow_rate_mean": 903.2506313174188}, "node_ip": "10.138.0.2", "timesteps_total": 3148649}
{"hostname": "flow-main", "episode_reward_mean": 690.548583374398, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5a90>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.41828751564026, "date": "2019-05-19_23-35-00", "info": {"sample_time_ms": 20753.645, "update_time_ms": 7.866, "default": {"entropy": 1.3922477960586548, "vf_explained_var": 0.1621188223361969, "vf_loss": 41.45265197753906, "kl": 0.015238260850310326, "policy_loss": -0.009930466301739216, "total_loss": 41.44614791870117, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3190972, "load_time_ms": 5.58, "num_steps_sampled": 3190972, "grad_time_ms": 10196.433}, "timesteps_since_restore": 3190972, "time_total_s": 2404.147063970566, "num_metric_batches_dropped": 0, "timestamp": 1558308900, "training_iteration": 63, "timesteps_this_iter": 42323, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2404.147063970566, "episodes_total": 2022, "iterations_since_restore": 63, "episode_reward_min": 46.06406977977491, "episodes_this_iter": 33, "episode_len_mean": 680.46, "done": false, "episode_reward_max": 753.1846275246393, "custom_metrics": {"cost2_mean": -39.67410606167945, "system_level_velocity_min": 14.916450446992537, "cost2_min": -62.414627987578015, "system_level_velocity_mean": 17.643197815277805, "cost1_min": 22.81191814845382, "cost1_mean": 423.66429923532144, "cost1_max": 471.909812269752, "outflow_rate_max": 1021.8963676134409, "system_level_velocity_max": 19.61738900059474, "outflow_rate_min": 508.66588987632986, "cost2_max": -16.724870331481274, "outflow_rate_mean": 903.8204727081394}, "node_ip": "10.138.0.2", "timesteps_total": 3190972}
{"hostname": "flow-main", "episode_reward_mean": 694.0738895467767, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02dd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.816937685012817, "date": "2019-05-19_23-35-31", "info": {"sample_time_ms": 20513.853, "update_time_ms": 7.519, "default": {"entropy": 1.4021178483963013, "vf_explained_var": 0.1651778370141983, "vf_loss": 40.8433837890625, "kl": 0.01393911987543106, "policy_loss": -0.007784299086779356, "total_loss": 40.8387336730957, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3232222, "load_time_ms": 5.476, "num_steps_sampled": 3232222, "grad_time_ms": 10131.4}, "timesteps_since_restore": 3232222, "time_total_s": 2435.9640016555786, "num_metric_batches_dropped": 0, "timestamp": 1558308931, "training_iteration": 64, "timesteps_this_iter": 41250, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2435.9640016555786, "episodes_total": 2056, "iterations_since_restore": 64, "episode_reward_min": 49.099009991221045, "episodes_this_iter": 34, "episode_len_mean": 686.3, "done": false, "episode_reward_max": 753.1846275246393, "custom_metrics": {"cost2_mean": -40.50754883781233, "system_level_velocity_min": 14.347849523241372, "cost2_min": -62.414627987578015, "system_level_velocity_mean": 17.427266409032356, "cost1_min": 22.81191814845382, "cost1_mean": 423.9003453135837, "cost1_max": 472.4949371493095, "outflow_rate_max": 997.2527390507726, "system_level_velocity_max": 19.20652524539824, "outflow_rate_min": 511.2193740462772, "cost2_max": -16.724870331481274, "outflow_rate_mean": 908.4209888216116}, "node_ip": "10.138.0.2", "timesteps_total": 3232222}
{"hostname": "flow-main", "episode_reward_mean": 683.6788155764079, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e978>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.966809272766113, "date": "2019-05-19_23-36-02", "info": {"sample_time_ms": 20513.644, "update_time_ms": 7.507, "default": {"entropy": 1.4178321361541748, "vf_explained_var": 0.15051519870758057, "vf_loss": 45.69868087768555, "kl": 0.015034381300210953, "policy_loss": -0.008961614221334457, "total_loss": 45.6931037902832, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3274124, "load_time_ms": 5.403, "num_steps_sampled": 3274124, "grad_time_ms": 10218.948}, "timesteps_since_restore": 3274124, "time_total_s": 2466.9308109283447, "num_metric_batches_dropped": 0, "timestamp": 1558308962, "training_iteration": 65, "timesteps_this_iter": 41902, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2466.9308109283447, "episodes_total": 2094, "iterations_since_restore": 65, "episode_reward_min": 43.59252505151563, "episodes_this_iter": 38, "episode_len_mean": 678.42, "done": false, "episode_reward_max": 749.7323478243708, "custom_metrics": {"cost2_mean": -39.920014762156924, "system_level_velocity_min": 14.347849523241372, "cost2_min": -60.38653333658446, "system_level_velocity_mean": 17.280494976540993, "cost1_min": 22.383255098821774, "cost1_mean": 415.67056200541015, "cost1_max": 472.4949371493095, "outflow_rate_max": 997.2527390507726, "system_level_velocity_max": 19.20652524539824, "outflow_rate_min": 501.527128429958, "cost2_max": -18.827109456949124, "outflow_rate_mean": 902.8922391090803}, "node_ip": "10.138.0.2", "timesteps_total": 3274124}
{"hostname": "flow-main", "episode_reward_mean": 679.7738492415712, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf54a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf59b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.101462602615356, "date": "2019-05-19_23-36-36", "info": {"sample_time_ms": 20811.973, "update_time_ms": 7.518, "default": {"entropy": 1.4075697660446167, "vf_explained_var": 0.19606681168079376, "vf_loss": 40.4958381652832, "kl": 0.013598911464214325, "policy_loss": -0.007591101340949535, "total_loss": 40.49130630493164, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3315548, "load_time_ms": 5.258, "num_steps_sampled": 3315548, "grad_time_ms": 10212.913}, "timesteps_since_restore": 3315548, "time_total_s": 2500.03227353096, "num_metric_batches_dropped": 0, "timestamp": 1558308996, "training_iteration": 66, "timesteps_this_iter": 41424, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2500.03227353096, "episodes_total": 2129, "iterations_since_restore": 66, "episode_reward_min": 43.59252505151563, "episodes_this_iter": 35, "episode_len_mean": 675.17, "done": false, "episode_reward_max": 749.7323478243708, "custom_metrics": {"cost2_mean": -39.03106558801405, "system_level_velocity_min": 14.347849523241372, "cost2_min": -60.38653333658446, "system_level_velocity_mean": 17.303561553363398, "cost1_min": 22.383255098821774, "cost1_mean": 413.3905331814435, "cost1_max": 472.4949371493095, "outflow_rate_max": 1002.6437463077083, "system_level_velocity_max": 19.20652524539824, "outflow_rate_min": 494.4733992658681, "cost2_max": -18.827109456949124, "outflow_rate_mean": 894.2528247900207}, "node_ip": "10.138.0.2", "timesteps_total": 3315548}
{"hostname": "flow-main", "episode_reward_mean": 670.8428396569558, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec3c8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.762608528137207, "date": "2019-05-19_23-37-06", "info": {"sample_time_ms": 20686.912, "update_time_ms": 7.557, "default": {"entropy": 1.414060115814209, "vf_explained_var": 0.21366485953330994, "vf_loss": 41.46894073486328, "kl": 0.01669410616159439, "policy_loss": -0.010351315140724182, "total_loss": 41.462345123291016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3357463, "load_time_ms": 5.312, "num_steps_sampled": 3357463, "grad_time_ms": 10294.659}, "timesteps_since_restore": 3357463, "time_total_s": 2530.7948820590973, "num_metric_batches_dropped": 0, "timestamp": 1558309026, "training_iteration": 67, "timesteps_this_iter": 41915, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2530.7948820590973, "episodes_total": 2166, "iterations_since_restore": 67, "episode_reward_min": 43.59252505151563, "episodes_this_iter": 37, "episode_len_mean": 669.63, "done": false, "episode_reward_max": 746.3123144908776, "custom_metrics": {"cost2_mean": -38.00059215420955, "system_level_velocity_min": 13.563618781080375, "cost2_min": -58.50420341880758, "system_level_velocity_mean": 17.26665239766711, "cost1_min": 22.383255098821774, "cost1_mean": 408.8239706077642, "cost1_max": 465.47934606475246, "outflow_rate_max": 1002.6437463077083, "system_level_velocity_max": 18.98152605958584, "outflow_rate_min": 494.4733992658681, "cost2_max": -18.827109456949124, "outflow_rate_mean": 891.46710523463}, "node_ip": "10.138.0.2", "timesteps_total": 3357463}
{"hostname": "flow-main", "episode_reward_mean": 687.5253066810056, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1cb00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.065749645233154, "date": "2019-05-19_23-37-39", "info": {"sample_time_ms": 20843.737, "update_time_ms": 7.564, "default": {"entropy": 1.4216506481170654, "vf_explained_var": 0.19912663102149963, "vf_loss": 45.472469329833984, "kl": 0.014710544608533382, "policy_loss": -0.00948322657495737, "total_loss": 45.46629333496094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3398930, "load_time_ms": 5.294, "num_steps_sampled": 3398930, "grad_time_ms": 10236.793}, "timesteps_since_restore": 3398930, "time_total_s": 2562.8606317043304, "num_metric_batches_dropped": 0, "timestamp": 1558309059, "training_iteration": 68, "timesteps_this_iter": 41467, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2562.8606317043304, "episodes_total": 2202, "iterations_since_restore": 68, "episode_reward_min": 52.88496421285012, "episodes_this_iter": 36, "episode_len_mean": 686.71, "done": false, "episode_reward_max": 750.4033009267938, "custom_metrics": {"cost2_mean": -38.58752820205178, "system_level_velocity_min": 13.563618781080375, "cost2_min": -53.53975668603149, "system_level_velocity_mean": 17.17732741508436, "cost1_min": 22.274365786312963, "cost1_mean": 418.1686085178291, "cost1_max": 465.47934606475246, "outflow_rate_max": 1002.6437463077083, "system_level_velocity_max": 19.005065119936383, "outflow_rate_min": 502.14359454385584, "cost2_max": -15.631788148692364, "outflow_rate_mean": 897.5665489289172}, "node_ip": "10.138.0.2", "timesteps_total": 3398930}
{"hostname": "flow-main", "episode_reward_mean": 680.8973319071249, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce87f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.970702409744263, "date": "2019-05-19_23-38-11", "info": {"sample_time_ms": 20857.303, "update_time_ms": 7.641, "default": {"entropy": 1.4303959608078003, "vf_explained_var": 0.22049272060394287, "vf_loss": 40.100643157958984, "kl": 0.016155323013663292, "policy_loss": -0.009093738161027431, "total_loss": 40.095184326171875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3440392, "load_time_ms": 5.337, "num_steps_sampled": 3440392, "grad_time_ms": 10354.69}, "timesteps_since_restore": 3440392, "time_total_s": 2594.8313341140747, "num_metric_batches_dropped": 0, "timestamp": 1558309091, "training_iteration": 69, "timesteps_this_iter": 41462, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2594.8313341140747, "episodes_total": 2236, "iterations_since_restore": 69, "episode_reward_min": 52.88496421285012, "episodes_this_iter": 34, "episode_len_mean": 680.09, "done": false, "episode_reward_max": 750.5669101301577, "custom_metrics": {"cost2_mean": -38.11773897434334, "system_level_velocity_min": 13.563618781080375, "cost2_min": -53.53975668603149, "system_level_velocity_mean": 17.158169636496414, "cost1_min": 22.274365786312963, "cost1_mean": 413.15503641869844, "cost1_max": 465.47934606475246, "outflow_rate_max": 984.9107290627533, "system_level_velocity_max": 19.31339959754396, "outflow_rate_min": 502.14359454385584, "cost2_max": -15.48980285429543, "outflow_rate_mean": 891.7122918944794}, "node_ip": "10.138.0.2", "timesteps_total": 3440392}
{"hostname": "flow-main", "episode_reward_mean": 685.5431098954451, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf57b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.51841163635254, "date": "2019-05-19_23-38-39", "info": {"sample_time_ms": 20645.628, "update_time_ms": 7.655, "default": {"entropy": 1.423352837562561, "vf_explained_var": 0.2402884066104889, "vf_loss": 38.47502136230469, "kl": 0.013809142634272575, "policy_loss": -0.008881352841854095, "total_loss": 38.46924591064453, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 3482180, "load_time_ms": 5.534, "num_steps_sampled": 3482180, "grad_time_ms": 10500.977}, "timesteps_since_restore": 3482180, "time_total_s": 2623.3497457504272, "num_metric_batches_dropped": 0, "timestamp": 1558309119, "training_iteration": 70, "timesteps_this_iter": 41788, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2623.3497457504272, "episodes_total": 2269, "iterations_since_restore": 70, "episode_reward_min": 52.88496421285012, "episodes_this_iter": 33, "episode_len_mean": 685.15, "done": false, "episode_reward_max": 750.5669101301577, "custom_metrics": {"cost2_mean": -38.397846033501935, "system_level_velocity_min": 13.940023587829213, "cost2_min": -56.115523507519, "system_level_velocity_mean": 17.146092817571404, "cost1_min": 22.274365786312963, "cost1_mean": 416.46892728477104, "cost1_max": 466.3892939353761, "outflow_rate_max": 1011.7097354706968, "system_level_velocity_max": 19.31339959754396, "outflow_rate_min": 502.14359454385584, "cost2_max": -15.48980285429543, "outflow_rate_mean": 894.747306955973}, "node_ip": "10.138.0.2", "timesteps_total": 3482180}
{"hostname": "flow-main", "episode_reward_mean": 692.4377738417746, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02f98>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.91471219062805, "date": "2019-05-19_23-39-12", "info": {"sample_time_ms": 20973.313, "update_time_ms": 7.717, "default": {"entropy": 1.4286857843399048, "vf_explained_var": 0.18697094917297363, "vf_loss": 44.808387756347656, "kl": 0.014916003681719303, "policy_loss": -0.00896591879427433, "total_loss": 44.80277633666992, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3523907, "load_time_ms": 5.734, "num_steps_sampled": 3523907, "grad_time_ms": 10409.029}, "timesteps_since_restore": 3523907, "time_total_s": 2656.2644579410553, "num_metric_batches_dropped": 0, "timestamp": 1558309152, "training_iteration": 71, "timesteps_this_iter": 41727, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2656.2644579410553, "episodes_total": 2303, "iterations_since_restore": 71, "episode_reward_min": 59.12102476289195, "episodes_this_iter": 34, "episode_len_mean": 688.57, "done": false, "episode_reward_max": 750.5669101301577, "custom_metrics": {"cost2_mean": -38.58002434599381, "system_level_velocity_min": 13.294680355833433, "cost2_min": -61.878730919587845, "system_level_velocity_mean": 17.133279537978858, "cost1_min": 25.897513578801096, "cost1_mean": 419.44328702315727, "cost1_max": 466.3892939353761, "outflow_rate_max": 1011.7097354706968, "system_level_velocity_max": 19.31339959754396, "outflow_rate_min": 519.3003764422344, "cost2_max": -15.48980285429543, "outflow_rate_mean": 901.845267016884}, "node_ip": "10.138.0.2", "timesteps_total": 3523907}
{"hostname": "flow-main", "episode_reward_mean": 685.1538820310851, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceceb8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.954511880874634, "date": "2019-05-19_23-39-43", "info": {"sample_time_ms": 20892.621, "update_time_ms": 7.655, "default": {"entropy": 1.4229155778884888, "vf_explained_var": 0.18807578086853027, "vf_loss": 45.84251022338867, "kl": 0.015512166544795036, "policy_loss": -0.009648090228438377, "total_loss": 45.83635330200195, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3565495, "load_time_ms": 6.057, "num_steps_sampled": 3565495, "grad_time_ms": 10465.689}, "timesteps_since_restore": 3565495, "time_total_s": 2687.21896982193, "num_metric_batches_dropped": 0, "timestamp": 1558309183, "training_iteration": 72, "timesteps_this_iter": 41588, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2687.21896982193, "episodes_total": 2341, "iterations_since_restore": 72, "episode_reward_min": 38.2029469310487, "episodes_this_iter": 38, "episode_len_mean": 679.25, "done": false, "episode_reward_max": 765.6048973898223, "custom_metrics": {"cost2_mean": -37.867182121252725, "system_level_velocity_min": 13.294680355833433, "cost2_min": -61.878730919587845, "system_level_velocity_mean": 17.06915345448648, "cost1_min": 14.973387005896289, "cost1_mean": 412.51356804580433, "cost1_max": 466.3892939353761, "outflow_rate_max": 1011.7097354706968, "system_level_velocity_max": 18.9355287771565, "outflow_rate_min": 464.6658073189122, "cost2_max": -12.543040029437964, "outflow_rate_mean": 896.7845062906001}, "node_ip": "10.138.0.2", "timesteps_total": 3565495}
{"hostname": "flow-main", "episode_reward_mean": 687.6264264184219, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.214484214782715, "date": "2019-05-19_23-40-14", "info": {"sample_time_ms": 20756.362, "update_time_ms": 7.744, "default": {"entropy": 1.4180048704147339, "vf_explained_var": 0.1919792890548706, "vf_loss": 42.89630889892578, "kl": 0.013292898423969746, "policy_loss": -0.006581694353371859, "total_loss": 42.892723083496094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3606982, "load_time_ms": 6.04, "num_steps_sampled": 3606982, "grad_time_ms": 10581.573}, "timesteps_since_restore": 3606982, "time_total_s": 2718.4334540367126, "num_metric_batches_dropped": 0, "timestamp": 1558309214, "training_iteration": 73, "timesteps_this_iter": 41487, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2718.4334540367126, "episodes_total": 2377, "iterations_since_restore": 73, "episode_reward_min": 38.2029469310487, "episodes_this_iter": 36, "episode_len_mean": 680.81, "done": false, "episode_reward_max": 765.6048973898223, "custom_metrics": {"cost2_mean": -37.479473896644194, "system_level_velocity_min": 13.294680355833433, "cost2_min": -54.94279110192651, "system_level_velocity_mean": 17.13635574738419, "cost1_min": 14.973387005896289, "cost1_mean": 414.53012908295227, "cost1_max": 463.6821113203541, "outflow_rate_max": 1007.7895559070056, "system_level_velocity_max": 19.028274478599243, "outflow_rate_min": 464.6658073189122, "cost2_max": -12.543040029437964, "outflow_rate_mean": 898.6559812804584}, "node_ip": "10.138.0.2", "timesteps_total": 3606982}
{"hostname": "flow-main", "episode_reward_mean": 683.2523534594739, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.685115814208984, "date": "2019-05-19_23-40-48", "info": {"sample_time_ms": 20968.16, "update_time_ms": 7.769, "default": {"entropy": 1.4189603328704834, "vf_explained_var": 0.19801656901836395, "vf_loss": 39.855648040771484, "kl": 0.015513584017753601, "policy_loss": -0.009907498024404049, "total_loss": 39.84922790527344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3649040, "load_time_ms": 6.302, "num_steps_sampled": 3649040, "grad_time_ms": 10555.682}, "timesteps_since_restore": 3649040, "time_total_s": 2752.1185698509216, "num_metric_batches_dropped": 0, "timestamp": 1558309248, "training_iteration": 74, "timesteps_this_iter": 42058, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2752.1185698509216, "episodes_total": 2413, "iterations_since_restore": 74, "episode_reward_min": 38.2029469310487, "episodes_this_iter": 36, "episode_len_mean": 676.8, "done": false, "episode_reward_max": 765.6048973898223, "custom_metrics": {"cost2_mean": -36.54008144200464, "system_level_velocity_min": 13.750812701767728, "cost2_min": -54.94279110192651, "system_level_velocity_mean": 17.20842668307975, "cost1_min": 14.973387005896289, "cost1_mean": 413.13685721935985, "cost1_max": 463.6821113203541, "outflow_rate_max": 1007.7895559070056, "system_level_velocity_max": 19.071882955906883, "outflow_rate_min": 464.6658073189122, "cost2_max": -12.543040029437964, "outflow_rate_mean": 898.4904538428601}, "node_ip": "10.138.0.2", "timesteps_total": 3649040}
{"hostname": "flow-main", "episode_reward_mean": 693.4244472843579, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.560627460479736, "date": "2019-05-19_23-41-19", "info": {"sample_time_ms": 20848.141, "update_time_ms": 7.69, "default": {"entropy": 1.429845929145813, "vf_explained_var": 0.18342845141887665, "vf_loss": 42.44575881958008, "kl": 0.016027409583330154, "policy_loss": -0.009637088514864445, "total_loss": 42.439727783203125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3690751, "load_time_ms": 6.341, "num_steps_sampled": 3690751, "grad_time_ms": 10634.83}, "timesteps_since_restore": 3690751, "time_total_s": 2782.6791973114014, "num_metric_batches_dropped": 0, "timestamp": 1558309279, "training_iteration": 75, "timesteps_this_iter": 41711, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2782.6791973114014, "episodes_total": 2448, "iterations_since_restore": 75, "episode_reward_min": 61.454424495955095, "episodes_this_iter": 35, "episode_len_mean": 685.9, "done": false, "episode_reward_max": 763.676454084539, "custom_metrics": {"cost2_mean": -36.47560215870118, "system_level_velocity_min": 14.41698387378626, "cost2_min": -54.94279110192651, "system_level_velocity_mean": 17.252198322085327, "cost1_min": 32.40611598214703, "cost1_mean": 420.3423928936725, "cost1_max": 463.6821113203541, "outflow_rate_max": 1002.3193415546442, "system_level_velocity_max": 19.071882955906883, "outflow_rate_min": 531.7487030263068, "cost2_max": -22.078906819869452, "outflow_rate_mean": 908.3079202325472}, "node_ip": "10.138.0.2", "timesteps_total": 3690751}
{"hostname": "flow-main", "episode_reward_mean": 692.2730656104708, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.951828002929688, "date": "2019-05-19_23-41-51", "info": {"sample_time_ms": 20834.228, "update_time_ms": 8.014, "default": {"entropy": 1.4340330362319946, "vf_explained_var": 0.23055605590343475, "vf_loss": 41.88870620727539, "kl": 0.016550637781620026, "policy_loss": -0.011297847144305706, "total_loss": 41.881134033203125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3733162, "load_time_ms": 6.383, "num_steps_sampled": 3733162, "grad_time_ms": 10533.593}, "timesteps_since_restore": 3733162, "time_total_s": 2814.631025314331, "num_metric_batches_dropped": 0, "timestamp": 1558309311, "training_iteration": 76, "timesteps_this_iter": 42411, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2814.631025314331, "episodes_total": 2481, "iterations_since_restore": 76, "episode_reward_min": 61.454424495955095, "episodes_this_iter": 33, "episode_len_mean": 683.04, "done": false, "episode_reward_max": 765.5901517026855, "custom_metrics": {"cost2_mean": -36.0094172226454, "system_level_velocity_min": 14.397689348583905, "cost2_min": -53.7360426574538, "system_level_velocity_mean": 17.163297665823727, "cost1_min": 32.40611598214703, "cost1_mean": 416.78614010655247, "cost1_max": 464.9717507986343, "outflow_rate_max": 992.0527934881379, "system_level_velocity_max": 19.071882955906883, "outflow_rate_min": 531.7487030263068, "cost2_max": -22.078906819869452, "outflow_rate_mean": 908.2637910438424}, "node_ip": "10.138.0.2", "timesteps_total": 3733162}
{"hostname": "flow-main", "episode_reward_mean": 694.3275682863672, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecd30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec860>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.424677848815918, "date": "2019-05-19_23-42-22", "info": {"sample_time_ms": 20898.171, "update_time_ms": 8.054, "default": {"entropy": 1.4282747507095337, "vf_explained_var": 0.2894609272480011, "vf_loss": 35.344966888427734, "kl": 0.01598130166530609, "policy_loss": -0.008944288827478886, "total_loss": 35.33961486816406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3774593, "load_time_ms": 6.326, "num_steps_sampled": 3774593, "grad_time_ms": 10533.979}, "timesteps_since_restore": 3774593, "time_total_s": 2846.055703163147, "num_metric_batches_dropped": 0, "timestamp": 1558309342, "training_iteration": 77, "timesteps_this_iter": 41431, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2846.055703163147, "episodes_total": 2515, "iterations_since_restore": 77, "episode_reward_min": 61.454424495955095, "episodes_this_iter": 34, "episode_len_mean": 689.27, "done": false, "episode_reward_max": 765.5901517026855, "custom_metrics": {"cost2_mean": -37.35239089648746, "system_level_velocity_min": 13.401890488926709, "cost2_min": -54.30972181853701, "system_level_velocity_mean": 16.960840353064132, "cost1_min": 32.40611598214703, "cost1_mean": 416.4821372091196, "cost1_max": 464.9825440632746, "outflow_rate_max": 977.1400055432206, "system_level_velocity_max": 19.144776071278415, "outflow_rate_min": 531.7487030263068, "cost2_max": -22.078906819869452, "outflow_rate_mean": 908.8334825537302}, "node_ip": "10.138.0.2", "timesteps_total": 3774593}
{"hostname": "flow-main", "episode_reward_mean": 700.7960312460293, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbe10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.99587345123291, "date": "2019-05-19_23-42-51", "info": {"sample_time_ms": 20558.062, "update_time_ms": 7.991, "default": {"entropy": 1.4320675134658813, "vf_explained_var": 0.2554945647716522, "vf_loss": 41.59482192993164, "kl": 0.015285758301615715, "policy_loss": -0.008957275189459324, "total_loss": 41.58930587768555, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 3816352, "load_time_ms": 6.292, "num_steps_sampled": 3816352, "grad_time_ms": 10567.933}, "timesteps_since_restore": 3816352, "time_total_s": 2875.05157661438, "num_metric_batches_dropped": 0, "timestamp": 1558309371, "training_iteration": 78, "timesteps_this_iter": 41759, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2875.05157661438, "episodes_total": 2549, "iterations_since_restore": 78, "episode_reward_min": 418.98892799912915, "episodes_this_iter": 34, "episode_len_mean": 696.11, "done": false, "episode_reward_max": 765.5901517026855, "custom_metrics": {"cost2_mean": -37.58189997859226, "system_level_velocity_min": 13.401890488926709, "cost2_min": -54.30972181853701, "system_level_velocity_mean": 16.973566798754028, "cost1_min": 270.2234132649231, "cost1_mean": 420.64429859665904, "cost1_max": 464.9825440632746, "outflow_rate_max": 980.7835448809954, "system_level_velocity_max": 19.144776071278415, "outflow_rate_min": 819.9069730193471, "cost2_max": -24.222411177963295, "outflow_rate_mean": 908.3096823272547}, "node_ip": "10.138.0.2", "timesteps_total": 3816352}
{"hostname": "flow-main", "episode_reward_mean": 696.2201628625583, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028980b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.52232646942139, "date": "2019-05-19_23-43-25", "info": {"sample_time_ms": 20961.575, "update_time_ms": 7.979, "default": {"entropy": 1.4390251636505127, "vf_explained_var": 0.22442090511322021, "vf_loss": 45.24702453613281, "kl": 0.016045939177274704, "policy_loss": -0.009421092458069324, "total_loss": 45.241214752197266, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3858779, "load_time_ms": 6.461, "num_steps_sampled": 3858779, "grad_time_ms": 10319.427}, "timesteps_since_restore": 3858779, "time_total_s": 2908.5739030838013, "num_metric_batches_dropped": 0, "timestamp": 1558309405, "training_iteration": 79, "timesteps_this_iter": 42427, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2908.5739030838013, "episodes_total": 2584, "iterations_since_restore": 79, "episode_reward_min": 272.21775178594584, "episodes_this_iter": 35, "episode_len_mean": 691.57, "done": false, "episode_reward_max": 758.0813896426694, "custom_metrics": {"cost2_mean": -37.55291201105906, "system_level_velocity_min": 13.401890488926709, "cost2_min": -54.30972181853701, "system_level_velocity_mean": 16.876584350044258, "cost1_min": 149.57207853304342, "cost1_mean": 415.94939434659756, "cost1_max": 464.9825440632746, "outflow_rate_max": 993.663584461057, "system_level_velocity_max": 19.144776071278415, "outflow_rate_min": 743.8416198895039, "cost2_max": -24.250704200973736, "outflow_rate_mean": 901.9235297660324}, "node_ip": "10.138.0.2", "timesteps_total": 3858779}
{"hostname": "flow-main", "episode_reward_mean": 695.1407379310866, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02eb8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.7761127948761, "date": "2019-05-19_23-43-56", "info": {"sample_time_ms": 21019.996, "update_time_ms": 7.88, "default": {"entropy": 1.4332832098007202, "vf_explained_var": 0.19153830409049988, "vf_loss": 46.98490905761719, "kl": 0.016014695167541504, "policy_loss": -0.010308576747775078, "total_loss": 46.978206634521484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3900709, "load_time_ms": 6.448, "num_steps_sampled": 3900709, "grad_time_ms": 10485.638}, "timesteps_since_restore": 3900709, "time_total_s": 2939.3500158786774, "num_metric_batches_dropped": 0, "timestamp": 1558309436, "training_iteration": 80, "timesteps_this_iter": 41930, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2939.3500158786774, "episodes_total": 2619, "iterations_since_restore": 80, "episode_reward_min": 217.5670963470292, "episodes_this_iter": 35, "episode_len_mean": 683.27, "done": false, "episode_reward_max": 758.0813896426694, "custom_metrics": {"cost2_mean": -37.01265141714693, "system_level_velocity_min": 13.756878634557667, "cost2_min": -49.22670934536986, "system_level_velocity_mean": 17.00516556490139, "cost1_min": 117.27334426689487, "cost1_mean": 413.96443350443684, "cost1_max": 461.8390494455677, "outflow_rate_max": 993.663584461057, "system_level_velocity_max": 18.87726391746903, "outflow_rate_min": 743.8416198895039, "cost2_max": -24.521348073374327, "outflow_rate_mean": 903.0231800785464}, "node_ip": "10.138.0.2", "timesteps_total": 3900709}
{"hostname": "flow-main", "episode_reward_mean": 695.5227396127295, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028988d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ac8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.08282446861267, "date": "2019-05-19_23-44-28", "info": {"sample_time_ms": 20933.703, "update_time_ms": 8.1, "default": {"entropy": 1.4334933757781982, "vf_explained_var": 0.23707427084445953, "vf_loss": 45.149139404296875, "kl": 0.0148220956325531, "policy_loss": -0.008586173877120018, "total_loss": 45.14388656616211, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3942183, "load_time_ms": 6.228, "num_steps_sampled": 3942183, "grad_time_ms": 10488.946}, "timesteps_since_restore": 3942183, "time_total_s": 2971.43284034729, "num_metric_batches_dropped": 0, "timestamp": 1558309468, "training_iteration": 81, "timesteps_this_iter": 41474, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 2971.43284034729, "episodes_total": 2656, "iterations_since_restore": 81, "episode_reward_min": 217.5670963470292, "episodes_this_iter": 37, "episode_len_mean": 683.27, "done": false, "episode_reward_max": 761.1821988813767, "custom_metrics": {"cost2_mean": -36.88319164099531, "system_level_velocity_min": 13.756878634557667, "cost2_min": -51.44303341480308, "system_level_velocity_mean": 17.09532531150301, "cost1_min": 117.27334426689487, "cost1_mean": 416.2219396749611, "cost1_max": 464.0237029314454, "outflow_rate_max": 993.663584461057, "system_level_velocity_max": 19.185325948905323, "outflow_rate_min": 743.8416198895039, "cost2_max": -24.521348073374327, "outflow_rate_mean": 909.2005841301656}, "node_ip": "10.138.0.2", "timesteps_total": 3942183}
{"hostname": "flow-main", "episode_reward_mean": 695.173563374464, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec160>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.299062728881836, "date": "2019-05-19_23-45-00", "info": {"sample_time_ms": 21116.327, "update_time_ms": 8.111, "default": {"entropy": 1.4364153146743774, "vf_explained_var": 0.1717507541179657, "vf_loss": 48.35821533203125, "kl": 0.0169204268604517, "policy_loss": -0.010260584764182568, "total_loss": 48.35176086425781, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 3983651, "load_time_ms": 6.102, "num_steps_sampled": 3983651, "grad_time_ms": 10441.46}, "timesteps_since_restore": 3983651, "time_total_s": 3003.731903076172, "num_metric_batches_dropped": 0, "timestamp": 1558309500, "training_iteration": 82, "timesteps_this_iter": 41468, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3003.731903076172, "episodes_total": 2692, "iterations_since_restore": 82, "episode_reward_min": 42.58283453908296, "episodes_this_iter": 36, "episode_len_mean": 683.97, "done": false, "episode_reward_max": 761.1821988813767, "custom_metrics": {"cost2_mean": -36.6807374137401, "system_level_velocity_min": 13.756878634557667, "cost2_min": -52.37241985870452, "system_level_velocity_mean": 17.292498324048395, "cost1_min": 19.226776336511065, "cost1_mean": 419.93909444737665, "cost1_max": 466.3746036647464, "outflow_rate_max": 993.6161942653274, "system_level_velocity_max": 19.185325948905323, "outflow_rate_min": 486.04021197253644, "cost2_max": -16.578817325159537, "outflow_rate_mean": 907.7536262186633}, "node_ip": "10.138.0.2", "timesteps_total": 3983651}
{"hostname": "flow-main", "episode_reward_mean": 688.7298039980759, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e748>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.971471071243286, "date": "2019-05-19_23-45-30", "info": {"sample_time_ms": 20965.113, "update_time_ms": 7.969, "default": {"entropy": 1.4414293766021729, "vf_explained_var": 0.179751455783844, "vf_loss": 47.174232482910156, "kl": 0.01700703054666519, "policy_loss": -0.009639114141464233, "total_loss": 47.16842269897461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4025176, "load_time_ms": 6.008, "num_steps_sampled": 4025176, "grad_time_ms": 10467.916}, "timesteps_since_restore": 4025176, "time_total_s": 3033.703374147415, "num_metric_batches_dropped": 0, "timestamp": 1558309530, "training_iteration": 83, "timesteps_this_iter": 41525, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3033.703374147415, "episodes_total": 2728, "iterations_since_restore": 83, "episode_reward_min": 42.58283453908296, "episodes_this_iter": 36, "episode_len_mean": 679.99, "done": false, "episode_reward_max": 761.1821988813767, "custom_metrics": {"cost2_mean": -36.452728924348804, "system_level_velocity_min": 14.063888625374894, "cost2_min": -52.37241985870452, "system_level_velocity_mean": 17.34209647968056, "cost1_min": 19.226776336511065, "cost1_mean": 417.51583668431596, "cost1_max": 466.3746036647464, "outflow_rate_max": 993.6161942653274, "system_level_velocity_max": 19.185325948905323, "outflow_rate_min": 486.04021197253644, "cost2_max": -14.934219531497158, "outflow_rate_mean": 897.6073979353256}, "node_ip": "10.138.0.2", "timesteps_total": 4025176}
{"hostname": "flow-main", "episode_reward_mean": 687.3718031189617, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfeb70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.49378800392151, "date": "2019-05-19_23-46-03", "info": {"sample_time_ms": 21023.961, "update_time_ms": 8.123, "default": {"entropy": 1.4410161972045898, "vf_explained_var": 0.239945650100708, "vf_loss": 44.59284973144531, "kl": 0.016583852469921112, "policy_loss": -0.009094896726310253, "total_loss": 44.587486267089844, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4066838, "load_time_ms": 5.785, "num_steps_sampled": 4066838, "grad_time_ms": 10290.359}, "timesteps_since_restore": 4066838, "time_total_s": 3066.1971621513367, "num_metric_batches_dropped": 0, "timestamp": 1558309563, "training_iteration": 84, "timesteps_this_iter": 41662, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3066.1971621513367, "episodes_total": 2762, "iterations_since_restore": 84, "episode_reward_min": 30.420081236567647, "episodes_this_iter": 34, "episode_len_mean": 679.88, "done": false, "episode_reward_max": 757.0383192094974, "custom_metrics": {"cost2_mean": -36.53847836557865, "system_level_velocity_min": 13.404530972569695, "cost2_min": -55.84408720229301, "system_level_velocity_mean": 17.217713397634597, "cost1_min": 12.341938805223103, "cost1_mean": 414.09013000211, "cost1_max": 467.13056020333977, "outflow_rate_max": 993.6161942653274, "system_level_velocity_max": 19.424542708825516, "outflow_rate_min": 467.7500288525429, "cost2_max": -12.315762220352877, "outflow_rate_mean": 891.9430930252013}, "node_ip": "10.138.0.2", "timesteps_total": 4066838}
{"hostname": "flow-main", "episode_reward_mean": 685.4543183877092, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6d8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.460345029830933, "date": "2019-05-19_23-46-32", "info": {"sample_time_ms": 20926.176, "update_time_ms": 8.107, "default": {"entropy": 1.4509856700897217, "vf_explained_var": 0.21052898466587067, "vf_loss": 41.531829833984375, "kl": 0.016055554151535034, "policy_loss": -0.007837934419512749, "total_loss": 41.5275993347168, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4108051, "load_time_ms": 5.573, "num_steps_sampled": 4108051, "grad_time_ms": 10275.982}, "timesteps_since_restore": 4108051, "time_total_s": 3095.6575071811676, "num_metric_batches_dropped": 0, "timestamp": 1558309592, "training_iteration": 85, "timesteps_this_iter": 41213, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3095.6575071811676, "episodes_total": 2795, "iterations_since_restore": 85, "episode_reward_min": 30.420081236567647, "episodes_this_iter": 33, "episode_len_mean": 677.68, "done": false, "episode_reward_max": 752.5800885320609, "custom_metrics": {"cost2_mean": -35.937031350915866, "system_level_velocity_min": 13.404530972569695, "cost2_min": -55.84408720229301, "system_level_velocity_mean": 17.240509696595556, "cost1_min": 12.341938805223103, "cost1_mean": 412.53074461302975, "cost1_max": 471.42192258125647, "outflow_rate_max": 985.7893884129089, "system_level_velocity_max": 19.424542708825516, "outflow_rate_min": 467.7500288525429, "cost2_max": -12.315762220352877, "outflow_rate_mean": 886.6385310712161}, "node_ip": "10.138.0.2", "timesteps_total": 4108051}
{"hostname": "flow-main", "episode_reward_mean": 694.8877821776302, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028983c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028981d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.088298082351685, "date": "2019-05-19_23-47-01", "info": {"sample_time_ms": 20642.508, "update_time_ms": 8.068, "default": {"entropy": 1.4592431783676147, "vf_explained_var": 0.22869543731212616, "vf_loss": 40.490325927734375, "kl": 0.01610597036778927, "policy_loss": -0.00927701685577631, "total_loss": 40.484676361083984, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4148640, "load_time_ms": 5.574, "num_steps_sampled": 4148640, "grad_time_ms": 10273.779}, "timesteps_since_restore": 4148640, "time_total_s": 3124.7458052635193, "num_metric_batches_dropped": 0, "timestamp": 1558309621, "training_iteration": 86, "timesteps_this_iter": 40589, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3124.7458052635193, "episodes_total": 2828, "iterations_since_restore": 86, "episode_reward_min": 30.420081236567647, "episodes_this_iter": 33, "episode_len_mean": 690.99, "done": false, "episode_reward_max": 752.5800885320609, "custom_metrics": {"cost2_mean": -36.20424507048127, "system_level_velocity_min": 13.404530972569695, "cost2_min": -55.84408720229301, "system_level_velocity_mean": 17.278772211719218, "cost1_min": 12.341938805223103, "cost1_mean": 421.5379883922014, "cost1_max": 471.6931798972299, "outflow_rate_max": 985.7893884129089, "system_level_velocity_max": 19.45454688645279, "outflow_rate_min": 467.7500288525429, "cost2_max": -12.315762220352877, "outflow_rate_mean": 894.1945068009345}, "node_ip": "10.138.0.2", "timesteps_total": 4148640}
{"hostname": "flow-main", "episode_reward_mean": 684.6503570799042, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfef28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfee80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.49035930633545, "date": "2019-05-19_23-47-34", "info": {"sample_time_ms": 20850.8, "update_time_ms": 8.018, "default": {"entropy": 1.4444706439971924, "vf_explained_var": 0.183217853307724, "vf_loss": 47.86579895019531, "kl": 0.015429629012942314, "policy_loss": -0.009018097072839737, "total_loss": 47.860252380371094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4189393, "load_time_ms": 5.501, "num_steps_sampled": 4189393, "grad_time_ms": 10173.678}, "timesteps_since_restore": 4189393, "time_total_s": 3157.2361645698547, "num_metric_batches_dropped": 0, "timestamp": 1558309654, "training_iteration": 87, "timesteps_this_iter": 40753, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3157.2361645698547, "episodes_total": 2865, "iterations_since_restore": 87, "episode_reward_min": 23.188166101008136, "episodes_this_iter": 37, "episode_len_mean": 682.78, "done": false, "episode_reward_max": 752.5800885320609, "custom_metrics": {"cost2_mean": -35.61307986372345, "system_level_velocity_min": 13.481515323510814, "cost2_min": -49.19932398834562, "system_level_velocity_mean": 17.462471250822333, "cost1_min": 9.566542899413157, "cost1_mean": 421.1312862243544, "cost1_max": 471.6931798972299, "outflow_rate_max": 1005.692465753001, "system_level_velocity_max": 19.45454688645279, "outflow_rate_min": 449.342779117061, "cost2_max": -8.538210811989476, "outflow_rate_mean": 896.3297574590028}, "node_ip": "10.138.0.2", "timesteps_total": 4189393}
{"hostname": "flow-main", "episode_reward_mean": 673.654035512491, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceceb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecc88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.09454607963562, "date": "2019-05-19_23-48-04", "info": {"sample_time_ms": 20868.466, "update_time_ms": 7.881, "default": {"entropy": 1.4536333084106445, "vf_explained_var": 0.20998939871788025, "vf_loss": 44.45927047729492, "kl": 0.016552280634641647, "policy_loss": -0.00965955387800932, "total_loss": 44.453330993652344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4229801, "load_time_ms": 5.428, "num_steps_sampled": 4229801, "grad_time_ms": 10264.371}, "timesteps_since_restore": 4229801, "time_total_s": 3187.3307106494904, "num_metric_batches_dropped": 0, "timestamp": 1558309684, "training_iteration": 88, "timesteps_this_iter": 40408, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3187.3307106494904, "episodes_total": 2905, "iterations_since_restore": 88, "episode_reward_min": 23.188166101008136, "episodes_this_iter": 40, "episode_len_mean": 675.83, "done": false, "episode_reward_max": 750.35625900725, "custom_metrics": {"cost2_mean": -36.01533388268346, "system_level_velocity_min": 15.270877742025245, "cost2_min": -48.5956132215334, "system_level_velocity_mean": 17.553911259871327, "cost1_min": 9.566542899413157, "cost1_mean": 419.3665731257047, "cost1_max": 471.6931798972299, "outflow_rate_max": 1005.692465753001, "system_level_velocity_max": 19.45454688645279, "outflow_rate_min": 449.342779117061, "cost2_max": -8.538210811989476, "outflow_rate_mean": 895.5196366464238}, "node_ip": "10.138.0.2", "timesteps_total": 4229801}
{"hostname": "flow-main", "episode_reward_mean": 668.2202677221808, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8668>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.384626388549805, "date": "2019-05-19_23-48-35", "info": {"sample_time_ms": 20687.453, "update_time_ms": 7.908, "default": {"entropy": 1.4621034860610962, "vf_explained_var": 0.2778349220752716, "vf_loss": 37.48341751098633, "kl": 0.014436513185501099, "policy_loss": -0.008306430652737617, "total_loss": 37.47835922241211, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 4270353, "load_time_ms": 5.401, "num_steps_sampled": 4270353, "grad_time_ms": 10232.444}, "timesteps_since_restore": 4270353, "time_total_s": 3218.71533703804, "num_metric_batches_dropped": 0, "timestamp": 1558309715, "training_iteration": 89, "timesteps_this_iter": 40552, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3218.71533703804, "episodes_total": 2939, "iterations_since_restore": 89, "episode_reward_min": 23.188166101008136, "episodes_this_iter": 34, "episode_len_mean": 670.13, "done": false, "episode_reward_max": 741.8794740160016, "custom_metrics": {"cost2_mean": -35.43401350603701, "system_level_velocity_min": 14.711941874647845, "cost2_min": -49.04162681892845, "system_level_velocity_mean": 17.573516080372407, "cost1_min": 9.566542899413157, "cost1_mean": 415.6565525710433, "cost1_max": 470.2428681219161, "outflow_rate_max": 989.5021811198528, "system_level_velocity_max": 19.47411465716165, "outflow_rate_min": 449.342779117061, "cost2_max": -8.538210811989476, "outflow_rate_mean": 888.7359184021053}, "node_ip": "10.138.0.2", "timesteps_total": 4270353}
{"hostname": "flow-main", "episode_reward_mean": 689.2129663598843, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d023c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.62167477607727, "date": "2019-05-19_23-49-06", "info": {"sample_time_ms": 20788.188, "update_time_ms": 8.055, "default": {"entropy": 1.4630138874053955, "vf_explained_var": 0.29897668957710266, "vf_loss": 38.952091217041016, "kl": 0.014303741045296192, "policy_loss": -0.008410102687776089, "total_loss": 38.9468994140625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4311103, "load_time_ms": 5.355, "num_steps_sampled": 4311103, "grad_time_ms": 10116.707}, "timesteps_since_restore": 4311103, "time_total_s": 3249.3370118141174, "num_metric_batches_dropped": 0, "timestamp": 1558309746, "training_iteration": 90, "timesteps_this_iter": 40750, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3249.3370118141174, "episodes_total": 2974, "iterations_since_restore": 90, "episode_reward_min": 306.5343492017759, "episodes_this_iter": 35, "episode_len_mean": 692.98, "done": false, "episode_reward_max": 754.1824705459193, "custom_metrics": {"cost2_mean": -35.7357320631868, "system_level_velocity_min": 14.084182418699973, "cost2_min": -49.04162681892845, "system_level_velocity_mean": 17.52321174786676, "cost1_min": 189.78648605613017, "cost1_mean": 427.992509220546, "cost1_max": 470.2428681219161, "outflow_rate_max": 989.5021811198528, "system_level_velocity_max": 19.47411465716165, "outflow_rate_min": 809.883059874022, "cost2_max": -20.403784003663638, "outflow_rate_mean": 896.8491113857774}, "node_ip": "10.138.0.2", "timesteps_total": 4311103}
{"hostname": "flow-main", "episode_reward_mean": 688.9550777852122, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecc88>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.363369703292847, "date": "2019-05-19_23-49-36", "info": {"sample_time_ms": 20575.759, "update_time_ms": 7.904, "default": {"entropy": 1.4765242338180542, "vf_explained_var": 0.2307140976190567, "vf_loss": 42.55343246459961, "kl": 0.01648104190826416, "policy_loss": -0.009181334637105465, "total_loss": 42.54795837402344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4352264, "load_time_ms": 5.311, "num_steps_sampled": 4352264, "grad_time_ms": 10156.863}, "timesteps_since_restore": 4352264, "time_total_s": 3279.7003815174103, "num_metric_batches_dropped": 0, "timestamp": 1558309776, "training_iteration": 91, "timesteps_this_iter": 41161, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3279.7003815174103, "episodes_total": 3007, "iterations_since_restore": 91, "episode_reward_min": 306.5343492017759, "episodes_this_iter": 33, "episode_len_mean": 691.0, "done": false, "episode_reward_max": 754.1824705459193, "custom_metrics": {"cost2_mean": -35.38186835029083, "system_level_velocity_min": 14.084182418699973, "cost2_min": -51.35558661561011, "system_level_velocity_mean": 17.45354621031106, "cost1_min": 189.78648605613017, "cost1_mean": 425.33181649938, "cost1_max": 470.2428681219161, "outflow_rate_max": 995.230027677727, "system_level_velocity_max": 19.47411465716165, "outflow_rate_min": 775.7791991753551, "cost2_max": -20.403784003663638, "outflow_rate_mean": 895.2268382693311}, "node_ip": "10.138.0.2", "timesteps_total": 4352264}
{"hostname": "flow-main", "episode_reward_mean": 695.4123875689396, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.35217833518982, "date": "2019-05-19_23-50-08", "info": {"sample_time_ms": 20588.563, "update_time_ms": 8.06, "default": {"entropy": 1.4796255826950073, "vf_explained_var": 0.20709583163261414, "vf_loss": 46.625919342041016, "kl": 0.01595638506114483, "policy_loss": -0.009001514874398708, "total_loss": 46.62051010131836, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 4393167, "load_time_ms": 5.396, "num_steps_sampled": 4393167, "grad_time_ms": 10049.444}, "timesteps_since_restore": 4393167, "time_total_s": 3311.0525598526, "num_metric_batches_dropped": 0, "timestamp": 1558309808, "training_iteration": 92, "timesteps_this_iter": 40903, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3311.0525598526, "episodes_total": 3041, "iterations_since_restore": 92, "episode_reward_min": 349.19551692952115, "episodes_this_iter": 34, "episode_len_mean": 696.55, "done": false, "episode_reward_max": 754.1824705459193, "custom_metrics": {"cost2_mean": -35.60063531046852, "system_level_velocity_min": 13.682984401485925, "cost2_min": -51.35558661561011, "system_level_velocity_mean": 17.364701719667472, "cost1_min": 205.63791713079044, "cost1_mean": 426.83741509703214, "cost1_max": 464.5604186045544, "outflow_rate_max": 995.230027677727, "system_level_velocity_max": 19.456896615160506, "outflow_rate_min": 775.7791991753551, "cost2_max": -20.403784003663638, "outflow_rate_mean": 897.2063396494973}, "node_ip": "10.138.0.2", "timesteps_total": 4393167}
{"hostname": "flow-main", "episode_reward_mean": 681.9006240205317, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e550>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.67279624938965, "date": "2019-05-19_23-50-39", "info": {"sample_time_ms": 20694.031, "update_time_ms": 8.101, "default": {"entropy": 1.4890708923339844, "vf_explained_var": 0.26169902086257935, "vf_loss": 41.45996856689453, "kl": 0.016009341925382614, "policy_loss": -0.009249220602214336, "total_loss": 41.454322814941406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4434319, "load_time_ms": 5.572, "num_steps_sampled": 4434319, "grad_time_ms": 10013.74}, "timesteps_since_restore": 4434319, "time_total_s": 3341.7253561019897, "num_metric_batches_dropped": 0, "timestamp": 1558309839, "training_iteration": 93, "timesteps_this_iter": 41152, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3341.7253561019897, "episodes_total": 3077, "iterations_since_restore": 93, "episode_reward_min": 35.21788925678732, "episodes_this_iter": 36, "episode_len_mean": 680.94, "done": false, "episode_reward_max": 743.7139155399659, "custom_metrics": {"cost2_mean": -35.03319673508628, "system_level_velocity_min": 13.682984401485925, "cost2_min": -51.19627109010579, "system_level_velocity_mean": 17.314681515158036, "cost1_min": 14.97707505064229, "cost1_mean": 417.3297479816647, "cost1_max": 464.5604186045544, "outflow_rate_max": 995.230027677727, "system_level_velocity_max": 19.456896615160506, "outflow_rate_min": 476.4898462992569, "cost2_max": -14.784650454461143, "outflow_rate_mean": 889.578420247869}, "node_ip": "10.138.0.2", "timesteps_total": 4434319}
{"hostname": "flow-main", "episode_reward_mean": 676.2972247928045, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecf98>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.284839630126953, "date": "2019-05-19_23-51-09", "info": {"sample_time_ms": 20538.866, "update_time_ms": 8.014, "default": {"entropy": 1.483064889907837, "vf_explained_var": 0.27161362767219543, "vf_loss": 42.888633728027344, "kl": 0.01741424947977066, "policy_loss": -0.009419641457498074, "total_loss": 42.88313293457031, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4474903, "load_time_ms": 5.676, "num_steps_sampled": 4474903, "grad_time_ms": 9948.573}, "timesteps_since_restore": 4474903, "time_total_s": 3372.0101957321167, "num_metric_batches_dropped": 0, "timestamp": 1558309869, "training_iteration": 94, "timesteps_this_iter": 40584, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3372.0101957321167, "episodes_total": 3111, "iterations_since_restore": 94, "episode_reward_min": 35.21788925678732, "episodes_this_iter": 34, "episode_len_mean": 677.59, "done": false, "episode_reward_max": 743.7139155399659, "custom_metrics": {"cost2_mean": -34.92749547260277, "system_level_velocity_min": 13.682984401485925, "cost2_min": -51.19627109010579, "system_level_velocity_mean": 17.37071199244715, "cost1_min": 14.97707505064229, "cost1_mean": 416.3125102763078, "cost1_max": 464.5604186045544, "outflow_rate_max": 981.6849252143699, "system_level_velocity_max": 19.456896615160506, "outflow_rate_min": 476.4898462992569, "cost2_max": -14.784650454461143, "outflow_rate_mean": 888.6734949448705}, "node_ip": "10.138.0.2", "timesteps_total": 4474903}
{"hostname": "flow-main", "episode_reward_mean": 669.7824281130194, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898198>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.380379915237427, "date": "2019-05-19_23-51-39", "info": {"sample_time_ms": 20832.439, "update_time_ms": 8.208, "default": {"entropy": 1.4892488718032837, "vf_explained_var": 0.23906885087490082, "vf_loss": 46.91746520996094, "kl": 0.018334107473492622, "policy_loss": -0.011172697879374027, "total_loss": 46.91041564941406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 4515857, "load_time_ms": 5.766, "num_steps_sampled": 4515857, "grad_time_ms": 9750.082}, "timesteps_since_restore": 4515857, "time_total_s": 3402.390575647354, "num_metric_batches_dropped": 0, "timestamp": 1558309899, "training_iteration": 95, "timesteps_this_iter": 40954, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3402.390575647354, "episodes_total": 3148, "iterations_since_restore": 95, "episode_reward_min": 35.21788925678732, "episodes_this_iter": 37, "episode_len_mean": 669.05, "done": false, "episode_reward_max": 758.8553786965438, "custom_metrics": {"cost2_mean": -34.297499841618546, "system_level_velocity_min": 14.68729872521716, "cost2_min": -46.19225919868532, "system_level_velocity_mean": 17.415646814954766, "cost1_min": 14.97707505064229, "cost1_mean": 411.66401079613206, "cost1_max": 467.6671482783846, "outflow_rate_max": 965.5564830108972, "system_level_velocity_max": 19.451989489546982, "outflow_rate_min": 454.8424927031613, "cost2_max": -14.784650454461143, "outflow_rate_mean": 883.6058624768951}, "node_ip": "10.138.0.2", "timesteps_total": 4515857}
{"hostname": "flow-main", "episode_reward_mean": 685.9662199486967, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.416190147399902, "date": "2019-05-19_23-52-11", "info": {"sample_time_ms": 20939.885, "update_time_ms": 7.97, "default": {"entropy": 1.4940268993377686, "vf_explained_var": 0.2775847613811493, "vf_loss": 40.0245475769043, "kl": 0.01533086784183979, "policy_loss": -0.00817403756082058, "total_loss": 40.01982498168945, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4556512, "load_time_ms": 5.787, "num_steps_sampled": 4556512, "grad_time_ms": 9874.911}, "timesteps_since_restore": 4556512, "time_total_s": 3433.806765794754, "num_metric_batches_dropped": 0, "timestamp": 1558309931, "training_iteration": 96, "timesteps_this_iter": 40655, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3433.806765794754, "episodes_total": 3181, "iterations_since_restore": 96, "episode_reward_min": 45.77579423133769, "episodes_this_iter": 33, "episode_len_mean": 684.66, "done": false, "episode_reward_max": 758.8553786965438, "custom_metrics": {"cost2_mean": -34.81368206676682, "system_level_velocity_min": 15.22410576155809, "cost2_min": -48.6917712117161, "system_level_velocity_mean": 17.52446736766252, "cost1_min": 22.002940565368696, "cost1_mean": 423.5550037269625, "cost1_max": 467.6671482783846, "outflow_rate_max": 991.1002229159917, "system_level_velocity_max": 19.451989489546982, "outflow_rate_min": 454.8424927031613, "cost2_max": -16.721169573094766, "outflow_rate_mean": 893.9722509618758}, "node_ip": "10.138.0.2", "timesteps_total": 4556512}
{"hostname": "flow-main", "episode_reward_mean": 680.1496459285793, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.5027756690979, "date": "2019-05-19_23-52-41", "info": {"sample_time_ms": 20775.114, "update_time_ms": 8.098, "default": {"entropy": 1.4971219301223755, "vf_explained_var": 0.2228671759366989, "vf_loss": 51.68433380126953, "kl": 0.018144505098462105, "policy_loss": -0.008657978847622871, "total_loss": 51.67975997924805, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 4597022, "load_time_ms": 5.778, "num_steps_sampled": 4597022, "grad_time_ms": 9841.389}, "timesteps_since_restore": 4597022, "time_total_s": 3464.309541463852, "num_metric_batches_dropped": 0, "timestamp": 1558309961, "training_iteration": 97, "timesteps_this_iter": 40510, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3464.309541463852, "episodes_total": 3219, "iterations_since_restore": 97, "episode_reward_min": 45.77579423133769, "episodes_this_iter": 38, "episode_len_mean": 676.79, "done": false, "episode_reward_max": 758.8553786965438, "custom_metrics": {"cost2_mean": -34.66361070759502, "system_level_velocity_min": 14.41441433536421, "cost2_min": -51.421235607491866, "system_level_velocity_mean": 17.538738328325522, "cost1_min": 22.002940565368696, "cost1_mean": 419.29680259911373, "cost1_max": 465.47890418902637, "outflow_rate_max": 1003.1642299296313, "system_level_velocity_max": 19.250595105085058, "outflow_rate_min": 454.8424927031613, "cost2_max": -17.57916331946966, "outflow_rate_mean": 891.4380130479443}, "node_ip": "10.138.0.2", "timesteps_total": 4597022}
{"hostname": "flow-main", "episode_reward_mean": 682.3978106722458, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec128>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.56724238395691, "date": "2019-05-19_23-53-13", "info": {"sample_time_ms": 21049.716, "update_time_ms": 8.139, "default": {"entropy": 1.486593246459961, "vf_explained_var": 0.33995020389556885, "vf_loss": 38.79596710205078, "kl": 0.017590582370758057, "policy_loss": -0.008490980602800846, "total_loss": 38.79143524169922, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4637632, "load_time_ms": 5.86, "num_steps_sampled": 4637632, "grad_time_ms": 9714.717}, "timesteps_since_restore": 4637632, "time_total_s": 3495.876783847809, "num_metric_batches_dropped": 0, "timestamp": 1558309993, "training_iteration": 98, "timesteps_this_iter": 40610, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3495.876783847809, "episodes_total": 3255, "iterations_since_restore": 98, "episode_reward_min": 55.32878923900106, "episodes_this_iter": 36, "episode_len_mean": 683.59, "done": false, "episode_reward_max": 755.9814668935039, "custom_metrics": {"cost2_mean": -34.94421610779683, "system_level_velocity_min": 14.41441433536421, "cost2_min": -51.421235607491866, "system_level_velocity_mean": 17.519748821988138, "cost1_min": 27.417165695077635, "cost1_mean": 423.64953661537095, "cost1_max": 466.0203306895443, "outflow_rate_max": 1003.1642299296313, "system_level_velocity_max": 19.306124595122316, "outflow_rate_min": 529.134616796011, "cost2_max": -17.57916331946966, "outflow_rate_mean": 894.7116543600846}, "node_ip": "10.138.0.2", "timesteps_total": 4637632}
{"hostname": "flow-main", "episode_reward_mean": 680.3390192834521, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898240>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.874653339385986, "date": "2019-05-19_23-53-44", "info": {"sample_time_ms": 20877.094, "update_time_ms": 8.292, "default": {"entropy": 1.499367117881775, "vf_explained_var": 0.270441472530365, "vf_loss": 43.77253723144531, "kl": 0.01611381024122238, "policy_loss": -0.009070963598787785, "total_loss": 43.767093658447266, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4677897, "load_time_ms": 5.611, "num_steps_sampled": 4677897, "grad_time_ms": 9834.476}, "timesteps_since_restore": 4677897, "time_total_s": 3526.751437187195, "num_metric_batches_dropped": 0, "timestamp": 1558310024, "training_iteration": 99, "timesteps_this_iter": 40265, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3526.751437187195, "episodes_total": 3288, "iterations_since_restore": 99, "episode_reward_min": 55.32878923900106, "episodes_this_iter": 33, "episode_len_mean": 683.59, "done": false, "episode_reward_max": 757.5565707117161, "custom_metrics": {"cost2_mean": -34.30610144422536, "system_level_velocity_min": 14.253564737260954, "cost2_min": -51.421235607491866, "system_level_velocity_mean": 17.520764385619525, "cost1_min": 27.417165695077635, "cost1_mean": 423.58994420576806, "cost1_max": 466.0203306895443, "outflow_rate_max": 1003.1642299296313, "system_level_velocity_max": 19.306124595122316, "outflow_rate_min": 529.134616796011, "cost2_max": -17.57916331946966, "outflow_rate_mean": 891.6831960514263}, "node_ip": "10.138.0.2", "timesteps_total": 4677897}
{"hostname": "flow-main", "episode_reward_mean": 687.72604077815, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02a58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.84255337715149, "date": "2019-05-19_23-54-13", "info": {"sample_time_ms": 20689.199, "update_time_ms": 8.199, "default": {"entropy": 1.507688283920288, "vf_explained_var": 0.33824488520622253, "vf_loss": 35.81867218017578, "kl": 0.016590368002653122, "policy_loss": -0.008850285783410072, "total_loss": 35.81355285644531, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4718492, "load_time_ms": 5.655, "num_steps_sampled": 4718492, "grad_time_ms": 9843.843}, "timesteps_since_restore": 4718492, "time_total_s": 3555.5939905643463, "num_metric_batches_dropped": 0, "timestamp": 1558310053, "training_iteration": 100, "timesteps_this_iter": 40595, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3555.5939905643463, "episodes_total": 3322, "iterations_since_restore": 100, "episode_reward_min": 264.88423984615685, "episodes_this_iter": 34, "episode_len_mean": 690.85, "done": false, "episode_reward_max": 757.5565707117161, "custom_metrics": {"cost2_mean": -33.68424413139039, "system_level_velocity_min": 14.253564737260954, "cost2_min": -50.53111575593511, "system_level_velocity_mean": 17.6154628041694, "cost1_min": 147.65932740055558, "cost1_mean": 430.64034351562134, "cost1_max": 466.0203306895443, "outflow_rate_max": 962.3329682115744, "system_level_velocity_max": 19.306124595122316, "outflow_rate_min": 721.3686985938224, "cost2_max": -19.60008736543297, "outflow_rate_mean": 895.6954669295668}, "node_ip": "10.138.0.2", "timesteps_total": 4718492}
{"hostname": "flow-main", "episode_reward_mean": 687.6376923862597, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028981d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.67471981048584, "date": "2019-05-19_23-54-42", "info": {"sample_time_ms": 20694.734, "update_time_ms": 8.26, "default": {"entropy": 1.5090583562850952, "vf_explained_var": 0.32193636894226074, "vf_loss": 37.75026321411133, "kl": 0.01608692854642868, "policy_loss": -0.009274140931665897, "total_loss": 37.74461364746094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4759164, "load_time_ms": 5.641, "num_steps_sampled": 4759164, "grad_time_ms": 9769.264}, "timesteps_since_restore": 4759164, "time_total_s": 3585.268710374832, "num_metric_batches_dropped": 0, "timestamp": 1558310082, "training_iteration": 101, "timesteps_this_iter": 40672, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3585.268710374832, "episodes_total": 3357, "iterations_since_restore": 101, "episode_reward_min": 264.88423984615685, "episodes_this_iter": 35, "episode_len_mean": 692.74, "done": false, "episode_reward_max": 757.5565707117161, "custom_metrics": {"cost2_mean": -34.64998927994793, "system_level_velocity_min": 14.253564737260954, "cost2_min": -50.53111575593511, "system_level_velocity_mean": 17.484470161082086, "cost1_min": 147.65932740055558, "cost1_mean": 428.80610342352173, "cost1_max": 468.54462593415985, "outflow_rate_max": 962.3329682115744, "system_level_velocity_max": 19.24939817421516, "outflow_rate_min": 721.3686985938224, "cost2_max": -19.60008736543297, "outflow_rate_mean": 887.9560059433429}, "node_ip": "10.138.0.2", "timesteps_total": 4759164}
{"hostname": "flow-main", "episode_reward_mean": 678.9695743719444, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf59b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5240>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.211435794830322, "date": "2019-05-19_23-55-12", "info": {"sample_time_ms": 20463.641, "update_time_ms": 8.054, "default": {"entropy": 1.5033884048461914, "vf_explained_var": 0.31918632984161377, "vf_loss": 41.286720275878906, "kl": 0.016486503183841705, "policy_loss": -0.01036752387881279, "total_loss": 41.280059814453125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4799982, "load_time_ms": 5.585, "num_steps_sampled": 4799982, "grad_time_ms": 9785.378}, "timesteps_since_restore": 4799982, "time_total_s": 3614.4801461696625, "num_metric_batches_dropped": 0, "timestamp": 1558310112, "training_iteration": 102, "timesteps_this_iter": 40818, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3614.4801461696625, "episodes_total": 3394, "iterations_since_restore": 102, "episode_reward_min": 41.375265338509934, "episodes_this_iter": 37, "episode_len_mean": 683.59, "done": false, "episode_reward_max": 745.0494203471662, "custom_metrics": {"cost2_mean": -34.553298884733636, "system_level_velocity_min": 14.749894475667789, "cost2_min": -49.66869225513257, "system_level_velocity_mean": 17.42813216290685, "cost1_min": 17.184052446559097, "cost1_mean": 421.75621500524727, "cost1_max": 468.54462593415985, "outflow_rate_max": 962.3329682115744, "system_level_velocity_max": 19.24939817421516, "outflow_rate_min": 455.5388410410685, "cost2_max": -16.16626050373786, "outflow_rate_mean": 876.6442261747682}, "node_ip": "10.138.0.2", "timesteps_total": 4799982}
{"hostname": "flow-main", "episode_reward_mean": 679.3061262052927, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898128>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.33924627304077, "date": "2019-05-19_23-55-42", "info": {"sample_time_ms": 20551.31, "update_time_ms": 8.225, "default": {"entropy": 1.510038137435913, "vf_explained_var": 0.3056879937648773, "vf_loss": 37.51985168457031, "kl": 0.01749538816511631, "policy_loss": -0.010922731831669807, "total_loss": 37.51286315917969, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4840808, "load_time_ms": 5.333, "num_steps_sampled": 4840808, "grad_time_ms": 9664.888}, "timesteps_since_restore": 4840808, "time_total_s": 3644.8193924427032, "num_metric_batches_dropped": 0, "timestamp": 1558310142, "training_iteration": 103, "timesteps_this_iter": 40826, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3644.8193924427032, "episodes_total": 3429, "iterations_since_restore": 103, "episode_reward_min": 41.375265338509934, "episodes_this_iter": 35, "episode_len_mean": 682.8, "done": false, "episode_reward_max": 741.716699798796, "custom_metrics": {"cost2_mean": -34.55451807433528, "system_level_velocity_min": 14.105533939567096, "cost2_min": -49.66869225513257, "system_level_velocity_mean": 17.37373875879016, "cost1_min": 17.184052446559097, "cost1_mean": 419.5774781597848, "cost1_max": 468.54462593415985, "outflow_rate_max": 969.9448150764532, "system_level_velocity_max": 19.24939817421516, "outflow_rate_min": 455.5388410410685, "cost2_max": -16.16626050373786, "outflow_rate_mean": 873.7395591687462}, "node_ip": "10.138.0.2", "timesteps_total": 4840808}
{"hostname": "flow-main", "episode_reward_mean": 675.1272481423729, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec278>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.193429946899414, "date": "2019-05-19_23-56-13", "info": {"sample_time_ms": 20393.95, "update_time_ms": 8.159, "default": {"entropy": 1.5098741054534912, "vf_explained_var": 0.27028945088386536, "vf_loss": 41.75724411010742, "kl": 0.016222696751356125, "policy_loss": -0.009858849458396435, "total_loss": 41.75102996826172, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4882081, "load_time_ms": 5.167, "num_steps_sampled": 4882081, "grad_time_ms": 9909.672}, "timesteps_since_restore": 4882081, "time_total_s": 3676.0128223896027, "num_metric_batches_dropped": 0, "timestamp": 1558310173, "training_iteration": 104, "timesteps_this_iter": 41273, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3676.0128223896027, "episodes_total": 3462, "iterations_since_restore": 104, "episode_reward_min": 41.375265338509934, "episodes_this_iter": 33, "episode_len_mean": 675.55, "done": false, "episode_reward_max": 741.716699798796, "custom_metrics": {"cost2_mean": -32.777458615314174, "system_level_velocity_min": 14.105533939567096, "cost2_min": -45.47908919189362, "system_level_velocity_mean": 17.344096305116356, "cost1_min": 17.184052446559097, "cost1_mean": 414.72868193623697, "cost1_max": 462.2462494257052, "outflow_rate_max": 969.9448150764532, "system_level_velocity_max": 19.076695146367257, "outflow_rate_min": 455.5388410410685, "cost2_max": -16.16626050373786, "outflow_rate_mean": 873.3892711270563}, "node_ip": "10.138.0.2", "timesteps_total": 4882081}
{"hostname": "flow-main", "episode_reward_mean": 684.1966448369369, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028986a0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.460155963897705, "date": "2019-05-19_23-56-44", "info": {"sample_time_ms": 20229.431, "update_time_ms": 8.208, "default": {"entropy": 1.5032031536102295, "vf_explained_var": 0.2739769518375397, "vf_loss": 44.608482360839844, "kl": 0.016672896221280098, "policy_loss": -0.009225467219948769, "total_loss": 44.60300827026367, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.2250000238418579}, "num_steps_trained": 4922975, "load_time_ms": 5.156, "num_steps_sampled": 4922975, "grad_time_ms": 10081.329}, "timesteps_since_restore": 4922975, "time_total_s": 3706.4729783535004, "num_metric_batches_dropped": 0, "timestamp": 1558310204, "training_iteration": 105, "timesteps_this_iter": 40894, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3706.4729783535004, "episodes_total": 3498, "iterations_since_restore": 105, "episode_reward_min": 201.44413292327118, "episodes_this_iter": 36, "episode_len_mean": 683.82, "done": false, "episode_reward_max": 741.716699798796, "custom_metrics": {"cost2_mean": -32.93690150622879, "system_level_velocity_min": 14.105533939567096, "cost2_min": -46.33045501499768, "system_level_velocity_mean": 17.32811285912835, "cost1_min": 116.89444845027913, "cost1_mean": 419.97701874772036, "cost1_max": 462.2462494257052, "outflow_rate_max": 969.9448150764532, "system_level_velocity_max": 19.076695146367257, "outflow_rate_min": 713.5938462676456, "cost2_max": -21.206090581838065, "outflow_rate_mean": 883.6623428145639}, "node_ip": "10.138.0.2", "timesteps_total": 4922975}
{"hostname": "flow-main", "episode_reward_mean": 669.6012397873428, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ec18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.64700245857239, "date": "2019-05-19_23-57-17", "info": {"sample_time_ms": 20433.136, "update_time_ms": 8.372, "default": {"entropy": 1.5082550048828125, "vf_explained_var": 0.29770269989967346, "vf_loss": 44.11772537231445, "kl": 0.017315784469246864, "policy_loss": -0.010056150145828724, "total_loss": 44.11156463623047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4964402, "load_time_ms": 5.332, "num_steps_sampled": 4964402, "grad_time_ms": 9999.697}, "timesteps_since_restore": 4964402, "time_total_s": 3739.1199808120728, "num_metric_batches_dropped": 0, "timestamp": 1558310237, "training_iteration": 106, "timesteps_this_iter": 41427, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3739.1199808120728, "episodes_total": 3537, "iterations_since_restore": 106, "episode_reward_min": 40.207682113490385, "episodes_this_iter": 39, "episode_len_mean": 669.79, "done": false, "episode_reward_max": 752.1386972084066, "custom_metrics": {"cost2_mean": -32.446137177461154, "system_level_velocity_min": 14.636065609068181, "cost2_min": -49.777601963471966, "system_level_velocity_mean": 17.243293599506394, "cost1_min": 19.134413201540458, "cost1_mean": 409.4483876156491, "cost1_max": 461.76174272304013, "outflow_rate_max": 953.3024100285207, "system_level_velocity_max": 19.093372961877133, "outflow_rate_min": 491.75005665836557, "cost2_max": -16.11271430778465, "outflow_rate_mean": 877.488448965317}, "node_ip": "10.138.0.2", "timesteps_total": 4964402}
{"hostname": "flow-main", "episode_reward_mean": 674.0926404980969, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028974a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897d30>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.643605947494507, "date": "2019-05-19_23-57-46", "info": {"sample_time_ms": 20247.282, "update_time_ms": 8.193, "default": {"entropy": 1.5211023092269897, "vf_explained_var": 0.3778631091117859, "vf_loss": 37.6635627746582, "kl": 0.017924603074789047, "policy_loss": -0.009478973224759102, "total_loss": 37.658111572265625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5005465, "load_time_ms": 5.362, "num_steps_sampled": 5005465, "grad_time_ms": 10097.093}, "timesteps_since_restore": 5005465, "time_total_s": 3768.7635867595673, "num_metric_batches_dropped": 0, "timestamp": 1558310266, "training_iteration": 107, "timesteps_this_iter": 41063, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3768.7635867595673, "episodes_total": 3570, "iterations_since_restore": 107, "episode_reward_min": 40.207682113490385, "episodes_this_iter": 33, "episode_len_mean": 677.09, "done": false, "episode_reward_max": 754.4460937956974, "custom_metrics": {"cost2_mean": -33.559039137612956, "system_level_velocity_min": 14.156428998851672, "cost2_min": -49.777601963471966, "system_level_velocity_mean": 17.163814199140134, "cost1_min": 19.134413201540458, "cost1_mean": 411.63173831857057, "cost1_max": 462.5138035024892, "outflow_rate_max": 957.7966193857987, "system_level_velocity_max": 19.093372961877133, "outflow_rate_min": 491.75005665836557, "cost2_max": -16.11271430778465, "outflow_rate_mean": 879.5003348540215}, "node_ip": "10.138.0.2", "timesteps_total": 5005465}
{"hostname": "flow-main", "episode_reward_mean": 678.028767533805, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfee10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe048>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.326587438583374, "date": "2019-05-19_23-58-16", "info": {"sample_time_ms": 20027.349, "update_time_ms": 8.34, "default": {"entropy": 1.5261722803115845, "vf_explained_var": 0.2502431571483612, "vf_loss": 48.46918487548828, "kl": 0.016489535570144653, "policy_loss": -0.009817136451601982, "total_loss": 48.46308135986328, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5046749, "load_time_ms": 5.456, "num_steps_sampled": 5046749, "grad_time_ms": 10093.492}, "timesteps_since_restore": 5046749, "time_total_s": 3798.0901741981506, "num_metric_batches_dropped": 0, "timestamp": 1558310296, "training_iteration": 108, "timesteps_this_iter": 41284, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3798.0901741981506, "episodes_total": 3606, "iterations_since_restore": 108, "episode_reward_min": 61.674968435522636, "episodes_this_iter": 36, "episode_len_mean": 681.64, "done": false, "episode_reward_max": 754.4460937956974, "custom_metrics": {"cost2_mean": -34.663591314903876, "system_level_velocity_min": 14.060524931648395, "cost2_min": -53.617787050413845, "system_level_velocity_mean": 17.094374276860275, "cost1_min": 31.25554061126188, "cost1_mean": 412.9591315777335, "cost1_max": 462.5138035024892, "outflow_rate_max": 977.0688525333915, "system_level_velocity_max": 19.093372961877133, "outflow_rate_min": 537.9382936561261, "cost2_max": -18.620687293807713, "outflow_rate_mean": 885.4290676403199}, "node_ip": "10.138.0.2", "timesteps_total": 5046749}
{"hostname": "flow-main", "episode_reward_mean": 675.6120725979833, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028980f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d023c8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.19371438026428, "date": "2019-05-19_23-58-48", "info": {"sample_time_ms": 20144.433, "update_time_ms": 8.138, "default": {"entropy": 1.5227782726287842, "vf_explained_var": 0.27199581265449524, "vf_loss": 44.37425994873047, "kl": 0.017268776893615723, "policy_loss": -0.011267691850662231, "total_loss": 44.366878509521484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5088353, "load_time_ms": 5.639, "num_steps_sampled": 5088353, "grad_time_ms": 10109.246}, "timesteps_since_restore": 5088353, "time_total_s": 3830.283888578415, "num_metric_batches_dropped": 0, "timestamp": 1558310328, "training_iteration": 109, "timesteps_this_iter": 41604, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3830.283888578415, "episodes_total": 3641, "iterations_since_restore": 109, "episode_reward_min": 24.30708591876206, "episodes_this_iter": 35, "episode_len_mean": 678.33, "done": false, "episode_reward_max": 755.5777501233796, "custom_metrics": {"cost2_mean": -35.0933593698865, "system_level_velocity_min": 14.060524931648395, "cost2_min": -53.617787050413845, "system_level_velocity_mean": 17.014619961625183, "cost1_min": 12.272291754442223, "cost1_mean": 409.897060946575, "cost1_max": 460.7276044408871, "outflow_rate_max": 977.0688525333915, "system_level_velocity_max": 19.048554194145417, "outflow_rate_min": 459.24275550364274, "cost2_max": -13.946703753895482, "outflow_rate_mean": 884.8032519666108}, "node_ip": "10.138.0.2", "timesteps_total": 5088353}
{"hostname": "flow-main", "episode_reward_mean": 681.341155258302, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf53c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5fd0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.701813220977783, "date": "2019-05-19_23-59-19", "info": {"sample_time_ms": 20240.939, "update_time_ms": 7.994, "default": {"entropy": 1.5209431648254395, "vf_explained_var": 0.24463032186031342, "vf_loss": 46.27254104614258, "kl": 0.017771760001778603, "policy_loss": -0.009845360182225704, "total_loss": 46.26668930053711, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5129620, "load_time_ms": 5.801, "num_steps_sampled": 5129620, "grad_time_ms": 10198.605}, "timesteps_since_restore": 5129620, "time_total_s": 3860.9857017993927, "num_metric_batches_dropped": 0, "timestamp": 1558310359, "training_iteration": 110, "timesteps_this_iter": 41267, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3860.9857017993927, "episodes_total": 3676, "iterations_since_restore": 110, "episode_reward_min": 24.30708591876206, "episodes_this_iter": 35, "episode_len_mean": 678.33, "done": false, "episode_reward_max": 763.1984898487347, "custom_metrics": {"cost2_mean": -34.39285768693804, "system_level_velocity_min": 13.034830729662353, "cost2_min": -53.617787050413845, "system_level_velocity_mean": 17.036325268671266, "cost1_min": 12.272291754442223, "cost1_mean": 410.9922134329588, "cost1_max": 457.5190801143809, "outflow_rate_max": 977.0688525333915, "system_level_velocity_max": 19.048554194145417, "outflow_rate_min": 459.24275550364274, "cost2_max": -13.946703753895482, "outflow_rate_mean": 885.5810348459497}, "node_ip": "10.138.0.2", "timesteps_total": 5129620}
{"hostname": "flow-main", "episode_reward_mean": 675.6158693183779, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028986a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028988d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898e80>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.918909311294556, "date": "2019-05-19_23-59-51", "info": {"sample_time_ms": 20416.866, "update_time_ms": 8.15, "default": {"entropy": 1.5317314863204956, "vf_explained_var": 0.2557578384876251, "vf_loss": 47.322715759277344, "kl": 0.01653900370001793, "policy_loss": -0.010105874389410019, "total_loss": 47.31633377075195, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5170829, "load_time_ms": 5.659, "num_steps_sampled": 5170829, "grad_time_ms": 10245.723}, "timesteps_since_restore": 5170829, "time_total_s": 3892.9046111106873, "num_metric_batches_dropped": 0, "timestamp": 1558310391, "training_iteration": 111, "timesteps_this_iter": 41209, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3892.9046111106873, "episodes_total": 3710, "iterations_since_restore": 111, "episode_reward_min": 24.30708591876206, "episodes_this_iter": 34, "episode_len_mean": 669.09, "done": false, "episode_reward_max": 763.1984898487347, "custom_metrics": {"cost2_mean": -34.38329954373177, "system_level_velocity_min": 13.034830729662353, "cost2_min": -49.53767829734242, "system_level_velocity_mean": 17.18172615086228, "cost1_min": 12.272291754442223, "cost1_mean": 408.664705052173, "cost1_max": 463.215197837319, "outflow_rate_max": 969.814982276143, "system_level_velocity_max": 19.048554194145417, "outflow_rate_min": 459.24275550364274, "cost2_max": -13.946703753895482, "outflow_rate_mean": 881.8506473493605}, "node_ip": "10.138.0.2", "timesteps_total": 5170829}
{"hostname": "flow-main", "episode_reward_mean": 685.6148257523957, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028989e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898898>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.884271383285522, "date": "2019-05-20_00-00-23", "info": {"sample_time_ms": 20565.804, "update_time_ms": 8.369, "default": {"entropy": 1.5458158254623413, "vf_explained_var": 0.2887374758720398, "vf_loss": 45.64483642578125, "kl": 0.018195081502199173, "policy_loss": -0.011453415267169476, "total_loss": 45.637474060058594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5211886, "load_time_ms": 5.525, "num_steps_sampled": 5211886, "grad_time_ms": 10362.294}, "timesteps_since_restore": 5211886, "time_total_s": 3924.788882493973, "num_metric_batches_dropped": 0, "timestamp": 1558310423, "training_iteration": 112, "timesteps_this_iter": 41057, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3924.788882493973, "episodes_total": 3748, "iterations_since_restore": 112, "episode_reward_min": 57.87708121914963, "episodes_this_iter": 38, "episode_len_mean": 678.58, "done": false, "episode_reward_max": 763.1984898487347, "custom_metrics": {"cost2_mean": -35.29159920050172, "system_level_velocity_min": 13.034830729662353, "cost2_min": -49.53767829734242, "system_level_velocity_mean": 17.184607350412808, "cost1_min": 26.958001569387143, "cost1_mean": 415.27400704733105, "cost1_max": 463.215197837319, "outflow_rate_max": 981.9497958347657, "system_level_velocity_max": 19.002945621659116, "outflow_rate_min": 476.5071002603932, "cost2_max": -21.5464972442872, "outflow_rate_mean": 890.0642679223799}, "node_ip": "10.138.0.2", "timesteps_total": 5211886}
{"hostname": "flow-main", "episode_reward_mean": 682.3468479406071, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898630>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.881675481796265, "date": "2019-05-20_00-00-51", "info": {"sample_time_ms": 20350.609, "update_time_ms": 8.316, "default": {"entropy": 1.5357165336608887, "vf_explained_var": 0.30674827098846436, "vf_loss": 41.99656295776367, "kl": 0.0160655714571476, "policy_loss": -0.007704231422394514, "total_loss": 41.99247741699219, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 5253446, "load_time_ms": 5.707, "num_steps_sampled": 5253446, "grad_time_ms": 10431.738}, "timesteps_since_restore": 5253446, "time_total_s": 3953.670557975769, "num_metric_batches_dropped": 0, "timestamp": 1558310451, "training_iteration": 113, "timesteps_this_iter": 41560, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3953.670557975769, "episodes_total": 3783, "iterations_since_restore": 113, "episode_reward_min": 57.87708121914963, "episodes_this_iter": 35, "episode_len_mean": 678.41, "done": false, "episode_reward_max": 755.1014028012388, "custom_metrics": {"cost2_mean": -35.092774928753265, "system_level_velocity_min": 13.290215090706171, "cost2_min": -48.44474212054945, "system_level_velocity_mean": 17.160098949818433, "cost1_min": 26.958001569387143, "cost1_mean": 414.05563007713783, "cost1_max": 463.215197837319, "outflow_rate_max": 981.9497958347657, "system_level_velocity_max": 19.002945621659116, "outflow_rate_min": 476.5071002603932, "cost2_max": -21.044362172388993, "outflow_rate_mean": 886.9455738780853}, "node_ip": "10.138.0.2", "timesteps_total": 5253446}
{"hostname": "flow-main", "episode_reward_mean": 682.3874202274109, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e518>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.63852405548096, "date": "2019-05-20_00-01-25", "info": {"sample_time_ms": 20764.019, "update_time_ms": 8.327, "default": {"entropy": 1.5392630100250244, "vf_explained_var": 0.27639320492744446, "vf_loss": 47.48589324951172, "kl": 0.0169370174407959, "policy_loss": -0.009762478992342949, "total_loss": 47.479942321777344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 5294893, "load_time_ms": 6.095, "num_steps_sampled": 5294893, "grad_time_ms": 10265.353}, "timesteps_since_restore": 5294893, "time_total_s": 3987.30908203125, "num_metric_batches_dropped": 0, "timestamp": 1558310485, "training_iteration": 114, "timesteps_this_iter": 41447, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 3987.30908203125, "episodes_total": 3822, "iterations_since_restore": 114, "episode_reward_min": 282.99253591390294, "episodes_this_iter": 39, "episode_len_mean": 679.18, "done": false, "episode_reward_max": 759.4105633196955, "custom_metrics": {"cost2_mean": -35.44712739835527, "system_level_velocity_min": 14.700890456894106, "cost2_min": -52.39704426327904, "system_level_velocity_mean": 17.03017537128788, "cost1_min": 157.0572276040417, "cost1_mean": 412.31571541330567, "cost1_max": 460.40261417684746, "outflow_rate_max": 981.9497958347657, "system_level_velocity_max": 18.793047012060686, "outflow_rate_min": 736.0397038057405, "cost2_max": -21.044362172388993, "outflow_rate_mean": 888.8323127058443}, "node_ip": "10.138.0.2", "timesteps_total": 5294893}
{"hostname": "flow-main", "episode_reward_mean": 685.0580285417901, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028978d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897978>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.702980518341064, "date": "2019-05-20_00-01-55", "info": {"sample_time_ms": 20589.137, "update_time_ms": 8.101, "default": {"entropy": 1.5424448251724243, "vf_explained_var": 0.3203037679195404, "vf_loss": 41.292118072509766, "kl": 0.01639424078166485, "policy_loss": -0.010678048245608807, "total_loss": 41.285125732421875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5336129, "load_time_ms": 6.211, "num_steps_sampled": 5336129, "grad_time_ms": 10364.817}, "timesteps_since_restore": 5336129, "time_total_s": 4017.012062549591, "num_metric_batches_dropped": 0, "timestamp": 1558310515, "training_iteration": 115, "timesteps_this_iter": 41236, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4017.012062549591, "episodes_total": 3856, "iterations_since_restore": 115, "episode_reward_min": 282.99253591390294, "episodes_this_iter": 34, "episode_len_mean": 683.06, "done": false, "episode_reward_max": 759.4105633196955, "custom_metrics": {"cost2_mean": -34.94592304680486, "system_level_velocity_min": 14.50876202393858, "cost2_min": -52.39704426327904, "system_level_velocity_mean": 17.149052408921897, "cost1_min": 157.0572276040417, "cost1_mean": 416.5220231390475, "cost1_max": 463.8329637424159, "outflow_rate_max": 981.6033820068119, "system_level_velocity_max": 19.292423092361712, "outflow_rate_min": 741.6655336911251, "cost2_max": -21.044362172388993, "outflow_rate_mean": 888.4853269107883}, "node_ip": "10.138.0.2", "timesteps_total": 5336129}
{"hostname": "flow-main", "episode_reward_mean": 685.3654902925277, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e080>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.402830362319946, "date": "2019-05-20_00-02-25", "info": {"sample_time_ms": 20389.681, "update_time_ms": 8.075, "default": {"entropy": 1.5495872497558594, "vf_explained_var": 0.3235061764717102, "vf_loss": 42.72235107421875, "kl": 0.0164753757417202, "policy_loss": -0.01113129686564207, "total_loss": 42.714927673339844, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5377784, "load_time_ms": 6.31, "num_steps_sampled": 5377784, "grad_time_ms": 10339.808}, "timesteps_since_restore": 5377784, "time_total_s": 4047.414892911911, "num_metric_batches_dropped": 0, "timestamp": 1558310545, "training_iteration": 116, "timesteps_this_iter": 41655, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4047.414892911911, "episodes_total": 3889, "iterations_since_restore": 116, "episode_reward_min": 282.99253591390294, "episodes_this_iter": 33, "episode_len_mean": 684.33, "done": false, "episode_reward_max": 759.4105633196955, "custom_metrics": {"cost2_mean": -34.95259575286739, "system_level_velocity_min": 13.478085886417404, "cost2_min": -52.39704426327904, "system_level_velocity_mean": 16.98018887277414, "cost1_min": 157.0572276040417, "cost1_mean": 414.0444873463732, "cost1_max": 463.8329637424159, "outflow_rate_max": 981.6033820068119, "system_level_velocity_max": 19.292423092361712, "outflow_rate_min": 741.6655336911251, "cost2_max": -21.553553414483527, "outflow_rate_mean": 890.6621676341695}, "node_ip": "10.138.0.2", "timesteps_total": 5377784}
{"hostname": "flow-main", "episode_reward_mean": 692.9585120636672, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.17746925354004, "date": "2019-05-20_00-02-58", "info": {"sample_time_ms": 20708.133, "update_time_ms": 8.089, "default": {"entropy": 1.543555498123169, "vf_explained_var": 0.182840496301651, "vf_loss": 52.91959762573242, "kl": 0.019746536388993263, "policy_loss": -0.00970399472862482, "total_loss": 52.914337158203125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5418924, "load_time_ms": 6.266, "num_steps_sampled": 5418924, "grad_time_ms": 10277.431}, "timesteps_since_restore": 5418924, "time_total_s": 4079.592362165451, "num_metric_batches_dropped": 0, "timestamp": 1558310578, "training_iteration": 117, "timesteps_this_iter": 41140, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4079.592362165451, "episodes_total": 3922, "iterations_since_restore": 117, "episode_reward_min": 214.90684973784866, "episodes_this_iter": 33, "episode_len_mean": 688.46, "done": false, "episode_reward_max": 761.9281626950843, "custom_metrics": {"cost2_mean": -34.41480460511576, "system_level_velocity_min": 13.478085886417404, "cost2_min": -50.73191082012489, "system_level_velocity_mean": 17.1153942934002, "cost1_min": 126.64710526744395, "cost1_mean": 419.3524330042667, "cost1_max": 463.8329637424159, "outflow_rate_max": 976.0527785574119, "system_level_velocity_max": 19.292423092361712, "outflow_rate_min": 702.5045374012842, "cost2_max": -20.041741110582144, "outflow_rate_mean": 893.3183029771685}, "node_ip": "10.138.0.2", "timesteps_total": 5418924}
{"hostname": "flow-main", "episode_reward_mean": 698.3509218753074, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d021d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02dd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.190078735351562, "date": "2019-05-20_00-03-29", "info": {"sample_time_ms": 20705.628, "update_time_ms": 7.964, "default": {"entropy": 1.544110894203186, "vf_explained_var": 0.2307738959789276, "vf_loss": 46.97298812866211, "kl": 0.01732601225376129, "policy_loss": -0.009879081510007381, "total_loss": 46.96700668334961, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 5460362, "load_time_ms": 6.116, "num_steps_sampled": 5460362, "grad_time_ms": 10465.07}, "timesteps_since_restore": 5460362, "time_total_s": 4110.782440900803, "num_metric_batches_dropped": 0, "timestamp": 1558310609, "training_iteration": 118, "timesteps_this_iter": 41438, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4110.782440900803, "episodes_total": 3956, "iterations_since_restore": 118, "episode_reward_min": 214.90684973784866, "episodes_this_iter": 34, "episode_len_mean": 689.62, "done": false, "episode_reward_max": 761.9281626950843, "custom_metrics": {"cost2_mean": -33.76061473454907, "system_level_velocity_min": 13.478085886417404, "cost2_min": -54.71461011126936, "system_level_velocity_mean": 17.161533704489532, "cost1_min": 126.64710526744395, "cost1_mean": 421.29653408276715, "cost1_max": 461.34466901007715, "outflow_rate_max": 976.2072989554554, "system_level_velocity_max": 18.93190557983022, "outflow_rate_min": 702.5045374012842, "cost2_max": -20.041741110582144, "outflow_rate_mean": 897.3478878356349}, "node_ip": "10.138.0.2", "timesteps_total": 5460362}
{"hostname": "flow-main", "episode_reward_mean": 697.207892150673, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028983c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898668>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.288854837417603, "date": "2019-05-20_00-04-00", "info": {"sample_time_ms": 20814.082, "update_time_ms": 8.063, "default": {"entropy": 1.5562390089035034, "vf_explained_var": 0.25184735655784607, "vf_loss": 46.842472076416016, "kl": 0.019327307119965553, "policy_loss": -0.011726351454854012, "total_loss": 46.8350944519043, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5501577, "load_time_ms": 6.236, "num_steps_sampled": 5501577, "grad_time_ms": 10267.21}, "timesteps_since_restore": 5501577, "time_total_s": 4142.07129573822, "num_metric_batches_dropped": 0, "timestamp": 1558310640, "training_iteration": 119, "timesteps_this_iter": 41215, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4142.07129573822, "episodes_total": 3991, "iterations_since_restore": 119, "episode_reward_min": 214.90684973784866, "episodes_this_iter": 35, "episode_len_mean": 687.54, "done": false, "episode_reward_max": 761.9281626950843, "custom_metrics": {"cost2_mean": -34.49925655559565, "system_level_velocity_min": 13.90950583669132, "cost2_min": -54.71461011126936, "system_level_velocity_mean": 17.21467576093034, "cost1_min": 126.64710526744395, "cost1_mean": 421.39070787132323, "cost1_max": 461.88339705041824, "outflow_rate_max": 976.2072989554554, "system_level_velocity_max": 18.99701086121292, "outflow_rate_min": 702.5045374012842, "cost2_max": -20.041741110582144, "outflow_rate_mean": 898.2964057558571}, "node_ip": "10.138.0.2", "timesteps_total": 5501577}
{"hostname": "flow-main", "episode_reward_mean": 696.9371987942199, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898080>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.35136580467224, "date": "2019-05-20_00-04-33", "info": {"sample_time_ms": 21072.834, "update_time_ms": 8.107, "default": {"entropy": 1.5657767057418823, "vf_explained_var": 0.2408955693244934, "vf_loss": 49.026878356933594, "kl": 0.01742764376103878, "policy_loss": -0.010350476950407028, "total_loss": 49.02045440673828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 5543606, "load_time_ms": 5.86, "num_steps_sampled": 5543606, "grad_time_ms": 10174.594}, "timesteps_since_restore": 5543606, "time_total_s": 4174.4226615428925, "num_metric_batches_dropped": 0, "timestamp": 1558310673, "training_iteration": 120, "timesteps_this_iter": 42029, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4174.4226615428925, "episodes_total": 4028, "iterations_since_restore": 120, "episode_reward_min": 388.4960695329738, "episodes_this_iter": 37, "episode_len_mean": 689.74, "done": false, "episode_reward_max": 757.957843515005, "custom_metrics": {"cost2_mean": -34.17283519463895, "system_level_velocity_min": 13.90950583669132, "cost2_min": -54.71461011126936, "system_level_velocity_mean": 17.097361457042492, "cost1_min": 220.8001572292625, "cost1_mean": 420.4415449936937, "cost1_max": 461.88339705041824, "outflow_rate_max": 981.7108241019974, "system_level_velocity_max": 18.99701086121292, "outflow_rate_min": 767.170545615954, "cost2_max": -23.47709275691459, "outflow_rate_mean": 900.4570579070503}, "node_ip": "10.138.0.2", "timesteps_total": 5543606}
{"hostname": "flow-main", "episode_reward_mean": 686.9253639163258, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfef28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe978>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.57795286178589, "date": "2019-05-20_00-05-05", "info": {"sample_time_ms": 20976.454, "update_time_ms": 7.903, "default": {"entropy": 1.5776469707489014, "vf_explained_var": 0.19635827839374542, "vf_loss": 52.82624053955078, "kl": 0.0191801805049181, "policy_loss": -0.011485878378152847, "total_loss": 52.81907272338867, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5584740, "load_time_ms": 5.969, "num_steps_sampled": 5584740, "grad_time_ms": 10338.054}, "timesteps_since_restore": 5584740, "time_total_s": 4207.000614404678, "num_metric_batches_dropped": 0, "timestamp": 1558310705, "training_iteration": 121, "timesteps_this_iter": 41134, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4207.000614404678, "episodes_total": 4063, "iterations_since_restore": 121, "episode_reward_min": 47.58130890547104, "episodes_this_iter": 35, "episode_len_mean": 679.65, "done": false, "episode_reward_max": 761.5958937207113, "custom_metrics": {"cost2_mean": -34.516061555424095, "system_level_velocity_min": 13.488598837008409, "cost2_min": -51.82595770991285, "system_level_velocity_mean": 16.89894834711096, "cost1_min": 23.111678109761268, "cost1_mean": 410.21938317049916, "cost1_max": 461.88339705041824, "outflow_rate_max": 982.4827189529037, "system_level_velocity_max": 18.68919385498136, "outflow_rate_min": 506.069524914099, "cost2_max": -19.25251267472684, "outflow_rate_mean": 895.4686974863513}, "node_ip": "10.138.0.2", "timesteps_total": 5584740}
{"hostname": "flow-main", "episode_reward_mean": 688.9469389587717, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e2b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.12603211402893, "date": "2019-05-20_00-05-36", "info": {"sample_time_ms": 21055.962, "update_time_ms": 7.821, "default": {"entropy": 1.5865881443023682, "vf_explained_var": 0.2950010597705841, "vf_loss": 41.59215545654297, "kl": 0.018101803958415985, "policy_loss": -0.010757436975836754, "total_loss": 41.585472106933594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5625741, "load_time_ms": 6.094, "num_steps_sampled": 5625741, "grad_time_ms": 10185.994}, "timesteps_since_restore": 5625741, "time_total_s": 4238.126646518707, "num_metric_batches_dropped": 0, "timestamp": 1558310736, "training_iteration": 122, "timesteps_this_iter": 41001, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4238.126646518707, "episodes_total": 4098, "iterations_since_restore": 122, "episode_reward_min": 47.58130890547104, "episodes_this_iter": 35, "episode_len_mean": 681.04, "done": false, "episode_reward_max": 761.5958937207113, "custom_metrics": {"cost2_mean": -34.488377312648076, "system_level_velocity_min": 13.488598837008409, "cost2_min": -52.325043442258035, "system_level_velocity_mean": 16.787241126491047, "cost1_min": 23.111678109761268, "cost1_mean": 408.8255891538845, "cost1_max": 458.8494017643913, "outflow_rate_max": 982.4827189529037, "system_level_velocity_max": 18.68919385498136, "outflow_rate_min": 506.069524914099, "cost2_max": -19.25251267472684, "outflow_rate_mean": 895.3469871697612}, "node_ip": "10.138.0.2", "timesteps_total": 5625741}
{"hostname": "flow-main", "episode_reward_mean": 691.1129525117358, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028981d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.52984356880188, "date": "2019-05-20_00-06-06", "info": {"sample_time_ms": 21172.192, "update_time_ms": 7.639, "default": {"entropy": 1.5942164659500122, "vf_explained_var": 0.26665616035461426, "vf_loss": 42.24388885498047, "kl": 0.01912192814052105, "policy_loss": -0.01078624464571476, "total_loss": 42.23740768432617, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5667068, "load_time_ms": 6.041, "num_steps_sampled": 5667068, "grad_time_ms": 10132.933}, "timesteps_since_restore": 5667068, "time_total_s": 4267.656490087509, "num_metric_batches_dropped": 0, "timestamp": 1558310766, "training_iteration": 123, "timesteps_this_iter": 41327, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4267.656490087509, "episodes_total": 4130, "iterations_since_restore": 123, "episode_reward_min": 47.58130890547104, "episodes_this_iter": 32, "episode_len_mean": 684.81, "done": false, "episode_reward_max": 766.4171873150686, "custom_metrics": {"cost2_mean": -35.410750172601226, "system_level_velocity_min": 13.488598837008409, "cost2_min": -52.3920902817021, "system_level_velocity_mean": 16.555390315052346, "cost1_min": 23.111678109761268, "cost1_mean": 406.4203843612393, "cost1_max": 454.96535686688867, "outflow_rate_max": 982.4827189529037, "system_level_velocity_max": 18.68919385498136, "outflow_rate_min": 506.069524914099, "cost2_max": -19.25251267472684, "outflow_rate_mean": 899.191392603294}, "node_ip": "10.138.0.2", "timesteps_total": 5667068}
{"hostname": "flow-main", "episode_reward_mean": 698.0531464081433, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.058364391326904, "date": "2019-05-20_00-06-39", "info": {"sample_time_ms": 20924.221, "update_time_ms": 7.837, "default": {"entropy": 1.606157898902893, "vf_explained_var": 0.2801269292831421, "vf_loss": 45.82106399536133, "kl": 0.02075316570699215, "policy_loss": -0.014596049673855305, "total_loss": 45.81113052368164, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 5709013, "load_time_ms": 5.616, "num_steps_sampled": 5709013, "grad_time_ms": 10323.612}, "timesteps_since_restore": 5709013, "time_total_s": 4300.714854478836, "num_metric_batches_dropped": 0, "timestamp": 1558310799, "training_iteration": 124, "timesteps_this_iter": 41945, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4300.714854478836, "episodes_total": 4165, "iterations_since_restore": 124, "episode_reward_min": 513.3392111073301, "episodes_this_iter": 35, "episode_len_mean": 695.25, "done": false, "episode_reward_max": 766.4171873150686, "custom_metrics": {"cost2_mean": -36.089584793921595, "system_level_velocity_min": 13.417430268066681, "cost2_min": -52.3920902817021, "system_level_velocity_mean": 16.52818606653631, "cost1_min": 252.79576924723608, "cost1_mean": 412.18243749295175, "cost1_max": 458.55165194671366, "outflow_rate_max": 969.8958373890866, "system_level_velocity_max": 18.505046850460143, "outflow_rate_min": 769.0362033884095, "cost2_max": -21.171946142178406, "outflow_rate_mean": 905.9245165517624}, "node_ip": "10.138.0.2", "timesteps_total": 5709013}
{"hostname": "flow-main", "episode_reward_mean": 698.2986836313761, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898940>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.29961657524109, "date": "2019-05-20_00-07-09", "info": {"sample_time_ms": 20997.359, "update_time_ms": 7.977, "default": {"entropy": 1.5994083881378174, "vf_explained_var": 0.2965637445449829, "vf_loss": 41.796566009521484, "kl": 0.014215095899999142, "policy_loss": -0.010343126952648163, "total_loss": 41.79102325439453, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 5750977, "load_time_ms": 5.468, "num_steps_sampled": 5750977, "grad_time_ms": 10310.198}, "timesteps_since_restore": 5750977, "time_total_s": 4331.014471054077, "num_metric_batches_dropped": 0, "timestamp": 1558310829, "training_iteration": 125, "timesteps_this_iter": 41964, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4331.014471054077, "episodes_total": 4199, "iterations_since_restore": 125, "episode_reward_min": 513.3392111073301, "episodes_this_iter": 34, "episode_len_mean": 696.56, "done": false, "episode_reward_max": 766.4171873150686, "custom_metrics": {"cost2_mean": -35.57867858913371, "system_level_velocity_min": 13.417430268066681, "cost2_min": -52.3920902817021, "system_level_velocity_mean": 16.58445235236023, "cost1_min": 252.79576924723608, "cost1_mean": 413.96173162378017, "cost1_max": 472.1520291634034, "outflow_rate_max": 969.8958373890866, "system_level_velocity_max": 19.381243514461147, "outflow_rate_min": 769.0362033884095, "cost2_max": -19.338510310570538, "outflow_rate_mean": 903.9135782825317}, "node_ip": "10.138.0.2", "timesteps_total": 5750977}
{"hostname": "flow-main", "episode_reward_mean": 691.9047753245214, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf53c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5e48>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.908910512924194, "date": "2019-05-20_00-07-39", "info": {"sample_time_ms": 20918.993, "update_time_ms": 8.06, "default": {"entropy": 1.6076819896697998, "vf_explained_var": 0.2583710253238678, "vf_loss": 43.964229583740234, "kl": 0.013664191588759422, "policy_loss": -0.010404788888990879, "total_loss": 43.958438873291016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 5792630, "load_time_ms": 5.161, "num_steps_sampled": 5792630, "grad_time_ms": 10340.305}, "timesteps_since_restore": 5792630, "time_total_s": 4360.923381567001, "num_metric_batches_dropped": 0, "timestamp": 1558310859, "training_iteration": 126, "timesteps_this_iter": 41653, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4360.923381567001, "episodes_total": 4232, "iterations_since_restore": 126, "episode_reward_min": 300.79684676271285, "episodes_this_iter": 33, "episode_len_mean": 691.45, "done": false, "episode_reward_max": 751.7821878714185, "custom_metrics": {"cost2_mean": -34.86308196372591, "system_level_velocity_min": 13.417430268066681, "cost2_min": -52.086475631321164, "system_level_velocity_mean": 16.7077556025395, "cost1_min": 166.3937457459962, "cost1_mean": 413.2319969535163, "cost1_max": 472.1520291634034, "outflow_rate_max": 969.8958373890866, "system_level_velocity_max": 19.381243514461147, "outflow_rate_min": 740.975299600573, "cost2_max": -15.26891668899687, "outflow_rate_mean": 897.058076803799}, "node_ip": "10.138.0.2", "timesteps_total": 5792630}
{"hostname": "flow-main", "episode_reward_mean": 688.1590760975158, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.617531776428223, "date": "2019-05-20_00-08-11", "info": {"sample_time_ms": 20871.728, "update_time_ms": 8.064, "default": {"entropy": 1.6001503467559814, "vf_explained_var": 0.3012716472148895, "vf_loss": 41.1070556640625, "kl": 0.012078975327312946, "policy_loss": -0.008019260130822659, "total_loss": 41.10311508178711, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 5834151, "load_time_ms": 5.274, "num_steps_sampled": 5834151, "grad_time_ms": 10331.306}, "timesteps_since_restore": 5834151, "time_total_s": 4392.54091334343, "num_metric_batches_dropped": 0, "timestamp": 1558310891, "training_iteration": 127, "timesteps_this_iter": 41521, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4392.54091334343, "episodes_total": 4266, "iterations_since_restore": 127, "episode_reward_min": 40.79197736490379, "episodes_this_iter": 34, "episode_len_mean": 686.68, "done": false, "episode_reward_max": 747.6479377571193, "custom_metrics": {"cost2_mean": -33.759842383658494, "system_level_velocity_min": 14.283188379933563, "cost2_min": -52.086475631321164, "system_level_velocity_mean": 16.76800014377768, "cost1_min": 19.41373549571365, "cost1_mean": 411.30934993299337, "cost1_max": 472.1520291634034, "outflow_rate_max": 959.5571816465912, "system_level_velocity_max": 19.381243514461147, "outflow_rate_min": 491.422964753816, "cost2_max": -15.26891668899687, "outflow_rate_mean": 889.754748928271}, "node_ip": "10.138.0.2", "timesteps_total": 5834151}
{"hostname": "flow-main", "episode_reward_mean": 689.7229819854676, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e128>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.107897996902466, "date": "2019-05-20_00-08-43", "info": {"sample_time_ms": 20968.931, "update_time_ms": 8.105, "default": {"entropy": 1.6106687784194946, "vf_explained_var": 0.30305737257003784, "vf_loss": 41.72370147705078, "kl": 0.013941490091383457, "policy_loss": -0.009456341154873371, "total_loss": 41.71895217895508, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 5875515, "load_time_ms": 5.327, "num_steps_sampled": 5875515, "grad_time_ms": 10325.67}, "timesteps_since_restore": 5875515, "time_total_s": 4424.648811340332, "num_metric_batches_dropped": 0, "timestamp": 1558310923, "training_iteration": 128, "timesteps_this_iter": 41364, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4424.648811340332, "episodes_total": 4301, "iterations_since_restore": 128, "episode_reward_min": 40.79197736490379, "episodes_this_iter": 35, "episode_len_mean": 686.74, "done": false, "episode_reward_max": 747.4175797742794, "custom_metrics": {"cost2_mean": -33.87206543525864, "system_level_velocity_min": 14.425110926568147, "cost2_min": -52.086475631321164, "system_level_velocity_mean": 16.884282193702806, "cost1_min": 19.41373549571365, "cost1_mean": 414.08091782561974, "cost1_max": 458.8221770380547, "outflow_rate_max": 967.330608986172, "system_level_velocity_max": 18.718491645147136, "outflow_rate_min": 491.422964753816, "cost2_max": -15.26891668899687, "outflow_rate_mean": 890.6505616072093}, "node_ip": "10.138.0.2", "timesteps_total": 5875515}
{"hostname": "flow-main", "episode_reward_mean": 688.5307793201725, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028981d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898748>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.354264736175537, "date": "2019-05-20_00-09-15", "info": {"sample_time_ms": 20880.043, "update_time_ms": 8.051, "default": {"entropy": 1.6195299625396729, "vf_explained_var": 0.25589460134506226, "vf_loss": 44.5019645690918, "kl": 0.014799052849411964, "policy_loss": -0.00831114687025547, "total_loss": 44.49864959716797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 5916511, "load_time_ms": 5.276, "num_steps_sampled": 5916511, "grad_time_ms": 10420.816}, "timesteps_since_restore": 5916511, "time_total_s": 4456.003076076508, "num_metric_batches_dropped": 0, "timestamp": 1558310955, "training_iteration": 129, "timesteps_this_iter": 40996, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4456.003076076508, "episodes_total": 4339, "iterations_since_restore": 129, "episode_reward_min": 40.79197736490379, "episodes_this_iter": 38, "episode_len_mean": 686.03, "done": false, "episode_reward_max": 763.1053289903112, "custom_metrics": {"cost2_mean": -34.10622456215499, "system_level_velocity_min": 14.425110926568147, "cost2_min": -51.024916431906945, "system_level_velocity_mean": 16.738438890966588, "cost1_min": 19.41373549571365, "cost1_mean": 410.85762423422284, "cost1_max": 463.4003754006422, "outflow_rate_max": 967.330608986172, "system_level_velocity_max": 18.718491645147136, "outflow_rate_min": 491.422964753816, "cost2_max": -17.684564415001695, "outflow_rate_mean": 887.3118479242013}, "node_ip": "10.138.0.2", "timesteps_total": 5916511}
{"hostname": "flow-main", "episode_reward_mean": 684.1798382036733, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe748>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.006775379180908, "date": "2019-05-20_00-09-46", "info": {"sample_time_ms": 20717.946, "update_time_ms": 8.031, "default": {"entropy": 1.6199591159820557, "vf_explained_var": 0.29962119460105896, "vf_loss": 41.13914108276367, "kl": 0.014374403282999992, "policy_loss": -0.011167566291987896, "total_loss": 41.1328239440918, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 5958059, "load_time_ms": 5.442, "num_steps_sampled": 5958059, "grad_time_ms": 10448.367}, "timesteps_since_restore": 5958059, "time_total_s": 4487.0098514556885, "num_metric_batches_dropped": 0, "timestamp": 1558310986, "training_iteration": 130, "timesteps_this_iter": 41548, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4487.0098514556885, "episodes_total": 4375, "iterations_since_restore": 130, "episode_reward_min": 29.76985955293988, "episodes_this_iter": 36, "episode_len_mean": 681.59, "done": false, "episode_reward_max": 769.2132646515203, "custom_metrics": {"cost2_mean": -34.72271965104909, "system_level_velocity_min": 14.600549442156646, "cost2_min": -51.024916431906945, "system_level_velocity_mean": 16.783187951496224, "cost1_min": 15.146594087172208, "cost1_mean": 410.11647466420584, "cost1_max": 463.4003754006422, "outflow_rate_max": 967.330608986172, "system_level_velocity_max": 18.718491645147136, "outflow_rate_min": 476.4898462992569, "cost2_max": -15.857792329101377, "outflow_rate_mean": 894.2951862827764}, "node_ip": "10.138.0.2", "timesteps_total": 5958059}
{"hostname": "flow-main", "episode_reward_mean": 676.0565136817567, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e4a8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.03691291809082, "date": "2019-05-20_00-10-17", "info": {"sample_time_ms": 20689.705, "update_time_ms": 7.939, "default": {"entropy": 1.6185747385025024, "vf_explained_var": 0.29788416624069214, "vf_loss": 41.4625129699707, "kl": 0.014279695227742195, "policy_loss": -0.010540326125919819, "total_loss": 41.45679473876953, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 5999652, "load_time_ms": 5.231, "num_steps_sampled": 5999652, "grad_time_ms": 10323.365}, "timesteps_since_restore": 5999652, "time_total_s": 4518.046764373779, "num_metric_batches_dropped": 0, "timestamp": 1558311017, "training_iteration": 131, "timesteps_this_iter": 41593, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4518.046764373779, "episodes_total": 4410, "iterations_since_restore": 131, "episode_reward_min": 29.76985955293988, "episodes_this_iter": 35, "episode_len_mean": 674.88, "done": false, "episode_reward_max": 769.2132646515203, "custom_metrics": {"cost2_mean": -34.85875448109275, "system_level_velocity_min": 13.959469165086567, "cost2_min": -49.719639355479345, "system_level_velocity_mean": 16.80620750524279, "cost1_min": 15.146594087172208, "cost1_mean": 405.9391498398709, "cost1_max": 463.4003754006422, "outflow_rate_max": 969.514987816562, "system_level_velocity_max": 18.65607767654277, "outflow_rate_min": 476.4898462992569, "cost2_max": -14.65145079233642, "outflow_rate_mean": 890.6834268315055}, "node_ip": "10.138.0.2", "timesteps_total": 5999652}
{"hostname": "flow-main", "episode_reward_mean": 677.019564118396, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf59b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5240>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.524452447891235, "date": "2019-05-20_00-10-49", "info": {"sample_time_ms": 20879.463, "update_time_ms": 7.958, "default": {"entropy": 1.640267014503479, "vf_explained_var": 0.2914142608642578, "vf_loss": 39.85331344604492, "kl": 0.013383076526224613, "policy_loss": -0.010220899246633053, "total_loss": 39.84761047363281, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6041597, "load_time_ms": 5.135, "num_steps_sampled": 6041597, "grad_time_ms": 10272.849}, "timesteps_since_restore": 6041597, "time_total_s": 4550.5712168216705, "num_metric_batches_dropped": 0, "timestamp": 1558311049, "training_iteration": 132, "timesteps_this_iter": 41945, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4550.5712168216705, "episodes_total": 4444, "iterations_since_restore": 132, "episode_reward_min": 29.76985955293988, "episodes_this_iter": 34, "episode_len_mean": 675.55, "done": false, "episode_reward_max": 769.2132646515203, "custom_metrics": {"cost2_mean": -34.071581880887045, "system_level_velocity_min": 13.959469165086567, "cost2_min": -49.719639355479345, "system_level_velocity_mean": 16.841956414557238, "cost1_min": 15.146594087172208, "cost1_mean": 406.46425763007886, "cost1_max": 456.1226326124055, "outflow_rate_max": 977.1907710363848, "system_level_velocity_max": 18.60895242509767, "outflow_rate_min": 476.4898462992569, "cost2_max": -14.65145079233642, "outflow_rate_mean": 887.7282261491392}, "node_ip": "10.138.0.2", "timesteps_total": 6041597}
{"hostname": "flow-main", "episode_reward_mean": 690.0999313668842, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee48>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.25095844268799, "date": "2019-05-20_00-11-21", "info": {"sample_time_ms": 20777.294, "update_time_ms": 7.899, "default": {"entropy": 1.6440964937210083, "vf_explained_var": 0.2871938943862915, "vf_loss": 42.219844818115234, "kl": 0.014501887373626232, "policy_loss": -0.010495621711015701, "total_loss": 42.21424865722656, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6083407, "load_time_ms": 5.174, "num_steps_sampled": 6083407, "grad_time_ms": 10546.436}, "timesteps_since_restore": 6083407, "time_total_s": 4581.8221752643585, "num_metric_batches_dropped": 0, "timestamp": 1558311081, "training_iteration": 133, "timesteps_this_iter": 41810, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4581.8221752643585, "episodes_total": 4478, "iterations_since_restore": 133, "episode_reward_min": 43.876672215409094, "episodes_this_iter": 34, "episode_len_mean": 686.69, "done": false, "episode_reward_max": 755.3345347266112, "custom_metrics": {"cost2_mean": -34.19764213596893, "system_level_velocity_min": 13.959469165086567, "cost2_min": -49.719639355479345, "system_level_velocity_mean": 16.821134256038413, "cost1_min": 18.442434150245468, "cost1_mean": 412.66398774386494, "cost1_max": 455.1548684387803, "outflow_rate_max": 977.1907710363848, "system_level_velocity_max": 18.477772535339152, "outflow_rate_min": 486.0819572473539, "cost2_max": -14.65145079233642, "outflow_rate_mean": 888.4372653202568}, "node_ip": "10.138.0.2", "timesteps_total": 6083407}
{"hostname": "flow-main", "episode_reward_mean": 698.4037921716487, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.112638235092163, "date": "2019-05-20_00-11-52", "info": {"sample_time_ms": 20684.318, "update_time_ms": 7.942, "default": {"entropy": 1.6490981578826904, "vf_explained_var": 0.26186251640319824, "vf_loss": 42.406463623046875, "kl": 0.013999287970364094, "policy_loss": -0.010165567509829998, "total_loss": 42.40102005004883, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6125028, "load_time_ms": 5.281, "num_steps_sampled": 6125028, "grad_time_ms": 10444.729}, "timesteps_since_restore": 6125028, "time_total_s": 4612.934813499451, "num_metric_batches_dropped": 0, "timestamp": 1558311112, "training_iteration": 134, "timesteps_this_iter": 41621, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4612.934813499451, "episodes_total": 4511, "iterations_since_restore": 134, "episode_reward_min": 48.93586904455482, "episodes_this_iter": 33, "episode_len_mean": 693.08, "done": false, "episode_reward_max": 755.3345347266112, "custom_metrics": {"cost2_mean": -33.86751428439332, "system_level_velocity_min": 14.125723463251385, "cost2_min": -48.99509196095219, "system_level_velocity_mean": 16.804083064309143, "cost1_min": 25.690087166006414, "cost1_mean": 417.01505114512656, "cost1_max": 454.19674249243144, "outflow_rate_max": 977.1907710363848, "system_level_velocity_max": 18.41546387560169, "outflow_rate_min": 511.4817341485547, "cost2_max": -17.406937487676235, "outflow_rate_mean": 892.119422689321}, "node_ip": "10.138.0.2", "timesteps_total": 6125028}
{"hostname": "flow-main", "episode_reward_mean": 704.3407591452328, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028989e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.30023217201233, "date": "2019-05-20_00-12-24", "info": {"sample_time_ms": 20967.244, "update_time_ms": 8.067, "default": {"entropy": 1.6560914516448975, "vf_explained_var": 0.29571133852005005, "vf_loss": 38.2075080871582, "kl": 0.013164623640477657, "policy_loss": -0.008578361012041569, "total_loss": 38.20337677001953, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6166480, "load_time_ms": 5.369, "num_steps_sampled": 6166480, "grad_time_ms": 10361.371}, "timesteps_since_restore": 6166480, "time_total_s": 4645.235045671463, "num_metric_batches_dropped": 0, "timestamp": 1558311144, "training_iteration": 135, "timesteps_this_iter": 41452, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4645.235045671463, "episodes_total": 4545, "iterations_since_restore": 135, "episode_reward_min": 626.713535952294, "episodes_this_iter": 34, "episode_len_mean": 699.68, "done": false, "episode_reward_max": 767.1331754383783, "custom_metrics": {"cost2_mean": -33.37338315578023, "system_level_velocity_min": 14.125723463251385, "cost2_min": -48.99509196095219, "system_level_velocity_mean": 16.875898050451735, "cost1_min": 359.21997457685876, "cost1_mean": 423.1581445415299, "cost1_max": 463.1279388171514, "outflow_rate_max": 965.3630065436472, "system_level_velocity_max": 18.785459746831638, "outflow_rate_min": 805.6945485687581, "cost2_max": -16.644455918553515, "outflow_rate_mean": 896.5362800283626}, "node_ip": "10.138.0.2", "timesteps_total": 6166480}
{"hostname": "flow-main", "episode_reward_mean": 699.2439359757594, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce89e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.778564453125, "date": "2019-05-20_00-12-54", "info": {"sample_time_ms": 20836.14, "update_time_ms": 7.799, "default": {"entropy": 1.6670717000961304, "vf_explained_var": 0.2727470397949219, "vf_loss": 45.357452392578125, "kl": 0.014035210013389587, "policy_loss": -0.01118065882474184, "total_loss": 45.35101318359375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6207910, "load_time_ms": 5.299, "num_steps_sampled": 6207910, "grad_time_ms": 10479.519}, "timesteps_since_restore": 6207910, "time_total_s": 4675.013610124588, "num_metric_batches_dropped": 0, "timestamp": 1558311174, "training_iteration": 136, "timesteps_this_iter": 41430, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4675.013610124588, "episodes_total": 4581, "iterations_since_restore": 136, "episode_reward_min": 32.12417978464309, "episodes_this_iter": 36, "episode_len_mean": 692.88, "done": false, "episode_reward_max": 767.1331754383783, "custom_metrics": {"cost2_mean": -32.99187933183933, "system_level_velocity_min": 14.477233464692773, "cost2_min": -48.73062653575364, "system_level_velocity_mean": 16.957370448698395, "cost1_min": 12.962190075643898, "cost1_mean": 421.43488131845106, "cost1_max": 463.1279388171514, "outflow_rate_max": 965.3630065436472, "system_level_velocity_max": 18.785459746831638, "outflow_rate_min": 415.97988672044914, "cost2_max": -12.930439265598883, "outflow_rate_mean": 893.0318880326704}, "node_ip": "10.138.0.2", "timesteps_total": 6207910}
{"hostname": "flow-main", "episode_reward_mean": 684.0868119482079, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.41973829269409, "date": "2019-05-20_00-13-27", "info": {"sample_time_ms": 21076.583, "update_time_ms": 8.078, "default": {"entropy": 1.6652992963790894, "vf_explained_var": 0.26417088508605957, "vf_loss": 43.004608154296875, "kl": 0.014326242730021477, "policy_loss": -0.009452402591705322, "total_loss": 42.99999237060547, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6249539, "load_time_ms": 5.36, "num_steps_sampled": 6249539, "grad_time_ms": 10418.876}, "timesteps_since_restore": 6249539, "time_total_s": 4708.433348417282, "num_metric_batches_dropped": 0, "timestamp": 1558311207, "training_iteration": 137, "timesteps_this_iter": 41629, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4708.433348417282, "episodes_total": 4617, "iterations_since_restore": 137, "episode_reward_min": 32.12417978464309, "episodes_this_iter": 36, "episode_len_mean": 676.77, "done": false, "episode_reward_max": 767.1331754383783, "custom_metrics": {"cost2_mean": -32.348916198765075, "system_level_velocity_min": 14.393892858817926, "cost2_min": -48.49403251493971, "system_level_velocity_mean": 17.018021219824103, "cost1_min": 12.962190075643898, "cost1_mean": 412.28396159450966, "cost1_max": 463.1279388171514, "outflow_rate_max": 981.6462485685761, "system_level_velocity_max": 18.785459746831638, "outflow_rate_min": 415.97988672044914, "cost2_max": -12.930439265598883, "outflow_rate_mean": 885.0658049899769}, "node_ip": "10.138.0.2", "timesteps_total": 6249539}
{"hostname": "flow-main", "episode_reward_mean": 682.5487853624659, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d021d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028975c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.11341428756714, "date": "2019-05-20_00-13-59", "info": {"sample_time_ms": 21074.69, "update_time_ms": 7.913, "default": {"entropy": 1.6641145944595337, "vf_explained_var": 0.37050122022628784, "vf_loss": 35.55258560180664, "kl": 0.013772929087281227, "policy_loss": -0.011374632827937603, "total_loss": 35.545860290527344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6290916, "load_time_ms": 5.34, "num_steps_sampled": 6290916, "grad_time_ms": 10421.785}, "timesteps_since_restore": 6290916, "time_total_s": 4740.546762704849, "num_metric_batches_dropped": 0, "timestamp": 1558311239, "training_iteration": 138, "timesteps_this_iter": 41377, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4740.546762704849, "episodes_total": 4653, "iterations_since_restore": 138, "episode_reward_min": 32.12417978464309, "episodes_this_iter": 36, "episode_len_mean": 676.77, "done": false, "episode_reward_max": 754.9289720334564, "custom_metrics": {"cost2_mean": -32.19576673944532, "system_level_velocity_min": 14.262144940453732, "cost2_min": -48.49403251493971, "system_level_velocity_mean": 16.996690272460015, "cost1_min": 12.962190075643898, "cost1_mean": 411.87169239917625, "cost1_max": 458.3988338925888, "outflow_rate_max": 981.6462485685761, "system_level_velocity_max": 18.673465738690567, "outflow_rate_min": 415.97988672044914, "cost2_max": -12.930439265598883, "outflow_rate_mean": 885.2791874456594}, "node_ip": "10.138.0.2", "timesteps_total": 6290916}
{"hostname": "flow-main", "episode_reward_mean": 689.3156247790581, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.940035343170166, "date": "2019-05-20_00-14-29", "info": {"sample_time_ms": 20821.007, "update_time_ms": 8.082, "default": {"entropy": 1.6732991933822632, "vf_explained_var": 0.28654375672340393, "vf_loss": 44.80092239379883, "kl": 0.014646598137915134, "policy_loss": -0.010432807728648186, "total_loss": 44.795433044433594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6332313, "load_time_ms": 4.971, "num_steps_sampled": 6332313, "grad_time_ms": 10534.04}, "timesteps_since_restore": 6332313, "time_total_s": 4770.486798048019, "num_metric_batches_dropped": 0, "timestamp": 1558311269, "training_iteration": 139, "timesteps_this_iter": 41397, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4770.486798048019, "episodes_total": 4690, "iterations_since_restore": 139, "episode_reward_min": 46.15164251044575, "episodes_this_iter": 37, "episode_len_mean": 686.45, "done": false, "episode_reward_max": 754.9289720334564, "custom_metrics": {"cost2_mean": -32.63249142578049, "system_level_velocity_min": 14.262144940453732, "cost2_min": -48.49403251493971, "system_level_velocity_mean": 16.905627125582733, "cost1_min": 22.236899532367694, "cost1_mean": 415.565225514993, "cost1_max": 458.3988338925888, "outflow_rate_max": 981.6462485685761, "system_level_velocity_max": 18.668139421148787, "outflow_rate_min": 502.88459449330645, "cost2_max": -17.855488753802376, "outflow_rate_mean": 889.3137541614454}, "node_ip": "10.138.0.2", "timesteps_total": 6332313}
{"hostname": "flow-main", "episode_reward_mean": 700.4905698822992, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a80b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02828>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.36757254600525, "date": "2019-05-20_00-15-01", "info": {"sample_time_ms": 21007.71, "update_time_ms": 8.32, "default": {"entropy": 1.6774953603744507, "vf_explained_var": 0.3039446771144867, "vf_loss": 38.71400451660156, "kl": 0.01309062261134386, "policy_loss": -0.010118412785232067, "total_loss": 38.70830535888672, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6373804, "load_time_ms": 5.188, "num_steps_sampled": 6373804, "grad_time_ms": 10382.712}, "timesteps_since_restore": 6373804, "time_total_s": 4801.854370594025, "num_metric_batches_dropped": 0, "timestamp": 1558311301, "training_iteration": 140, "timesteps_this_iter": 41491, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4801.854370594025, "episodes_total": 4722, "iterations_since_restore": 140, "episode_reward_min": 561.9417464303075, "episodes_this_iter": 32, "episode_len_mean": 698.44, "done": false, "episode_reward_max": 754.9289720334564, "custom_metrics": {"cost2_mean": -32.58903202193147, "system_level_velocity_min": 14.262144940453732, "cost2_min": -48.13869170799284, "system_level_velocity_mean": 16.944071888853575, "cost1_min": 332.5003765290049, "cost1_mean": 424.20822926935756, "cost1_max": 458.3988338925888, "outflow_rate_max": 983.913266356629, "system_level_velocity_max": 18.530728152454934, "outflow_rate_min": 790.162469528212, "cost2_max": -22.409283918761687, "outflow_rate_mean": 896.7998671153454}, "node_ip": "10.138.0.2", "timesteps_total": 6373804}
{"hostname": "flow-main", "episode_reward_mean": 699.9305355243185, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02cc0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.821523666381836, "date": "2019-05-20_00-15-32", "info": {"sample_time_ms": 20832.889, "update_time_ms": 8.253, "default": {"entropy": 1.682324767112732, "vf_explained_var": 0.2832701504230499, "vf_loss": 43.612098693847656, "kl": 0.013723494485020638, "policy_loss": -0.009007998742163181, "total_loss": 43.607723236083984, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6415299, "load_time_ms": 5.345, "num_steps_sampled": 6415299, "grad_time_ms": 10533.074}, "timesteps_since_restore": 6415299, "time_total_s": 4832.6758942604065, "num_metric_batches_dropped": 0, "timestamp": 1558311332, "training_iteration": 141, "timesteps_this_iter": 41495, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4832.6758942604065, "episodes_total": 4757, "iterations_since_restore": 141, "episode_reward_min": 473.22003721923943, "episodes_this_iter": 35, "episode_len_mean": 695.98, "done": false, "episode_reward_max": 744.8681389695148, "custom_metrics": {"cost2_mean": -32.59788063791512, "system_level_velocity_min": 14.73064254230971, "cost2_min": -50.08336152928651, "system_level_velocity_mean": 16.975742521264078, "cost1_min": 282.64473602758983, "cost1_mean": 422.7507428585616, "cost1_max": 460.22622769533166, "outflow_rate_max": 983.913266356629, "system_level_velocity_max": 18.69217792507204, "outflow_rate_min": 790.162469528212, "cost2_max": -22.409283918761687, "outflow_rate_mean": 886.6892335774027}, "node_ip": "10.138.0.2", "timesteps_total": 6415299}
{"hostname": "flow-main", "episode_reward_mean": 693.8825624419113, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.869832277297974, "date": "2019-05-20_00-16-02", "info": {"sample_time_ms": 20611.431, "update_time_ms": 8.498, "default": {"entropy": 1.6756837368011475, "vf_explained_var": 0.27292683720588684, "vf_loss": 42.78086471557617, "kl": 0.013786345720291138, "policy_loss": -0.009206405840814114, "total_loss": 42.77631378173828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6456763, "load_time_ms": 5.57, "num_steps_sampled": 6456763, "grad_time_ms": 10488.395}, "timesteps_since_restore": 6456763, "time_total_s": 4862.5457265377045, "num_metric_batches_dropped": 0, "timestamp": 1558311362, "training_iteration": 142, "timesteps_this_iter": 41464, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4862.5457265377045, "episodes_total": 4792, "iterations_since_restore": 142, "episode_reward_min": 55.263300266569814, "episodes_this_iter": 35, "episode_len_mean": 690.91, "done": false, "episode_reward_max": 744.8681389695148, "custom_metrics": {"cost2_mean": -32.25065236353542, "system_level_velocity_min": 13.937003749820494, "cost2_min": -50.08336152928651, "system_level_velocity_mean": 16.918860696114734, "cost1_min": 24.344080229229572, "cost1_mean": 417.86256807660516, "cost1_max": 460.22622769533166, "outflow_rate_max": 983.913266356629, "system_level_velocity_max": 18.69217792507204, "outflow_rate_min": 503.25581167508534, "cost2_max": -17.255785881734667, "outflow_rate_mean": 877.4652287222458}, "node_ip": "10.138.0.2", "timesteps_total": 6456763}
{"hostname": "flow-main", "episode_reward_mean": 691.1772560075692, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.42887258529663, "date": "2019-05-20_00-16-32", "info": {"sample_time_ms": 20661.226, "update_time_ms": 8.551, "default": {"entropy": 1.6810216903686523, "vf_explained_var": 0.2708829939365387, "vf_loss": 39.477901458740234, "kl": 0.0141441710293293, "policy_loss": -0.008497098460793495, "total_loss": 39.47418212890625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.3375000059604645}, "num_steps_trained": 6497653, "load_time_ms": 5.599, "num_steps_sampled": 6497653, "grad_time_ms": 10358.1}, "timesteps_since_restore": 6497653, "time_total_s": 4892.974599123001, "num_metric_batches_dropped": 0, "timestamp": 1558311392, "training_iteration": 143, "timesteps_this_iter": 40890, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4892.974599123001, "episodes_total": 4824, "iterations_since_restore": 143, "episode_reward_min": 55.263300266569814, "episodes_this_iter": 32, "episode_len_mean": 688.45, "done": false, "episode_reward_max": 748.1567390877443, "custom_metrics": {"cost2_mean": -32.55462416302205, "system_level_velocity_min": 13.937003749820494, "cost2_min": -50.08336152928651, "system_level_velocity_mean": 16.942086642215237, "cost1_min": 24.344080229229572, "cost1_mean": 417.02553076502886, "cost1_max": 467.944323208344, "outflow_rate_max": 968.0541472583739, "system_level_velocity_max": 18.843442529401663, "outflow_rate_min": 503.25581167508534, "cost2_max": -17.255785881734667, "outflow_rate_mean": 874.1639412912597}, "node_ip": "10.138.0.2", "timesteps_total": 6497653}
{"hostname": "flow-main", "episode_reward_mean": 678.1842505610178, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c88>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.89346194267273, "date": "2019-05-20_00-17-03", "info": {"sample_time_ms": 20559.504, "update_time_ms": 8.336, "default": {"entropy": 1.6966761350631714, "vf_explained_var": 0.2518078684806824, "vf_loss": 44.04636001586914, "kl": 0.01461740117520094, "policy_loss": -0.009856272488832474, "total_loss": 44.041439056396484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.3375000059604645}, "num_steps_trained": 6538606, "load_time_ms": 5.291, "num_steps_sampled": 6538606, "grad_time_ms": 10438.866}, "timesteps_since_restore": 6538606, "time_total_s": 4923.868061065674, "num_metric_batches_dropped": 0, "timestamp": 1558311423, "training_iteration": 144, "timesteps_this_iter": 40953, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4923.868061065674, "episodes_total": 4861, "iterations_since_restore": 144, "episode_reward_min": 36.523234222829245, "episodes_this_iter": 37, "episode_len_mean": 676.55, "done": false, "episode_reward_max": 765.3604491778311, "custom_metrics": {"cost2_mean": -32.383819706664845, "system_level_velocity_min": 13.937003749820494, "cost2_min": -47.947078258827894, "system_level_velocity_mean": 17.021878458139078, "cost1_min": 15.32770437752054, "cost1_mean": 411.8946602099415, "cost1_max": 467.944323208344, "outflow_rate_max": 968.0541472583739, "system_level_velocity_max": 18.843442529401663, "outflow_rate_min": 477.8054575421641, "cost2_max": -14.038809986846593, "outflow_rate_mean": 872.2892049692898}, "node_ip": "10.138.0.2", "timesteps_total": 6538606}
{"hostname": "flow-main", "episode_reward_mean": 677.9927372857687, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a80f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.412278413772583, "date": "2019-05-20_00-17-35", "info": {"sample_time_ms": 20626.846, "update_time_ms": 8.104, "default": {"entropy": 1.714617371559143, "vf_explained_var": 0.2263382375240326, "vf_loss": 49.57856750488281, "kl": 0.014354282058775425, "policy_loss": -0.010325067676603794, "total_loss": 49.573089599609375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 6579298, "load_time_ms": 5.281, "num_steps_sampled": 6579298, "grad_time_ms": 10282.754}, "timesteps_since_restore": 6579298, "time_total_s": 4955.280339479446, "num_metric_batches_dropped": 0, "timestamp": 1558311455, "training_iteration": 145, "timesteps_this_iter": 40692, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4955.280339479446, "episodes_total": 4898, "iterations_since_restore": 145, "episode_reward_min": 36.523234222829245, "episodes_this_iter": 37, "episode_len_mean": 677.27, "done": false, "episode_reward_max": 765.3604491778311, "custom_metrics": {"cost2_mean": -32.36731611951427, "system_level_velocity_min": 15.040970897655942, "cost2_min": -47.947078258827894, "system_level_velocity_mean": 17.16668948583287, "cost1_min": 15.32770437752054, "cost1_mean": 416.03717037484853, "cost1_max": 467.944323208344, "outflow_rate_max": 942.8523817327215, "system_level_velocity_max": 18.843442529401663, "outflow_rate_min": 477.8054575421641, "cost2_max": -14.038809986846593, "outflow_rate_mean": 877.4341309409251}, "node_ip": "10.138.0.2", "timesteps_total": 6579298}
{"hostname": "flow-main", "episode_reward_mean": 678.7354053732801, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898240>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.694005250930786, "date": "2019-05-20_00-18-05", "info": {"sample_time_ms": 20737.637, "update_time_ms": 8.402, "default": {"entropy": 1.7144016027450562, "vf_explained_var": 0.2502303719520569, "vf_loss": 37.92631530761719, "kl": 0.01377820037305355, "policy_loss": -0.009453806094825268, "total_loss": 37.92151641845703, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6620310, "load_time_ms": 5.363, "num_steps_sampled": 6620310, "grad_time_ms": 10262.097}, "timesteps_since_restore": 6620310, "time_total_s": 4985.974344730377, "num_metric_batches_dropped": 0, "timestamp": 1558311485, "training_iteration": 146, "timesteps_this_iter": 41012, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 4985.974344730377, "episodes_total": 4932, "iterations_since_restore": 146, "episode_reward_min": 215.01775065103215, "episodes_this_iter": 34, "episode_len_mean": 677.93, "done": false, "episode_reward_max": 765.3604491778311, "custom_metrics": {"cost2_mean": -31.587310461852606, "system_level_velocity_min": 14.810016985150327, "cost2_min": -47.947078258827894, "system_level_velocity_mean": 17.178359030909604, "cost1_min": 115.12301108724657, "cost1_mean": 416.1803515781823, "cost1_max": 464.1994138052646, "outflow_rate_max": 948.9486158077822, "system_level_velocity_max": 18.824703118572227, "outflow_rate_min": 729.8124602505101, "cost2_max": -18.89368901922251, "outflow_rate_mean": 878.4479085658271}, "node_ip": "10.138.0.2", "timesteps_total": 6620310}
{"hostname": "flow-main", "episode_reward_mean": 678.0506867464068, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897860>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.532755374908447, "date": "2019-05-20_00-18-36", "info": {"sample_time_ms": 20465.615, "update_time_ms": 8.433, "default": {"entropy": 1.7077574729919434, "vf_explained_var": 0.25913161039352417, "vf_loss": 40.813262939453125, "kl": 0.014026735909283161, "policy_loss": -0.00945460144430399, "total_loss": 40.80854415893555, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6661797, "load_time_ms": 5.298, "num_steps_sampled": 6661797, "grad_time_ms": 10245.191}, "timesteps_since_restore": 6661797, "time_total_s": 5016.507100105286, "num_metric_batches_dropped": 0, "timestamp": 1558311516, "training_iteration": 147, "timesteps_this_iter": 41487, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5016.507100105286, "episodes_total": 4969, "iterations_since_restore": 147, "episode_reward_min": 215.01775065103215, "episodes_this_iter": 37, "episode_len_mean": 679.09, "done": false, "episode_reward_max": 757.2460386113692, "custom_metrics": {"cost2_mean": -31.77203107045247, "system_level_velocity_min": 14.629177513167145, "cost2_min": -48.34004113736356, "system_level_velocity_mean": 17.049131920976222, "cost1_min": 115.12301108724657, "cost1_mean": 413.7523599713366, "cost1_max": 461.3633250089493, "outflow_rate_max": 948.9486158077822, "system_level_velocity_max": 18.824703118572227, "outflow_rate_min": 738.0850700420187, "cost2_max": -18.89368901922251, "outflow_rate_mean": 871.7453865094415}, "node_ip": "10.138.0.2", "timesteps_total": 6661797}
{"hostname": "flow-main", "episode_reward_mean": 685.9022898849087, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02438>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.694135427474976, "date": "2019-05-20_00-19-08", "info": {"sample_time_ms": 20519.948, "update_time_ms": 8.439, "default": {"entropy": 1.7180336713790894, "vf_explained_var": 0.28438258171081543, "vf_loss": 38.670249938964844, "kl": 0.015299980528652668, "policy_loss": -0.010971280746161938, "total_loss": 38.6644401550293, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 6703017, "load_time_ms": 5.388, "num_steps_sampled": 6703017, "grad_time_ms": 10148.004}, "timesteps_since_restore": 6703017, "time_total_s": 5048.201235532761, "num_metric_batches_dropped": 0, "timestamp": 1558311548, "training_iteration": 148, "timesteps_this_iter": 41220, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5048.201235532761, "episodes_total": 5004, "iterations_since_restore": 148, "episode_reward_min": 215.01775065103215, "episodes_this_iter": 35, "episode_len_mean": 685.0, "done": false, "episode_reward_max": 757.2460386113692, "custom_metrics": {"cost2_mean": -30.976634215877358, "system_level_velocity_min": 13.815619502225404, "cost2_min": -48.34004113736356, "system_level_velocity_mean": 17.07707373432245, "cost1_min": 115.12301108724657, "cost1_mean": 417.6794898382988, "cost1_max": 456.15924045590555, "outflow_rate_max": 948.9486158077822, "system_level_velocity_max": 18.62876193212397, "outflow_rate_min": 738.0850700420187, "cost2_max": -18.89368901922251, "outflow_rate_mean": 869.2915399567928}, "node_ip": "10.138.0.2", "timesteps_total": 6703017}
{"hostname": "flow-main", "episode_reward_mean": 690.5691276421833, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a82e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4a8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.213184356689453, "date": "2019-05-20_00-19-36", "info": {"sample_time_ms": 20392.057, "update_time_ms": 8.351, "default": {"entropy": 1.7258007526397705, "vf_explained_var": 0.25381460785865784, "vf_loss": 38.908023834228516, "kl": 0.012761076912283897, "policy_loss": -0.010015842504799366, "total_loss": 38.902320861816406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.3375000059604645}, "num_steps_trained": 6743897, "load_time_ms": 5.693, "num_steps_sampled": 6743897, "grad_time_ms": 10103.629}, "timesteps_since_restore": 6743897, "time_total_s": 5076.41441988945, "num_metric_batches_dropped": 0, "timestamp": 1558311576, "training_iteration": 149, "timesteps_this_iter": 40880, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5076.41441988945, "episodes_total": 5036, "iterations_since_restore": 149, "episode_reward_min": 394.56601520964733, "episodes_this_iter": 32, "episode_len_mean": 692.77, "done": false, "episode_reward_max": 750.79417624452, "custom_metrics": {"cost2_mean": -30.77358958366582, "system_level_velocity_min": 13.498757326434589, "cost2_min": -48.34004113736356, "system_level_velocity_mean": 16.997284106707987, "cost1_min": 232.10156620080886, "cost1_mean": 420.53474587033145, "cost1_max": 467.7947413827853, "outflow_rate_max": 941.4648116993096, "system_level_velocity_max": 18.92686645608746, "outflow_rate_min": 788.3164665983722, "cost2_max": -19.3382025486195, "outflow_rate_mean": 864.8204077805614}, "node_ip": "10.138.0.2", "timesteps_total": 6743897}
{"hostname": "flow-main", "episode_reward_mean": 681.2789695043051, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d021d0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.601059198379517, "date": "2019-05-20_00-20-06", "info": {"sample_time_ms": 20281.429, "update_time_ms": 8.076, "default": {"entropy": 1.730697512626648, "vf_explained_var": 0.23612341284751892, "vf_loss": 46.13761520385742, "kl": 0.014157081954181194, "policy_loss": -0.010183310136198997, "total_loss": 46.132205963134766, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 6785143, "load_time_ms": 5.679, "num_steps_sampled": 6785143, "grad_time_ms": 10037.386}, "timesteps_since_restore": 6785143, "time_total_s": 5106.01547908783, "num_metric_batches_dropped": 0, "timestamp": 1558311606, "training_iteration": 150, "timesteps_this_iter": 41246, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5106.01547908783, "episodes_total": 5072, "iterations_since_restore": 150, "episode_reward_min": 52.92562939987992, "episodes_this_iter": 36, "episode_len_mean": 684.41, "done": false, "episode_reward_max": 750.79417624452, "custom_metrics": {"cost2_mean": -30.528821554859142, "system_level_velocity_min": 13.498757326434589, "cost2_min": -45.87974162167171, "system_level_velocity_mean": 16.980563469115612, "cost1_min": 25.393701051030185, "cost1_mean": 415.235392262632, "cost1_max": 467.7947413827853, "outflow_rate_max": 945.6614911121653, "system_level_velocity_max": 18.952012453281302, "outflow_rate_min": 518.5387498067938, "cost2_max": -16.784881400737316, "outflow_rate_mean": 858.744492928348}, "node_ip": "10.138.0.2", "timesteps_total": 6785143}
{"hostname": "flow-main", "episode_reward_mean": 669.1218193012315, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028975c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897550>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.262114763259888, "date": "2019-05-20_00-20-37", "info": {"sample_time_ms": 20476.88, "update_time_ms": 8.121, "default": {"entropy": 1.7413368225097656, "vf_explained_var": 0.2214786857366562, "vf_loss": 45.950950622558594, "kl": 0.014787486754357815, "policy_loss": -0.011356296949088573, "total_loss": 45.94458770751953, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6825884, "load_time_ms": 5.827, "num_steps_sampled": 6825884, "grad_time_ms": 9886.679}, "timesteps_since_restore": 6825884, "time_total_s": 5137.2775938510895, "num_metric_batches_dropped": 0, "timestamp": 1558311637, "training_iteration": 151, "timesteps_this_iter": 40741, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5137.2775938510895, "episodes_total": 5109, "iterations_since_restore": 151, "episode_reward_min": 50.968208399525224, "episodes_this_iter": 37, "episode_len_mean": 677.72, "done": false, "episode_reward_max": 734.0503591869042, "custom_metrics": {"cost2_mean": -30.694825150236046, "system_level_velocity_min": 13.498757326434589, "cost2_min": -46.02844225101559, "system_level_velocity_mean": 16.787706374729158, "cost1_min": 22.66453629928735, "cost1_mean": 406.33724934376994, "cost1_max": 467.7947413827853, "outflow_rate_max": 945.6614911121653, "system_level_velocity_max": 18.952012453281302, "outflow_rate_min": 502.84020309931793, "cost2_max": -16.291179895383824, "outflow_rate_mean": 851.1484307018086}, "node_ip": "10.138.0.2", "timesteps_total": 6825884}
{"hostname": "flow-main", "episode_reward_mean": 669.2810924956657, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.779317617416382, "date": "2019-05-20_00-21-07", "info": {"sample_time_ms": 20345.991, "update_time_ms": 8.17, "default": {"entropy": 1.7369381189346313, "vf_explained_var": 0.21462319791316986, "vf_loss": 42.445289611816406, "kl": 0.014958962798118591, "policy_loss": -0.011231140233576298, "total_loss": 42.43910217285156, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.3375000059604645}, "num_steps_trained": 6866822, "load_time_ms": 5.702, "num_steps_sampled": 6866822, "grad_time_ms": 10007.998}, "timesteps_since_restore": 6866822, "time_total_s": 5167.056911468506, "num_metric_batches_dropped": 0, "timestamp": 1558311667, "training_iteration": 152, "timesteps_this_iter": 40938, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5167.056911468506, "episodes_total": 5143, "iterations_since_restore": 152, "episode_reward_min": 50.968208399525224, "episodes_this_iter": 34, "episode_len_mean": 679.45, "done": false, "episode_reward_max": 734.0503591869042, "custom_metrics": {"cost2_mean": -30.087745773640414, "system_level_velocity_min": 14.182259115465678, "cost2_min": -46.02844225101559, "system_level_velocity_mean": 16.838149581934204, "cost1_min": 22.66453629928735, "cost1_mean": 408.7150724174028, "cost1_max": 461.7930885832253, "outflow_rate_max": 945.6614911121653, "system_level_velocity_max": 18.952012453281302, "outflow_rate_min": 502.84020309931793, "cost2_max": -16.291179895383824, "outflow_rate_mean": 852.7896418148844}, "node_ip": "10.138.0.2", "timesteps_total": 6866822}
{"hostname": "flow-main", "episode_reward_mean": 683.0034639303475, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028985f8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.993621110916138, "date": "2019-05-20_00-21-36", "info": {"sample_time_ms": 20267.582, "update_time_ms": 8.209, "default": {"entropy": 1.739506483078003, "vf_explained_var": 0.1875324696302414, "vf_loss": 41.01616287231445, "kl": 0.017638489603996277, "policy_loss": -0.009520157240331173, "total_loss": 41.012596130371094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6907889, "load_time_ms": 5.796, "num_steps_sampled": 6907889, "grad_time_ms": 9943.369}, "timesteps_since_restore": 6907889, "time_total_s": 5196.050532579422, "num_metric_batches_dropped": 0, "timestamp": 1558311696, "training_iteration": 153, "timesteps_this_iter": 41067, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5196.050532579422, "episodes_total": 5176, "iterations_since_restore": 153, "episode_reward_min": 50.968208399525224, "episodes_this_iter": 33, "episode_len_mean": 693.11, "done": false, "episode_reward_max": 735.6698985321499, "custom_metrics": {"cost2_mean": -30.354417444271547, "system_level_velocity_min": 14.338732156663427, "cost2_min": -46.02844225101559, "system_level_velocity_mean": 16.741547622804326, "cost1_min": 22.66453629928735, "cost1_mean": 414.82080752883763, "cost1_max": 456.89623120361756, "outflow_rate_max": 931.0651742746691, "system_level_velocity_max": 18.356805962165637, "outflow_rate_min": 502.84020309931793, "cost2_max": -16.291179895383824, "outflow_rate_mean": 857.871151206427}, "node_ip": "10.138.0.2", "timesteps_total": 6907889}
{"hostname": "flow-main", "episode_reward_mean": 689.2821852525968, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8cf8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.31860089302063, "date": "2019-05-20_00-22-07", "info": {"sample_time_ms": 20449.973, "update_time_ms": 8.346, "default": {"entropy": 1.746906042098999, "vf_explained_var": 0.25130680203437805, "vf_loss": 38.8014030456543, "kl": 0.015410730615258217, "policy_loss": -0.013159193098545074, "total_loss": 38.7934455871582, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6949477, "load_time_ms": 6.247, "num_steps_sampled": 6949477, "grad_time_ms": 9800.544}, "timesteps_since_restore": 6949477, "time_total_s": 5227.369133472443, "num_metric_batches_dropped": 0, "timestamp": 1558311727, "training_iteration": 154, "timesteps_this_iter": 41588, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5227.369133472443, "episodes_total": 5209, "iterations_since_restore": 154, "episode_reward_min": 594.8510331490926, "episodes_this_iter": 33, "episode_len_mean": 698.74, "done": false, "episode_reward_max": 735.6698985321499, "custom_metrics": {"cost2_mean": -30.499288731068795, "system_level_velocity_min": 14.411910143809958, "cost2_min": -46.29008997085452, "system_level_velocity_mean": 16.750355921061296, "cost1_min": 346.7407959388892, "cost1_mean": 419.5968706269055, "cost1_max": 460.60836147496343, "outflow_rate_max": 931.0651742746691, "system_level_velocity_max": 18.391729654908705, "outflow_rate_min": 782.2374329958049, "cost2_max": -18.636551613950324, "outflow_rate_mean": 862.1386191674333}, "node_ip": "10.138.0.2", "timesteps_total": 6949477}
{"hostname": "flow-main", "episode_reward_mean": 689.435637967122, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028985c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.631476163864136, "date": "2019-05-20_00-22-39", "info": {"sample_time_ms": 20355.73, "update_time_ms": 8.338, "default": {"entropy": 1.755383849143982, "vf_explained_var": 0.23125994205474854, "vf_loss": 41.093936920166016, "kl": 0.01567293331027031, "policy_loss": -0.012657823041081429, "total_loss": 41.08656311035156, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 6991036, "load_time_ms": 6.108, "num_steps_sampled": 6991036, "grad_time_ms": 9917.075}, "timesteps_since_restore": 6991036, "time_total_s": 5259.000609636307, "num_metric_batches_dropped": 0, "timestamp": 1558311759, "training_iteration": 155, "timesteps_this_iter": 41559, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5259.000609636307, "episodes_total": 5246, "iterations_since_restore": 155, "episode_reward_min": 489.2212637442243, "episodes_this_iter": 37, "episode_len_mean": 694.87, "done": false, "episode_reward_max": 735.6698985321499, "custom_metrics": {"cost2_mean": -30.352425365547685, "system_level_velocity_min": 14.011834313316287, "cost2_min": -47.71325609784854, "system_level_velocity_mean": 16.71504327708137, "cost1_min": 289.83191754790687, "cost1_mean": 416.53421069600546, "cost1_max": 460.60836147496343, "outflow_rate_max": 938.2382326343218, "system_level_velocity_max": 18.391729654908705, "outflow_rate_min": 785.5124404704071, "cost2_max": -18.636551613950324, "outflow_rate_mean": 860.3796245376278}, "node_ip": "10.138.0.2", "timesteps_total": 6991036}
{"hostname": "flow-main", "episode_reward_mean": 676.7924487834301, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.939371347427368, "date": "2019-05-20_00-23-11", "info": {"sample_time_ms": 20380.39, "update_time_ms": 8.244, "default": {"entropy": 1.7691633701324463, "vf_explained_var": 0.18900540471076965, "vf_loss": 45.08356475830078, "kl": 0.01664850488305092, "policy_loss": -0.012502412311732769, "total_loss": 45.076683044433594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7032640, "load_time_ms": 6.221, "num_steps_sampled": 7032640, "grad_time_ms": 10016.626}, "timesteps_since_restore": 7032640, "time_total_s": 5290.939980983734, "num_metric_batches_dropped": 0, "timestamp": 1558311791, "training_iteration": 156, "timesteps_this_iter": 41604, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5290.939980983734, "episodes_total": 5283, "iterations_since_restore": 156, "episode_reward_min": 76.56289677800189, "episodes_this_iter": 37, "episode_len_mean": 684.2, "done": false, "episode_reward_max": 743.3521719206245, "custom_metrics": {"cost2_mean": -29.692300089948347, "system_level_velocity_min": 13.212565587136005, "cost2_min": -47.71325609784854, "system_level_velocity_mean": 16.537379839197243, "cost1_min": 33.118836265735204, "cost1_mean": 406.2697757215148, "cost1_max": 460.60836147496343, "outflow_rate_max": 938.2382326343218, "system_level_velocity_max": 18.391729654908705, "outflow_rate_min": 509.7052517689091, "cost2_max": -18.113833555485016, "outflow_rate_mean": 849.2210446518975}, "node_ip": "10.138.0.2", "timesteps_total": 7032640}
{"hostname": "flow-main", "episode_reward_mean": 671.5020996263987, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897518>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.866605043411255, "date": "2019-05-20_00-23-42", "info": {"sample_time_ms": 20413.101, "update_time_ms": 8.133, "default": {"entropy": 1.7826814651489258, "vf_explained_var": 0.20550985634326935, "vf_loss": 41.81317901611328, "kl": 0.01595478318631649, "policy_loss": -0.011492567136883736, "total_loss": 41.807071685791016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7074525, "load_time_ms": 6.155, "num_steps_sampled": 7074525, "grad_time_ms": 10018.533}, "timesteps_since_restore": 7074525, "time_total_s": 5321.806586027145, "num_metric_batches_dropped": 0, "timestamp": 1558311822, "training_iteration": 157, "timesteps_this_iter": 41885, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5321.806586027145, "episodes_total": 5318, "iterations_since_restore": 157, "episode_reward_min": 76.56289677800189, "episodes_this_iter": 35, "episode_len_mean": 679.96, "done": false, "episode_reward_max": 743.3521719206245, "custom_metrics": {"cost2_mean": -28.96570421138357, "system_level_velocity_min": 13.212565587136005, "cost2_min": -47.71325609784854, "system_level_velocity_mean": 16.39649994562096, "cost1_min": 33.118836265735204, "cost1_mean": 400.98481540009607, "cost1_max": 456.1202430752869, "outflow_rate_max": 938.2382326343218, "system_level_velocity_max": 18.354117398528814, "outflow_rate_min": 509.7052517689091, "cost2_max": -18.113833555485016, "outflow_rate_mean": 844.9734771678877}, "node_ip": "10.138.0.2", "timesteps_total": 7074525}
{"hostname": "flow-main", "episode_reward_mean": 671.2129427262282, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028989e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b70>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.296712398529053, "date": "2019-05-20_00-24-13", "info": {"sample_time_ms": 20351.755, "update_time_ms": 8.172, "default": {"entropy": 1.8052055835723877, "vf_explained_var": 0.20631109178066254, "vf_loss": 42.105003356933594, "kl": 0.015630554407835007, "policy_loss": -0.011928088963031769, "total_loss": 42.09835433959961, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7116088, "load_time_ms": 6.094, "num_steps_sampled": 7116088, "grad_time_ms": 10040.341}, "timesteps_since_restore": 7116088, "time_total_s": 5353.103298425674, "num_metric_batches_dropped": 0, "timestamp": 1558311853, "training_iteration": 158, "timesteps_this_iter": 41563, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5353.103298425674, "episodes_total": 5352, "iterations_since_restore": 158, "episode_reward_min": 76.56289677800189, "episodes_this_iter": 34, "episode_len_mean": 683.06, "done": false, "episode_reward_max": 732.3007118451911, "custom_metrics": {"cost2_mean": -28.5064855799101, "system_level_velocity_min": 13.212565587136005, "cost2_min": -43.03510633758861, "system_level_velocity_mean": 16.325868400144966, "cost1_min": 33.118836265735204, "cost1_mean": 402.2630765700159, "cost1_max": 456.1202430752869, "outflow_rate_max": 930.8800714285318, "system_level_velocity_max": 18.354117398528814, "outflow_rate_min": 509.7052517689091, "cost2_max": -18.113833555485016, "outflow_rate_mean": 847.0243721861543}, "node_ip": "10.138.0.2", "timesteps_total": 7116088}
{"hostname": "flow-main", "episode_reward_mean": 677.1132900334138, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028983c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898438>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.39013957977295, "date": "2019-05-20_00-24-43", "info": {"sample_time_ms": 20536.508, "update_time_ms": 8.205, "default": {"entropy": 1.7800636291503906, "vf_explained_var": 0.16187052428722382, "vf_loss": 43.3355712890625, "kl": 0.015112782828509808, "policy_loss": -0.010618030093610287, "total_loss": 43.330055236816406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7157128, "load_time_ms": 6.081, "num_steps_sampled": 7157128, "grad_time_ms": 10073.19}, "timesteps_since_restore": 7157128, "time_total_s": 5383.493438005447, "num_metric_batches_dropped": 0, "timestamp": 1558311883, "training_iteration": 159, "timesteps_this_iter": 41040, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5383.493438005447, "episodes_total": 5387, "iterations_since_restore": 159, "episode_reward_min": 214.64555438949898, "episodes_this_iter": 35, "episode_len_mean": 688.89, "done": false, "episode_reward_max": 733.4150649872832, "custom_metrics": {"cost2_mean": -28.70838792522332, "system_level_velocity_min": 14.163648478371261, "cost2_min": -43.03510633758861, "system_level_velocity_mean": 16.447288345555556, "cost1_min": 124.76126793556458, "cost1_mean": 408.376400222029, "cost1_max": 455.2047948050573, "outflow_rate_max": 930.8800714285318, "system_level_velocity_max": 18.214301201551933, "outflow_rate_min": 689.9257352051908, "cost2_max": -18.236751447397985, "outflow_rate_mean": 854.7759504318475}, "node_ip": "10.138.0.2", "timesteps_total": 7157128}
{"hostname": "flow-main", "episode_reward_mean": 681.0065980010548, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8fd0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.356475591659546, "date": "2019-05-20_00-25-14", "info": {"sample_time_ms": 20465.64, "update_time_ms": 8.408, "default": {"entropy": 1.792618989944458, "vf_explained_var": 0.21029803156852722, "vf_loss": 39.88446807861328, "kl": 0.015314009971916676, "policy_loss": -0.012707449495792389, "total_loss": 39.876930236816406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7199024, "load_time_ms": 6.057, "num_steps_sampled": 7199024, "grad_time_ms": 10218.826}, "timesteps_since_restore": 7199024, "time_total_s": 5413.849913597107, "num_metric_batches_dropped": 0, "timestamp": 1558311914, "training_iteration": 160, "timesteps_this_iter": 41896, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5413.849913597107, "episodes_total": 5421, "iterations_since_restore": 160, "episode_reward_min": 214.64555438949898, "episodes_this_iter": 34, "episode_len_mean": 692.28, "done": false, "episode_reward_max": 733.4150649872832, "custom_metrics": {"cost2_mean": -28.970182100495382, "system_level_velocity_min": 14.247371736036229, "cost2_min": -43.03510633758861, "system_level_velocity_mean": 16.55373539225815, "cost1_min": 124.76126793556458, "cost1_mean": 412.34018595314745, "cost1_max": 455.2047948050573, "outflow_rate_max": 941.010530194448, "system_level_velocity_max": 18.214301201551933, "outflow_rate_min": 701.7328637234546, "cost2_max": -18.70879618850239, "outflow_rate_mean": 859.7666871855832}, "node_ip": "10.138.0.2", "timesteps_total": 7199024}
{"hostname": "flow-main", "episode_reward_mean": 680.0474306854676, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898da0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.36846089363098, "date": "2019-05-20_00-25-42", "info": {"sample_time_ms": 20143.314, "update_time_ms": 8.527, "default": {"entropy": 1.8063980340957642, "vf_explained_var": 0.18509171903133392, "vf_loss": 39.283634185791016, "kl": 0.015991341322660446, "policy_loss": -0.012578802183270454, "total_loss": 39.27645492553711, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7240478, "load_time_ms": 6.226, "num_steps_sampled": 7240478, "grad_time_ms": 10250.729}, "timesteps_since_restore": 7240478, "time_total_s": 5442.218374490738, "num_metric_batches_dropped": 0, "timestamp": 1558311942, "training_iteration": 161, "timesteps_this_iter": 41454, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5442.218374490738, "episodes_total": 5454, "iterations_since_restore": 161, "episode_reward_min": 214.64555438949898, "episodes_this_iter": 33, "episode_len_mean": 693.25, "done": false, "episode_reward_max": 733.4150649872832, "custom_metrics": {"cost2_mean": -28.77998054267879, "system_level_velocity_min": 14.083835757955592, "cost2_min": -43.76462118373512, "system_level_velocity_mean": 16.497738065290534, "cost1_min": 124.76126793556458, "cost1_mean": 410.8704514344607, "cost1_max": 455.00630358898894, "outflow_rate_max": 941.010530194448, "system_level_velocity_max": 18.214301201551933, "outflow_rate_min": 701.7328637234546, "cost2_max": -18.70879618850239, "outflow_rate_mean": 853.8435134553273}, "node_ip": "10.138.0.2", "timesteps_total": 7240478}
{"hostname": "flow-main", "episode_reward_mean": 681.1218089382127, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028972b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.547090768814087, "date": "2019-05-20_00-26-14", "info": {"sample_time_ms": 20350.366, "update_time_ms": 8.444, "default": {"entropy": 1.8031278848648071, "vf_explained_var": 0.18085740506649017, "vf_loss": 41.92079544067383, "kl": 0.01602141559123993, "policy_loss": -0.01328002568334341, "total_loss": 41.91292190551758, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7282391, "load_time_ms": 6.058, "num_steps_sampled": 7282391, "grad_time_ms": 10222.063}, "timesteps_since_restore": 7282391, "time_total_s": 5473.765465259552, "num_metric_batches_dropped": 0, "timestamp": 1558311974, "training_iteration": 162, "timesteps_this_iter": 41913, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5473.765465259552, "episodes_total": 5490, "iterations_since_restore": 162, "episode_reward_min": 482.0318160107762, "episodes_this_iter": 36, "episode_len_mean": 694.28, "done": false, "episode_reward_max": 726.2952731383597, "custom_metrics": {"cost2_mean": -28.623757838990027, "system_level_velocity_min": 13.851934417803038, "cost2_min": -43.76462118373512, "system_level_velocity_mean": 16.340866788795594, "cost1_min": 282.7551629348221, "cost1_mean": 408.51387067024064, "cost1_max": 452.87472914655723, "outflow_rate_max": 941.010530194448, "system_level_velocity_max": 18.052183504784573, "outflow_rate_min": 768.4724506754312, "cost2_max": -17.965445127056753, "outflow_rate_mean": 851.9462756104693}, "node_ip": "10.138.0.2", "timesteps_total": 7282391}
{"hostname": "flow-main", "episode_reward_mean": 683.9644503608142, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d12e10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.60038089752197, "date": "2019-05-20_00-26-46", "info": {"sample_time_ms": 20643.655, "update_time_ms": 8.418, "default": {"entropy": 1.8116823434829712, "vf_explained_var": 0.21591028571128845, "vf_loss": 38.9134521484375, "kl": 0.015568701550364494, "policy_loss": -0.010575031861662865, "total_loss": 38.90813064575195, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7324675, "load_time_ms": 5.914, "num_steps_sampled": 7324675, "grad_time_ms": 10289.935}, "timesteps_since_restore": 7324675, "time_total_s": 5506.365846157074, "num_metric_batches_dropped": 0, "timestamp": 1558312006, "training_iteration": 163, "timesteps_this_iter": 42284, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5506.365846157074, "episodes_total": 5525, "iterations_since_restore": 163, "episode_reward_min": 482.0318160107762, "episodes_this_iter": 35, "episode_len_mean": 696.15, "done": false, "episode_reward_max": 749.7316871072519, "custom_metrics": {"cost2_mean": -30.012906090387386, "system_level_velocity_min": 13.851934417803038, "cost2_min": -47.44757761526335, "system_level_velocity_mean": 16.25786246872339, "cost1_min": 282.7551629348221, "cost1_mean": 408.7442664414638, "cost1_max": 450.26382647619135, "outflow_rate_max": 942.9106741002222, "system_level_velocity_max": 18.104059436021878, "outflow_rate_min": 768.4724506754312, "cost2_max": -17.965445127056753, "outflow_rate_mean": 853.9977044960759}, "node_ip": "10.138.0.2", "timesteps_total": 7324675}
{"hostname": "flow-main", "episode_reward_mean": 684.4335424590499, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898400>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.284701824188232, "date": "2019-05-20_00-27-18", "info": {"sample_time_ms": 20469.725, "update_time_ms": 8.268, "default": {"entropy": 1.8212852478027344, "vf_explained_var": 0.17590804398059845, "vf_loss": 39.65693664550781, "kl": 0.01397362258285284, "policy_loss": -0.0103462478145957, "total_loss": 39.651309967041016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7365381, "load_time_ms": 5.863, "num_steps_sampled": 7365381, "grad_time_ms": 10461.783}, "timesteps_since_restore": 7365381, "time_total_s": 5537.650547981262, "num_metric_batches_dropped": 0, "timestamp": 1558312038, "training_iteration": 164, "timesteps_this_iter": 40706, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5537.650547981262, "episodes_total": 5559, "iterations_since_restore": 164, "episode_reward_min": 482.0318160107762, "episodes_this_iter": 34, "episode_len_mean": 692.25, "done": false, "episode_reward_max": 749.7316871072519, "custom_metrics": {"cost2_mean": -30.61601424209784, "system_level_velocity_min": 13.87380448712787, "cost2_min": -47.44757761526335, "system_level_velocity_mean": 16.24238008343912, "cost1_min": 274.4144540304133, "cost1_mean": 407.1821107676028, "cost1_max": 450.26382647619135, "outflow_rate_max": 942.9106741002222, "system_level_velocity_max": 18.104059436021878, "outflow_rate_min": 758.676901388632, "cost2_max": -17.965445127056753, "outflow_rate_mean": 855.5019493580085}, "node_ip": "10.138.0.2", "timesteps_total": 7365381}
{"hostname": "flow-main", "episode_reward_mean": 687.4618986537505, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a95c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9ac8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.199607849121094, "date": "2019-05-20_00-27-50", "info": {"sample_time_ms": 20609.318, "update_time_ms": 8.573, "default": {"entropy": 1.8394159078598022, "vf_explained_var": 0.21425530314445496, "vf_loss": 39.52643585205078, "kl": 0.01604425348341465, "policy_loss": -0.012971719726920128, "total_loss": 39.51887512207031, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.3375000059604645}, "num_steps_trained": 7406335, "load_time_ms": 6.019, "num_steps_sampled": 7406335, "grad_time_ms": 10378.824}, "timesteps_since_restore": 7406335, "time_total_s": 5569.850155830383, "num_metric_batches_dropped": 0, "timestamp": 1558312070, "training_iteration": 165, "timesteps_this_iter": 40954, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5569.850155830383, "episodes_total": 5592, "iterations_since_restore": 165, "episode_reward_min": 483.2552550236965, "episodes_this_iter": 33, "episode_len_mean": 696.1, "done": false, "episode_reward_max": 749.7316871072519, "custom_metrics": {"cost2_mean": -31.20906908270875, "system_level_velocity_min": 13.849886567997471, "cost2_min": -47.44757761526335, "system_level_velocity_mean": 16.128032870494057, "cost1_min": 274.4144540304133, "cost1_mean": 407.80916961529977, "cost1_max": 450.26382647619135, "outflow_rate_max": 942.9106741002222, "system_level_velocity_max": 18.104059436021878, "outflow_rate_min": 758.676901388632, "cost2_max": -19.914029888830406, "outflow_rate_mean": 854.2418117554798}, "node_ip": "10.138.0.2", "timesteps_total": 7406335}
{"hostname": "flow-main", "episode_reward_mean": 687.095639918602, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028973c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897908>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.79782724380493, "date": "2019-05-20_00-28-21", "info": {"sample_time_ms": 20494.949, "update_time_ms": 8.406, "default": {"entropy": 1.8447872400283813, "vf_explained_var": 0.20112890005111694, "vf_loss": 36.591251373291016, "kl": 0.01644022949039936, "policy_loss": -0.013440418057143688, "total_loss": 36.58335876464844, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7447625, "load_time_ms": 6.138, "num_steps_sampled": 7447625, "grad_time_ms": 10376.664}, "timesteps_since_restore": 7447625, "time_total_s": 5600.647983074188, "num_metric_batches_dropped": 0, "timestamp": 1558312101, "training_iteration": 166, "timesteps_this_iter": 41290, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5600.647983074188, "episodes_total": 5623, "iterations_since_restore": 166, "episode_reward_min": 483.2552550236965, "episodes_this_iter": 31, "episode_len_mean": 696.1, "done": false, "episode_reward_max": 735.1839408407229, "custom_metrics": {"cost2_mean": -29.87473526658281, "system_level_velocity_min": 13.370448103884222, "cost2_min": -45.90858966319269, "system_level_velocity_mean": 16.015689446312894, "cost1_min": 274.4144540304133, "cost1_mean": 406.05811077636713, "cost1_max": 442.95918968480123, "outflow_rate_max": 929.5653681032077, "system_level_velocity_max": 17.723221665719812, "outflow_rate_min": 727.5534282100077, "cost2_max": -16.538392611402863, "outflow_rate_mean": 851.8359266122125}, "node_ip": "10.138.0.2", "timesteps_total": 7447625}
{"hostname": "flow-main", "episode_reward_mean": 679.6666099821133, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.03002405166626, "date": "2019-05-20_00-28-52", "info": {"sample_time_ms": 20434.018, "update_time_ms": 8.338, "default": {"entropy": 1.8448705673217773, "vf_explained_var": 0.16896632313728333, "vf_loss": 41.30767059326172, "kl": 0.015999676659703255, "policy_loss": -0.014172675088047981, "total_loss": 41.29889678955078, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7488986, "load_time_ms": 6.001, "num_steps_sampled": 7488986, "grad_time_ms": 10453.788}, "timesteps_since_restore": 7488986, "time_total_s": 5631.6780071258545, "num_metric_batches_dropped": 0, "timestamp": 1558312132, "training_iteration": 167, "timesteps_this_iter": 41361, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5631.6780071258545, "episodes_total": 5659, "iterations_since_restore": 167, "episode_reward_min": 55.121025921781445, "episodes_this_iter": 36, "episode_len_mean": 693.34, "done": false, "episode_reward_max": 734.443230734389, "custom_metrics": {"cost2_mean": -29.77875889276253, "system_level_velocity_min": 13.370448103884222, "cost2_min": -43.19864694692002, "system_level_velocity_mean": 15.778015097683975, "cost1_min": 22.67320974750582, "cost1_mean": 398.5476352905232, "cost1_max": 440.70583870610506, "outflow_rate_max": 929.5653681032077, "system_level_velocity_max": 18.174528416253484, "outflow_rate_min": 497.9189889560924, "cost2_max": -14.897751694357781, "outflow_rate_mean": 844.8308721935323}, "node_ip": "10.138.0.2", "timesteps_total": 7488986}
{"hostname": "flow-main", "episode_reward_mean": 679.3045280960546, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.62987446784973, "date": "2019-05-20_00-29-24", "info": {"sample_time_ms": 20557.477, "update_time_ms": 8.658, "default": {"entropy": 1.8650026321411133, "vf_explained_var": 0.15911869704723358, "vf_loss": 37.336822509765625, "kl": 0.016322290524840355, "policy_loss": -0.013894075527787209, "total_loss": 37.328433990478516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7530706, "load_time_ms": 6.038, "num_steps_sampled": 7530706, "grad_time_ms": 10364.001}, "timesteps_since_restore": 7530706, "time_total_s": 5663.307881593704, "num_metric_batches_dropped": 0, "timestamp": 1558312164, "training_iteration": 168, "timesteps_this_iter": 41720, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5663.307881593704, "episodes_total": 5691, "iterations_since_restore": 168, "episode_reward_min": 55.121025921781445, "episodes_this_iter": 32, "episode_len_mean": 693.34, "done": false, "episode_reward_max": 731.4106192744923, "custom_metrics": {"cost2_mean": -29.26114669775322, "system_level_velocity_min": 12.045542784157977, "cost2_min": -43.19864694692002, "system_level_velocity_mean": 15.648011310992006, "cost1_min": 22.67320974750582, "cost1_mean": 395.18836945119403, "cost1_max": 440.70583870610506, "outflow_rate_max": 929.5653681032077, "system_level_velocity_max": 18.174528416253484, "outflow_rate_min": 497.9189889560924, "cost2_max": -14.897751694357781, "outflow_rate_mean": 839.3606413327957}, "node_ip": "10.138.0.2", "timesteps_total": 7530706}
{"hostname": "flow-main", "episode_reward_mean": 677.7861720844062, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a87b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897908>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.22302770614624, "date": "2019-05-20_00-29-55", "info": {"sample_time_ms": 20579.163, "update_time_ms": 8.531, "default": {"entropy": 1.8560853004455566, "vf_explained_var": 0.14555281400680542, "vf_loss": 39.38875961303711, "kl": 0.015919353812932968, "policy_loss": -0.013336103409528732, "total_loss": 39.38079833984375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7571997, "load_time_ms": 6.147, "num_steps_sampled": 7571997, "grad_time_ms": 10424.315}, "timesteps_since_restore": 7571997, "time_total_s": 5694.5309092998505, "num_metric_batches_dropped": 0, "timestamp": 1558312195, "training_iteration": 169, "timesteps_this_iter": 41291, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5694.5309092998505, "episodes_total": 5725, "iterations_since_restore": 169, "episode_reward_min": 55.121025921781445, "episodes_this_iter": 34, "episode_len_mean": 693.34, "done": false, "episode_reward_max": 731.4106192744923, "custom_metrics": {"cost2_mean": -29.457972376704898, "system_level_velocity_min": 12.045542784157977, "cost2_min": -43.19864694692002, "system_level_velocity_mean": 15.562685890471352, "cost1_min": 22.67320974750582, "cost1_mean": 392.2248364759769, "cost1_max": 439.7045278643724, "outflow_rate_max": 915.0114451353296, "system_level_velocity_max": 18.174528416253484, "outflow_rate_min": 497.9189889560924, "cost2_max": -14.897751694357781, "outflow_rate_mean": 833.3222717188454}, "node_ip": "10.138.0.2", "timesteps_total": 7571997}
{"hostname": "flow-main", "episode_reward_mean": 679.697973016241, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898080>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.275542497634888, "date": "2019-05-20_00-30-26", "info": {"sample_time_ms": 20637.397, "update_time_ms": 8.648, "default": {"entropy": 1.85295832157135, "vf_explained_var": 0.15430033206939697, "vf_loss": 36.147010803222656, "kl": 0.015380891039967537, "policy_loss": -0.012664779089391232, "total_loss": 36.1395378112793, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7613957, "load_time_ms": 5.954, "num_steps_sampled": 7613957, "grad_time_ms": 10459.422}, "timesteps_since_restore": 7613957, "time_total_s": 5725.806451797485, "num_metric_batches_dropped": 0, "timestamp": 1558312226, "training_iteration": 170, "timesteps_this_iter": 41960, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5725.806451797485, "episodes_total": 5759, "iterations_since_restore": 170, "episode_reward_min": 398.6595364198251, "episodes_this_iter": 34, "episode_len_mean": 697.42, "done": false, "episode_reward_max": 731.4106192744923, "custom_metrics": {"cost2_mean": -29.498731875529874, "system_level_velocity_min": 12.045542784157977, "cost2_min": -45.2841792362498, "system_level_velocity_mean": 15.668596868003162, "cost1_min": 223.3609623176605, "cost1_mean": 397.64553024904643, "cost1_max": 440.9199670531252, "outflow_rate_max": 915.0114451353296, "system_level_velocity_max": 17.344853533465752, "outflow_rate_min": 729.6624797786995, "cost2_max": -16.94547712867051, "outflow_rate_mean": 838.2964892891649}, "node_ip": "10.138.0.2", "timesteps_total": 7613957}
{"hostname": "flow-main", "episode_reward_mean": 678.857742758285, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a97f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9f28>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.634831428527832, "date": "2019-05-20_00-30-58", "info": {"sample_time_ms": 21059.765, "update_time_ms": 8.6, "default": {"entropy": 1.867614507675171, "vf_explained_var": 0.1785881072282791, "vf_loss": 38.35590744018555, "kl": 0.01615152508020401, "policy_loss": -0.013965914957225323, "total_loss": 38.34739685058594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7655275, "load_time_ms": 5.746, "num_steps_sampled": 7655275, "grad_time_ms": 10366.568}, "timesteps_since_restore": 7655275, "time_total_s": 5757.441283226013, "num_metric_batches_dropped": 0, "timestamp": 1558312258, "training_iteration": 171, "timesteps_this_iter": 41318, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5757.441283226013, "episodes_total": 5793, "iterations_since_restore": 171, "episode_reward_min": 398.6595364198251, "episodes_this_iter": 34, "episode_len_mean": 697.42, "done": false, "episode_reward_max": 728.4451604291153, "custom_metrics": {"cost2_mean": -29.82434747317723, "system_level_velocity_min": 13.085772890942293, "cost2_min": -45.2841792362498, "system_level_velocity_mean": 15.761830536966198, "cost1_min": 223.3609623176605, "cost1_mean": 399.32278831231946, "cost1_max": 440.9199670531252, "outflow_rate_max": 915.0114451353296, "system_level_velocity_max": 17.344853533465752, "outflow_rate_min": 729.6624797786995, "cost2_max": -16.94547712867051, "outflow_rate_mean": 840.5620806105314}, "node_ip": "10.138.0.2", "timesteps_total": 7655275}
{"hostname": "flow-main", "episode_reward_mean": 679.267445405852, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897e48>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.252175331115723, "date": "2019-05-20_00-31-28", "info": {"sample_time_ms": 20888.307, "update_time_ms": 8.312, "default": {"entropy": 1.8761709928512573, "vf_explained_var": 0.1414092481136322, "vf_loss": 39.27775955200195, "kl": 0.015134631656110287, "policy_loss": -0.013221193104982376, "total_loss": 39.26964569091797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7696815, "load_time_ms": 5.898, "num_steps_sampled": 7696815, "grad_time_ms": 10407.68}, "timesteps_since_restore": 7696815, "time_total_s": 5787.693458557129, "num_metric_batches_dropped": 0, "timestamp": 1558312288, "training_iteration": 172, "timesteps_this_iter": 41540, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5787.693458557129, "episodes_total": 5829, "iterations_since_restore": 172, "episode_reward_min": 398.6595364198251, "episodes_this_iter": 36, "episode_len_mean": 697.42, "done": false, "episode_reward_max": 728.4451604291153, "custom_metrics": {"cost2_mean": -30.33543863851027, "system_level_velocity_min": 12.059518685682779, "cost2_min": -45.2841792362498, "system_level_velocity_mean": 15.746019008230496, "cost1_min": 223.3609623176605, "cost1_mean": 399.20579900555293, "cost1_max": 440.9199670531252, "outflow_rate_max": 918.9763251206278, "system_level_velocity_max": 17.344853533465752, "outflow_rate_min": 725.0350089326591, "cost2_max": -16.94547712867051, "outflow_rate_mean": 844.6897741998187}, "node_ip": "10.138.0.2", "timesteps_total": 7696815}
{"hostname": "flow-main", "episode_reward_mean": 682.9588204205637, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8dd8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.943549156188965, "date": "2019-05-20_00-31-57", "info": {"sample_time_ms": 20757.198, "update_time_ms": 8.231, "default": {"entropy": 1.869387149810791, "vf_explained_var": 0.1470077484846115, "vf_loss": 34.241783142089844, "kl": 0.014639013446867466, "policy_loss": -0.0120164193212986, "total_loss": 34.234710693359375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7739156, "load_time_ms": 5.931, "num_steps_sampled": 7739156, "grad_time_ms": 10172.98}, "timesteps_since_restore": 7739156, "time_total_s": 5816.637007713318, "num_metric_batches_dropped": 0, "timestamp": 1558312317, "training_iteration": 173, "timesteps_this_iter": 42341, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5816.637007713318, "episodes_total": 5861, "iterations_since_restore": 173, "episode_reward_min": 624.1464528693707, "episodes_this_iter": 32, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 723.149774836576, "custom_metrics": {"cost2_mean": -30.207370903139648, "system_level_velocity_min": 12.059518685682779, "cost2_min": -45.02905137113811, "system_level_velocity_mean": 15.743897318135122, "cost1_min": 301.77848306416035, "cost1_mean": 400.1859574413287, "cost1_max": 440.7207029505424, "outflow_rate_max": 918.9763251206278, "system_level_velocity_max": 17.317728572816456, "outflow_rate_min": 725.0350089326591, "cost2_max": -19.078535794055288, "outflow_rate_mean": 845.71232988847}, "node_ip": "10.138.0.2", "timesteps_total": 7739156}
{"hostname": "flow-main", "episode_reward_mean": 683.9254367217019, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a95c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9d30>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.895567655563354, "date": "2019-05-20_00-32-30", "info": {"sample_time_ms": 20967.653, "update_time_ms": 8.211, "default": {"entropy": 1.8795795440673828, "vf_explained_var": 0.16636191308498383, "vf_loss": 36.7784423828125, "kl": 0.015194487757980824, "policy_loss": -0.0121185053139925, "total_loss": 36.771453857421875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7780164, "load_time_ms": 5.913, "num_steps_sampled": 7780164, "grad_time_ms": 10124.029}, "timesteps_since_restore": 7780164, "time_total_s": 5849.532575368881, "num_metric_batches_dropped": 0, "timestamp": 1558312350, "training_iteration": 174, "timesteps_this_iter": 41008, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5849.532575368881, "episodes_total": 5893, "iterations_since_restore": 174, "episode_reward_min": 564.7206886864255, "episodes_this_iter": 32, "episode_len_mean": 698.44, "done": false, "episode_reward_max": 733.2051693333577, "custom_metrics": {"cost2_mean": -30.101363469395892, "system_level_velocity_min": 12.059518685682779, "cost2_min": -45.02905137113811, "system_level_velocity_mean": 15.847502755417302, "cost1_min": 300.4801459540471, "cost1_mean": 401.8866624297744, "cost1_max": 436.3721064222707, "outflow_rate_max": 918.9763251206278, "system_level_velocity_max": 17.416203147567828, "outflow_rate_min": 725.0350089326591, "cost2_max": -18.463142495583888, "outflow_rate_mean": 850.1257028290103}, "node_ip": "10.138.0.2", "timesteps_total": 7780164}
{"hostname": "flow-main", "episode_reward_mean": 680.0317762085022, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf50f0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.66108775138855, "date": "2019-05-20_00-33-02", "info": {"sample_time_ms": 20734.859, "update_time_ms": 8.011, "default": {"entropy": 1.8837660551071167, "vf_explained_var": 0.1735789179801941, "vf_loss": 38.675758361816406, "kl": 0.014876930974423885, "policy_loss": -0.012770052067935467, "total_loss": 38.668006896972656, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.3375000059604645}, "num_steps_trained": 7821011, "load_time_ms": 5.961, "num_steps_sampled": 7821011, "grad_time_ms": 10302.124}, "timesteps_since_restore": 7821011, "time_total_s": 5881.19366312027, "num_metric_batches_dropped": 0, "timestamp": 1558312382, "training_iteration": 175, "timesteps_this_iter": 40847, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5881.19366312027, "episodes_total": 5926, "iterations_since_restore": 175, "episode_reward_min": 429.763803533724, "episodes_this_iter": 33, "episode_len_mean": 695.69, "done": false, "episode_reward_max": 733.2051693333577, "custom_metrics": {"cost2_mean": -29.99094452044317, "system_level_velocity_min": 13.488731654367104, "cost2_min": -46.40322055990034, "system_level_velocity_mean": 15.996564787404697, "cost1_min": 254.91241897845467, "cost1_mean": 403.3430680003722, "cost1_max": 448.60080080254954, "outflow_rate_max": 911.1948963426548, "system_level_velocity_max": 17.66830452417697, "outflow_rate_min": 771.5543723291638, "cost2_max": -18.463142495583888, "outflow_rate_mean": 849.751103080959}, "node_ip": "10.138.0.2", "timesteps_total": 7821011}
{"hostname": "flow-main", "episode_reward_mean": 673.9517085003479, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a84e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.25591254234314, "date": "2019-05-20_00-33-32", "info": {"sample_time_ms": 20951.973, "update_time_ms": 8.011, "default": {"entropy": 1.8826465606689453, "vf_explained_var": 0.17137429118156433, "vf_loss": 38.72504425048828, "kl": 0.014228294603526592, "policy_loss": -0.012253883294761181, "total_loss": 38.71759033203125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7863105, "load_time_ms": 5.825, "num_steps_sampled": 7863105, "grad_time_ms": 10034.772}, "timesteps_since_restore": 7863105, "time_total_s": 5911.449575662613, "num_metric_batches_dropped": 0, "timestamp": 1558312412, "training_iteration": 176, "timesteps_this_iter": 42094, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5911.449575662613, "episodes_total": 5963, "iterations_since_restore": 176, "episode_reward_min": 222.40599435017992, "episodes_this_iter": 37, "episode_len_mean": 689.99, "done": false, "episode_reward_max": 733.2051693333577, "custom_metrics": {"cost2_mean": -29.561395101748737, "system_level_velocity_min": 13.151514465760735, "cost2_min": -46.40322055990034, "system_level_velocity_mean": 16.04087441885597, "cost1_min": 124.05423077289275, "cost1_mean": 400.7204853965415, "cost1_max": 448.60080080254954, "outflow_rate_max": 911.1948963426548, "system_level_velocity_max": 17.66830452417697, "outflow_rate_min": 742.431485884981, "cost2_max": -19.056787233016326, "outflow_rate_mean": 849.5248008614667}, "node_ip": "10.138.0.2", "timesteps_total": 7863105}
{"hostname": "flow-main", "episode_reward_mean": 669.5410956595374, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028979e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.928860187530518, "date": "2019-05-20_00-34-04", "info": {"sample_time_ms": 21030.351, "update_time_ms": 7.942, "default": {"entropy": 1.8872926235198975, "vf_explained_var": 0.1372791826725006, "vf_loss": 40.626914978027344, "kl": 0.01579189859330654, "policy_loss": -0.01240252610296011, "total_loss": 40.61983871459961, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7905187, "load_time_ms": 5.743, "num_steps_sampled": 7905187, "grad_time_ms": 10045.968}, "timesteps_since_restore": 7905187, "time_total_s": 5943.378435850143, "num_metric_batches_dropped": 0, "timestamp": 1558312444, "training_iteration": 177, "timesteps_this_iter": 42082, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5943.378435850143, "episodes_total": 5999, "iterations_since_restore": 177, "episode_reward_min": 222.40599435017992, "episodes_this_iter": 36, "episode_len_mean": 688.54, "done": false, "episode_reward_max": 730.9126009952673, "custom_metrics": {"cost2_mean": -30.292345938106454, "system_level_velocity_min": 13.151514465760735, "cost2_min": -46.40322055990034, "system_level_velocity_mean": 15.91280743429423, "cost1_min": 124.05423077289275, "cost1_mean": 397.2322934895846, "cost1_max": 448.60080080254954, "outflow_rate_max": 910.6107832141813, "system_level_velocity_max": 17.66830452417697, "outflow_rate_min": 742.431485884981, "cost2_max": -17.772737722962006, "outflow_rate_mean": 848.9202571021058}, "node_ip": "10.138.0.2", "timesteps_total": 7905187}
{"hostname": "flow-main", "episode_reward_mean": 671.4047606253057, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9e10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.833529233932495, "date": "2019-05-20_00-34-35", "info": {"sample_time_ms": 20886.029, "update_time_ms": 7.615, "default": {"entropy": 1.8859366178512573, "vf_explained_var": 0.20403499901294708, "vf_loss": 32.777992248535156, "kl": 0.013799425214529037, "policy_loss": -0.011110372841358185, "total_loss": 32.77153778076172, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7946560, "load_time_ms": 5.578, "num_steps_sampled": 7946560, "grad_time_ms": 10111.47}, "timesteps_since_restore": 7946560, "time_total_s": 5974.211965084076, "num_metric_batches_dropped": 0, "timestamp": 1558312475, "training_iteration": 178, "timesteps_this_iter": 41373, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 5974.211965084076, "episodes_total": 6030, "iterations_since_restore": 178, "episode_reward_min": 222.40599435017992, "episodes_this_iter": 31, "episode_len_mean": 691.29, "done": false, "episode_reward_max": 730.9126009952673, "custom_metrics": {"cost2_mean": -30.077523207180406, "system_level_velocity_min": 13.151514465760735, "cost2_min": -47.37576224846989, "system_level_velocity_mean": 15.864003518602772, "cost1_min": 124.05423077289275, "cost1_mean": 397.9859364633483, "cost1_max": 439.4745007098279, "outflow_rate_max": 910.6107832141813, "system_level_velocity_max": 17.536111872340427, "outflow_rate_min": 742.431485884981, "cost2_max": -17.772737722962006, "outflow_rate_mean": 848.144404379248}, "node_ip": "10.138.0.2", "timesteps_total": 7946560}
{"hostname": "flow-main", "episode_reward_mean": 670.7876934660824, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8978>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.340975046157837, "date": "2019-05-20_00-35-05", "info": {"sample_time_ms": 20870.365, "update_time_ms": 7.733, "default": {"entropy": 1.8982691764831543, "vf_explained_var": 0.1788061559200287, "vf_loss": 39.384681701660156, "kl": 0.01628223806619644, "policy_loss": -0.013057701289653778, "total_loss": 39.37711715698242, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7987650, "load_time_ms": 5.553, "num_steps_sampled": 7987650, "grad_time_ms": 10039.401}, "timesteps_since_restore": 7987650, "time_total_s": 6004.552940130234, "num_metric_batches_dropped": 0, "timestamp": 1558312505, "training_iteration": 179, "timesteps_this_iter": 41090, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6004.552940130234, "episodes_total": 6065, "iterations_since_restore": 179, "episode_reward_min": 200.72917547110026, "episodes_this_iter": 35, "episode_len_mean": 691.76, "done": false, "episode_reward_max": 739.3914731324614, "custom_metrics": {"cost2_mean": -30.868145661634426, "system_level_velocity_min": 13.234478962407833, "cost2_min": -47.37576224846989, "system_level_velocity_mean": 15.713210036899403, "cost1_min": 100.57441339288414, "cost1_mean": 395.548955784724, "cost1_max": 437.78974027748774, "outflow_rate_max": 908.2576594172867, "system_level_velocity_max": 17.424906182278256, "outflow_rate_min": 689.145707443082, "cost2_max": -17.772737722962006, "outflow_rate_mean": 843.795092820851}, "node_ip": "10.138.0.2", "timesteps_total": 7987650}
{"hostname": "flow-main", "episode_reward_mean": 670.9886452146707, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.75951361656189, "date": "2019-05-20_00-35-36", "info": {"sample_time_ms": 20924.137, "update_time_ms": 7.723, "default": {"entropy": 1.898303747177124, "vf_explained_var": 0.190203458070755, "vf_loss": 34.52101516723633, "kl": 0.01668723300099373, "policy_loss": -0.01281267311424017, "total_loss": 34.51383590698242, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8029025, "load_time_ms": 5.57, "num_steps_sampled": 8029025, "grad_time_ms": 9931.933}, "timesteps_since_restore": 8029025, "time_total_s": 6035.312453746796, "num_metric_batches_dropped": 0, "timestamp": 1558312536, "training_iteration": 180, "timesteps_this_iter": 41375, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6035.312453746796, "episodes_total": 6097, "iterations_since_restore": 180, "episode_reward_min": 200.72917547110026, "episodes_this_iter": 32, "episode_len_mean": 692.35, "done": false, "episode_reward_max": 739.3914731324614, "custom_metrics": {"cost2_mean": -30.977223910942662, "system_level_velocity_min": 13.234478962407833, "cost2_min": -47.37576224846989, "system_level_velocity_mean": 15.671079166775753, "cost1_min": 100.57441339288414, "cost1_mean": 395.1811183526884, "cost1_max": 434.129507690449, "outflow_rate_max": 908.2576594172867, "system_level_velocity_max": 17.318629151576964, "outflow_rate_min": 689.145707443082, "cost2_max": -17.843825245448766, "outflow_rate_mean": 843.1192280577649}, "node_ip": "10.138.0.2", "timesteps_total": 8029025}
{"hostname": "flow-main", "episode_reward_mean": 668.5929933997531, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897358>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.364521741867065, "date": "2019-05-20_00-36-10", "info": {"sample_time_ms": 21043.11, "update_time_ms": 7.952, "default": {"entropy": 1.8956811428070068, "vf_explained_var": 0.14627236127853394, "vf_loss": 42.530235290527344, "kl": 0.014546355232596397, "policy_loss": -0.01076575554907322, "total_loss": 42.52437973022461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8070074, "load_time_ms": 5.536, "num_steps_sampled": 8070074, "grad_time_ms": 9985.182}, "timesteps_since_restore": 8070074, "time_total_s": 6068.676975488663, "num_metric_batches_dropped": 0, "timestamp": 1558312570, "training_iteration": 181, "timesteps_this_iter": 41049, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6068.676975488663, "episodes_total": 6132, "iterations_since_restore": 181, "episode_reward_min": 200.72917547110026, "episodes_this_iter": 35, "episode_len_mean": 689.1, "done": false, "episode_reward_max": 739.3914731324614, "custom_metrics": {"cost2_mean": -30.35599767602866, "system_level_velocity_min": 13.566004769590945, "cost2_min": -44.05508104409298, "system_level_velocity_mean": 15.66748194986771, "cost1_min": 100.57441339288414, "cost1_mean": 393.5997547108553, "cost1_max": 435.0962839738462, "outflow_rate_max": 907.6139976687202, "system_level_velocity_max": 17.431015991310726, "outflow_rate_min": 689.145707443082, "cost2_max": -17.843825245448766, "outflow_rate_mean": 840.4395459675907}, "node_ip": "10.138.0.2", "timesteps_total": 8070074}
{"hostname": "flow-main", "episode_reward_mean": 669.2954080453945, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a89e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8240>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.47995662689209, "date": "2019-05-20_00-36-41", "info": {"sample_time_ms": 20995.235, "update_time_ms": 8.029, "default": {"entropy": 1.9021391868591309, "vf_explained_var": 0.153086319565773, "vf_loss": 38.02836608886719, "kl": 0.01612108200788498, "policy_loss": -0.012592777609825134, "total_loss": 38.02121353149414, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8112034, "load_time_ms": 5.538, "num_steps_sampled": 8112034, "grad_time_ms": 10153.179}, "timesteps_since_restore": 8112034, "time_total_s": 6100.156932115555, "num_metric_batches_dropped": 0, "timestamp": 1558312601, "training_iteration": 182, "timesteps_this_iter": 41960, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6100.156932115555, "episodes_total": 6165, "iterations_since_restore": 182, "episode_reward_min": 51.026880914055425, "episodes_this_iter": 33, "episode_len_mean": 687.67, "done": false, "episode_reward_max": 741.0629866557988, "custom_metrics": {"cost2_mean": -30.25457462754031, "system_level_velocity_min": 13.668037817882713, "cost2_min": -45.06840136220255, "system_level_velocity_mean": 15.682324088349985, "cost1_min": 22.097182382871758, "cost1_mean": 392.987707693846, "cost1_max": 444.9730751084235, "outflow_rate_max": 902.8564905576608, "system_level_velocity_max": 18.706561690470192, "outflow_rate_min": 496.61627662309377, "cost2_max": -15.968020739089386, "outflow_rate_mean": 843.3273235838519}, "node_ip": "10.138.0.2", "timesteps_total": 8112034}
{"hostname": "flow-main", "episode_reward_mean": 664.2931900535445, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a84a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8588>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.41830587387085, "date": "2019-05-20_00-37-12", "info": {"sample_time_ms": 21005.646, "update_time_ms": 8.267, "default": {"entropy": 1.9111783504486084, "vf_explained_var": 0.15324586629867554, "vf_loss": 37.90093231201172, "kl": 0.015260124579071999, "policy_loss": -0.012179284356534481, "total_loss": 37.89390182495117, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8153988, "load_time_ms": 5.374, "num_steps_sampled": 8153988, "grad_time_ms": 10290.409}, "timesteps_since_restore": 8153988, "time_total_s": 6130.575237989426, "num_metric_batches_dropped": 0, "timestamp": 1558312632, "training_iteration": 183, "timesteps_this_iter": 41954, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6130.575237989426, "episodes_total": 6199, "iterations_since_restore": 183, "episode_reward_min": 51.026880914055425, "episodes_this_iter": 34, "episode_len_mean": 683.51, "done": false, "episode_reward_max": 741.0629866557988, "custom_metrics": {"cost2_mean": -29.97250039649295, "system_level_velocity_min": 12.073795151493421, "cost2_min": -52.195480482342425, "system_level_velocity_mean": 15.596829241501961, "cost1_min": 22.097182382871758, "cost1_mean": 387.887422672545, "cost1_max": 444.9730751084235, "outflow_rate_max": 937.7746916061526, "system_level_velocity_max": 18.79465312236855, "outflow_rate_min": 496.61627662309377, "cost2_max": -15.968020739089386, "outflow_rate_mean": 839.9220608664889}, "node_ip": "10.138.0.2", "timesteps_total": 8153988}
{"hostname": "flow-main", "episode_reward_mean": 669.171336295391, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a96d8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 33.14843964576721, "date": "2019-05-20_00-37-45", "info": {"sample_time_ms": 21018.166, "update_time_ms": 8.26, "default": {"entropy": 1.9226734638214111, "vf_explained_var": 0.16971459984779358, "vf_loss": 38.63469314575195, "kl": 0.014452960342168808, "policy_loss": -0.011287589557468891, "total_loss": 38.62828826904297, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8196128, "load_time_ms": 5.385, "num_steps_sampled": 8196128, "grad_time_ms": 10303.424}, "timesteps_since_restore": 8196128, "time_total_s": 6163.723677635193, "num_metric_batches_dropped": 0, "timestamp": 1558312665, "training_iteration": 184, "timesteps_this_iter": 42140, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6163.723677635193, "episodes_total": 6235, "iterations_since_restore": 184, "episode_reward_min": 51.026880914055425, "episodes_this_iter": 36, "episode_len_mean": 686.76, "done": false, "episode_reward_max": 741.0629866557988, "custom_metrics": {"cost2_mean": -30.142193207234694, "system_level_velocity_min": 12.073795151493421, "cost2_min": -52.195480482342425, "system_level_velocity_mean": 15.444496458058975, "cost1_min": 22.097182382871758, "cost1_mean": 387.0248277231232, "cost1_max": 444.9730751084235, "outflow_rate_max": 937.7746916061526, "system_level_velocity_max": 18.79465312236855, "outflow_rate_min": 496.61627662309377, "cost2_max": -15.968020739089386, "outflow_rate_mean": 838.4594002458933}, "node_ip": "10.138.0.2", "timesteps_total": 8196128}
{"hostname": "flow-main", "episode_reward_mean": 675.90833258106, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a89e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a80b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.46955704689026, "date": "2019-05-20_00-38-14", "info": {"sample_time_ms": 20817.057, "update_time_ms": 8.191, "default": {"entropy": 1.9319831132888794, "vf_explained_var": 0.17114947736263275, "vf_loss": 36.033775329589844, "kl": 0.015480246394872665, "policy_loss": -0.014866643585264683, "total_loss": 36.02413558959961, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8238406, "load_time_ms": 5.383, "num_steps_sampled": 8238406, "grad_time_ms": 10284.038}, "timesteps_since_restore": 8238406, "time_total_s": 6193.193234682083, "num_metric_batches_dropped": 0, "timestamp": 1558312694, "training_iteration": 185, "timesteps_this_iter": 42278, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6193.193234682083, "episodes_total": 6268, "iterations_since_restore": 185, "episode_reward_min": 56.382852077291766, "episodes_this_iter": 33, "episode_len_mean": 692.05, "done": false, "episode_reward_max": 742.6834160488532, "custom_metrics": {"cost2_mean": -29.862691360159843, "system_level_velocity_min": 12.073795151493421, "cost2_min": -49.94718755660006, "system_level_velocity_mean": 15.368239164130705, "cost1_min": 27.507301571584073, "cost1_mean": 389.451179677816, "cost1_max": 440.43606526893257, "outflow_rate_max": 937.7746916061526, "system_level_velocity_max": 18.79465312236855, "outflow_rate_min": 528.0994201086404, "cost2_max": -18.282903792642315, "outflow_rate_mean": 837.0340440971612}, "node_ip": "10.138.0.2", "timesteps_total": 8238406}
{"hostname": "flow-main", "episode_reward_mean": 684.5252285478376, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a98d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9eb8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.6295268535614, "date": "2019-05-20_00-38-45", "info": {"sample_time_ms": 20854.857, "update_time_ms": 8.389, "default": {"entropy": 1.9286681413650513, "vf_explained_var": 0.2795436680316925, "vf_loss": 35.414390563964844, "kl": 0.015035232529044151, "policy_loss": -0.012950222939252853, "total_loss": 35.406517028808594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8279548, "load_time_ms": 5.402, "num_steps_sampled": 8279548, "grad_time_ms": 10283.706}, "timesteps_since_restore": 8279548, "time_total_s": 6223.8227615356445, "num_metric_batches_dropped": 0, "timestamp": 1558312725, "training_iteration": 186, "timesteps_this_iter": 41142, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6223.8227615356445, "episodes_total": 6300, "iterations_since_restore": 186, "episode_reward_min": 523.8916379992272, "episodes_this_iter": 32, "episode_len_mean": 698.63, "done": false, "episode_reward_max": 742.6834160488532, "custom_metrics": {"cost2_mean": -30.565291963709278, "system_level_velocity_min": 12.545895720462918, "cost2_min": -49.94718755660006, "system_level_velocity_mean": 15.48637282008375, "cost1_min": 315.3460281866586, "cost1_mean": 397.4032207423163, "cost1_max": 440.43606526893257, "outflow_rate_max": 938.953929609607, "system_level_velocity_max": 17.25777888160283, "outflow_rate_min": 770.0830561330328, "cost2_max": -18.282903792642315, "outflow_rate_mean": 844.0217323923539}, "node_ip": "10.138.0.2", "timesteps_total": 8279548}
{"hostname": "flow-main", "episode_reward_mean": 686.2215615686175, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.289565563201904, "date": "2019-05-20_00-39-16", "info": {"sample_time_ms": 20676.89, "update_time_ms": 8.37, "default": {"entropy": 1.9329190254211426, "vf_explained_var": 0.1579054892063141, "vf_loss": 35.69773483276367, "kl": 0.015033986419439316, "policy_loss": -0.013073652051389217, "total_loss": 35.689735412597656, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8321085, "load_time_ms": 5.508, "num_steps_sampled": 8321085, "grad_time_ms": 10395.549}, "timesteps_since_restore": 8321085, "time_total_s": 6255.112327098846, "num_metric_batches_dropped": 0, "timestamp": 1558312756, "training_iteration": 187, "timesteps_this_iter": 41537, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6255.112327098846, "episodes_total": 6332, "iterations_since_restore": 187, "episode_reward_min": 523.8916379992272, "episodes_this_iter": 32, "episode_len_mean": 698.63, "done": false, "episode_reward_max": 742.6834160488532, "custom_metrics": {"cost2_mean": -30.19898037677662, "system_level_velocity_min": 11.261096796423034, "cost2_min": -49.94718755660006, "system_level_velocity_mean": 15.567995391539512, "cost1_min": 286.7477891867196, "cost1_mean": 398.63521588802905, "cost1_max": 439.145055766219, "outflow_rate_max": 938.953929609607, "system_level_velocity_max": 17.43092268645685, "outflow_rate_min": 708.7144232418558, "cost2_max": -18.282903792642315, "outflow_rate_mean": 844.8307596907532}, "node_ip": "10.138.0.2", "timesteps_total": 8321085}
{"hostname": "flow-main", "episode_reward_mean": 685.5032358714578, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a80b8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.40885329246521, "date": "2019-05-20_00-39-47", "info": {"sample_time_ms": 20665.594, "update_time_ms": 8.332, "default": {"entropy": 1.9372124671936035, "vf_explained_var": 0.17182955145835876, "vf_loss": 38.26957321166992, "kl": 0.013881633058190346, "policy_loss": -0.011794003657996655, "total_loss": 38.26246643066406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8362219, "load_time_ms": 5.485, "num_steps_sampled": 8362219, "grad_time_ms": 10363.871}, "timesteps_since_restore": 8362219, "time_total_s": 6285.521180391312, "num_metric_batches_dropped": 0, "timestamp": 1558312787, "training_iteration": 188, "timesteps_this_iter": 41134, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6285.521180391312, "episodes_total": 6366, "iterations_since_restore": 188, "episode_reward_min": 523.8916379992272, "episodes_this_iter": 34, "episode_len_mean": 698.63, "done": false, "episode_reward_max": 743.7541196835195, "custom_metrics": {"cost2_mean": -30.27514336066515, "system_level_velocity_min": 11.261096796423034, "cost2_min": -49.94718755660006, "system_level_velocity_mean": 15.66719885325051, "cost1_min": 286.7477891867196, "cost1_mean": 400.1513156713011, "cost1_max": 439.145055766219, "outflow_rate_max": 938.953929609607, "system_level_velocity_max": 17.43092268645685, "outflow_rate_min": 708.7144232418558, "cost2_max": -18.866863633074125, "outflow_rate_mean": 847.5225836472555}, "node_ip": "10.138.0.2", "timesteps_total": 8362219}
{"hostname": "flow-main", "episode_reward_mean": 688.875377107117, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a84a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8e10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.553895711898804, "date": "2019-05-20_00-40-18", "info": {"sample_time_ms": 20881.28, "update_time_ms": 8.243, "default": {"entropy": 1.9445736408233643, "vf_explained_var": 0.14462141692638397, "vf_loss": 39.314552307128906, "kl": 0.015219813212752342, "policy_loss": -0.011128786019980907, "total_loss": 39.308555603027344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8403337, "load_time_ms": 5.224, "num_steps_sampled": 8403337, "grad_time_ms": 10270.464}, "timesteps_since_restore": 8403337, "time_total_s": 6317.07507610321, "num_metric_batches_dropped": 0, "timestamp": 1558312818, "training_iteration": 189, "timesteps_this_iter": 41118, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6317.07507610321, "episodes_total": 6399, "iterations_since_restore": 189, "episode_reward_min": 614.1926222508665, "episodes_this_iter": 33, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 743.7541196835195, "custom_metrics": {"cost2_mean": -29.33076605645903, "system_level_velocity_min": 11.261096796423034, "cost2_min": -42.490561023433855, "system_level_velocity_mean": 15.75621049098426, "cost1_min": 286.7477891867196, "cost1_mean": 402.3556141485293, "cost1_max": 441.91720401074963, "outflow_rate_max": 938.953929609607, "system_level_velocity_max": 17.43092268645685, "outflow_rate_min": 708.7144232418558, "cost2_max": -16.823010514875474, "outflow_rate_mean": 842.9879208234022}, "node_ip": "10.138.0.2", "timesteps_total": 8403337}
{"hostname": "flow-main", "episode_reward_mean": 692.3526013657222, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec908>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 28.665976524353027, "date": "2019-05-20_00-40-47", "info": {"sample_time_ms": 20517.189, "update_time_ms": 7.947, "default": {"entropy": 1.9393856525421143, "vf_explained_var": 0.2004939317703247, "vf_loss": 36.41193771362305, "kl": 0.014932012185454369, "policy_loss": -0.012500074692070484, "total_loss": 36.40447998046875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8445469, "load_time_ms": 5.22, "num_steps_sampled": 8445469, "grad_time_ms": 10424.089}, "timesteps_since_restore": 8445469, "time_total_s": 6345.7410526275635, "num_metric_batches_dropped": 0, "timestamp": 1558312847, "training_iteration": 190, "timesteps_this_iter": 42132, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6345.7410526275635, "episodes_total": 6431, "iterations_since_restore": 190, "episode_reward_min": 618.3334150586024, "episodes_this_iter": 32, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 743.7541196835195, "custom_metrics": {"cost2_mean": -29.84502540857825, "system_level_velocity_min": 11.724944717563023, "cost2_min": -42.490561023433855, "system_level_velocity_mean": 15.925356908200811, "cost1_min": 305.5224764448565, "cost1_mean": 406.40747466215674, "cost1_max": 442.1239372977457, "outflow_rate_max": 929.2042360316815, "system_level_velocity_max": 17.880790243668468, "outflow_rate_min": 725.4488494185404, "cost2_max": -16.823010514875474, "outflow_rate_mean": 844.173807566431}, "node_ip": "10.138.0.2", "timesteps_total": 8445469}
{"hostname": "flow-main", "episode_reward_mean": 690.1896177348191, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee10>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.413097620010376, "date": "2019-05-20_00-41-17", "info": {"sample_time_ms": 20275.323, "update_time_ms": 8.053, "default": {"entropy": 1.9484344720840454, "vf_explained_var": 0.1329137235879898, "vf_loss": 39.858516693115234, "kl": 0.0158691443502903, "policy_loss": -0.013318805024027824, "total_loss": 39.850555419921875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8487260, "load_time_ms": 5.295, "num_steps_sampled": 8487260, "grad_time_ms": 10270.676}, "timesteps_since_restore": 8487260, "time_total_s": 6375.154150247574, "num_metric_batches_dropped": 0, "timestamp": 1558312877, "training_iteration": 191, "timesteps_this_iter": 41791, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6375.154150247574, "episodes_total": 6467, "iterations_since_restore": 191, "episode_reward_min": 610.5269773423346, "episodes_this_iter": 36, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 738.1995423439582, "custom_metrics": {"cost2_mean": -28.643899937787893, "system_level_velocity_min": 12.437707168776228, "cost2_min": -43.56162242027836, "system_level_velocity_mean": 15.940444770511089, "cost1_min": 316.0875311615621, "cost1_mean": 406.09402853831807, "cost1_max": 442.1239372977457, "outflow_rate_max": 929.2042360316815, "system_level_velocity_max": 17.880790243668468, "outflow_rate_min": 724.1614064896174, "cost2_max": -16.823010514875474, "outflow_rate_mean": 838.2711989914346}, "node_ip": "10.138.0.2", "timesteps_total": 8487260}
{"hostname": "flow-main", "episode_reward_mean": 690.7812993947915, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.831030130386353, "date": "2019-05-20_00-41-48", "info": {"sample_time_ms": 20441.436, "update_time_ms": 7.886, "default": {"entropy": 1.9413524866104126, "vf_explained_var": 0.08936907351016998, "vf_loss": 39.963043212890625, "kl": 0.015164651907980442, "policy_loss": -0.011412381194531918, "total_loss": 39.956748962402344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8529221, "load_time_ms": 5.304, "num_steps_sampled": 8529221, "grad_time_ms": 10140.524}, "timesteps_since_restore": 8529221, "time_total_s": 6406.98518037796, "num_metric_batches_dropped": 0, "timestamp": 1558312908, "training_iteration": 192, "timesteps_this_iter": 41961, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6406.98518037796, "episodes_total": 6502, "iterations_since_restore": 192, "episode_reward_min": 610.5269773423346, "episodes_this_iter": 35, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 738.1995423439582, "custom_metrics": {"cost2_mean": -29.06672558325501, "system_level_velocity_min": 12.437707168776228, "cost2_min": -44.789066322634866, "system_level_velocity_mean": 16.043824353317035, "cost1_min": 316.0875311615621, "cost1_mean": 408.533998122341, "cost1_max": 443.06323321408775, "outflow_rate_max": 930.9301987798862, "system_level_velocity_max": 17.880790243668468, "outflow_rate_min": 724.1614064896174, "cost2_max": -17.000941748708133, "outflow_rate_mean": 843.1477162154671}, "node_ip": "10.138.0.2", "timesteps_total": 8529221}
{"hostname": "flow-main", "episode_reward_mean": 685.8276469303677, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8c18>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 31.695826530456543, "date": "2019-05-20_00-42-20", "info": {"sample_time_ms": 20380.242, "update_time_ms": 7.628, "default": {"entropy": 1.9600193500518799, "vf_explained_var": 0.19151274859905243, "vf_loss": 37.558868408203125, "kl": 0.016754236072301865, "policy_loss": -0.013749178498983383, "total_loss": 37.55077362060547, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8570507, "load_time_ms": 5.454, "num_steps_sampled": 8570507, "grad_time_ms": 10327.836}, "timesteps_since_restore": 8570507, "time_total_s": 6438.681006908417, "num_metric_batches_dropped": 0, "timestamp": 1558312940, "training_iteration": 193, "timesteps_this_iter": 41286, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6438.681006908417, "episodes_total": 6538, "iterations_since_restore": 193, "episode_reward_min": 610.5269773423346, "episodes_this_iter": 36, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 734.2528103571801, "custom_metrics": {"cost2_mean": -30.0267708945002, "system_level_velocity_min": 12.437707168776228, "cost2_min": -46.20103240856572, "system_level_velocity_mean": 15.843033458769339, "cost1_min": 316.0875311615621, "cost1_mean": 403.8194007765915, "cost1_max": 449.40074023995254, "outflow_rate_max": 930.9301987798862, "system_level_velocity_max": 17.803018581942926, "outflow_rate_min": 724.1614064896174, "cost2_max": -17.000941748708133, "outflow_rate_mean": 846.3911058505826}, "node_ip": "10.138.0.2", "timesteps_total": 8570507}
{"hostname": "flow-main", "episode_reward_mean": 688.1895509577236, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5da0>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.15913414955139, "date": "2019-05-20_00-42-50", "info": {"sample_time_ms": 20200.136, "update_time_ms": 7.675, "default": {"entropy": 1.9753962755203247, "vf_explained_var": 0.17811934649944305, "vf_loss": 33.27927780151367, "kl": 0.015215059742331505, "policy_loss": -0.013249545358121395, "total_loss": 33.27116394042969, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8611254, "load_time_ms": 5.537, "num_steps_sampled": 8611254, "grad_time_ms": 10209.165}, "timesteps_since_restore": 8611254, "time_total_s": 6468.840141057968, "num_metric_batches_dropped": 0, "timestamp": 1558312970, "training_iteration": 194, "timesteps_this_iter": 40747, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6468.840141057968, "episodes_total": 6570, "iterations_since_restore": 194, "episode_reward_min": 523.8516853886472, "episodes_this_iter": 32, "episode_len_mean": 698.11, "done": false, "episode_reward_max": 737.4098710323723, "custom_metrics": {"cost2_mean": -29.926110438801576, "system_level_velocity_min": 12.66980206852184, "cost2_min": -46.20103240856572, "system_level_velocity_mean": 16.007380490286295, "cost1_min": 283.8385872004206, "cost1_mean": 406.7218122088819, "cost1_max": 449.40074023995254, "outflow_rate_max": 936.3779387484681, "system_level_velocity_max": 17.803018581942926, "outflow_rate_min": 747.6131919939635, "cost2_max": -18.354900496784648, "outflow_rate_mean": 850.0877121184568}, "node_ip": "10.138.0.2", "timesteps_total": 8611254}
{"hostname": "flow-main", "episode_reward_mean": 686.378118013549, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028971d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897748>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 29.58724617958069, "date": "2019-05-20_00-43-20", "info": {"sample_time_ms": 20321.43, "update_time_ms": 7.609, "default": {"entropy": 1.9750629663467407, "vf_explained_var": 0.157968670129776, "vf_loss": 38.49713134765625, "kl": 0.015280239284038544, "policy_loss": -0.012316427193582058, "total_loss": 38.48997116088867, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8653038, "load_time_ms": 5.541, "num_steps_sampled": 8653038, "grad_time_ms": 10100.91}, "timesteps_since_restore": 8653038, "time_total_s": 6498.427387237549, "num_metric_batches_dropped": 0, "timestamp": 1558313000, "training_iteration": 195, "timesteps_this_iter": 41784, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6498.427387237549, "episodes_total": 6604, "iterations_since_restore": 195, "episode_reward_min": 523.8516853886472, "episodes_this_iter": 34, "episode_len_mean": 698.11, "done": false, "episode_reward_max": 745.2015362161256, "custom_metrics": {"cost2_mean": -30.056017202173155, "system_level_velocity_min": 12.66980206852184, "cost2_min": -46.20103240856572, "system_level_velocity_mean": 16.011818891178113, "cost1_min": 283.8385872004206, "cost1_mean": 406.8266209427446, "cost1_max": 453.6471247694623, "outflow_rate_max": 936.3779387484681, "system_level_velocity_max": 17.96327820889222, "outflow_rate_min": 731.4891403425722, "cost2_max": -18.354900496784648, "outflow_rate_mean": 848.8309430158582}, "node_ip": "10.138.0.2", "timesteps_total": 8653038}
{"hostname": "flow-main", "episode_reward_mean": 691.1967741362666, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceceb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecc88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.006017684936523, "date": "2019-05-20_00-43-50", "info": {"sample_time_ms": 20054.119, "update_time_ms": 7.663, "default": {"entropy": 1.9858821630477905, "vf_explained_var": 0.13495966792106628, "vf_loss": 37.47248840332031, "kl": 0.015897667035460472, "policy_loss": -0.012264207005500793, "total_loss": 37.4655876159668, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8695183, "load_time_ms": 5.407, "num_steps_sampled": 8695183, "grad_time_ms": 10305.528}, "timesteps_since_restore": 8695183, "time_total_s": 6528.433404922485, "num_metric_batches_dropped": 0, "timestamp": 1558313030, "training_iteration": 196, "timesteps_this_iter": 42145, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6528.433404922485, "episodes_total": 6637, "iterations_since_restore": 196, "episode_reward_min": 523.8516853886472, "episodes_this_iter": 33, "episode_len_mean": 698.11, "done": false, "episode_reward_max": 745.2015362161256, "custom_metrics": {"cost2_mean": -29.659039642517172, "system_level_velocity_min": 12.860871751445037, "cost2_min": -43.19268157804733, "system_level_velocity_mean": 16.187355430490744, "cost1_min": 283.8385872004206, "cost1_mean": 411.3077760368578, "cost1_max": 453.6471247694623, "outflow_rate_max": 936.3779387484681, "system_level_velocity_max": 17.96327820889222, "outflow_rate_min": 731.4891403425722, "cost2_max": -18.354900496784648, "outflow_rate_mean": 849.7242265683226}, "node_ip": "10.138.0.2", "timesteps_total": 8695183}
{"hostname": "flow-main", "episode_reward_mean": 691.0575227106685, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a87b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a84a8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.37324547767639, "date": "2019-05-20_00-44-21", "info": {"sample_time_ms": 20088.319, "update_time_ms": 7.796, "default": {"entropy": 1.996158480644226, "vf_explained_var": 0.20604366064071655, "vf_loss": 36.92281723022461, "kl": 0.01622195541858673, "policy_loss": -0.013922641985118389, "total_loss": 36.914371490478516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8736990, "load_time_ms": 5.43, "num_steps_sampled": 8736990, "grad_time_ms": 10181.852}, "timesteps_since_restore": 8736990, "time_total_s": 6558.806650400162, "num_metric_batches_dropped": 0, "timestamp": 1558313061, "training_iteration": 197, "timesteps_this_iter": 41807, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6558.806650400162, "episodes_total": 6671, "iterations_since_restore": 197, "episode_reward_min": 637.5735114025628, "episodes_this_iter": 34, "episode_len_mean": 700.0, "done": false, "episode_reward_max": 745.2015362161256, "custom_metrics": {"cost2_mean": -30.191128194377278, "system_level_velocity_min": 12.860871751445037, "cost2_min": -47.14154674505673, "system_level_velocity_mean": 16.281750677642286, "cost1_min": 334.0537646601938, "cost1_mean": 415.1972127270697, "cost1_max": 453.6471247694623, "outflow_rate_max": 927.5435653096996, "system_level_velocity_max": 17.96327820889222, "outflow_rate_min": 731.4891403425722, "cost2_max": -18.638659472796135, "outflow_rate_mean": 854.2563196993644}, "node_ip": "10.138.0.2", "timesteps_total": 8736990}
{"hostname": "flow-main", "episode_reward_mean": 689.9106233628761, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028972e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.492839336395264, "date": "2019-05-20_00-44-51", "info": {"sample_time_ms": 20130.513, "update_time_ms": 7.809, "default": {"entropy": 1.9932334423065186, "vf_explained_var": 0.1350211203098297, "vf_loss": 39.54478073120117, "kl": 0.01609647646546364, "policy_loss": -0.012222557328641415, "total_loss": 39.537994384765625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8779068, "load_time_ms": 5.488, "num_steps_sampled": 8779068, "grad_time_ms": 10146.155}, "timesteps_since_restore": 8779068, "time_total_s": 6589.299489736557, "num_metric_batches_dropped": 0, "timestamp": 1558313091, "training_iteration": 198, "timesteps_this_iter": 42078, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6589.299489736557, "episodes_total": 6706, "iterations_since_restore": 198, "episode_reward_min": 421.2030159567233, "episodes_this_iter": 35, "episode_len_mean": 697.23, "done": false, "episode_reward_max": 739.6323134728526, "custom_metrics": {"cost2_mean": -30.621110444334203, "system_level_velocity_min": 13.553943283989469, "cost2_min": -47.14154674505673, "system_level_velocity_mean": 16.284827997722843, "cost1_min": 258.54390466168945, "cost1_mean": 413.3015053506174, "cost1_max": 448.88157505426324, "outflow_rate_max": 927.5435653096996, "system_level_velocity_max": 17.91017501292781, "outflow_rate_min": 763.3774979699117, "cost2_max": -18.638659472796135, "outflow_rate_mean": 852.8835801979526}, "node_ip": "10.138.0.2", "timesteps_total": 8779068}
{"hostname": "flow-main", "episode_reward_mean": 687.4307529854337, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe2e8>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 30.276300191879272, "date": "2019-05-20_00-45-21", "info": {"sample_time_ms": 19901.665, "update_time_ms": 7.825, "default": {"entropy": 1.9979394674301147, "vf_explained_var": 0.1315237581729889, "vf_loss": 37.27671432495117, "kl": 0.016952967271208763, "policy_loss": -0.013098180294036865, "total_loss": 37.269344329833984, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8820917, "load_time_ms": 5.625, "num_steps_sampled": 8820917, "grad_time_ms": 10246.803}, "timesteps_since_restore": 8820917, "time_total_s": 6619.575789928436, "num_metric_batches_dropped": 0, "timestamp": 1558313121, "training_iteration": 199, "timesteps_this_iter": 41849, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6619.575789928436, "episodes_total": 6738, "iterations_since_restore": 199, "episode_reward_min": 421.2030159567233, "episodes_this_iter": 32, "episode_len_mean": 697.23, "done": false, "episode_reward_max": 734.361338713458, "custom_metrics": {"cost2_mean": -31.22278059730443, "system_level_velocity_min": 12.497138415315318, "cost2_min": -47.14154674505673, "system_level_velocity_mean": 16.26249387837545, "cost1_min": 258.54390466168945, "cost1_mean": 413.14694410927586, "cost1_max": 448.88157505426324, "outflow_rate_max": 927.5435653096996, "system_level_velocity_max": 17.91017501292781, "outflow_rate_min": 711.9899126544158, "cost2_max": -18.638659472796135, "outflow_rate_mean": 848.7067272428793}, "node_ip": "10.138.0.2", "timesteps_total": 8820917}
{"hostname": "flow-main", "episode_reward_mean": 678.5324772128054, "experiment_id": "5c9b4cece5e54e29ae19795b7050f9fd", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "sample_async": false, "custom_resources_per_worker": {}, "optimizer": {}, "num_sgd_iter": 10, "model": {"grayscale": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "fcnet_activation": "tanh", "squash_to_range": false, "lstm_cell_size": 256, "channel_major": false, "dim": 84, "conv_filters": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "framestack": true, "max_seq_len": 20, "custom_preprocessor": null}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "compress_observations": false, "num_envs_per_worker": 1, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "entropy_coeff": 0.0, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a58>", "on_sample_end": null}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "straggler_mitigation": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_clip_param": 1000000.0, "lr": 0.0005, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 32.07891511917114, "date": "2019-05-20_00-45-54", "info": {"sample_time_ms": 20172.349, "update_time_ms": 8.161, "default": {"entropy": 1.9995652437210083, "vf_explained_var": 0.17212657630443573, "vf_loss": 42.47829818725586, "kl": 0.015836680307984352, "policy_loss": -0.013798252679407597, "total_loss": 42.4698486328125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8862772, "load_time_ms": 5.521, "num_steps_sampled": 8862772, "grad_time_ms": 10318.21}, "timesteps_since_restore": 8862772, "time_total_s": 6651.654705047607, "num_metric_batches_dropped": 0, "timestamp": 1558313154, "training_iteration": 200, "timesteps_this_iter": 41855, "pid": 46892, "policy_reward_mean": {}, "time_since_restore": 6651.654705047607, "episodes_total": 6777, "iterations_since_restore": 200, "episode_reward_min": 42.408062195030666, "episodes_this_iter": 39, "episode_len_mean": 690.52, "done": true, "episode_reward_max": 730.6773405449592, "custom_metrics": {"cost2_mean": -31.753438637575236, "system_level_velocity_min": 12.497138415315318, "cost2_min": -45.97932596189572, "system_level_velocity_mean": 16.12447551089175, "cost1_min": 17.7813417469461, "cost1_mean": 405.6469522166192, "cost1_max": 445.1196031705087, "outflow_rate_max": 918.9706170945842, "system_level_velocity_max": 17.682783173926772, "outflow_rate_min": 475.1867602148169, "cost2_max": -13.438219794267196, "outflow_rate_mean": 838.8420930500167}, "node_ip": "10.138.0.2", "timesteps_total": 8862772}
